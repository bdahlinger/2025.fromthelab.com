import{I as Lr,d as sn,D as As,x as jo,y as Vo,e as Br,o as rr,J as ks,W as Rs,a as un,t as Ds,b as an,T as Ns,w as Os,c as Ls,f as Bs,u as Fs,m as zs,F as Gs}from"./app-DAM05VXe.js";import{M as We,O as Zo,B as pn,F as Xn,C as wt,V as ge,W as vr,H as Tr,U as eo,S as fn,a as Ge,A as It,b as it,N as Us,c as Hs,d as qo,e as Qo,f as yn,P as jt,E as Ws,g as $o,h as Ko,i as vn,j as Ys,k as Xs,l as js,m as Gr,n as Vs,o as Qt,p as At,q as Zs,D as Ut,r as St,s as qe,t as at,u as jn,v as Kt,R as qs,T as Pn,w as wo,Q as Qs,I as $s,x as Ur,y as Ks,z as Js,J as vo,K as ei,X as Hr,Y as Wr,Z as ti,_ as ni,$ as ri,a0 as oi,L as si,G as ii}from"./GlobalFooter-62hxAhqS.js";import{_ as Jo}from"./_plugin-vue_export-helper-DlAUqK2U.js";class ir{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ai=new Zo(-1,1,1,-1,0,1);class li extends pn{constructor(){super(),this.setAttribute("position",new Xn([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Xn([0,2,0,0,2,0],2))}}const ci=new li;class es{constructor(e){this._mesh=new We(ci,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ai)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const ts={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},ui={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new wt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class _n extends ir{constructor(e,r,t,n){super(),this.strength=r!==void 0?r:1,this.radius=t,this.threshold=n,this.resolution=e!==void 0?new ge(e.x,e.y):new ge(256,256),this.clearColor=new wt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new vr(o,a,{type:Tr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let P=0;P<this.nMips;P++){const C=new vr(o,a,{type:Tr});C.texture.name="UnrealBloomPass.h"+P,C.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(C);const _=new vr(o,a,{type:Tr});_.texture.name="UnrealBloomPass.v"+P,_.texture.generateMipmaps=!1,this.renderTargetsVertical.push(_),o=Math.round(o/2),a=Math.round(a/2)}const u=ui;this.highPassUniforms=eo.clone(u.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new fn({uniforms:this.highPassUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}),this.separableBlurMaterials=[];const b=[3,5,7,9,11];o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let P=0;P<this.nMips;P++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(b[P])),this.separableBlurMaterials[P].uniforms.invSize.value=new ge(1/o,1/a),o=Math.round(o/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const x=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=x,this.bloomTintColors=[new Ge(1,1,1),new Ge(1,1,1),new Ge(1,1,1),new Ge(1,1,1),new Ge(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const A=ts;this.copyUniforms=eo.clone(A.uniforms),this.blendMaterial=new fn({uniforms:this.copyUniforms,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,blending:It,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new wt,this.oldClearAlpha=1,this.basic=new it,this.fsQuad=new es(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let t=Math.round(e/2),n=Math.round(r/2);this.renderTargetBright.setSize(t,n);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(t,n),this.renderTargetsVertical[o].setSize(t,n),this.separableBlurMaterials[o].uniforms.invSize.value=new ge(1/t,1/n),t=Math.round(t/2),n=Math.round(n/2)}render(e,r,t,n,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const a=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let u=this.renderTargetBright;for(let b=0;b<this.nMips;b++)this.fsQuad.material=this.separableBlurMaterials[b],this.separableBlurMaterials[b].uniforms.colorTexture.value=u.texture,this.separableBlurMaterials[b].uniforms.direction.value=_n.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[b]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[b].uniforms.colorTexture.value=this.renderTargetsHorizontal[b].texture,this.separableBlurMaterials[b].uniforms.direction.value=_n.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[b]),e.clear(),this.fsQuad.render(e),u=this.renderTargetsVertical[b];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=a}getSeparableBlurMaterial(e){const r=[];for(let t=0;t<e;t++)r.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new fn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new ge(.5,.5)},direction:{value:new ge(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new fn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}_n.BlurDirectionX=new ge(1,0);_n.BlurDirectionY=new ge(0,1);class fi extends ir{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof fn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=eo.clone(e.uniforms),this.material=new fn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new es(this.material)}render(e,r,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class To extends ir{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,t){const n=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let a,u;this.inverse?(a=0,u=1):(a=1,u=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),o.buffers.stencil.setFunc(n.ALWAYS,a,4294967295),o.buffers.stencil.setClear(u),o.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(n.EQUAL,1,4294967295),o.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),o.buffers.stencil.setLocked(!0)}}class di extends ir{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class ns{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const t=e.getSize(new ge);this._width=t.width,this._height=t.height,r=new vr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Tr}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new fi(ts),this.copyPass.material.blending=Us,this.clock=new Hs}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let t=!1;for(let n=0,o=this.passes.length;n<o;n++){const a=this.passes[n];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),a.needsSwap){if(t){const u=this.renderer.getContext(),b=this.renderer.state.buffers.stencil;b.setFunc(u.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),b.setFunc(u.EQUAL,1,4294967295)}this.swapBuffers()}To!==void 0&&(a instanceof To?t=!0:a instanceof di&&(t=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new ge);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const t=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(t,n),this.renderTarget2.setSize(t,n);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(t,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class rs extends ir{constructor(e,r,t=null,n=null,o=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=t,this.clearColor=n,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new wt}render(e,r,t){const n=e.autoClear;e.autoClear=!1;let o,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=n}}const on=.01,So=45/3,pi=3,Yr=45,Po=Lr({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(f){const e=f,r=sn(null);let t,n,o=null,a=null,u=null,b=[];const x=As({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),A=Yr/2+10;function P(g){const H=on*x.particleWidth,q=on*x.particleHeight,B=x.useSquares?new jt(H,q):new yn(H,q,H),E=Math.floor(Math.random()*3);let W;switch(E){case 0:W=new wt(1,0,0);break;case 1:W=new wt(0,1,0);break;case 2:W=new wt(0,0,1);break;default:W=new wt(1,0,0)}const Y=new it({color:W,transparent:!0,opacity:.7}),z=new We(B,Y),j=Yr+A*2;z.position.set(-45-A+g/(x.particleCount-1)*j,0,on*(Math.random()-.5)*x.positionZRandomness*x.emitterDepth);const Q=on*(Math.random()*(x.maxSpeed-x.minSpeed)+x.minSpeed);return z.speed=Q+on*(Math.random()-.5)*x.speedRandomness,z.rotationSpeed=new Ge(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*x.rotationRandomness+.5),z}function C(){t=new qo;const g=pi*1.5,H=g*So;n=new Zo(-67.5/2,H/2,g/2,-4.5/2,.1,1e3),n.position.z=150,o=new Qo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const q=new rs(t,n);u=new _n(new ge(window.innerWidth,window.innerHeight),x.bloomStrength,x.bloomRadius,.1),a=new ns(o),a.addPass(q),a.addPass(u),G(),r.value&&r.value.appendChild(o.domElement),_(),M()}function _(){b.forEach(g=>t.remove(g)),b=[];for(let g=0;g<x.particleCount;g++){const H=P(g);b.push(H),t.add(H)}}function G(){if(!o||!a||!u)return;const g=window.innerWidth,H=g/So;o.setSize(g,H),a.setSize(g,H),u.setSize(g,H),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function M(){requestAnimationFrame(M),b.forEach(g=>{g.position.x+=g.speed,!x.useSquares&&x.rotateParticles&&(g.rotation.x+=g.rotationSpeed.x*.016,g.rotation.y+=g.rotationSpeed.y*.016,g.rotation.z+=g.rotationSpeed.z*.016),g.position.x>Yr/2+A&&(b.indexOf(g),g.position.x=-45-A-on*(g.geometry instanceof yn,g.geometry.parameters.width),g.position.y=0,g.position.z=on*(Math.random()-.5)*x.positionZRandomness*x.emitterDepth)}),a&&a.render()}return jo(()=>{C(),window.addEventListener("resize",G)}),Vo(()=>{window.removeEventListener("resize",G),o==null||o.dispose()}),(g,H)=>(rr(),Br("div",{ref_key:"container",ref:r,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}}),os=ks("tunnel",{state:()=>({activeProjectSlug:null,scrollPosition:0}),actions:{setActiveProject(f){this.activeProjectSlug=f},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(f){this.scrollPosition=f,console.log("Scroll position stored:",f)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function hi(f,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,t.key,t)}}function gi(f,e,r){return e&&hi(f.prototype,e),f}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lt,Sr,Rt,Jt,en,In,ss,ln,Vn,is,Zt,Bt,as,ls=function(){return lt||typeof window<"u"&&(lt=window.gsap)&&lt.registerPlugin&&lt},cs=1,En=[],we=[],Yt=[],Zn=Date.now,to=function(e,r){return r},mi=function(){var e=Vn.core,r=e.bridge||{},t=e._scrollers,n=e._proxies;t.push.apply(t,we),n.push.apply(n,Yt),we=t,Yt=n,to=function(a,u){return r[a](u)}},tn=function(e,r){return~Yt.indexOf(e)&&Yt[Yt.indexOf(e)+1][r]},qn=function(e){return!!~is.indexOf(e)},yt=function(e,r,t,n,o){return e.addEventListener(r,t,{passive:n!==!1,capture:!!o})},mt=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},cr="scrollLeft",ur="scrollTop",no=function(){return Zt&&Zt.isPressed||we.cache++},Ar=function(e,r){var t=function n(o){if(o||o===0){cs&&(Rt.history.scrollRestoration="manual");var a=Zt&&Zt.isPressed;o=n.v=Math.round(o)||(Zt&&Zt.iOS?1:0),e(o),n.cacheID=we.cache,a&&to("ss",o)}else(r||we.cache!==n.cacheID||to("ref"))&&(n.cacheID=we.cache,n.v=e());return n.v+n.offset};return t.offset=0,e&&t},vt={s:cr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ar(function(f){return arguments.length?Rt.scrollTo(f,Je.sc()):Rt.pageXOffset||Jt[cr]||en[cr]||In[cr]||0})},Je={s:ur,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:vt,sc:Ar(function(f){return arguments.length?Rt.scrollTo(vt.sc(),f):Rt.pageYOffset||Jt[ur]||en[ur]||In[ur]||0})},Tt=function(e,r){return(r&&r._ctx&&r._ctx.selector||lt.utils.toArray)(e)[0]||(typeof e=="string"&&lt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},nn=function(e,r){var t=r.s,n=r.sc;qn(e)&&(e=Jt.scrollingElement||en);var o=we.indexOf(e),a=n===Je.sc?1:2;!~o&&(o=we.push(e)-1),we[o+a]||yt(e,"scroll",no);var u=we[o+a],b=u||(we[o+a]=Ar(tn(e,t),!0)||(qn(e)?n:Ar(function(x){return arguments.length?e[t]=x:e[t]})));return b.target=e,u||(b.smooth=lt.getProperty(e,"scrollBehavior")==="smooth"),b},ro=function(e,r,t){var n=e,o=e,a=Zn(),u=a,b=r||50,x=Math.max(500,b*3),A=function(G,M){var g=Zn();M||g-a>b?(o=n,n=G,u=a,a=g):t?n+=G:n=o+(G-o)/(g-u)*(a-u)},P=function(){o=n=t?0:n,u=a=0},C=function(G){var M=u,g=o,H=Zn();return(G||G===0)&&G!==n&&A(G),a===u||H-u>x?0:(n+(t?g:-g))/((t?H:a)-M)*1e3};return{update:A,reset:P,getVelocity:C}},Bn=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Co=function(e){var r=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(t)?r:t},us=function(){Vn=lt.core.globals().ScrollTrigger,Vn&&Vn.core&&mi()},fs=function(e){return lt=e||ls(),!Sr&&lt&&typeof document<"u"&&document.body&&(Rt=window,Jt=document,en=Jt.documentElement,In=Jt.body,is=[Rt,Jt,en,In],lt.utils.clamp,as=lt.core.context||function(){},ln="onpointerenter"in In?"pointer":"mouse",ss=Ve.isTouch=Rt.matchMedia&&Rt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Rt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Bt=Ve.eventTypes=("ontouchstart"in en?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in en?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return cs=0},500),us(),Sr=1),Sr};vt.op=Je;we.cache=0;var Ve=function(){function f(r){this.init(r)}var e=f.prototype;return e.init=function(t){Sr||fs(lt)||console.warn("Please gsap.registerPlugin(Observer)"),Vn||us();var n=t.tolerance,o=t.dragMinimum,a=t.type,u=t.target,b=t.lineHeight,x=t.debounce,A=t.preventDefault,P=t.onStop,C=t.onStopDelay,_=t.ignore,G=t.wheelSpeed,M=t.event,g=t.onDragStart,H=t.onDragEnd,q=t.onDrag,B=t.onPress,E=t.onRelease,W=t.onRight,Y=t.onLeft,z=t.onUp,j=t.onDown,Q=t.onChangeX,S=t.onChangeY,te=t.onChange,I=t.onToggleX,U=t.onToggleY,$=t.onHover,ee=t.onHoverEnd,X=t.onMove,k=t.ignoreCheck,v=t.isNormalizer,V=t.onGestureStart,d=t.onGestureEnd,re=t.onWheel,le=t.onEnable,ve=t.onDisable,h=t.onClick,c=t.scrollSpeed,i=t.capture,s=t.allowClicks,w=t.lockAxis,O=t.onLockAxis;this.target=u=Tt(u)||en,this.vars=t,_&&(_=lt.utils.toArray(_)),n=n||1e-9,o=o||0,G=G||1,c=c||1,a=a||"wheel,touch,pointer",x=x!==!1,b||(b=parseFloat(Rt.getComputedStyle(In).lineHeight)||22);var y,D,F,N,T,R,L,p=this,m=0,l=0,Z=t.passive||!A&&t.passive!==!1,J=nn(u,vt),ke=nn(u,Je),Re=J(),Ce=ke(),Pe=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Bt[0]==="pointerdown",he=qn(u),ye=u.ownerDocument||Jt,Ee=[0,0,0],oe=[0,0,0],_e=0,ue=function(){return _e=Zn()},Te=function(ae,Me){return(p.event=ae)&&_&&~_.indexOf(ae.target)||Me&&Pe&&ae.pointerType!=="touch"||k&&k(ae,Me)},Ye=function(){p._vx.reset(),p._vy.reset(),D.pause(),P&&P(p)},ce=function(){var ae=p.deltaX=Co(Ee),Me=p.deltaY=Co(oe),K=Math.abs(ae)>=n,fe=Math.abs(Me)>=n;te&&(K||fe)&&te(p,ae,Me,Ee,oe),K&&(W&&p.deltaX>0&&W(p),Y&&p.deltaX<0&&Y(p),Q&&Q(p),I&&p.deltaX<0!=m<0&&I(p),m=p.deltaX,Ee[0]=Ee[1]=Ee[2]=0),fe&&(j&&p.deltaY>0&&j(p),z&&p.deltaY<0&&z(p),S&&S(p),U&&p.deltaY<0!=l<0&&U(p),l=p.deltaY,oe[0]=oe[1]=oe[2]=0),(N||F)&&(X&&X(p),F&&(g&&F===1&&g(p),q&&q(p),F=0),N=!1),R&&!(R=!1)&&O&&O(p),T&&(re(p),T=!1),y=0},De=function(ae,Me,K){Ee[K]+=ae,oe[K]+=Me,p._vx.update(ae),p._vy.update(Me),x?y||(y=requestAnimationFrame(ce)):ce()},et=function(ae,Me){w&&!L&&(p.axis=L=Math.abs(ae)>Math.abs(Me)?"x":"y",R=!0),L!=="y"&&(Ee[2]+=ae,p._vx.update(ae,!0)),L!=="x"&&(oe[2]+=Me,p._vy.update(Me,!0)),x?y||(y=requestAnimationFrame(ce)):ce()},Le=function(ae){if(!Te(ae,1)){ae=Bn(ae,A);var Me=ae.clientX,K=ae.clientY,fe=Me-p.x,ie=K-p.y,de=p.isDragging;p.x=Me,p.y=K,(de||(fe||ie)&&(Math.abs(p.startX-Me)>=o||Math.abs(p.startY-K)>=o))&&(F=de?2:1,de||(p.isDragging=!0),et(fe,ie))}},Qe=p.onPress=function(pe){Te(pe,1)||pe&&pe.button||(p.axis=L=null,D.pause(),p.isPressed=!0,pe=Bn(pe),m=l=0,p.startX=p.x=pe.clientX,p.startY=p.y=pe.clientY,p._vx.reset(),p._vy.reset(),yt(v?u:ye,Bt[1],Le,Z,!0),p.deltaX=p.deltaY=0,B&&B(p))},se=p.onRelease=function(pe){if(!Te(pe,1)){mt(v?u:ye,Bt[1],Le,!0);var ae=!isNaN(p.y-p.startY),Me=p.isDragging,K=Me&&(Math.abs(p.x-p.startX)>3||Math.abs(p.y-p.startY)>3),fe=Bn(pe);!K&&ae&&(p._vx.reset(),p._vy.reset(),A&&s&&lt.delayedCall(.08,function(){if(Zn()-_e>300&&!pe.defaultPrevented){if(pe.target.click)pe.target.click();else if(ye.createEvent){var ie=ye.createEvent("MouseEvents");ie.initMouseEvent("click",!0,!0,Rt,1,fe.screenX,fe.screenY,fe.clientX,fe.clientY,!1,!1,!1,!1,0,null),pe.target.dispatchEvent(ie)}}})),p.isDragging=p.isGesturing=p.isPressed=!1,P&&Me&&!v&&D.restart(!0),F&&ce(),H&&Me&&H(p),E&&E(p,K)}},Ie=function(ae){return ae.touches&&ae.touches.length>1&&(p.isGesturing=!0)&&V(ae,p.isDragging)},Ue=function(){return(p.isGesturing=!1)||d(p)},Be=function(ae){if(!Te(ae)){var Me=J(),K=ke();De((Me-Re)*c,(K-Ce)*c,1),Re=Me,Ce=K,P&&D.restart(!0)}},Fe=function(ae){if(!Te(ae)){ae=Bn(ae,A),re&&(T=!0);var Me=(ae.deltaMode===1?b:ae.deltaMode===2?Rt.innerHeight:1)*G;De(ae.deltaX*Me,ae.deltaY*Me,0),P&&!v&&D.restart(!0)}},gt=function(ae){if(!Te(ae)){var Me=ae.clientX,K=ae.clientY,fe=Me-p.x,ie=K-p.y;p.x=Me,p.y=K,N=!0,P&&D.restart(!0),(fe||ie)&&et(fe,ie)}},Pt=function(ae){p.event=ae,$(p)},Xt=function(ae){p.event=ae,ee(p)},Dn=function(ae){return Te(ae)||Bn(ae,A)&&h(p)};D=p._dc=lt.delayedCall(C||.25,Ye).pause(),p.deltaX=p.deltaY=0,p._vx=ro(0,50,!0),p._vy=ro(0,50,!0),p.scrollX=J,p.scrollY=ke,p.isDragging=p.isGesturing=p.isPressed=!1,as(this),p.enable=function(pe){return p.isEnabled||(yt(he?ye:u,"scroll",no),a.indexOf("scroll")>=0&&yt(he?ye:u,"scroll",Be,Z,i),a.indexOf("wheel")>=0&&yt(u,"wheel",Fe,Z,i),(a.indexOf("touch")>=0&&ss||a.indexOf("pointer")>=0)&&(yt(u,Bt[0],Qe,Z,i),yt(ye,Bt[2],se),yt(ye,Bt[3],se),s&&yt(u,"click",ue,!0,!0),h&&yt(u,"click",Dn),V&&yt(ye,"gesturestart",Ie),d&&yt(ye,"gestureend",Ue),$&&yt(u,ln+"enter",Pt),ee&&yt(u,ln+"leave",Xt),X&&yt(u,ln+"move",gt)),p.isEnabled=!0,p.isDragging=p.isGesturing=p.isPressed=N=F=!1,p._vx.reset(),p._vy.reset(),Re=J(),Ce=ke(),pe&&pe.type&&Qe(pe),le&&le(p)),p},p.disable=function(){p.isEnabled&&(En.filter(function(pe){return pe!==p&&qn(pe.target)}).length||mt(he?ye:u,"scroll",no),p.isPressed&&(p._vx.reset(),p._vy.reset(),mt(v?u:ye,Bt[1],Le,!0)),mt(he?ye:u,"scroll",Be,i),mt(u,"wheel",Fe,i),mt(u,Bt[0],Qe,i),mt(ye,Bt[2],se),mt(ye,Bt[3],se),mt(u,"click",ue,!0),mt(u,"click",Dn),mt(ye,"gesturestart",Ie),mt(ye,"gestureend",Ue),mt(u,ln+"enter",Pt),mt(u,ln+"leave",Xt),mt(u,ln+"move",gt),p.isEnabled=p.isPressed=p.isDragging=!1,ve&&ve(p))},p.kill=p.revert=function(){p.disable();var pe=En.indexOf(p);pe>=0&&En.splice(pe,1),Zt===p&&(Zt=0)},En.push(p),v&&qn(u)&&(Zt=p),p.enable(M)},gi(f,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),f}();Ve.version="3.12.7";Ve.create=function(f){return new Ve(f)};Ve.register=fs;Ve.getAll=function(){return En.slice()};Ve.getById=function(f){return En.filter(function(e){return e.vars.id===f})[0]};ls()&&lt.registerPlugin(Ve);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ne,Cn,xe,Oe,kt,Ae,fo,kr,or,Qn,Gn,fr,dt,Fr,oo,bt,Mo,Eo,Mn,ds,Xr,ps,_t,so,hs,gs,$t,io,po,An,ho,Rr,ao,jr,dr=1,pt=Date.now,Vr=pt(),Ot=0,Un=0,Io=function(e,r,t){var n=Et(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=n,n?e.substr(6,e.length-7):e},Ao=function(e,r){return r&&(!Et(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},yi=function f(){return Un&&requestAnimationFrame(f)},ko=function(){return Fr=1},Ro=function(){return Fr=0},Ht=function(e){return e},Hn=function(e){return Math.round(e*1e5)/1e5||0},ms=function(){return typeof window<"u"},ys=function(){return ne||ms()&&(ne=window.gsap)&&ne.registerPlugin&&ne},bn=function(e){return!!~fo.indexOf(e)},_s=function(e){return(e==="Height"?ho:xe["inner"+e])||kt["client"+e]||Ae["client"+e]},bs=function(e){return tn(e,"getBoundingClientRect")||(bn(e)?function(){return Ir.width=xe.innerWidth,Ir.height=ho,Ir}:function(){return Vt(e)})},_i=function(e,r,t){var n=t.d,o=t.d2,a=t.a;return(a=tn(e,"getBoundingClientRect"))?function(){return a()[n]}:function(){return(r?_s(o):e["client"+o])||0}},bi=function(e,r){return!r||~Yt.indexOf(e)?bs(e):function(){return Ir}},Wt=function(e,r){var t=r.s,n=r.d2,o=r.d,a=r.a;return Math.max(0,(t="scroll"+n)&&(a=tn(e,t))?a()-bs(e)()[o]:bn(e)?(kt[t]||Ae[t])-_s(n):e[t]-e["offset"+n])},pr=function(e,r){for(var t=0;t<Mn.length;t+=3)(!r||~r.indexOf(Mn[t+1]))&&e(Mn[t],Mn[t+1],Mn[t+2])},Et=function(e){return typeof e=="string"},ht=function(e){return typeof e=="function"},Wn=function(e){return typeof e=="number"},cn=function(e){return typeof e=="object"},Fn=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},Zr=function(e,r){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return r(e)}):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},Tn=Math.abs,xs="left",ws="top",go="right",mo="bottom",hn="width",gn="height",$n="Right",Kn="Left",Jn="Top",er="Bottom",Ze="padding",Dt="margin",Rn="Width",yo="Height",Ke="px",Nt=function(e){return xe.getComputedStyle(e)},xi=function(e){var r=Nt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Do=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},Vt=function(e,r){var t=r&&Nt(e)[oo]!=="matrix(1, 0, 0, 1, 0, 0)"&&ne.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return t&&t.progress(0).kill(),n},Dr=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},vs=function(e){var r=[],t=e.labels,n=e.duration(),o;for(o in t)r.push(t[o]/n);return r},wi=function(e){return function(r){return ne.utils.snap(vs(e),r)}},_o=function(e){var r=ne.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(n,o){return n-o});return t?function(n,o,a){a===void 0&&(a=.001);var u;if(!o)return r(n);if(o>0){for(n-=a,u=0;u<t.length;u++)if(t[u]>=n)return t[u];return t[u-1]}else for(u=t.length,n+=a;u--;)if(t[u]<=n)return t[u];return t[0]}:function(n,o,a){a===void 0&&(a=.001);var u=r(n);return!o||Math.abs(u-n)<a||u-n<0==o<0?u:r(o<0?n-e:n+e)}},vi=function(e){return function(r,t){return _o(vs(e))(r,t.direction)}},hr=function(e,r,t,n){return t.split(",").forEach(function(o){return e(r,o,n)})},rt=function(e,r,t,n,o){return e.addEventListener(r,t,{passive:!n,capture:!!o})},nt=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},gr=function(e,r,t){t=t&&t.wheelHandler,t&&(e(r,"wheel",t),e(r,"touchmove",t))},No={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},mr={toggleActions:"play",anticipatePin:0},Nr={top:0,left:0,center:.5,bottom:1,right:1},Pr=function(e,r){if(Et(e)){var t=e.indexOf("="),n=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(n*=r/100),e=e.substr(0,t-1)),e=n+(e in Nr?Nr[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},yr=function(e,r,t,n,o,a,u,b){var x=o.startColor,A=o.endColor,P=o.fontSize,C=o.indent,_=o.fontWeight,G=Oe.createElement("div"),M=bn(t)||tn(t,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,H=M?Ae:t,q=e.indexOf("start")!==-1,B=q?x:A,E="border-color:"+B+";font-size:"+P+";color:"+B+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((g||b)&&M?"fixed;":"absolute;"),(g||b||!M)&&(E+=(n===Je?go:mo)+":"+(a+parseFloat(C))+"px;"),u&&(E+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),G._isStart=q,G.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),G.style.cssText=E,G.innerText=r||r===0?e+"-"+r:e,H.children[0]?H.insertBefore(G,H.children[0]):H.appendChild(G),G._offset=G["offset"+n.op.d2],Cr(G,0,n,q),G},Cr=function(e,r,t,n){var o={display:"block"},a=t[n?"os2":"p2"],u=t[n?"p2":"os2"];e._isFlipped=n,o[t.a+"Percent"]=n?-100:0,o[t.a]=n?"1px":0,o["border"+a+Rn]=1,o["border"+u+Rn]=0,o[t.p]=r+"px",ne.set(e,o)},be=[],lo={},sr,Oo=function(){return pt()-Ot>34&&(sr||(sr=requestAnimationFrame(qt)))},Sn=function(){(!_t||!_t.isPressed||_t.startX>Ae.clientWidth)&&(we.cache++,_t?sr||(sr=requestAnimationFrame(qt)):qt(),Ot||wn("scrollStart"),Ot=pt())},qr=function(){gs=xe.innerWidth,hs=xe.innerHeight},Yn=function(e){we.cache++,(e===!0||!dt&&!ps&&!Oe.fullscreenElement&&!Oe.webkitFullscreenElement&&(!so||gs!==xe.innerWidth||Math.abs(xe.innerHeight-hs)>xe.innerHeight*.25))&&kr.restart(!0)},xn={},Ti=[],Ts=function f(){return nt(me,"scrollEnd",f)||dn(!0)},wn=function(e){return xn[e]&&xn[e].map(function(r){return r()})||Ti},Mt=[],Ss=function(e){for(var r=0;r<Mt.length;r+=5)(!e||Mt[r+4]&&Mt[r+4].query===e)&&(Mt[r].style.cssText=Mt[r+1],Mt[r].getBBox&&Mt[r].setAttribute("transform",Mt[r+2]||""),Mt[r+3].uncache=1)},bo=function(e,r){var t;for(bt=0;bt<be.length;bt++)t=be[bt],t&&(!r||t._ctx===r)&&(e?t.kill(1):t.revert(!0,!0));Rr=!0,r&&Ss(r),r||wn("revert")},Ps=function(e,r){we.cache++,(r||!xt)&&we.forEach(function(t){return ht(t)&&t.cacheID++&&(t.rec=0)}),Et(e)&&(xe.history.scrollRestoration=po=e)},xt,mn=0,Lo,Si=function(){if(Lo!==mn){var e=Lo=mn;requestAnimationFrame(function(){return e===mn&&dn(!0)})}},Cs=function(){Ae.appendChild(An),ho=!_t&&An.offsetHeight||xe.innerHeight,Ae.removeChild(An)},Bo=function(e){return or(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},dn=function(e,r){if(kt=Oe.documentElement,Ae=Oe.body,fo=[xe,Oe,kt,Ae],Ot&&!e&&!Rr){rt(me,"scrollEnd",Ts);return}Cs(),xt=me.isRefreshing=!0,we.forEach(function(n){return ht(n)&&++n.cacheID&&(n.rec=n())});var t=wn("refreshInit");ds&&me.sort(),r||bo(),we.forEach(function(n){ht(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),be.slice(0).forEach(function(n){return n.refresh()}),Rr=!1,be.forEach(function(n){if(n._subPinOffset&&n.pin){var o=n.vars.horizontal?"offsetWidth":"offsetHeight",a=n.pin[o];n.revert(!0,1),n.adjustPinSpacing(n.pin[o]-a),n.refresh()}}),ao=1,Bo(!0),be.forEach(function(n){var o=Wt(n.scroller,n._dir),a=n.vars.end==="max"||n._endClamp&&n.end>o,u=n._startClamp&&n.start>=o;(a||u)&&n.setPositions(u?o-1:n.start,a?Math.max(u?o:n.start+1,o):n.end,!0)}),Bo(!1),ao=0,t.forEach(function(n){return n&&n.render&&n.render(-1)}),we.forEach(function(n){ht(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),Ps(po,1),kr.pause(),mn++,xt=2,qt(2),be.forEach(function(n){return ht(n.vars.onRefresh)&&n.vars.onRefresh(n)}),xt=me.isRefreshing=!1,wn("refresh")},co=0,Mr=1,tr,qt=function(e){if(e===2||!xt&&!Rr){me.isUpdating=!0,tr&&tr.update(0);var r=be.length,t=pt(),n=t-Vr>=50,o=r&&be[0].scroll();if(Mr=co>o?-1:1,xt||(co=o),n&&(Ot&&!Fr&&t-Ot>200&&(Ot=0,wn("scrollEnd")),Gn=Vr,Vr=t),Mr<0){for(bt=r;bt-- >0;)be[bt]&&be[bt].update(0,n);Mr=1}else for(bt=0;bt<r;bt++)be[bt]&&be[bt].update(0,n);me.isUpdating=!1}sr=0},uo=[xs,ws,mo,go,Dt+er,Dt+$n,Dt+Jn,Dt+Kn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Er=uo.concat([hn,gn,"boxSizing","max"+Rn,"max"+yo,"position",Dt,Ze,Ze+Jn,Ze+$n,Ze+er,Ze+Kn]),Pi=function(e,r,t){kn(t);var n=e._gsap;if(n.spacerIsNative)kn(n.spacerState);else if(e._gsap.swappedIn){var o=r.parentNode;o&&(o.insertBefore(e,r),o.removeChild(r))}e._gsap.swappedIn=!1},Qr=function(e,r,t,n){if(!e._gsap.swappedIn){for(var o=uo.length,a=r.style,u=e.style,b;o--;)b=uo[o],a[b]=t[b];a.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(a.display="inline-block"),u[mo]=u[go]="auto",a.flexBasis=t.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[hn]=Dr(e,vt)+Ke,a[gn]=Dr(e,Je)+Ke,a[Ze]=u[Dt]=u[ws]=u[xs]="0",kn(n),u[hn]=u["max"+Rn]=t[hn],u[gn]=u["max"+yo]=t[gn],u[Ze]=t[Ze],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},Ci=/([A-Z])/g,kn=function(e){if(e){var r=e.t.style,t=e.length,n=0,o,a;for((e.t._gsap||ne.core.getCache(e.t)).uncache=1;n<t;n+=2)a=e[n+1],o=e[n],a?r[o]=a:r[o]&&r.removeProperty(o.replace(Ci,"-$1").toLowerCase())}},_r=function(e){for(var r=Er.length,t=e.style,n=[],o=0;o<r;o++)n.push(Er[o],t[Er[o]]);return n.t=e,n},Mi=function(e,r,t){for(var n=[],o=e.length,a=t?8:0,u;a<o;a+=2)u=e[a],n.push(u,u in r?r[u]:e[a+1]);return n.t=e.t,n},Ir={left:0,top:0},Fo=function(e,r,t,n,o,a,u,b,x,A,P,C,_,G){ht(e)&&(e=e(b)),Et(e)&&e.substr(0,3)==="max"&&(e=C+(e.charAt(4)==="="?Pr("0"+e.substr(3),t):0));var M=_?_.time():0,g,H,q;if(_&&_.seek(0),isNaN(e)||(e=+e),Wn(e))_&&(e=ne.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,C,e)),u&&Cr(u,t,n,!0);else{ht(r)&&(r=r(b));var B=(e||"0").split(" "),E,W,Y,z;q=Tt(r,b)||Ae,E=Vt(q)||{},(!E||!E.left&&!E.top)&&Nt(q).display==="none"&&(z=q.style.display,q.style.display="block",E=Vt(q),z?q.style.display=z:q.style.removeProperty("display")),W=Pr(B[0],E[n.d]),Y=Pr(B[1]||"0",t),e=E[n.p]-x[n.p]-A+W+o-Y,u&&Cr(u,Y,n,t-Y<20||u._isStart&&Y>20),t-=t-Y}if(G&&(b[G]=e||-.001,e<0&&(e=0)),a){var j=e+t,Q=a._isStart;g="scroll"+n.d2,Cr(a,j,n,Q&&j>20||!Q&&(P?Math.max(Ae[g],kt[g]):a.parentNode[g])<=j+1),P&&(x=Vt(u),P&&(a.style[n.op.p]=x[n.op.p]-n.op.m-a._offset+Ke))}return _&&q&&(g=Vt(q),_.seek(C),H=Vt(q),_._caScrollDist=g[n.p]-H[n.p],e=e/_._caScrollDist*C),_&&_.seek(M),_?e:Math.round(e)},Ei=/(webkit|moz|length|cssText|inset)/i,zo=function(e,r,t,n){if(e.parentNode!==r){var o=e.style,a,u;if(r===Ae){e._stOrig=o.cssText,u=Nt(e);for(a in u)!+a&&!Ei.test(a)&&u[a]&&typeof o[a]=="string"&&a!=="0"&&(o[a]=u[a]);o.top=t,o.left=n}else o.cssText=e._stOrig;ne.core.getCache(e).uncache=1,r.appendChild(e)}},Ms=function(e,r,t){var n=r,o=n;return function(a){var u=Math.round(e());return u!==n&&u!==o&&Math.abs(u-n)>3&&Math.abs(u-o)>3&&(a=u,t&&t()),o=n,n=Math.round(a),n}},br=function(e,r,t){var n={};n[r.p]="+="+t,ne.set(e,n)},Go=function(e,r){var t=nn(e,r),n="_scroll"+r.p2,o=function a(u,b,x,A,P){var C=a.tween,_=b.onComplete,G={};x=x||t();var M=Ms(t,x,function(){C.kill(),a.tween=0});return P=A&&P||0,A=A||u-x,C&&C.kill(),b[n]=u,b.inherit=!1,b.modifiers=G,G[n]=function(){return M(x+A*C.ratio+P*C.ratio*C.ratio)},b.onUpdate=function(){we.cache++,a.tween&&qt()},b.onComplete=function(){a.tween=0,_&&_.call(C)},C=a.tween=ne.to(e,b),C};return e[n]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},rt(e,"wheel",t.wheelHandler),me.isTouch&&rt(e,"touchmove",t.wheelHandler),o},me=function(){function f(r,t){Cn||f.register(ne)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),io(this),this.init(r,t)}var e=f.prototype;return e.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Un){this.update=this.refresh=this.kill=Ht;return}t=Do(Et(t)||Wn(t)||t.nodeType?{trigger:t}:t,mr);var o=t,a=o.onUpdate,u=o.toggleClass,b=o.id,x=o.onToggle,A=o.onRefresh,P=o.scrub,C=o.trigger,_=o.pin,G=o.pinSpacing,M=o.invalidateOnRefresh,g=o.anticipatePin,H=o.onScrubComplete,q=o.onSnapComplete,B=o.once,E=o.snap,W=o.pinReparent,Y=o.pinSpacer,z=o.containerAnimation,j=o.fastScrollEnd,Q=o.preventOverlaps,S=t.horizontal||t.containerAnimation&&t.horizontal!==!1?vt:Je,te=!P&&P!==0,I=Tt(t.scroller||xe),U=ne.core.getCache(I),$=bn(I),ee=("pinType"in t?t.pinType:tn(I,"pinType")||$&&"fixed")==="fixed",X=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],k=te&&t.toggleActions.split(" "),v="markers"in t?t.markers:mr.markers,V=$?0:parseFloat(Nt(I)["border"+S.p2+Rn])||0,d=this,re=t.onRefreshInit&&function(){return t.onRefreshInit(d)},le=_i(I,$,S),ve=bi(I,$),h=0,c=0,i=0,s=nn(I,S),w,O,y,D,F,N,T,R,L,p,m,l,Z,J,ke,Re,Ce,Pe,he,ye,Ee,oe,_e,ue,Te,Ye,ce,De,et,Le,Qe,se,Ie,Ue,Be,Fe,gt,Pt,Xt;if(d._startClamp=d._endClamp=!1,d._dir=S,g*=45,d.scroller=I,d.scroll=z?z.time.bind(z):s,D=s(),d.vars=t,n=n||t.animation,"refreshPriority"in t&&(ds=1,t.refreshPriority===-9999&&(tr=d)),U.tweenScroll=U.tweenScroll||{top:Go(I,Je),left:Go(I,vt)},d.tweenTo=w=U.tweenScroll[S.p],d.scrubDuration=function(K){Ie=Wn(K)&&K,Ie?se?se.duration(K):se=ne.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Ie,paused:!0,onComplete:function(){return H&&H(d)}}):(se&&se.progress(1).kill(),se=0)},n&&(n.vars.lazy=!1,n._initted&&!d.isReverted||n.vars.immediateRender!==!1&&t.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),d.animation=n.pause(),n.scrollTrigger=d,d.scrubDuration(P),Le=0,b||(b=n.vars.id)),E&&((!cn(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in Ae.style&&ne.set($?[Ae,kt]:I,{scrollBehavior:"auto"}),we.forEach(function(K){return ht(K)&&K.target===($?Oe.scrollingElement||kt:I)&&(K.smooth=!1)}),y=ht(E.snapTo)?E.snapTo:E.snapTo==="labels"?wi(n):E.snapTo==="labelsDirectional"?vi(n):E.directional!==!1?function(K,fe){return _o(E.snapTo)(K,pt()-c<500?0:fe.direction)}:ne.utils.snap(E.snapTo),Ue=E.duration||{min:.1,max:2},Ue=cn(Ue)?Qn(Ue.min,Ue.max):Qn(Ue,Ue),Be=ne.delayedCall(E.delay||Ie/2||.1,function(){var K=s(),fe=pt()-c<500,ie=w.tween;if((fe||Math.abs(d.getVelocity())<10)&&!ie&&!Fr&&h!==K){var de=(K-N)/J,tt=n&&!te?n.totalProgress():de,Se=fe?0:(tt-Qe)/(pt()-Gn)*1e3||0,je=ne.utils.clamp(-de,1-de,Tn(Se/2)*Se/.185),ct=de+(E.inertia===!1?0:je),Xe,ze,Ne=E,Lt=Ne.onStart,He=Ne.onInterrupt,Ct=Ne.onComplete;if(Xe=y(ct,d),Wn(Xe)||(Xe=ct),ze=Math.max(0,Math.round(N+Xe*J)),K<=T&&K>=N&&ze!==K){if(ie&&!ie._initted&&ie.data<=Tn(ze-K))return;E.inertia===!1&&(je=Xe-de),w(ze,{duration:Ue(Tn(Math.max(Tn(ct-tt),Tn(Xe-tt))*.185/Se/.05||0)),ease:E.ease||"power3",data:Tn(ze-K),onInterrupt:function(){return Be.restart(!0)&&He&&He(d)},onComplete:function(){d.update(),h=s(),n&&!te&&(se?se.resetTo("totalProgress",Xe,n._tTime/n._tDur):n.progress(Xe)),Le=Qe=n&&!te?n.totalProgress():d.progress,q&&q(d),Ct&&Ct(d)}},K,je*J,ze-K-je*J),Lt&&Lt(d,w.tween)}}else d.isActive&&h!==K&&Be.restart(!0)}).pause()),b&&(lo[b]=d),C=d.trigger=Tt(C||_!==!0&&_),Xt=C&&C._gsap&&C._gsap.stRevert,Xt&&(Xt=Xt(d)),_=_===!0?C:Tt(_),Et(u)&&(u={targets:C,className:u}),_&&(G===!1||G===Dt||(G=!G&&_.parentNode&&_.parentNode.style&&Nt(_.parentNode).display==="flex"?!1:Ze),d.pin=_,O=ne.core.getCache(_),O.spacer?ke=O.pinState:(Y&&(Y=Tt(Y),Y&&!Y.nodeType&&(Y=Y.current||Y.nativeElement),O.spacerIsNative=!!Y,Y&&(O.spacerState=_r(Y))),O.spacer=Pe=Y||Oe.createElement("div"),Pe.classList.add("pin-spacer"),b&&Pe.classList.add("pin-spacer-"+b),O.pinState=ke=_r(_)),t.force3D!==!1&&ne.set(_,{force3D:!0}),d.spacer=Pe=O.spacer,et=Nt(_),ue=et[G+S.os2],ye=ne.getProperty(_),Ee=ne.quickSetter(_,S.a,Ke),Qr(_,Pe,et),Ce=_r(_)),v){l=cn(v)?Do(v,No):No,p=yr("scroller-start",b,I,S,l,0),m=yr("scroller-end",b,I,S,l,0,p),he=p["offset"+S.op.d2];var Dn=Tt(tn(I,"content")||I);R=this.markerStart=yr("start",b,Dn,S,l,he,0,z),L=this.markerEnd=yr("end",b,Dn,S,l,he,0,z),z&&(Pt=ne.quickSetter([R,L],S.a,Ke)),!ee&&!(Yt.length&&tn(I,"fixedMarkers")===!0)&&(xi($?Ae:I),ne.set([p,m],{force3D:!0}),Ye=ne.quickSetter(p,S.a,Ke),De=ne.quickSetter(m,S.a,Ke))}if(z){var pe=z.vars.onUpdate,ae=z.vars.onUpdateParams;z.eventCallback("onUpdate",function(){d.update(0,0,1),pe&&pe.apply(z,ae||[])})}if(d.previous=function(){return be[be.indexOf(d)-1]},d.next=function(){return be[be.indexOf(d)+1]},d.revert=function(K,fe){if(!fe)return d.kill(!0);var ie=K!==!1||!d.enabled,de=dt;ie!==d.isReverted&&(ie&&(Fe=Math.max(s(),d.scroll.rec||0),i=d.progress,gt=n&&n.progress()),R&&[R,L,p,m].forEach(function(tt){return tt.style.display=ie?"none":"block"}),ie&&(dt=d,d.update(ie)),_&&(!W||!d.isActive)&&(ie?Pi(_,Pe,ke):Qr(_,Pe,Nt(_),Te)),ie||d.update(ie),dt=de,d.isReverted=ie)},d.refresh=function(K,fe,ie,de){if(!((dt||!d.enabled)&&!fe)){if(_&&K&&Ot){rt(f,"scrollEnd",Ts);return}!xt&&re&&re(d),dt=d,w.tween&&!ie&&(w.tween.kill(),w.tween=0),se&&se.pause(),M&&n&&n.revert({kill:!1}).invalidate(),d.isReverted||d.revert(!0,!0),d._subPinOffset=!1;var tt=le(),Se=ve(),je=z?z.duration():Wt(I,S),ct=J<=.01,Xe=0,ze=de||0,Ne=cn(ie)?ie.end:t.end,Lt=t.endTrigger||C,He=cn(ie)?ie.start:t.start||(t.start===0||!C?0:_?"0 0":"0 100%"),Ct=d.pinnedContainer=t.pinnedContainer&&Tt(t.pinnedContainer,d),Ft=C&&Math.max(0,be.indexOf(d))||0,ot=Ft,st,ut,rn,ar,ft,$e,zt,zr,xo,Nn,Gt,On,lr;for(v&&cn(ie)&&(On=ne.getProperty(p,S.p),lr=ne.getProperty(m,S.p));ot-- >0;)$e=be[ot],$e.end||$e.refresh(0,1)||(dt=d),zt=$e.pin,zt&&(zt===C||zt===_||zt===Ct)&&!$e.isReverted&&(Nn||(Nn=[]),Nn.unshift($e),$e.revert(!0,!0)),$e!==be[ot]&&(Ft--,ot--);for(ht(He)&&(He=He(d)),He=Io(He,"start",d),N=Fo(He,C,tt,S,s(),R,p,d,Se,V,ee,je,z,d._startClamp&&"_startClamp")||(_?-.001:0),ht(Ne)&&(Ne=Ne(d)),Et(Ne)&&!Ne.indexOf("+=")&&(~Ne.indexOf(" ")?Ne=(Et(He)?He.split(" ")[0]:"")+Ne:(Xe=Pr(Ne.substr(2),tt),Ne=Et(He)?He:(z?ne.utils.mapRange(0,z.duration(),z.scrollTrigger.start,z.scrollTrigger.end,N):N)+Xe,Lt=C)),Ne=Io(Ne,"end",d),T=Math.max(N,Fo(Ne||(Lt?"100% 0":je),Lt,tt,S,s()+Xe,L,m,d,Se,V,ee,je,z,d._endClamp&&"_endClamp"))||-.001,Xe=0,ot=Ft;ot--;)$e=be[ot],zt=$e.pin,zt&&$e.start-$e._pinPush<=N&&!z&&$e.end>0&&(st=$e.end-(d._startClamp?Math.max(0,$e.start):$e.start),(zt===C&&$e.start-$e._pinPush<N||zt===Ct)&&isNaN(He)&&(Xe+=st*(1-$e.progress)),zt===_&&(ze+=st));if(N+=Xe,T+=Xe,d._startClamp&&(d._startClamp+=Xe),d._endClamp&&!xt&&(d._endClamp=T||-.001,T=Math.min(T,Wt(I,S))),J=T-N||(N-=.01)&&.001,ct&&(i=ne.utils.clamp(0,1,ne.utils.normalize(N,T,Fe))),d._pinPush=ze,R&&Xe&&(st={},st[S.a]="+="+Xe,Ct&&(st[S.p]="-="+s()),ne.set([R,L],st)),_&&!(ao&&d.end>=Wt(I,S)))st=Nt(_),ar=S===Je,rn=s(),oe=parseFloat(ye(S.a))+ze,!je&&T>1&&(Gt=($?Oe.scrollingElement||kt:I).style,Gt={style:Gt,value:Gt["overflow"+S.a.toUpperCase()]},$&&Nt(Ae)["overflow"+S.a.toUpperCase()]!=="scroll"&&(Gt.style["overflow"+S.a.toUpperCase()]="scroll")),Qr(_,Pe,st),Ce=_r(_),ut=Vt(_,!0),zr=ee&&nn(I,ar?vt:Je)(),G?(Te=[G+S.os2,J+ze+Ke],Te.t=Pe,ot=G===Ze?Dr(_,S)+J+ze:0,ot&&(Te.push(S.d,ot+Ke),Pe.style.flexBasis!=="auto"&&(Pe.style.flexBasis=ot+Ke)),kn(Te),Ct&&be.forEach(function(Ln){Ln.pin===Ct&&Ln.vars.pinSpacing!==!1&&(Ln._subPinOffset=!0)}),ee&&s(Fe)):(ot=Dr(_,S),ot&&Pe.style.flexBasis!=="auto"&&(Pe.style.flexBasis=ot+Ke)),ee&&(ft={top:ut.top+(ar?rn-N:zr)+Ke,left:ut.left+(ar?zr:rn-N)+Ke,boxSizing:"border-box",position:"fixed"},ft[hn]=ft["max"+Rn]=Math.ceil(ut.width)+Ke,ft[gn]=ft["max"+yo]=Math.ceil(ut.height)+Ke,ft[Dt]=ft[Dt+Jn]=ft[Dt+$n]=ft[Dt+er]=ft[Dt+Kn]="0",ft[Ze]=st[Ze],ft[Ze+Jn]=st[Ze+Jn],ft[Ze+$n]=st[Ze+$n],ft[Ze+er]=st[Ze+er],ft[Ze+Kn]=st[Ze+Kn],Re=Mi(ke,ft,W),xt&&s(0)),n?(xo=n._initted,Xr(1),n.render(n.duration(),!0,!0),_e=ye(S.a)-oe+J+ze,ce=Math.abs(J-_e)>1,ee&&ce&&Re.splice(Re.length-2,2),n.render(0,!0,!0),xo||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Xr(0)):_e=J,Gt&&(Gt.value?Gt.style["overflow"+S.a.toUpperCase()]=Gt.value:Gt.style.removeProperty("overflow-"+S.a));else if(C&&s()&&!z)for(ut=C.parentNode;ut&&ut!==Ae;)ut._pinOffset&&(N-=ut._pinOffset,T-=ut._pinOffset),ut=ut.parentNode;Nn&&Nn.forEach(function(Ln){return Ln.revert(!1,!0)}),d.start=N,d.end=T,D=F=xt?Fe:s(),!z&&!xt&&(D<Fe&&s(Fe),d.scroll.rec=0),d.revert(!1,!0),c=pt(),Be&&(h=-1,Be.restart(!0)),dt=0,n&&te&&(n._initted||gt)&&n.progress()!==gt&&n.progress(gt||0,!0).render(n.time(),!0,!0),(ct||i!==d.progress||z||M||n&&!n._initted)&&(n&&!te&&n.totalProgress(z&&N<-.001&&!i?ne.utils.normalize(N,T,0):i,!0),d.progress=ct||(D-N)/J===i?0:i),_&&G&&(Pe._pinOffset=Math.round(d.progress*_e)),se&&se.invalidate(),isNaN(On)||(On-=ne.getProperty(p,S.p),lr-=ne.getProperty(m,S.p),br(p,S,On),br(R,S,On-(de||0)),br(m,S,lr),br(L,S,lr-(de||0))),ct&&!xt&&d.update(),A&&!xt&&!Z&&(Z=!0,A(d),Z=!1)}},d.getVelocity=function(){return(s()-F)/(pt()-Gn)*1e3||0},d.endAnimation=function(){Fn(d.callbackAnimation),n&&(se?se.progress(1):n.paused()?te||Fn(n,d.direction<0,1):Fn(n,n.reversed()))},d.labelToScroll=function(K){return n&&n.labels&&(N||d.refresh()||N)+n.labels[K]/n.duration()*J||0},d.getTrailing=function(K){var fe=be.indexOf(d),ie=d.direction>0?be.slice(0,fe).reverse():be.slice(fe+1);return(Et(K)?ie.filter(function(de){return de.vars.preventOverlaps===K}):ie).filter(function(de){return d.direction>0?de.end<=N:de.start>=T})},d.update=function(K,fe,ie){if(!(z&&!ie&&!K)){var de=xt===!0?Fe:d.scroll(),tt=K?0:(de-N)/J,Se=tt<0?0:tt>1?1:tt||0,je=d.progress,ct,Xe,ze,Ne,Lt,He,Ct,Ft;if(fe&&(F=D,D=z?s():de,E&&(Qe=Le,Le=n&&!te?n.totalProgress():Se)),g&&_&&!dt&&!dr&&Ot&&(!Se&&N<de+(de-F)/(pt()-Gn)*g?Se=1e-4:Se===1&&T>de+(de-F)/(pt()-Gn)*g&&(Se=.9999)),Se!==je&&d.enabled){if(ct=d.isActive=!!Se&&Se<1,Xe=!!je&&je<1,He=ct!==Xe,Lt=He||!!Se!=!!je,d.direction=Se>je?1:-1,d.progress=Se,Lt&&!dt&&(ze=Se&&!je?0:Se===1?1:je===1?2:3,te&&(Ne=!He&&k[ze+1]!=="none"&&k[ze+1]||k[ze],Ft=n&&(Ne==="complete"||Ne==="reset"||Ne in n))),Q&&(He||Ft)&&(Ft||P||!n)&&(ht(Q)?Q(d):d.getTrailing(Q).forEach(function(rn){return rn.endAnimation()})),te||(se&&!dt&&!dr?(se._dp._time-se._start!==se._time&&se.render(se._dp._time-se._start),se.resetTo?se.resetTo("totalProgress",Se,n._tTime/n._tDur):(se.vars.totalProgress=Se,se.invalidate().restart())):n&&n.totalProgress(Se,!!(dt&&(c||K)))),_){if(K&&G&&(Pe.style[G+S.os2]=ue),!ee)Ee(Hn(oe+_e*Se));else if(Lt){if(Ct=!K&&Se>je&&T+1>de&&de+1>=Wt(I,S),W)if(!K&&(ct||Ct)){var ot=Vt(_,!0),st=de-N;zo(_,Ae,ot.top+(S===Je?st:0)+Ke,ot.left+(S===Je?0:st)+Ke)}else zo(_,Pe);kn(ct||Ct?Re:Ce),ce&&Se<1&&ct||Ee(oe+(Se===1&&!Ct?_e:0))}}E&&!w.tween&&!dt&&!dr&&Be.restart(!0),u&&(He||B&&Se&&(Se<1||!jr))&&or(u.targets).forEach(function(rn){return rn.classList[ct||B?"add":"remove"](u.className)}),a&&!te&&!K&&a(d),Lt&&!dt?(te&&(Ft&&(Ne==="complete"?n.pause().totalProgress(1):Ne==="reset"?n.restart(!0).pause():Ne==="restart"?n.restart(!0):n[Ne]()),a&&a(d)),(He||!jr)&&(x&&He&&Zr(d,x),X[ze]&&Zr(d,X[ze]),B&&(Se===1?d.kill(!1,1):X[ze]=0),He||(ze=Se===1?1:3,X[ze]&&Zr(d,X[ze]))),j&&!ct&&Math.abs(d.getVelocity())>(Wn(j)?j:2500)&&(Fn(d.callbackAnimation),se?se.progress(1):Fn(n,Ne==="reverse"?1:!Se,1))):te&&a&&!dt&&a(d)}if(De){var ut=z?de/z.duration()*(z._caScrollDist||0):de;Ye(ut+(p._isFlipped?1:0)),De(ut)}Pt&&Pt(-de/z.duration()*(z._caScrollDist||0))}},d.enable=function(K,fe){d.enabled||(d.enabled=!0,rt(I,"resize",Yn),$||rt(I,"scroll",Sn),re&&rt(f,"refreshInit",re),K!==!1&&(d.progress=i=0,D=F=h=s()),fe!==!1&&d.refresh())},d.getTween=function(K){return K&&w?w.tween:se},d.setPositions=function(K,fe,ie,de){if(z){var tt=z.scrollTrigger,Se=z.duration(),je=tt.end-tt.start;K=tt.start+je*K/Se,fe=tt.start+je*fe/Se}d.refresh(!1,!1,{start:Ao(K,ie&&!!d._startClamp),end:Ao(fe,ie&&!!d._endClamp)},de),d.update()},d.adjustPinSpacing=function(K){if(Te&&K){var fe=Te.indexOf(S.d)+1;Te[fe]=parseFloat(Te[fe])+K+Ke,Te[1]=parseFloat(Te[1])+K+Ke,kn(Te)}},d.disable=function(K,fe){if(d.enabled&&(K!==!1&&d.revert(!0,!0),d.enabled=d.isActive=!1,fe||se&&se.pause(),Fe=0,O&&(O.uncache=1),re&&nt(f,"refreshInit",re),Be&&(Be.pause(),w.tween&&w.tween.kill()&&(w.tween=0)),!$)){for(var ie=be.length;ie--;)if(be[ie].scroller===I&&be[ie]!==d)return;nt(I,"resize",Yn),$||nt(I,"scroll",Sn)}},d.kill=function(K,fe){d.disable(K,fe),se&&!fe&&se.kill(),b&&delete lo[b];var ie=be.indexOf(d);ie>=0&&be.splice(ie,1),ie===bt&&Mr>0&&bt--,ie=0,be.forEach(function(de){return de.scroller===d.scroller&&(ie=1)}),ie||xt||(d.scroll.rec=0),n&&(n.scrollTrigger=null,K&&n.revert({kill:!1}),fe||n.kill()),R&&[R,L,p,m].forEach(function(de){return de.parentNode&&de.parentNode.removeChild(de)}),tr===d&&(tr=0),_&&(O&&(O.uncache=1),ie=0,be.forEach(function(de){return de.pin===_&&ie++}),ie||(O.spacer=0)),t.onKill&&t.onKill(d)},be.push(d),d.enable(!1,!1),Xt&&Xt(d),n&&n.add&&!J){var Me=d.update;d.update=function(){d.update=Me,we.cache++,N||T||d.refresh()},ne.delayedCall(.01,d.update),J=.01,N=T=0}else d.refresh();_&&Si()},f.register=function(t){return Cn||(ne=t||ys(),ms()&&window.document&&f.enable(),Cn=Un),Cn},f.defaults=function(t){if(t)for(var n in t)mr[n]=t[n];return mr},f.disable=function(t,n){Un=0,be.forEach(function(a){return a[n?"kill":"disable"](t)}),nt(xe,"wheel",Sn),nt(Oe,"scroll",Sn),clearInterval(fr),nt(Oe,"touchcancel",Ht),nt(Ae,"touchstart",Ht),hr(nt,Oe,"pointerdown,touchstart,mousedown",ko),hr(nt,Oe,"pointerup,touchend,mouseup",Ro),kr.kill(),pr(nt);for(var o=0;o<we.length;o+=3)gr(nt,we[o],we[o+1]),gr(nt,we[o],we[o+2])},f.enable=function(){if(xe=window,Oe=document,kt=Oe.documentElement,Ae=Oe.body,ne&&(or=ne.utils.toArray,Qn=ne.utils.clamp,io=ne.core.context||Ht,Xr=ne.core.suppressOverwrites||Ht,po=xe.history.scrollRestoration||"auto",co=xe.pageYOffset||0,ne.core.globals("ScrollTrigger",f),Ae)){Un=1,An=document.createElement("div"),An.style.height="100vh",An.style.position="absolute",Cs(),yi(),Ve.register(ne),f.isTouch=Ve.isTouch,$t=Ve.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),so=Ve.isTouch===1,rt(xe,"wheel",Sn),fo=[xe,Oe,kt,Ae],ne.matchMedia?(f.matchMedia=function(x){var A=ne.matchMedia(),P;for(P in x)A.add(P,x[P]);return A},ne.addEventListener("matchMediaInit",function(){return bo()}),ne.addEventListener("matchMediaRevert",function(){return Ss()}),ne.addEventListener("matchMedia",function(){dn(0,1),wn("matchMedia")}),ne.matchMedia().add("(orientation: portrait)",function(){return qr(),qr})):console.warn("Requires GSAP 3.11.0 or later"),qr(),rt(Oe,"scroll",Sn);var t=Ae.hasAttribute("style"),n=Ae.style,o=n.borderTopStyle,a=ne.core.Animation.prototype,u,b;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",u=Vt(Ae),Je.m=Math.round(u.top+Je.sc())||0,vt.m=Math.round(u.left+vt.sc())||0,o?n.borderTopStyle=o:n.removeProperty("border-top-style"),t||(Ae.setAttribute("style",""),Ae.removeAttribute("style")),fr=setInterval(Oo,250),ne.delayedCall(.5,function(){return dr=0}),rt(Oe,"touchcancel",Ht),rt(Ae,"touchstart",Ht),hr(rt,Oe,"pointerdown,touchstart,mousedown",ko),hr(rt,Oe,"pointerup,touchend,mouseup",Ro),oo=ne.utils.checkPrefix("transform"),Er.push(oo),Cn=pt(),kr=ne.delayedCall(.2,dn).pause(),Mn=[Oe,"visibilitychange",function(){var x=xe.innerWidth,A=xe.innerHeight;Oe.hidden?(Mo=x,Eo=A):(Mo!==x||Eo!==A)&&Yn()},Oe,"DOMContentLoaded",dn,xe,"load",dn,xe,"resize",Yn],pr(rt),be.forEach(function(x){return x.enable(0,1)}),b=0;b<we.length;b+=3)gr(nt,we[b],we[b+1]),gr(nt,we[b],we[b+2])}},f.config=function(t){"limitCallbacks"in t&&(jr=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(fr)||(fr=n)&&setInterval(Oo,n),"ignoreMobileResize"in t&&(so=f.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(pr(nt)||pr(rt,t.autoRefreshEvents||"none"),ps=(t.autoRefreshEvents+"").indexOf("resize")===-1)},f.scrollerProxy=function(t,n){var o=Tt(t),a=we.indexOf(o),u=bn(o);~a&&we.splice(a,u?6:2),n&&(u?Yt.unshift(xe,n,Ae,n,kt,n):Yt.unshift(o,n))},f.clearMatchMedia=function(t){be.forEach(function(n){return n._ctx&&n._ctx.query===t&&n._ctx.kill(!0,!0)})},f.isInViewport=function(t,n,o){var a=(Et(t)?Tt(t):t).getBoundingClientRect(),u=a[o?hn:gn]*n||0;return o?a.right-u>0&&a.left+u<xe.innerWidth:a.bottom-u>0&&a.top+u<xe.innerHeight},f.positionInViewport=function(t,n,o){Et(t)&&(t=Tt(t));var a=t.getBoundingClientRect(),u=a[o?hn:gn],b=n==null?u/2:n in Nr?Nr[n]*u:~n.indexOf("%")?parseFloat(n)*u/100:parseFloat(n)||0;return o?(a.left+b)/xe.innerWidth:(a.top+b)/xe.innerHeight},f.killAll=function(t){if(be.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var n=xn.killAll||[];xn={},n.forEach(function(o){return o()})}},f}();me.version="3.12.7";me.saveStyles=function(f){return f?or(f).forEach(function(e){if(e&&e.style){var r=Mt.indexOf(e);r>=0&&Mt.splice(r,5),Mt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ne.core.getCache(e),io())}}):Mt};me.revert=function(f,e){return bo(!f,e)};me.create=function(f,e){return new me(f,e)};me.refresh=function(f){return f?Yn(!0):(Cn||me.register())&&dn(!0)};me.update=function(f){return++we.cache&&qt(f===!0?2:0)};me.clearScrollMemory=Ps;me.maxScroll=function(f,e){return Wt(f,e?vt:Je)};me.getScrollFunc=function(f,e){return nn(Tt(f),e?vt:Je)};me.getById=function(f){return lo[f]};me.getAll=function(){return be.filter(function(f){return f.vars.id!=="ScrollSmoother"})};me.isScrolling=function(){return!!Ot};me.snapDirectional=_o;me.addEventListener=function(f,e){var r=xn[f]||(xn[f]=[]);~r.indexOf(e)||r.push(e)};me.removeEventListener=function(f,e){var r=xn[f],t=r&&r.indexOf(e);t>=0&&r.splice(t,1)};me.batch=function(f,e){var r=[],t={},n=e.interval||.016,o=e.batchMax||1e9,a=function(x,A){var P=[],C=[],_=ne.delayedCall(n,function(){A(P,C),P=[],C=[]}).pause();return function(G){P.length||_.restart(!0),P.push(G.trigger),C.push(G),o<=P.length&&_.progress(1)}},u;for(u in e)t[u]=u.substr(0,2)==="on"&&ht(e[u])&&u!=="onRefreshInit"?a(u,e[u]):e[u];return ht(o)&&(o=o(),rt(me,"refresh",function(){return o=e.batchMax()})),or(f).forEach(function(b){var x={};for(u in t)x[u]=t[u];x.trigger=b,r.push(me.create(x))}),r};var Uo=function(e,r,t,n){return r>n?e(n):r<0&&e(0),t>n?(n-r)/(t-r):t<0?r/(r-t):1},$r=function f(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Ve.isTouch?" pinch-zoom":""):"none",e===kt&&f(Ae,r)},xr={auto:1,scroll:1},Ii=function(e){var r=e.event,t=e.target,n=e.axis,o=(r.changedTouches?r.changedTouches[0]:r).target,a=o._gsap||ne.core.getCache(o),u=pt(),b;if(!a._isScrollT||u-a._isScrollT>2e3){for(;o&&o!==Ae&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(xr[(b=Nt(o)).overflowY]||xr[b.overflowX]));)o=o.parentNode;a._isScroll=o&&o!==t&&!bn(o)&&(xr[(b=Nt(o)).overflowY]||xr[b.overflowX]),a._isScrollT=u}(a._isScroll||n==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Es=function(e,r,t,n){return Ve.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:n=n&&Ii,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return t&&rt(Oe,Ve.eventTypes[0],Wo,!1,!0)},onDisable:function(){return nt(Oe,Ve.eventTypes[0],Wo,!0)}})},Ai=/(input|label|select|textarea)/i,Ho,Wo=function(e){var r=Ai.test(e.target.tagName);(r||Ho)&&(e._gsapAllow=!0,Ho=r)},ki=function(e){cn(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,t=r.normalizeScrollX,n=r.momentum,o=r.allowNestedScroll,a=r.onRelease,u,b,x=Tt(e.target)||kt,A=ne.core.globals().ScrollSmoother,P=A&&A.get(),C=$t&&(e.content&&Tt(e.content)||P&&e.content!==!1&&!P.smooth()&&P.content()),_=nn(x,Je),G=nn(x,vt),M=1,g=(Ve.isTouch&&xe.visualViewport?xe.visualViewport.scale*xe.visualViewport.width:xe.outerWidth)/xe.innerWidth,H=0,q=ht(n)?function(){return n(u)}:function(){return n||2.8},B,E,W=Es(x,e.type,!0,o),Y=function(){return E=!1},z=Ht,j=Ht,Q=function(){b=Wt(x,Je),j=Qn($t?1:0,b),t&&(z=Qn(0,Wt(x,vt))),B=mn},S=function(){C._gsap.y=Hn(parseFloat(C._gsap.y)+_.offset)+"px",C.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(C._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},te=function(){if(E){requestAnimationFrame(Y);var v=Hn(u.deltaY/2),V=j(_.v-v);if(C&&V!==_.v+_.offset){_.offset=V-_.v;var d=Hn((parseFloat(C&&C._gsap.y)||0)-_.offset);C.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+d+", 0, 1)",C._gsap.y=d+"px",_.cacheID=we.cache,qt()}return!0}_.offset&&S(),E=!0},I,U,$,ee,X=function(){Q(),I.isActive()&&I.vars.scrollY>b&&(_()>b?I.progress(1)&&_(b):I.resetTo("scrollY",b))};return C&&ne.set(C,{y:"+=0"}),e.ignoreCheck=function(k){return $t&&k.type==="touchmove"&&te()||M>1.05&&k.type!=="touchstart"||u.isGesturing||k.touches&&k.touches.length>1},e.onPress=function(){E=!1;var k=M;M=Hn((xe.visualViewport&&xe.visualViewport.scale||1)/g),I.pause(),k!==M&&$r(x,M>1.01?!0:t?!1:"x"),U=G(),$=_(),Q(),B=mn},e.onRelease=e.onGestureStart=function(k,v){if(_.offset&&S(),!v)ee.restart(!0);else{we.cache++;var V=q(),d,re;t&&(d=G(),re=d+V*.05*-k.velocityX/.227,V*=Uo(G,d,re,Wt(x,vt)),I.vars.scrollX=z(re)),d=_(),re=d+V*.05*-k.velocityY/.227,V*=Uo(_,d,re,Wt(x,Je)),I.vars.scrollY=j(re),I.invalidate().duration(V).play(.01),($t&&I.vars.scrollY>=b||d>=b-1)&&ne.to({},{onUpdate:X,duration:V})}a&&a(k)},e.onWheel=function(){I._ts&&I.pause(),pt()-H>1e3&&(B=0,H=pt())},e.onChange=function(k,v,V,d,re){if(mn!==B&&Q(),v&&t&&G(z(d[2]===v?U+(k.startX-k.x):G()+v-d[1])),V){_.offset&&S();var le=re[2]===V,ve=le?$+k.startY-k.y:_()+V-re[1],h=j(ve);le&&ve!==h&&($+=h-ve),_(h)}(V||v)&&qt()},e.onEnable=function(){$r(x,t?!1:"x"),me.addEventListener("refresh",X),rt(xe,"resize",X),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=G.smooth=!1),W.enable()},e.onDisable=function(){$r(x,!0),nt(xe,"resize",X),me.removeEventListener("refresh",X),W.kill()},e.lockAxis=e.lockAxis!==!1,u=new Ve(e),u.iOS=$t,$t&&!_()&&_(1),$t&&ne.ticker.add(Ht),ee=u._dc,I=ne.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ms(_,_(),function(){return I.pause()})},onUpdate:qt,onComplete:ee.vars.onComplete}),u};me.sort=function(f){if(ht(f))return be.sort(f);var e=xe.pageYOffset||0;return me.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+xe.innerHeight}),be.sort(f||function(r,t){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};me.observe=function(f){return new Ve(f)};me.normalizeScroll=function(f){if(typeof f>"u")return _t;if(f===!0&&_t)return _t.enable();if(f===!1){_t&&_t.kill(),_t=f;return}var e=f instanceof Ve?f:ki(f);return _t&&_t.target===e.target&&_t.kill(),bn(e.target)&&(_t=e),e};me.core={_getVelocityProp:ro,_inputObserver:Es,_scrollers:we,_proxies:Yt,bridge:{ss:function(){Ot||wn("scrollStart"),Ot=pt()},ref:function(){return dt}}};ys()&&ne.registerPlugin(me);var nr=function(){var f=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(A){A.preventDefault(),t(++f%e.children.length)},!1);function r(A){return e.appendChild(A.dom),A}function t(A){for(var P=0;P<e.children.length;P++)e.children[P].style.display=P===A?"block":"none";f=A}var n=(performance||Date).now(),o=n,a=0,u=r(new nr.Panel("FPS","#0ff","#002")),b=r(new nr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var x=r(new nr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:r,showPanel:t,begin:function(){n=(performance||Date).now()},end:function(){a++;var A=(performance||Date).now();if(b.update(A-n,200),A>=o+1e3&&(u.update(a*1e3/(A-o),100),o=A,a=0,x)){var P=performance.memory;x.update(P.usedJSHeapSize/1048576,P.jsHeapSizeLimit/1048576)}return A},update:function(){n=this.end()},domElement:e,setMode:t}};nr.Panel=function(f,e,r){var t=1/0,n=0,o=Math.round,a=o(window.devicePixelRatio||1),u=80*a,b=48*a,x=3*a,A=2*a,P=3*a,C=15*a,_=74*a,G=30*a,M=document.createElement("canvas");M.width=u,M.height=b,M.style.cssText="width:80px;height:48px";var g=M.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=r,g.fillRect(0,0,u,b),g.fillStyle=e,g.fillText(f,x,A),g.fillRect(P,C,_,G),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(P,C,_,G),{dom:M,update:function(H,q){t=Math.min(t,H),n=Math.max(n,H),g.fillStyle=r,g.globalAlpha=1,g.fillRect(0,0,u,C),g.fillStyle=e,g.fillText(o(H)+" "+f+" ("+o(t)+"-"+o(n)+")",x,A),g.drawImage(M,P+a,C,_-a,G,P,C,_-a,G),g.fillRect(P+_-a,C,a,G),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(P+_-a,C,a,o((1-H/q)*G))}}};class Is extends Ws{constructor(e,r={}){const t=r.font;if(t===void 0)super();else{const n=t.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(n,r)}this.type="TextGeometry"}}const Ri=Vs;class Or extends $o{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,r,t,n){const o=this,a=new Ko(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(u){try{r(o.parse(u))}catch(b){n?n(b):console.error(b),o.manager.itemError(e)}},t,n)}parse(e){const r=this;function t(h,c){if(h.nodeType!==1)return;const i=E(h);let s=!1,w=null;switch(h.nodeName){case"svg":c=G(h,c);break;case"style":o(h);break;case"g":c=G(h,c);break;case"path":c=G(h,c),h.hasAttribute("d")&&(w=n(h));break;case"rect":c=G(h,c),w=b(h);break;case"polygon":c=G(h,c),w=x(h);break;case"polyline":c=G(h,c),w=A(h);break;case"circle":c=G(h,c),w=P(h);break;case"ellipse":c=G(h,c),w=C(h);break;case"line":c=G(h,c),w=_(h);break;case"defs":s=!0;break;case"use":c=G(h,c);const D=(h.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),F=h.viewportElement.getElementById(D);F?t(F,c):console.warn("SVGLoader: 'use node' references non-existent node id: "+D);break}w&&(c.fill!==void 0&&c.fill!=="none"&&w.color.setStyle(c.fill,Ri),Y(w,re),I.push(w),w.userData={node:h,style:c});const O=h.childNodes;for(let y=0;y<O.length;y++){const D=O[y];s&&D.nodeName!=="style"&&D.nodeName!=="defs"||t(D,c)}i&&($.pop(),$.length>0?re.copy($[$.length-1]):re.identity())}function n(h){const c=new Qt,i=new ge,s=new ge,w=new ge;let O=!0,y=!1;const D=h.getAttribute("d");if(D===""||D==="none")return null;const F=D.match(/[a-df-z][^a-df-z]*/ig);for(let N=0,T=F.length;N<T;N++){const R=F[N],L=R.charAt(0),p=R.slice(1).trim();O===!0&&(y=!0,O=!1);let m;switch(L){case"M":m=g(p);for(let l=0,Z=m.length;l<Z;l+=2)i.x=m[l+0],i.y=m[l+1],s.x=i.x,s.y=i.y,l===0?c.moveTo(i.x,i.y):c.lineTo(i.x,i.y),l===0&&w.copy(i);break;case"H":m=g(p);for(let l=0,Z=m.length;l<Z;l++)i.x=m[l],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),l===0&&y===!0&&w.copy(i);break;case"V":m=g(p);for(let l=0,Z=m.length;l<Z;l++)i.y=m[l],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),l===0&&y===!0&&w.copy(i);break;case"L":m=g(p);for(let l=0,Z=m.length;l<Z;l+=2)i.x=m[l+0],i.y=m[l+1],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),l===0&&y===!0&&w.copy(i);break;case"C":m=g(p);for(let l=0,Z=m.length;l<Z;l+=6)c.bezierCurveTo(m[l+0],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]),s.x=m[l+2],s.y=m[l+3],i.x=m[l+4],i.y=m[l+5],l===0&&y===!0&&w.copy(i);break;case"S":m=g(p);for(let l=0,Z=m.length;l<Z;l+=4)c.bezierCurveTo(M(i.x,s.x),M(i.y,s.y),m[l+0],m[l+1],m[l+2],m[l+3]),s.x=m[l+0],s.y=m[l+1],i.x=m[l+2],i.y=m[l+3],l===0&&y===!0&&w.copy(i);break;case"Q":m=g(p);for(let l=0,Z=m.length;l<Z;l+=4)c.quadraticCurveTo(m[l+0],m[l+1],m[l+2],m[l+3]),s.x=m[l+0],s.y=m[l+1],i.x=m[l+2],i.y=m[l+3],l===0&&y===!0&&w.copy(i);break;case"T":m=g(p);for(let l=0,Z=m.length;l<Z;l+=2){const J=M(i.x,s.x),ke=M(i.y,s.y);c.quadraticCurveTo(J,ke,m[l+0],m[l+1]),s.x=J,s.y=ke,i.x=m[l+0],i.y=m[l+1],l===0&&y===!0&&w.copy(i)}break;case"A":m=g(p,[3,4],7);for(let l=0,Z=m.length;l<Z;l+=7){if(m[l+5]==i.x&&m[l+6]==i.y)continue;const J=i.clone();i.x=m[l+5],i.y=m[l+6],s.x=i.x,s.y=i.y,a(c,m[l],m[l+1],m[l+2],m[l+3],m[l+4],J,i),l===0&&y===!0&&w.copy(i)}break;case"m":m=g(p);for(let l=0,Z=m.length;l<Z;l+=2)i.x+=m[l+0],i.y+=m[l+1],s.x=i.x,s.y=i.y,l===0?c.moveTo(i.x,i.y):c.lineTo(i.x,i.y),l===0&&w.copy(i);break;case"h":m=g(p);for(let l=0,Z=m.length;l<Z;l++)i.x+=m[l],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),l===0&&y===!0&&w.copy(i);break;case"v":m=g(p);for(let l=0,Z=m.length;l<Z;l++)i.y+=m[l],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),l===0&&y===!0&&w.copy(i);break;case"l":m=g(p);for(let l=0,Z=m.length;l<Z;l+=2)i.x+=m[l+0],i.y+=m[l+1],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),l===0&&y===!0&&w.copy(i);break;case"c":m=g(p);for(let l=0,Z=m.length;l<Z;l+=6)c.bezierCurveTo(i.x+m[l+0],i.y+m[l+1],i.x+m[l+2],i.y+m[l+3],i.x+m[l+4],i.y+m[l+5]),s.x=i.x+m[l+2],s.y=i.y+m[l+3],i.x+=m[l+4],i.y+=m[l+5],l===0&&y===!0&&w.copy(i);break;case"s":m=g(p);for(let l=0,Z=m.length;l<Z;l+=4)c.bezierCurveTo(M(i.x,s.x),M(i.y,s.y),i.x+m[l+0],i.y+m[l+1],i.x+m[l+2],i.y+m[l+3]),s.x=i.x+m[l+0],s.y=i.y+m[l+1],i.x+=m[l+2],i.y+=m[l+3],l===0&&y===!0&&w.copy(i);break;case"q":m=g(p);for(let l=0,Z=m.length;l<Z;l+=4)c.quadraticCurveTo(i.x+m[l+0],i.y+m[l+1],i.x+m[l+2],i.y+m[l+3]),s.x=i.x+m[l+0],s.y=i.y+m[l+1],i.x+=m[l+2],i.y+=m[l+3],l===0&&y===!0&&w.copy(i);break;case"t":m=g(p);for(let l=0,Z=m.length;l<Z;l+=2){const J=M(i.x,s.x),ke=M(i.y,s.y);c.quadraticCurveTo(J,ke,i.x+m[l+0],i.y+m[l+1]),s.x=J,s.y=ke,i.x=i.x+m[l+0],i.y=i.y+m[l+1],l===0&&y===!0&&w.copy(i)}break;case"a":m=g(p,[3,4],7);for(let l=0,Z=m.length;l<Z;l+=7){if(m[l+5]==0&&m[l+6]==0)continue;const J=i.clone();i.x+=m[l+5],i.y+=m[l+6],s.x=i.x,s.y=i.y,a(c,m[l],m[l+1],m[l+2],m[l+3],m[l+4],J,i),l===0&&y===!0&&w.copy(i)}break;case"Z":case"z":c.currentPath.autoClose=!0,c.currentPath.curves.length>0&&(i.copy(w),c.currentPath.currentPoint.copy(i),O=!0);break;default:console.warn(R)}y=!1}return c}function o(h){if(!(!h.sheet||!h.sheet.cssRules||!h.sheet.cssRules.length))for(let c=0;c<h.sheet.cssRules.length;c++){const i=h.sheet.cssRules[c];if(i.type!==1)continue;const s=i.selectorText.split(/,/gm).filter(Boolean).map(w=>w.trim());for(let w=0;w<s.length;w++){const O=Object.fromEntries(Object.entries(i.style).filter(([,y])=>y!==""));U[s[w]]=Object.assign(U[s[w]]||{},O)}}}function a(h,c,i,s,w,O,y,D){if(c==0||i==0){h.lineTo(D.x,D.y);return}s=s*Math.PI/180,c=Math.abs(c),i=Math.abs(i);const F=(y.x-D.x)/2,N=(y.y-D.y)/2,T=Math.cos(s)*F+Math.sin(s)*N,R=-Math.sin(s)*F+Math.cos(s)*N;let L=c*c,p=i*i;const m=T*T,l=R*R,Z=m/L+l/p;if(Z>1){const _e=Math.sqrt(Z);c=_e*c,i=_e*i,L=c*c,p=i*i}const J=L*l+p*m,ke=(L*p-J)/J;let Re=Math.sqrt(Math.max(0,ke));w===O&&(Re=-Re);const Ce=Re*c*R/i,Pe=-Re*i*T/c,he=Math.cos(s)*Ce-Math.sin(s)*Pe+(y.x+D.x)/2,ye=Math.sin(s)*Ce+Math.cos(s)*Pe+(y.y+D.y)/2,Ee=u(1,0,(T-Ce)/c,(R-Pe)/i),oe=u((T-Ce)/c,(R-Pe)/i,(-T-Ce)/c,(-R-Pe)/i)%(Math.PI*2);h.currentPath.absellipse(he,ye,c,i,Ee,Ee+oe,O===0,s)}function u(h,c,i,s){const w=h*i+c*s,O=Math.sqrt(h*h+c*c)*Math.sqrt(i*i+s*s);let y=Math.acos(Math.max(-1,Math.min(1,w/O)));return h*s-c*i<0&&(y=-y),y}function b(h){const c=B(h.getAttribute("x")||0),i=B(h.getAttribute("y")||0),s=B(h.getAttribute("rx")||h.getAttribute("ry")||0),w=B(h.getAttribute("ry")||h.getAttribute("rx")||0),O=B(h.getAttribute("width")),y=B(h.getAttribute("height")),D=1-.551915024494,F=new Qt;return F.moveTo(c+s,i),F.lineTo(c+O-s,i),(s!==0||w!==0)&&F.bezierCurveTo(c+O-s*D,i,c+O,i+w*D,c+O,i+w),F.lineTo(c+O,i+y-w),(s!==0||w!==0)&&F.bezierCurveTo(c+O,i+y-w*D,c+O-s*D,i+y,c+O-s,i+y),F.lineTo(c+s,i+y),(s!==0||w!==0)&&F.bezierCurveTo(c+s*D,i+y,c,i+y-w*D,c,i+y-w),F.lineTo(c,i+w),(s!==0||w!==0)&&F.bezierCurveTo(c,i+w*D,c+s*D,i,c+s,i),F}function x(h){function c(O,y,D){const F=B(y),N=B(D);w===0?s.moveTo(F,N):s.lineTo(F,N),w++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Qt;let w=0;return h.getAttribute("points").replace(i,c),s.currentPath.autoClose=!0,s}function A(h){function c(O,y,D){const F=B(y),N=B(D);w===0?s.moveTo(F,N):s.lineTo(F,N),w++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Qt;let w=0;return h.getAttribute("points").replace(i,c),s.currentPath.autoClose=!1,s}function P(h){const c=B(h.getAttribute("cx")||0),i=B(h.getAttribute("cy")||0),s=B(h.getAttribute("r")||0),w=new Gr;w.absarc(c,i,s,0,Math.PI*2);const O=new Qt;return O.subPaths.push(w),O}function C(h){const c=B(h.getAttribute("cx")||0),i=B(h.getAttribute("cy")||0),s=B(h.getAttribute("rx")||0),w=B(h.getAttribute("ry")||0),O=new Gr;O.absellipse(c,i,s,w,0,Math.PI*2);const y=new Qt;return y.subPaths.push(O),y}function _(h){const c=B(h.getAttribute("x1")||0),i=B(h.getAttribute("y1")||0),s=B(h.getAttribute("x2")||0),w=B(h.getAttribute("y2")||0),O=new Qt;return O.moveTo(c,i),O.lineTo(s,w),O.currentPath.autoClose=!1,O}function G(h,c){c=Object.assign({},c);let i={};if(h.hasAttribute("class")){const y=h.getAttribute("class").split(/\s/).filter(Boolean).map(D=>D.trim());for(let D=0;D<y.length;D++)i=Object.assign(i,U["."+y[D]])}h.hasAttribute("id")&&(i=Object.assign(i,U["#"+h.getAttribute("id")]));function s(y,D,F){F===void 0&&(F=function(T){return T.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),T}),h.hasAttribute(y)&&(c[D]=F(h.getAttribute(y))),i[y]&&(c[D]=F(i[y])),h.style&&h.style[y]!==""&&(c[D]=F(h.style[y]))}function w(y){return Math.max(0,Math.min(1,B(y)))}function O(y){return Math.max(0,B(y))}return s("fill","fill"),s("fill-opacity","fillOpacity",w),s("fill-rule","fillRule"),s("opacity","opacity",w),s("stroke","stroke"),s("stroke-opacity","strokeOpacity",w),s("stroke-width","strokeWidth",O),s("stroke-linejoin","strokeLineJoin"),s("stroke-linecap","strokeLineCap"),s("stroke-miterlimit","strokeMiterLimit",O),s("visibility","visibility"),c}function M(h,c){return h-(c-h)}function g(h,c,i){if(typeof h!="string")throw new TypeError("Invalid input: "+typeof h);const s={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},w=0,O=1,y=2,D=3;let F=w,N=!0,T="",R="";const L=[];function p(J,ke,Re){const Ce=new SyntaxError('Unexpected character "'+J+'" at index '+ke+".");throw Ce.partial=Re,Ce}function m(){T!==""&&(R===""?L.push(Number(T)):L.push(Number(T)*Math.pow(10,Number(R)))),T="",R=""}let l;const Z=h.length;for(let J=0;J<Z;J++){if(l=h[J],Array.isArray(c)&&c.includes(L.length%i)&&s.FLAGS.test(l)){F=O,T=l,m();continue}if(F===w){if(s.WHITESPACE.test(l))continue;if(s.DIGIT.test(l)||s.SIGN.test(l)){F=O,T=l;continue}if(s.POINT.test(l)){F=y,T=l;continue}s.COMMA.test(l)&&(N&&p(l,J,L),N=!0)}if(F===O){if(s.DIGIT.test(l)){T+=l;continue}if(s.POINT.test(l)){T+=l,F=y;continue}if(s.EXP.test(l)){F=D;continue}s.SIGN.test(l)&&T.length===1&&s.SIGN.test(T[0])&&p(l,J,L)}if(F===y){if(s.DIGIT.test(l)){T+=l;continue}if(s.EXP.test(l)){F=D;continue}s.POINT.test(l)&&T[T.length-1]==="."&&p(l,J,L)}if(F===D){if(s.DIGIT.test(l)){R+=l;continue}if(s.SIGN.test(l)){if(R===""){R+=l;continue}R.length===1&&s.SIGN.test(R)&&p(l,J,L)}}s.WHITESPACE.test(l)?(m(),F=w,N=!1):s.COMMA.test(l)?(m(),F=w,N=!0):s.SIGN.test(l)?(m(),F=O,T=l):s.POINT.test(l)?(m(),F=y,T=l):p(l,J,L)}return m(),L}const H=["mm","cm","in","pt","pc","px"],q={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function B(h){let c="px";if(typeof h=="string"||h instanceof String)for(let s=0,w=H.length;s<w;s++){const O=H[s];if(h.endsWith(O)){c=O,h=h.substring(0,h.length-O.length);break}}let i;return c==="px"&&r.defaultUnit!=="px"?i=q.in[r.defaultUnit]/r.defaultDPI:(i=q[c][r.defaultUnit],i<0&&(i=q[c].in*r.defaultDPI)),i*parseFloat(h)}function E(h){if(!(h.hasAttribute("transform")||h.nodeName==="use"&&(h.hasAttribute("x")||h.hasAttribute("y"))))return null;const c=W(h);return $.length>0&&c.premultiply($[$.length-1]),re.copy(c),$.push(c),c}function W(h){const c=new vn,i=ee;if(h.nodeName==="use"&&(h.hasAttribute("x")||h.hasAttribute("y"))){const s=B(h.getAttribute("x")),w=B(h.getAttribute("y"));c.translate(s,w)}if(h.hasAttribute("transform")){const s=h.getAttribute("transform").split(")");for(let w=s.length-1;w>=0;w--){const O=s[w].trim();if(O==="")continue;const y=O.indexOf("("),D=O.length;if(y>0&&y<D){const F=O.slice(0,y),N=g(O.slice(y+1));switch(i.identity(),F){case"translate":if(N.length>=1){const T=N[0];let R=0;N.length>=2&&(R=N[1]),i.translate(T,R)}break;case"rotate":if(N.length>=1){let T=0,R=0,L=0;T=N[0]*Math.PI/180,N.length>=3&&(R=N[1],L=N[2]),X.makeTranslation(-R,-L),k.makeRotation(T),v.multiplyMatrices(k,X),X.makeTranslation(R,L),i.multiplyMatrices(X,v)}break;case"scale":if(N.length>=1){const T=N[0];let R=T;N.length>=2&&(R=N[1]),i.scale(T,R)}break;case"skewX":N.length===1&&i.set(1,Math.tan(N[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":N.length===1&&i.set(1,0,0,Math.tan(N[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":N.length===6&&i.set(N[0],N[2],N[4],N[1],N[3],N[5],0,0,1);break}}c.premultiply(i)}}return c}function Y(h,c){function i(y){d.set(y.x,y.y,1).applyMatrix3(c),y.set(d.x,d.y)}function s(y){const D=y.xRadius,F=y.yRadius,N=Math.cos(y.aRotation),T=Math.sin(y.aRotation),R=new Ge(D*N,D*T,0),L=new Ge(-F*T,F*N,0),p=R.applyMatrix3(c),m=L.applyMatrix3(c),l=ee.set(p.x,m.x,0,p.y,m.y,0,0,0,1),Z=X.copy(l).invert(),Re=k.copy(Z).transpose().multiply(Z).elements,Ce=te(Re[0],Re[1],Re[4]),Pe=Math.sqrt(Ce.rt1),he=Math.sqrt(Ce.rt2);if(y.xRadius=1/Pe,y.yRadius=1/he,y.aRotation=Math.atan2(Ce.sn,Ce.cs),!((y.aEndAngle-y.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Ee=X.set(Pe,0,0,0,he,0,0,0,1),oe=k.set(Ce.cs,Ce.sn,0,-Ce.sn,Ce.cs,0,0,0,1),_e=Ee.multiply(oe).multiply(l),ue=Te=>{const{x:Ye,y:ce}=new Ge(Math.cos(Te),Math.sin(Te),0).applyMatrix3(_e);return Math.atan2(ce,Ye)};y.aStartAngle=ue(y.aStartAngle),y.aEndAngle=ue(y.aEndAngle),z(c)&&(y.aClockwise=!y.aClockwise)}}function w(y){const D=Q(c),F=S(c);y.xRadius*=D,y.yRadius*=F;const N=D>Number.EPSILON?Math.atan2(c.elements[1],c.elements[0]):Math.atan2(-c.elements[3],c.elements[4]);y.aRotation+=N,z(c)&&(y.aStartAngle*=-1,y.aEndAngle*=-1,y.aClockwise=!y.aClockwise)}const O=h.subPaths;for(let y=0,D=O.length;y<D;y++){const N=O[y].curves;for(let T=0;T<N.length;T++){const R=N[T];R.isLineCurve?(i(R.v1),i(R.v2)):R.isCubicBezierCurve?(i(R.v0),i(R.v1),i(R.v2),i(R.v3)):R.isQuadraticBezierCurve?(i(R.v0),i(R.v1),i(R.v2)):R.isEllipseCurve&&(V.set(R.aX,R.aY),i(V),R.aX=V.x,R.aY=V.y,j(c)?s(R):w(R))}}}function z(h){const c=h.elements;return c[0]*c[4]-c[1]*c[3]<0}function j(h){const c=h.elements,i=c[0]*c[3]+c[1]*c[4];if(i===0)return!1;const s=Q(h),w=S(h);return Math.abs(i/(s*w))>Number.EPSILON}function Q(h){const c=h.elements;return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function S(h){const c=h.elements;return Math.sqrt(c[3]*c[3]+c[4]*c[4])}function te(h,c,i){let s,w,O,y,D;const F=h+i,N=h-i,T=Math.sqrt(N*N+4*c*c);return F>0?(s=.5*(F+T),D=1/s,w=h*D*i-c*D*c):F<0?w=.5*(F-T):(s=.5*T,w=-.5*T),N>0?O=N+T:O=N-T,Math.abs(O)>2*Math.abs(c)?(D=-2*c/O,y=1/Math.sqrt(1+D*D),O=D*y):Math.abs(c)===0?(O=1,y=0):(D=-.5*O/c,O=1/Math.sqrt(1+D*D),y=D*O),N>0&&(D=O,O=-y,y=D),{rt1:s,rt2:w,cs:O,sn:y}}const I=[],U={},$=[],ee=new vn,X=new vn,k=new vn,v=new vn,V=new ge,d=new Ge,re=new vn,le=new DOMParser().parseFromString(e,"image/svg+xml");return t(le.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:I,xml:le.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},n={loc:t.ORIGIN,t:0};function o(M,g,H,q){const B=M.x,E=g.x,W=H.x,Y=q.x,z=M.y,j=g.y,Q=H.y,S=q.y,te=(Y-W)*(z-Q)-(S-Q)*(B-W),I=(E-B)*(z-Q)-(j-z)*(B-W),U=(S-Q)*(E-B)-(Y-W)*(j-z),$=te/U,ee=I/U;if(U===0&&te!==0||$<=0||$>=1||ee<0||ee>1)return null;if(te===0&&U===0){for(let X=0;X<2;X++)if(a(X===0?H:q,M,g),n.loc==t.ORIGIN){const k=X===0?H:q;return{x:k.x,y:k.y,t:n.t}}else if(n.loc==t.BETWEEN){const k=+(B+n.t*(E-B)).toPrecision(10),v=+(z+n.t*(j-z)).toPrecision(10);return{x:k,y:v,t:n.t}}return null}else{for(let v=0;v<2;v++)if(a(v===0?H:q,M,g),n.loc==t.ORIGIN){const V=v===0?H:q;return{x:V.x,y:V.y,t:n.t}}const X=+(B+$*(E-B)).toPrecision(10),k=+(z+$*(j-z)).toPrecision(10);return{x:X,y:k,t:$}}}function a(M,g,H){const q=H.x-g.x,B=H.y-g.y,E=M.x-g.x,W=M.y-g.y,Y=q*W-E*B;if(M.x===g.x&&M.y===g.y){n.loc=t.ORIGIN,n.t=0;return}if(M.x===H.x&&M.y===H.y){n.loc=t.DESTINATION,n.t=1;return}if(Y<-Number.EPSILON){n.loc=t.LEFT;return}if(Y>Number.EPSILON){n.loc=t.RIGHT;return}if(q*E<0||B*W<0){n.loc=t.BEHIND;return}if(Math.sqrt(q*q+B*B)<Math.sqrt(E*E+W*W)){n.loc=t.BEYOND;return}let z;q!==0?z=E/q:z=W/B,n.loc=t.BETWEEN,n.t=z}function u(M,g){const H=[],q=[];for(let B=1;B<M.length;B++){const E=M[B-1],W=M[B];for(let Y=1;Y<g.length;Y++){const z=g[Y-1],j=g[Y],Q=o(E,W,z,j);Q!==null&&H.find(S=>S.t<=Q.t+Number.EPSILON&&S.t>=Q.t-Number.EPSILON)===void 0&&(H.push(Q),q.push(new ge(Q.x,Q.y)))}}return q}function b(M,g,H){const q=new ge;g.getCenter(q);const B=[];return H.forEach(E=>{E.boundingBox.containsPoint(q)&&u(M,E.points).forEach(Y=>{B.push({identifier:E.identifier,isCW:E.isCW,point:Y})})}),B.sort((E,W)=>E.point.x-W.point.x),B}function x(M,g,H,q,B){(B==null||B==="")&&(B="nonzero");const E=new ge;M.boundingBox.getCenter(E);const W=[new ge(H,E.y),new ge(q,E.y)],Y=b(W,M.boundingBox,g);Y.sort((I,U)=>I.point.x-U.point.x);const z=[],j=[];Y.forEach(I=>{I.identifier===M.identifier?z.push(I):j.push(I)});const Q=z[0].point.x,S=[];let te=0;for(;te<j.length&&j[te].point.x<Q;)S.length>0&&S[S.length-1]===j[te].identifier?S.pop():S.push(j[te].identifier),te++;if(S.push(M.identifier),B==="evenodd"){const I=S.length%2===0,U=S[S.length-2];return{identifier:M.identifier,isHole:I,for:U}}else if(B==="nonzero"){let I=!0,U=null,$=null;for(let ee=0;ee<S.length;ee++){const X=S[ee];I?($=g[X].isCW,I=!1,U=X):$!==g[X].isCW&&($=g[X].isCW,I=!0)}return{identifier:M.identifier,isHole:I,for:U}}else console.warn('fill-rule: "'+B+'" is currently not implemented.')}let A=999999999,P=-999999999,C=e.subPaths.map(M=>{const g=M.getPoints();let H=-999999999,q=999999999,B=-999999999,E=999999999;for(let W=0;W<g.length;W++){const Y=g[W];Y.y>H&&(H=Y.y),Y.y<q&&(q=Y.y),Y.x>B&&(B=Y.x),Y.x<E&&(E=Y.x)}return P<=B&&(P=B+1),A>=E&&(A=E-1),{curves:M.curves,points:g,isCW:Xs.isClockWise(g),identifier:-1,boundingBox:new Ys(new ge(E,q),new ge(B,H))}});C=C.filter(M=>M.points.length>1);for(let M=0;M<C.length;M++)C[M].identifier=M;const _=C.map(M=>x(M,C,A,P,e.userData?e.userData.style.fillRule:void 0)),G=[];return C.forEach(M=>{if(!_[M.identifier].isHole){const H=new js;H.curves=M.curves,_.filter(B=>B.isHole&&B.for===M.identifier).forEach(B=>{const E=C[B.identifier],W=new Gr;W.curves=E.curves,H.holes.push(W)}),G.push(H)}}),G}static getStrokeStyle(e,r,t,n,o){return e=e!==void 0?e:1,r=r!==void 0?r:"#000",t=t!==void 0?t:"miter",n=n!==void 0?n:"butt",o=o!==void 0?o:4,{strokeColor:r,strokeWidth:e,strokeLineJoin:t,strokeLineCap:n,strokeMiterLimit:o}}static pointsToStroke(e,r,t,n){const o=[],a=[],u=[];if(Or.pointsToStrokeWithBuffers(e,r,t,n,o,a,u)===0)return null;const b=new pn;return b.setAttribute("position",new Xn(o,3)),b.setAttribute("normal",new Xn(a,3)),b.setAttribute("uv",new Xn(u,2)),b}static pointsToStrokeWithBuffers(e,r,t,n,o,a,u,b){const x=new ge,A=new ge,P=new ge,C=new ge,_=new ge,G=new ge,M=new ge,g=new ge,H=new ge,q=new ge,B=new ge,E=new ge,W=new ge,Y=new ge,z=new ge,j=new ge,Q=new ge;t=t!==void 0?t:12,n=n!==void 0?n:.001,b=b!==void 0?b:0,e=N(e);const S=e.length;if(S<2)return 0;const te=e[0].equals(e[S-1]);let I,U=e[0],$;const ee=r.strokeWidth/2,X=1/(S-1);let k=0,v,V,d,re,le=!1,ve=0,h=b*3,c=b*2;i(e[0],e[1],x).multiplyScalar(ee),g.copy(e[0]).sub(x),H.copy(e[0]).add(x),q.copy(g),B.copy(H);for(let T=1;T<S;T++){I=e[T],T===S-1?te?$=e[1]:$=void 0:$=e[T+1];const R=x;if(i(U,I,R),P.copy(R).multiplyScalar(ee),E.copy(I).sub(P),W.copy(I).add(P),v=k+X,V=!1,$!==void 0){i(I,$,A),P.copy(A).multiplyScalar(ee),Y.copy(I).sub(P),z.copy(I).add(P),d=!0,P.subVectors($,U),R.dot(P)<0&&(d=!1),T===1&&(le=d),P.subVectors($,I),P.normalize();const L=Math.abs(R.dot(P));if(L>Number.EPSILON){const p=ee/L;P.multiplyScalar(-p),C.subVectors(I,U),_.copy(C).setLength(p).add(P),j.copy(_).negate();const m=_.length(),l=C.length();C.divideScalar(l),G.subVectors($,I);const Z=G.length();switch(G.divideScalar(Z),C.dot(j)<l&&G.dot(j)<Z&&(V=!0),Q.copy(_).add(I),j.add(I),re=!1,V?d?(z.copy(j),W.copy(j)):(Y.copy(j),E.copy(j)):O(),r.strokeLineJoin){case"bevel":y(d,V,v);break;case"round":D(d,V),d?w(I,E,Y,v,0):w(I,z,W,v,1);break;case"miter":case"miter-clip":default:const J=ee*r.strokeMiterLimit/m;if(J<1)if(r.strokeLineJoin!=="miter-clip"){y(d,V,v);break}else D(d,V),d?(G.subVectors(Q,E).multiplyScalar(J).add(E),M.subVectors(Q,Y).multiplyScalar(J).add(Y),s(E,v,0),s(G,v,0),s(I,v,.5),s(I,v,.5),s(G,v,0),s(M,v,0),s(I,v,.5),s(M,v,0),s(Y,v,0)):(G.subVectors(Q,W).multiplyScalar(J).add(W),M.subVectors(Q,z).multiplyScalar(J).add(z),s(W,v,1),s(G,v,1),s(I,v,.5),s(I,v,.5),s(G,v,1),s(M,v,1),s(I,v,.5),s(M,v,1),s(z,v,1));else V?(d?(s(H,k,1),s(g,k,0),s(Q,v,0),s(H,k,1),s(Q,v,0),s(j,v,1)):(s(H,k,1),s(g,k,0),s(Q,v,1),s(g,k,0),s(j,v,0),s(Q,v,1)),d?Y.copy(Q):z.copy(Q)):d?(s(E,v,0),s(Q,v,0),s(I,v,.5),s(I,v,.5),s(Q,v,0),s(Y,v,0)):(s(W,v,1),s(Q,v,1),s(I,v,.5),s(I,v,.5),s(Q,v,1),s(z,v,1)),re=!0;break}}else O()}else O();!te&&T===S-1&&F(e[0],q,B,d,!0,k),k=v,U=I,g.copy(Y),H.copy(z)}if(!te)F(I,E,W,d,!1,v);else if(V&&o){let T=Q,R=j;le!==d&&(T=j,R=Q),d?(re||le)&&(R.toArray(o,0*3),R.toArray(o,3*3),re&&T.toArray(o,1*3)):(re||!le)&&(R.toArray(o,1*3),R.toArray(o,3*3),re&&T.toArray(o,0*3))}return ve;function i(T,R,L){return L.subVectors(R,T),L.set(-L.y,L.x).normalize()}function s(T,R,L){o&&(o[h]=T.x,o[h+1]=T.y,o[h+2]=0,a&&(a[h]=0,a[h+1]=0,a[h+2]=1),h+=3,u&&(u[c]=R,u[c+1]=L,c+=2)),ve+=3}function w(T,R,L,p,m){x.copy(R).sub(T).normalize(),A.copy(L).sub(T).normalize();let l=Math.PI;const Z=x.dot(A);Math.abs(Z)<1&&(l=Math.abs(Math.acos(Z))),l/=t,P.copy(R);for(let J=0,ke=t-1;J<ke;J++)C.copy(P).rotateAround(T,l),s(P,p,m),s(C,p,m),s(T,p,.5),P.copy(C);s(C,p,m),s(L,p,m),s(T,p,.5)}function O(){s(H,k,1),s(g,k,0),s(E,v,0),s(H,k,1),s(E,v,0),s(W,v,1)}function y(T,R,L){R?T?(s(H,k,1),s(g,k,0),s(E,v,0),s(H,k,1),s(E,v,0),s(j,v,1),s(E,L,0),s(Y,L,0),s(j,L,.5)):(s(H,k,1),s(g,k,0),s(W,v,1),s(g,k,0),s(j,v,0),s(W,v,1),s(W,L,1),s(j,L,0),s(z,L,1)):T?(s(E,L,0),s(Y,L,0),s(I,L,.5)):(s(W,L,1),s(z,L,0),s(I,L,.5))}function D(T,R){R&&(T?(s(H,k,1),s(g,k,0),s(E,v,0),s(H,k,1),s(E,v,0),s(j,v,1),s(E,k,0),s(I,v,.5),s(j,v,1),s(I,v,.5),s(Y,k,0),s(j,v,1)):(s(H,k,1),s(g,k,0),s(W,v,1),s(g,k,0),s(j,v,0),s(W,v,1),s(W,k,1),s(j,v,0),s(I,v,.5),s(I,v,.5),s(j,v,0),s(z,k,1)))}function F(T,R,L,p,m,l){switch(r.strokeLineCap){case"round":m?w(T,L,R,l,.5):w(T,R,L,l,.5);break;case"square":if(m)x.subVectors(R,T),A.set(x.y,-x.x),P.addVectors(x,A).add(T),C.subVectors(A,x).add(T),p?(P.toArray(o,1*3),C.toArray(o,0*3),C.toArray(o,3*3)):(P.toArray(o,1*3),u[3*2+1]===1?C.toArray(o,3*3):P.toArray(o,3*3),C.toArray(o,0*3));else{x.subVectors(L,T),A.set(x.y,-x.x),P.addVectors(x,A).add(T),C.subVectors(A,x).add(T);const Z=o.length;p?(P.toArray(o,Z-1*3),C.toArray(o,Z-2*3),C.toArray(o,Z-4*3)):(C.toArray(o,Z-2*3),P.toArray(o,Z-1*3),C.toArray(o,Z-4*3))}break}}function N(T){let R=!1;for(let p=1,m=T.length-1;p<m;p++)if(T[p].distanceTo(T[p+1])<n){R=!0;break}if(!R)return T;const L=[];L.push(T[0]);for(let p=1,m=T.length-1;p<m;p++)T[p].distanceTo(T[p+1])>=n&&L.push(T[p]);return L.push(T[T.length-1]),L}}}function Di(f,e,r,t){const{CUBE_SIZE:n,FIRST_CUBE_Z:o}=t,a=8,u=24,b=.075,x=200;let A,P=[],C=[],_=[],G=[];const M=(E,W,Y,z)=>{const j=new yn(E,E,E),Q=new jn(j),S=[new St({color:16711680,transparent:!0,opacity:z.opacity,blending:It}),new St({color:65280,transparent:!0,opacity:z.opacity,blending:It}),new St({color:255,transparent:!0,opacity:z.opacity,blending:It}),new St({color:65535,transparent:!0,opacity:z.opacity,blending:It}),new St({color:16711935,transparent:!0,opacity:z.opacity,blending:It}),new St({color:16776960,transparent:!0,opacity:z.opacity,blending:It})],te=new At,I=Q.getAttribute("position").array,U=[];for(let X=0;X<I.length/3;X+=2)U.push(X,X+1);const $=Array(6).fill(null).map(()=>new pn),ee=Array(6).fill(null).map(()=>[]);for(let X=0;X<U.length/2;X++){const k=X%6;ee[k].push(U[X*2],U[X*2+1])}return $.forEach((X,k)=>{X.setIndex(ee[k]),X.setAttribute("position",Q.getAttribute("position"));const v=new Kt(X,S[k]);te.add(v)}),te.position.z=W,te.rotation.z=Y,te};return(()=>{const Y=.9/(u-1);for(let U=0;U<u;U++)C[U]=new St({transparent:!0,opacity:1-U*Y});if(A=new At,!A){console.error("introGroup failed to initialize");return}for(let U=0;U<u;U++){const $=n-U*a,ee=M($,0,0,C[U]),X=ee.children.map(k=>k.material);G.push(X.map(k=>({material:k,originalColor:k.color.clone()}))),A.add(ee)}A.position.z=o,e.add(A),P.push(A),_=C.map(U=>U.opacity);const z=qe.timeline({repeat:-1});z.to(A.rotation,{x:at.degToRad(360),duration:12,ease:"none"},0),z.to(A.rotation,{y:at.degToRad(360),duration:10,ease:"none"},0),z.to(A.rotation,{z:at.degToRad(360),duration:14,ease:"none"},0);let j=-1,Q=0;const S=b*1e3,te=u*S,I=U=>{const $=U%te/S,ee=Math.floor($)%u;j!==-1&&U-Q>=S&&(G[j].forEach(v=>{v.material.opacity=_[j],v.material.color.copy(v.originalColor)}),j=-1),j===-1&&ee!==j&&(j=ee,Q=U,G[j].forEach(k=>{k.material.opacity=1,k.material.color.set(1,1,1)})),requestAnimationFrame(I)};requestAnimationFrame(I)})(),r.then(E=>{if(E){const W=H(E);f.add(W)}}),{introCubes:P};function H(E){const W=new At,Y=q(E);Y.position.set(0,-36,0),W.add(Y),B(j=>{W.add(j),qe.fromTo(Y.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const Q=j.children.find(S=>S instanceof We&&S!==j.children[0]);if(Q){const S=Q.position.y;qe.to(Q.position,{y:S+3,duration:1,ease:"easeOut",onComplete:()=>{Q.position.y=S},repeat:-1})}}),W.position.x=0,W.position.y=-240;const z=o-u*a;return W.position.z=z+x,W}function q(E){const W=new Is("SCROLL TO CONTINUE",{font:E,size:8,depth:0,curveSegments:12,bevelEnabled:!1});W.computeBoundingBox(),W.center();const Y=new it({color:16777215,transparent:!0,opacity:1});return new We(W,Y)}function B(E){new Or().load("/3D/mouse.svg",Y=>{const z=Y.paths;let j=null,Q=null,S=new At;if(z.forEach((te,I)=>{Or.createShapes(te).forEach($=>{const ee=new Zs($);ee.computeBoundingBox();const X=new it({color:16777215,transparent:!0,opacity:1,side:Ut}),k=new We(ee,X);k.scale.set(.05,.05,1),I===0?j=k:I===1&&(Q=k)})}),j&&Q){S.add(j),S.add(Q);const I=(j.geometry.boundingBox.max.x-j.geometry.boundingBox.min.x)*j.scale.x/2;S.position.x=-I,S.rotation.x=Math.PI,E(S)}})}}class Ni extends $o{constructor(e){super(e)}load(e,r,t,n){const o=this,a=new Ko(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){const b=o.parse(JSON.parse(u));r&&r(b)},t,n)}parse(e){return new Oi(e)}}class Oi{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const t=[],n=Li(e,r,this.data);for(let o=0,a=n.length;o<a;o++)t.push(...n[o].toShapes());return t}}function Li(f,e,r){const t=Array.from(f),n=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*n,a=[];let u=0,b=0;for(let x=0;x<t.length;x++){const A=t[x];if(A===`
`)u=0,b-=o;else{const P=Bi(A,n,u,b,r);u+=P.offsetX,a.push(P.path)}}return a}function Bi(f,e,r,t,n){const o=n.glyphs[f]||n.glyphs["?"];if(!o){console.error('THREE.Font: character "'+f+'" does not exists in font family '+n.familyName+".");return}const a=new Qt;let u,b,x,A,P,C,_,G;if(o.o){const M=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let g=0,H=M.length;g<H;)switch(M[g++]){case"m":u=M[g++]*e+r,b=M[g++]*e+t,a.moveTo(u,b);break;case"l":u=M[g++]*e+r,b=M[g++]*e+t,a.lineTo(u,b);break;case"q":x=M[g++]*e+r,A=M[g++]*e+t,P=M[g++]*e+r,C=M[g++]*e+t,a.quadraticCurveTo(P,C,x,A);break;case"b":x=M[g++]*e+r,A=M[g++]*e+t,P=M[g++]*e+r,C=M[g++]*e+t,_=M[g++]*e+r,G=M[g++]*e+t,a.bezierCurveTo(P,C,_,G,x,A);break}}return{offsetX:o.ha*e,path:a}}function Yo(f,e,r,t,n){const{CUBE_SIZE:o,CUBE_SPACING:a,FIRST_CUBE_Z:u}=e,b=u-(r.length+1)*a,x=65535,A=16711935,P=16711680,C=at.degToRad(15),_=1e3,G=.5,M=80,g=1,H=15,q=.1;let B=[],E=null,W=null,Y=!1,z=!1,j=new qs,Q=new ge,S=null,te=null,I=null,U=!1,$=null;const ee=os(),X=(h,c,i,s,w,O)=>{const y=new At;y.position.z=i,y.rotation.z=s,y.userData.isActive=!1;const D=new yn(c,c,c),F=new jn(D),N=new St({color:new wt(x),transparent:!0,opacity:0}),T=new Kt(F,N);y.add(T);let R="right";const L=c/2;if(w)switch(["left","top","right","bottom"].includes(O)?O:"left"){case"left":R="right";break;case"top":R="bottom";break;case"right":R="left";break;case"bottom":R="top";break}const p=()=>{const Ee=new wo(40,24),oe=new jn(Ee),_e=new St({color:new wt(x),transparent:!0,opacity:0,visible:!0}),ue=new Kt(oe,_e);ue.userData.isPortal=!0,ue.userData.isAnimating=!1;const Te=new jt(120,120),Ye=new it({visible:!1,side:Ut}),ce=new We(Te,Ye);ce.userData.isPortalHitbox=!0,ce.userData.portal=ue;const De=new At,et=new jt(g,H),Le=65/2;for(let Ie=0;Ie<M;Ie++){const Ue=new it({color:new wt(A),transparent:!0,opacity:0,visible:!1,side:Ut}),Be=new We(et,Ue),Fe=Ie/M*Math.PI*2;Be.position.set(Math.cos(Fe)*Le,Math.sin(Fe)*Le,0),Be.rotation.z=Fe+Math.PI/2,Be.userData.baseOpacity=.01,Be.userData.index=Ie,De.add(Be)}const Qe=2,se=25;for(let Ie=1;Ie<se;Ie++){const Ue=new wo(40,24),Be=new jn(Ue),Fe=at.lerp(1,.1,Ie/(se-1)),gt=new St({color:new wt(x),transparent:!0,opacity:0}),Pt=new Kt(Be,gt);Pt.userData.isPortal=!0,Pt.userData.maxOpacity=Fe,Pt.position.z=-Ie*Qe,ue.add(Pt)}switch(ue.userData.maxOpacity=1,R){case"left":case"right":De.children.forEach(Ie=>Ie.position.x+=q);break;case"top":case"bottom":De.children.forEach(Ie=>Ie.position.y+=q);break}switch(ue.add(De),y.add(ue),y.add(ce),ue.updateMatrixWorld(!0),De.updateMatrixWorld(!0),R){case"left":ue.position.set(-L,0,0),ue.rotation.y=Math.PI/2,ce.position.set(-L,0,0),ce.rotation.y=Math.PI/2;break;case"top":ue.position.set(0,L,0),ue.rotation.x=-Math.PI/2,ce.position.set(0,L,0),ce.rotation.x=Math.PI/2;break;case"right":ue.position.set(L,0,0),ue.rotation.y=-Math.PI/2,ce.position.set(L,0,0),ce.rotation.y=-Math.PI/2;break;case"bottom":ue.position.set(0,-L,0),ue.rotation.x=Math.PI/2,ce.position.set(0,-L,0),ce.rotation.x=Math.PI/2;break}};w?new Pn().load(w,ye=>{ye.encoding=void 0;const Ee=new jt(c-1,c-1),oe=new it({map:ye,transparent:!0,opacity:0,blending:It,side:Ut}),_e=new We(Ee,oe);switch(O){case"left":_e.position.set(-L,0,0),s>=at.degToRad(120)?(_e.rotation.y=Math.PI/2,_e.rotation.z=-Math.PI):_e.rotation.y=Math.PI/2;break;case"top":_e.position.set(0,L,0),_e.rotation.x=Math.PI/2,_e.rotation.z=-Math.PI/2;break;case"right":_e.position.set(L,0,0),s>=at.degToRad(120)?(_e.rotation.y=-Math.PI/2,_e.rotation.z=-Math.PI):_e.rotation.y=-Math.PI/2;break;case"bottom":_e.position.set(0,-L,0),s>=at.degToRad(120)?(_e.rotation.x=-Math.PI/2,_e.rotation.z=Math.PI/2):(_e.rotation.x=-Math.PI/2,_e.rotation.z=-Math.PI/2);break}y.add(_e),p()},void 0,ye=>{p()}):p(),new Pn().load(t,he=>{he.encoding=void 0;const ye=new jt(c-1,c-1),Ee=new it({map:he,transparent:!0,opacity:0,blending:It,side:Ut,depthWrite:!1}),oe=new We(ye,Ee);oe.position.set(0,0,-c/2-1),oe.rotation.y=0,oe.userData.isGridPlane=!0,y.add(oe)},void 0,he=>{console.error("Error loading projectGridFile:",he)}),new Pn().load(t,he=>{he.encoding=void 0;const ye=new jt(c-1,c-1),Ee=new it({map:he,transparent:!0,opacity:0,blending:It,side:Ut,depthWrite:!1,color:new wt(16744448)}),oe=new We(ye,Ee);oe.position.set(0,0,c/2+1),oe.rotation.y=0,oe.userData.isGridPlane=!0,y.add(oe)},void 0,he=>{console.error("Error loading projectGridFile:",he)});const Z=["left","top","right","bottom"],ke=[w?O||"left":null,R].filter(Boolean),Re=Z.filter(he=>!ke.includes(he));return new Pn().load(t,he=>{he.encoding=void 0;const ye=new jt(c-1,c-1),Ee=new it({map:he,transparent:!0,opacity:0,blending:It,side:Ut,depthWrite:!1,color:new wt(255)}),oe=new We(ye,Ee);switch(Re[0]){case"left":oe.position.set(-L,0,0),oe.rotation.y=-Math.PI/2;break;case"top":oe.position.set(0,L,0),oe.rotation.x=Math.PI/2;break;case"right":oe.position.set(L,0,0),oe.rotation.y=Math.PI/2;break;case"bottom":oe.position.set(0,-L,0),oe.rotation.x=-Math.PI/2;break}oe.userData.isGridPlane=!0,y.add(oe)},void 0,he=>{console.error("Error loading projectGridFile:",he)}),new Pn().load(n,he=>{he.encoding=void 0;const ye=new jt(c-1,c-1),Ee=new it({map:he,transparent:!0,opacity:0,blending:It,side:Ut,depthWrite:!1}),oe=new We(ye,Ee);switch(Re[1]){case"left":oe.position.set(-L,0,0),oe.rotation.y=-Math.PI/2;break;case"top":oe.position.set(0,L,0),oe.rotation.x=Math.PI/2;break;case"right":oe.position.set(L,0,0),oe.rotation.y=Math.PI/2;break;case"bottom":oe.position.set(0,-L,0),oe.rotation.x=-Math.PI/2;break}oe.userData.isGridPlane=!0,y.add(oe)},void 0,he=>{console.error("Error loading projectGridFile2:",he)}),y},k=(h,c,i,s,w,O)=>{const y=new Is(h,{font:O,size:w,depth:0,curveSegments:12,bevelEnabled:!1});y.computeBoundingBox(),y.center();const D=new it({color:16777215,transparent:!0,opacity:0,side:Ut}),F=new We(y,D);F.position.set(c,i,s);const N=y.boundingBox,T=N.max.x-N.min.x,R=N.max.y-N.min.y,L=T+8,p=R+4,m=new jt(L,p),l=new it({color:0,transparent:!0,opacity:0,side:Ut}),Z=new We(m,l);return Z.position.set(c,i,s-1),f.add(Z),f.add(F),F.userData.backgroundPlane=Z,F},v=()=>new Promise(h=>{E=new Ni,E.load("/fonts/Poppins_Regular.json",c=>{W=c;const i=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r),i.forEach((s,w)=>{const O=u-(w+1)*a,y=(w+1)*C,D=X(s,o,O,y,s.keyart,s.keyartLocation);f.add(D),B.push(D),k(s.title,0,s.size-15,u+90-(w+1)*a,s.size,c)}),h()},void 0,c=>console.error("Error loading font:",c))}),V=()=>Y?Promise.resolve({projectCubes:B,updateCubeColors:le,loadedFont:W,maxZ:b}):v().then(()=>(Y=!0,{projectCubes:B,updateCubeColors:le,loadedFont:W,maxZ:b})).catch(h=>{throw console.error("Error in loadFontAndText:",h),h}),d=h=>{if(h.userData.isAnimating)return;h.userData.isAnimating=!0;const c=h.children.find(y=>y instanceof At);if(!c)return;const i=c.children,s=i.length,w=qe.timeline({repeat:-1,defaults:{ease:"none"}}),O={value:0};w.to(O,{value:1,duration:1.5,onUpdate:()=>{i.forEach(D=>{const F=D.material;if(F.visible){const N=(D.userData.index/s+O.value)%1,R=(Math.sin(N*Math.PI*2)+1)/2,L=.01+(1-.01)*Math.pow(R,4);F.opacity=L}})}}),h.userData.animationTimeline=w},re=h=>{if(!h.userData.isAnimating)return;h.userData.isAnimating=!1;const c=h.children.find(i=>i instanceof At);c&&(h.userData.animationTimeline&&(h.userData.animationTimeline.kill(),delete h.userData.animationTimeline),c.children.forEach(i=>{const s=i.material;s.opacity=0}))},le=h=>{const c=h.position.z;let i=[];f.traverse(s=>{s instanceof We&&s.geometry&&s.geometry.type==="TextGeometry"&&i.push(s)}),z||(z=!0),B.forEach(s=>{const w=s.position.z,O=Math.abs(c-w);let y=0;O<=_&&(y=1-O/_),s.userData.isActive=y>=G,s.children.forEach(D=>{if(D instanceof Kt&&!D.userData.isPortal&&!D.userData.isPortalHitbox){const F=D.material;if(O<=_){const N=at.lerp((x>>16&255)/255,(A>>16&255)/255,y),T=at.lerp((x>>8&255)/255,(A>>8&255)/255,y),R=at.lerp((x&255)/255,(A&255)/255,y);F.color.set(N,T,R),F.opacity=Math.min(1,y*2)}else F.opacity=0}else if(D instanceof Kt&&D.userData.isPortal)z&&(y>.1?D.children.forEach(F=>{F instanceof At&&F.children.forEach(N=>{N instanceof We&&(N.material.visible=!0,D.userData.animationStarted||(d(D),D.userData.animationStarted=!0))})}):y<=.1&&D.userData.animationStarted&&(D.children.forEach(F=>{F instanceof At&&F.children.forEach(N=>{N instanceof We&&(N.material.visible=!1)})}),re(D),delete D.userData.animationStarted));else if(D instanceof We&&!D.userData.isPortalHitbox){const F=D.material;if(O<=_){const N=1-O/_;F.opacity=Math.min(.8,N*2)}else F.opacity=0}})}),i.forEach(s=>{const w=s.material,O=s.userData.backgroundPlane,y=O==null?void 0:O.material,D=s.position.z,F=Math.abs(c-D+120);if(F<=_){const N=1-F/_,T=Math.min(1,N*2);w.opacity=T,y&&(y.opacity=T*.8)}else w.opacity=0,y&&(y.opacity=0)})};return{getInitializedData:V,updateCubeColors:le,setupInteractivity:(h,c,i,s)=>{$=i;let w=null;const O=(F,N=!0)=>{const T=[F,...F.children.filter(L=>L instanceof Kt&&L.userData.isPortal)],R=N?25:2;T.forEach((L,p)=>{let m=-p*R;(F.position.y>0&&F.rotation.x===-Math.PI/2||F.position.y<0&&F.rotation.x===Math.PI/2)&&(m=p*R);const l=N?L.userData.maxOpacity:0;qe.to(L.position,{z:m,duration:1,ease:"power3.out",delay:.5}),qe.to(L.material,{opacity:l,duration:1,ease:"power3.out",delay:.5})})},y=F=>{Q.x=F.clientX/window.innerWidth*2-1,Q.y=-(F.clientY/window.innerHeight)*2+1,j.setFromCamera(Q,h);const N=B.flatMap(R=>R.userData.isActive?R.children.filter(L=>L instanceof We&&L.userData.isPortalHitbox):[]),T=j.intersectObjects(N);if(T.length>0){const L=T[0].object.userData.portal;if(S!==L){if(S){const m=S.material;qe.to(m.color,{r:(x>>16&255)/255,g:(x>>8&255)/255,b:(x&255)/255,duration:.5})}S=L;const p=S.material;qe.to(p.color,{r:(P>>16&255)/255,g:(P>>8&255)/255,b:(P&255)/255,duration:.5})}c.style.cursor="pointer"}else{if(S){const R=S.material;qe.to(R.color,{r:(x>>16&255)/255,g:(x>>8&255)/255,b:(x&255)/255,duration:.5}),S=null}c.style.cursor="auto"}},D=F=>{Q.x=F.clientX/window.innerWidth*2-1,Q.y=-(F.clientY/window.innerHeight)*2+1,j.setFromCamera(Q,h);const N=B.flatMap(Z=>Z.userData.isActive?Z.children.filter(J=>J instanceof We&&J.userData.isPortalHitbox):[]),T=j.intersectObjects(N);if(T.length===0)return;const R=T[0].object,L=R.userData.portal,p=R.parent,m=B.indexOf(p),l=r[m];if(U&&L===w){L.getWorldPosition(new Ge);let Z=new Ge;const J=e.CUBE_SIZE/2;L.position.x===J?Z.set(-1,0,0):L.position.x===-J?Z.set(1,0,0):L.position.y===J?Z.set(0,-1,0):L.position.y===-J&&Z.set(0,1,0),Z.applyQuaternion(p.getWorldQuaternion(new Qs)).normalize();const Re=h.position.clone().clone().add(Z.clone().multiplyScalar(-675)),Ce=Z.clone().multiplyScalar(-1e3),Pe=Re.clone().add(Ce);qe.to(h.position,{x:Re.x,y:Re.y,z:Re.z,duration:1,ease:"power2.in",onUpdate:()=>h.lookAt(Pe),onComplete:()=>{l!=null&&l.slug&&(ee.setScrollPosition(window.scrollY),Rs.visit(route("project.show",{project:l.slug}),{preserveScroll:!1}))}})}else if(!U){te||(te=h.position.clone(),I=new Ge(0,0,b)),$&&$(!0,te,I);const Z=L.getWorldPosition(new Ge),J={x:I.x,y:I.y,z:I.z};qe.to(J,{x:Z.x,y:Z.y,z:Z.z,duration:2,ease:"power3.out",onStart:()=>{U=!0,document.body.classList.add("no-scrollbar"),w=L,O(L,!0)},onUpdate:()=>h.lookAt(J.x,J.y,J.z)});const ke=p.getWorldPosition(new Ge);qe.to(h.position,{x:0,y:0,z:ke.z,duration:2,ease:"power3.out"})}};return c.addEventListener("mousemove",y),c.addEventListener("click",D),()=>{c.removeEventListener("mousemove",y),c.removeEventListener("click",D)}}}}function Fi(f,e,r){const B=r-1e3,E=Math.abs(-500-B),W=Math.ceil(E/100),Y=()=>{const X=new At;let k;const v=new At,V=[],d=[],re=[],le=[],ve=[],h=new yn(100,100,100),c=new jn(h),i=32*W,s=new $s;s.copy(c),s.instanceCount=i;const w=new St({color:3355443,transparent:!0,fog:!0,vertexColors:!0}),O=new Float32Array(i*3),y=new Float32Array(i*3),D=new Float32Array(i*3),F=32*100,N=-3200/2+100/2,T=-500;for(let ue=0;ue<32;ue++){const Te=z(ue);for(let Ye=0;Ye<W;Ye++){const ce=ue*W+Ye,De=N+ue*100,et=T-Ye*100,Le=at.randFloat(100,300),Qe=Le/100,se=-600+Le/2;O[ce*3]=De,O[ce*3+1]=se,O[ce*3+2]=et,y[ce*3]=1,y[ce*3+1]=Qe,y[ce*3+2]=1,D[ce*3]=Te,D[ce*3+1]=Te,D[ce*3+2]=Te}}s.setAttribute("instancePosition",new Ur(O,3)),s.setAttribute("instanceScale",new Ur(y,3)),s.setAttribute("color",new Ur(D,3)),w.onBeforeCompile=ue=>{ue.vertexShader=`
                attribute vec3 instancePosition;
                attribute vec3 instanceScale;
                ${ue.vertexShader}
            `.replace("#include <begin_vertex>",`#include <begin_vertex>
                transformed *= instanceScale;
                transformed += instancePosition;`)},k=new Kt(s,w);const R=-3200/2,L=F/2,p=-600,m=-300,l=B,Z=-500;s.boundingBox=new Ks(new Ge(R,p,l),new Ge(L,m,Z));const J=(R+L)/2,ke=(p+m)/2,Re=(l+Z)/2,Ce=L-R,Pe=m-p,he=Z-l,ye=Math.sqrt(Ce*Ce+Pe*Pe+he*he)/2;s.boundingSphere=new Js(new Ge(J,ke,Re),ye),X.add(k),e.add(X);const Ee=F/5,oe=-3200/2;for(let ue=0;ue<6;ue++){let Ye=oe+ue*Ee,ce=-500;const De=[new Ge(Ye,-450,ce)];let et=0;for(;ce>B;){const Le=ce===-500?at.randFloat(300,800):Math.min(at.randFloat(300,800),Math.abs(ce-B));if(ce-=Le,De.push(new Ge(Ye,-450,ce)),et+=Le,ce<=B){De[De.length-1].z=B;break}const Qe=Math.random()<.5?-1:1,se=at.randFloat(100,300);Ye+=Qe*se,De.push(new Ge(Ye,-450,ce)),et+=se}d.push({points:De,totalLength:et})}const _e=new yn(4,4,4);for(let ue=0;ue<6;ue++){const Te=d[ue],Ye=Te.totalLength,ce=Ye/60;for(let De=0;De<60;De++){const et=new it({color:16711680,fog:!0}),Le=new We(_e,et),Qe=De*ce;let se=Qe;for(let Ie=0;Ie<Te.points.length-1;Ie++){const Ue=Te.points[Ie],Be=Te.points[Ie+1],Fe=Ue.distanceTo(Be);if(se<=Fe){const gt=se/Fe;Le.position.lerpVectors(Ue,Be,gt);break}se-=Fe}V.push(Le),re.push(Qe),le.push(ue),ve.push(1),v.add(Le)}for(let De=0;De<60;De++){const et=new it({color:16777215,fog:!0}),Le=new We(_e,et),Qe=Ye-(De*ce+ce/2);let se=Ye-Qe;const Ie=[...Te.points].reverse();for(let Ue=0;Ue<Ie.length-1;Ue++){const Be=Ie[Ue],Fe=Ie[Ue+1],gt=Be.distanceTo(Fe);if(se<=gt){const Pt=se/gt;Le.position.lerpVectors(Be,Fe,Pt);break}se-=gt}V.push(Le),re.push(Qe),le.push(ue),ve.push(-1),v.add(Le)}}return e.add(v),{cityGroup:X,instancedLines:k,particles:V,paths:d,particleDistances:re,particlePaths:le,particleDirections:ve}},z=X=>{if(X<10)return .05+X*.10555555555555556;if(X>=22){const k=31-X,v=(1-.05)/9;return .05+k*v}return 1},{cityGroup:j,instancedLines:Q,particles:S,paths:te,particleDistances:I,particlePaths:U,particleDirections:$}=Y();return{cityGroup:j,buildingLines:[Q],updateParticles:X=>{const k=100*X;for(let v=0;v<S.length;v++){const V=$[v],d=U[v],re=te[d],le=re.totalLength;I[v]+=k*V,V===1?(I[v]=I[v]%le,I[v]<0&&(I[v]+=le)):I[v]=(I[v]+le)%le;const ve=I[v],h=V===1?re.points:[...re.points].reverse();let c=V===1?ve:le-ve;for(let i=0;i<h.length-1;i++){const s=h[i],w=h[i+1],O=s.distanceTo(w);if(c<=O){const y=c/O;S[v].position.lerpVectors(s,w,y);break}c-=O}}}}}qe.registerPlugin(me);function zi(f,e,r,t,n,o){const{CUBE_SPACING:a,FIRST_CUBE_Z:u}=o,b=(t==null?void 0:t.length)||0,x=u-(b+1)*a;let A=!1;const P=Math.abs(x)+(b-1)*a,C=qe.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:`+=${P}`,scrub:1,pin:!0,onUpdate:G=>{if(!A){const M=G.progress,g=at.lerp(0,x,M);e.position.set(0,0,g),e.lookAt(0,0,x)}n(e)}}});return C.fromTo(e.position,{z:0},{z:x,duration:1,ease:"none"}),{setReverting:G=>{A=G},timeline:C}}function Gi(f,e,r){const a=r-1e3,u=1e3,b=r,x=150,A=-500,P=r,C=new pn,_=new Float32Array(2e3*3),G=new Float32Array(2e3),M=new Float32Array(2e3);let g=0;for(;g<2e3;){const E=(Math.random()-.5)*4e3,W=(Math.random()-.5)*4e3,Y=-1e3+Math.random()*(a- -1e3),z=Y>b&&Math.abs(E)<u&&Math.abs(W)<u,j=Math.abs(E)<x&&Math.abs(W)<x&&Y>P&&Y<A;if(!z&&!j){const Q=g*3;_[Q]=E,_[Q+1]=W,_[Q+2]=Y;const S=.1+Math.random()*(.7-.1);G[g]=S,M[g]=S,g++}}C.setAttribute("position",new vo(_,3)),C.setAttribute("opacity",new vo(M,1));const H=new fn({}),q=new ei(C,H);f.add(q),C.attributes.opacity;for(let E=0;E<2e3;E++)qe.to({opacity:G[E]},{});return{dispose:()=>{qe.killTweensOf(M),f.remove(q),C.dispose(),H.dispose()}}}function Ui(f,e){const t=e-1500,n=100,o=2,a=64,u=1e3,b=a*3,x=[4,4.5,5],A=6;let P,C,_,G,M,g;const H=[],q=[[],[],[]],B=[[],[],[]],E=[[],[],[]];let W=[0,0,0];const Y=()=>{const S=0-t,te=[];for(let V=0;V<n;V++){const d=V/(n-1),re=0-d*S,le=d*5*2*Math.PI,ve=90*(.8+.2*Math.sin(le*2)),h=new Ge(ve*Math.cos(le),ve*Math.sin(le),re);(isNaN(h.x)||isNaN(h.y)||isNaN(h.z))&&console.error("NaN in chaserPath points",{t:d,z:re,projectMaxZ:e}),te.push(h)}P=new Hr(te);const I=new pn().setFromPoints(P.getPoints(200));G=new Wr(I,new St({color:16711935,linewidth:2,visible:!1})),f.add(G);const U=[];for(let V=0;V<n;V++){const d=V/(n-1),re=0-d*S,le=d*3*2*Math.PI,ve=60*(.8+.2*Math.sin(le*4)),h=new Ge(ve*Math.cos(le),ve*Math.sin(le),re);(isNaN(h.x)||isNaN(h.y)||isNaN(h.z))&&console.error("NaN in chaserPath2 points",{t:d,z:re,projectMaxZ:e}),U.push(h)}C=new Hr(U);const $=new pn().setFromPoints(C.getPoints(200));M=new Wr($,new St({color:65535,linewidth:2,visible:!1})),f.add(M);const ee=[];for(let V=0;V<n;V++){const d=V/(n-1),re=0-d*S,le=d*7*2*Math.PI,ve=100,h=90,c=.1*Math.sin(le),i=new Ge(ve*(1+c)*Math.cos(le),h*(1-c)*Math.sin(le),re);(isNaN(i.x)||isNaN(i.y)||isNaN(i.z))&&console.error("NaN in chaserPath3 points",{t:d,z:re,projectMaxZ:e}),ee.push(i)}_=new Hr(ee);const X=new pn().setFromPoints(_.getPoints(200));g=new Wr(X,new St({color:16776960,linewidth:2,visible:!1})),f.add(g);const k=[16711680,65280,255],v=new yn(o,o,o);v.attributes.color&&delete v.attributes.color;for(let V=0;V<3;V++){const d=new At;d.opacity=1,d.renderOrder=1,H[V]=d,f.add(d);for(let re=0;re<b;re++){const le=new it({color:k[V],transparent:!0,opacity:0,blending:ti,fog:!0,depthWrite:!1}),ve=new We(v,le);ve.renderOrder=1,ve.visible=!1,d.add(ve),q[V][re]=ve,B[V][re]=0,E[V][re]=!1}}},z=S=>{const te=[P,C,_][S],I=te.getLength(),U=E[S].filter(ee=>ee).length;if(b-U>=a){let ee=0;for(let X=0;X<a;X++){const k=E[S].findIndex(h=>!h);if(k===-1){console.warn(`No available chasers for path ${S}, emitted ${ee}/${a}`);break}const v=ee/(a-1),V=.05+(1-.05)*Math.pow(v,3),d=new it({color:[16711680,65280,255][S],transparent:!0,opacity:V,blending:It,fog:!0,depthWrite:!1});q[S][k].material=d,q[S][k].visible=!0;const re=ee*A;B[S][k]=re,E[S][k]=!0;const le=re/I,ve=te.getPointAt(le);q[S][k].position.copy(ve),ee++}}},j=S=>{const te=performance.now()/1e3,I=[P,C,_];for(let U=0;U<3;U++){te-W[U]>=x[U]&&(z(U),W[U]=te);const $=I[U],ee=$.getLength(),X=u*S;for(let k=0;k<b;k++)if(E[U][k]){B[U][k]+=X;const v=B[U][k]/ee;if(v>=1)q[U][k].visible=!1,E[U][k]=!1,B[U][k]=0;else{const V=$.getPointAt(v);q[U][k].position.copy(V)}}}};return Y(),{chaserPath:P,chaserPath2:C,chaserPath3:_,updateChasers:j,dispose:()=>{f.remove(G),f.remove(M),f.remove(g),G.geometry.dispose(),G.material.dispose(),M.geometry.dispose(),M.material.dispose(),g.geometry.dispose(),g.material.dispose(),H.forEach(S=>{S.children.forEach(te=>{te.geometry.dispose(),te.material.dispose()}),f.remove(S)})}}}const Hi={class:"preloader"},Wi={class:"progress-label"},Yi=Lr({__name:"Preloader",props:{progress:{}},setup(f){return(e,r)=>(rr(),Br("div",Hi,[un("div",Wi,Ds(Math.round(e.progress))+"%",1)]))}}),Xi=Jo(Yi,[["__scopeId","data-v-e5eadefa"]]),Kr=250,wr=500,zn=-500,Jr=-520,Xo=-720,ji=Lr({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(f){qe.registerPlugin(me),os();const e=f,r=sn(null),t=sn(null),n=sn(!1),o=sn(0),a=sn(!1),u=sn(!0),b=new Map;let x,A,P,C,_,G,M,g,H=0,q=null,B=null,E=null,W=null,Y=[],z=null;const j=()=>{const U=r.value?r.value.getBoundingClientRect().width:window.innerWidth,$=window.innerHeight;P.setSize(U,$),C.setSize(U,$),A.aspect=U/$,A.far=6e4,A.updateProjectionMatrix()},Q=U=>b.has(U)?Promise.resolve(b.get(U)):new Promise(($,ee)=>{new Pn().load(U,k=>{k.encoding=void 0,b.set(U,k),$(k)},void 0,k=>ee(k))}),S=async()=>{x=new qo,x.background=new wt(0),x.fog=new ni(0,700,4e3),A=new ri(75,window.innerWidth/window.innerHeight,1,6e4),A.position.set(0,0,0),A.lookAt(0,0,1e3),P=new Qo({antialias:!0}),P.setPixelRatio(window.devicePixelRatio),P.toneMapping=oi,P.toneMappingExposure=1,P.outputEncoding=void 0,C=new ns(P);const U=new rs(x,A);if(C.addPass(U),_=new _n(new ge(window.innerWidth,window.innerHeight),6,.4,0),_.renderToScreen=!0,C.addPass(_),r.value)r.value.appendChild(P.domElement),P.domElement.style.opacity="0";else return;M=new nr,M.dom.style.position="fixed",M.dom.style.top="0px",M.dom.style.left="0px",M.dom.style.zIndex="1000",document.body.appendChild(M.dom);const $=e.projects.length+2+1;let ee=0;const X=()=>{ee++,o.value=ee/$*100,ee===$&&(n.value=!0)};await Q(e.projectGridFile).then(()=>X()).catch(()=>X()),await Q(e.projectGridFile2).then(()=>X()).catch(()=>X());for(const V of e.projects)V.keyart?await Q(V.keyart).then(()=>X()).catch(()=>X()):X();const k=Yo(x,{CUBE_SIZE:Kr,CUBE_SPACING:wr,FIRST_CUBE_Z:zn},e.projects,e.projectGridFile,e.projectGridFile2);let v=-8500;try{const V=await k.getInitializedData();v=V.maxZ!==void 0&&!isNaN(V.maxZ)?V.maxZ:-8500,X();const{introCubes:d}=Di(x,x,Promise.resolve(V.loadedFont),{CUBE_SIZE:Kr,FIRST_CUBE_Z:zn});Y=[...d,...V.projectCubes],z=V.updateCubeColors;const{cityGroup:re,updateParticles:le}=Fi(x,x,v);g=le;const{dispose:ve}=Gi(x,A,v);q=ve;const{dispose:h,updateChasers:c}=Ui(x,v);E=h,W=c,j()}catch(V){console.error("Error initializing project cubes:",V)}},te=(U=0)=>{if(G=requestAnimationFrame(te),P&&C){const $=(U-H)/1e3;H=U,g($),W==null||W($);const ee=Xo-Jr;let X=0;A.position.z>=Jr?X=0:A.position.z<=Xo?X=1:X=(A.position.z-Jr)/ee,_.strength=at.lerp(1,.125,X),a.value&&(z(A),me.update()),C.render()}M.update()};jo(()=>{S().then(()=>{if(n.value){G=requestAnimationFrame(te);const U=Yo(x,{CUBE_SIZE:Kr,CUBE_SPACING:wr,FIRST_CUBE_Z:zn},e.projects,e.projectGridFile,e.projectGridFile2);let $=null;const ee=U.getInitializedData().then(({projectCubes:k})=>{k.forEach(V=>{V.userData.isActive=!0});const v=zn-(e.projects.length-1)*wr;if(A.position.set(0,0,5e3),A.lookAt(0,0,v),A.updateProjectionMatrix(),z(A),C.render(),Y.length&&z){const{setReverting:V}=zi(x,A,t,Y,z,{CUBE_SPACING:wr,FIRST_CUBE_Z:zn});$=V}P&&B===null&&(B=U.setupInteractivity(A,P.domElement,(V,d,re)=>{$&&$(V)})),window.scrollTo({top:0,behavior:"auto"})}),X=()=>{ee.then(()=>{u.value=!1,A.position.set(0,0,5e3),A.updateProjectionMatrix(),qe.to(P.domElement,{opacity:1,duration:.5,ease:"power4.out"});const k={z:5e3};qe.to(k,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{A.position.z=k.z,A.updateProjectionMatrix()},onComplete:()=>{A.position.z=0,a.value=!0}})})};qe.delayedCall(.1,X)}}).catch(U=>{console.error("Initialization failed:",U)}),window.addEventListener("resize",I)}),Vo(()=>{B&&B(),window.removeEventListener("resize",I),cancelAnimationFrame(G),me.getAll().forEach(U=>U.kill()),P.dispose(),C.dispose(),x.clear(),document.body.removeChild(M.dom),q&&q(),E&&E()});const I=()=>{j(),me.refresh()};return(U,$)=>(rr(),Br("section",{ref_key:"wrapper",ref:t,class:"wrapper"},[an(Ns,{name:"fade"},{default:Os(()=>[u.value?(rr(),Ls(Xi,{key:0,progress:o.value},null,8,["progress"])):Bs("",!0)]),_:1}),un("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),Vi=Jo(ji,[["__scopeId","data-v-a04a02ab"]]),Zi={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},qi={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Qi={class:"overflow-hidden"},$i={class:"flex justify-center items-center"},Ki={class:"flex justify-center items-center -mt-24 mix-blend-screen"},na=Lr({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(f){return(e,r)=>(rr(),Br(Gs,null,[an(Fs(zs),{title:"Welcome"}),un("div",Zi,[un("nav",qi,[an(si)]),un("div",Qi,[an(Vi,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),un("div",$i,[an(Po,{"particle-width":20,"particle-height":20})]),un("div",Ki,[an(Po,{"particle-width":15,"particle-height":160})]),an(ii)])],64))}});export{na as default};
