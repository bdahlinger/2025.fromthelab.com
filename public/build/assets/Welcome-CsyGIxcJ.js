import{I as ro,d as Xr,D as Cs,x as Yo,y as Wo,e as oo,o as so,a as xn,b as gn,u as Ms,m as Es,F as Ps}from"./app-D14CbMww.js";import{M as je,O as Xo,B as Ar,F as Hn,C as ht,V as ge,W as mr,H as yr,U as Vr,S as on,a as Ue,A as Ut,b as At,N as Is,c as As,d as Vo,e as Zo,f as En,P as Ln,E as ks,g as jo,h as qo,i as mn,j as Rs,k as Ds,l as Os,m as Dr,n as Ls,o as Wt,p as yt,q as Ns,D as bn,r as It,s as $e,t as pt,u as Gn,v as Vt,R as Bs,T as mo,w as yo,I as zs,x as Or,y as Us,z as Fs,J as _o,K as Hs,Q as Gs,X as Ys,Y as Ws,L as Xs,G as Vs}from"./GlobalFooter-DGfdebot.js";import{_ as Zs}from"./_plugin-vue_export-helper-DlAUqK2U.js";class tr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const js=new Xo(-1,1,1,-1,0,1);class qs extends Ar{constructor(){super(),this.setAttribute("position",new Hn([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Hn([0,2,0,0,2,0],2))}}const Qs=new qs;class Qo{constructor(e){this._mesh=new je(Qs,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,js)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const $o={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},$s={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new ht(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class un extends tr{constructor(e,r,t,n){super(),this.strength=r!==void 0?r:1,this.radius=t,this.threshold=n,this.resolution=e!==void 0?new ge(e.x,e.y):new ge(256,256),this.clearColor=new ht(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new mr(o,l,{type:yr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let A=0;A<this.nMips;A++){const S=new mr(o,l,{type:yr});S.texture.name="UnrealBloomPass.h"+A,S.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(S);const b=new mr(o,l,{type:yr});b.texture.name="UnrealBloomPass.v"+A,b.texture.generateMipmaps=!1,this.renderTargetsVertical.push(b),o=Math.round(o/2),l=Math.round(l/2)}const c=$s;this.highPassUniforms=Vr.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new on({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}),this.separableBlurMaterials=[];const x=[3,5,7,9,11];o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);for(let A=0;A<this.nMips;A++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(x[A])),this.separableBlurMaterials[A].uniforms.invSize.value=new ge(1/o,1/l),o=Math.round(o/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const C=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=C,this.bloomTintColors=[new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const D=$o;this.copyUniforms=Vr.clone(D.uniforms),this.blendMaterial=new on({uniforms:this.copyUniforms,vertexShader:D.vertexShader,fragmentShader:D.fragmentShader,blending:Ut,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new ht,this.oldClearAlpha=1,this.basic=new At,this.fsQuad=new Qo(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let t=Math.round(e/2),n=Math.round(r/2);this.renderTargetBright.setSize(t,n);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(t,n),this.renderTargetsVertical[o].setSize(t,n),this.separableBlurMaterials[o].uniforms.invSize.value=new ge(1/t,1/n),t=Math.round(t/2),n=Math.round(n/2)}render(e,r,t,n,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const l=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let c=this.renderTargetBright;for(let x=0;x<this.nMips;x++)this.fsQuad.material=this.separableBlurMaterials[x],this.separableBlurMaterials[x].uniforms.colorTexture.value=c.texture,this.separableBlurMaterials[x].uniforms.direction.value=un.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[x]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[x].uniforms.colorTexture.value=this.renderTargetsHorizontal[x].texture,this.separableBlurMaterials[x].uniforms.direction.value=un.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[x]),e.clear(),this.fsQuad.render(e),c=this.renderTargetsVertical[x];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=l}getSeparableBlurMaterial(e){const r=[];for(let t=0;t<e;t++)r.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new on({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new ge(.5,.5)},direction:{value:new ge(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new on({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}un.BlurDirectionX=new ge(1,0);un.BlurDirectionY=new ge(0,1);class Ks extends tr{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof on?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Vr.clone(e.uniforms),this.material=new on({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Qo(this.material)}render(e,r,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class xo extends tr{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,t){const n=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let l,c;this.inverse?(l=0,c=1):(l=1,c=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),o.buffers.stencil.setFunc(n.ALWAYS,l,4294967295),o.buffers.stencil.setClear(c),o.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(n.EQUAL,1,4294967295),o.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),o.buffers.stencil.setLocked(!0)}}class Js extends tr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Ko{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const t=e.getSize(new ge);this._width=t.width,this._height=t.height,r=new mr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:yr}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ks($o),this.copyPass.material.blending=Is,this.clock=new As}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let t=!1;for(let n=0,o=this.passes.length;n<o;n++){const l=this.passes[n];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),l.needsSwap){if(t){const c=this.renderer.getContext(),x=this.renderer.state.buffers.stencil;x.setFunc(c.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),x.setFunc(c.EQUAL,1,4294967295)}this.swapBuffers()}xo!==void 0&&(l instanceof xo?t=!0:l instanceof Js&&(t=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new ge);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const t=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(t,n),this.renderTarget2.setSize(t,n);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(t,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Jo extends tr{constructor(e,r,t=null,n=null,o=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=t,this.clearColor=n,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new ht}render(e,r,t){const n=e.autoClear;e.autoClear=!1;let o,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=n}}const tn=.01,bo=45/3,ei=3,Lr=45,wo=ro({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(f){const e=f,r=Xr(null);let t,n,o=null,l=null,c=null,x=[];const C=Cs({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),D=Lr/2+10;function A(g){const G=tn*C.particleWidth,q=tn*C.particleHeight,B=C.useSquares?new Ln(G,q):new En(G,q,G),v=Math.floor(Math.random()*3);let z;switch(v){case 0:z=new ht(1,0,0);break;case 1:z=new ht(0,1,0);break;case 2:z=new ht(0,0,1);break;default:z=new ht(1,0,0)}const Y=new At({color:z,transparent:!0,opacity:.7}),M=new je(B,Y),W=Lr+D*2;M.position.set(-45-D+g/(C.particleCount-1)*W,0,tn*(Math.random()-.5)*C.positionZRandomness*C.emitterDepth);const Z=tn*(Math.random()*(C.maxSpeed-C.minSpeed)+C.minSpeed);return M.speed=Z+tn*(Math.random()-.5)*C.speedRandomness,M.rotationSpeed=new Ue(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*C.rotationRandomness+.5),M}function S(){t=new Vo;const g=ei*1.5,G=g*bo;n=new Xo(-67.5/2,G/2,g/2,-4.5/2,.1,1e3),n.position.z=150,o=new Zo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const q=new Jo(t,n);c=new un(new ge(window.innerWidth,window.innerHeight),C.bloomStrength,C.bloomRadius,.1),l=new Ko(o),l.addPass(q),l.addPass(c),k(),r.value&&r.value.appendChild(o.domElement),b(),T()}function b(){x.forEach(g=>t.remove(g)),x=[];for(let g=0;g<C.particleCount;g++){const G=A(g);x.push(G),t.add(G)}}function k(){if(!o||!l||!c)return;const g=window.innerWidth,G=g/bo;o.setSize(g,G),l.setSize(g,G),c.setSize(g,G),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function T(){requestAnimationFrame(T),x.forEach(g=>{g.position.x+=g.speed,!C.useSquares&&C.rotateParticles&&(g.rotation.x+=g.rotationSpeed.x*.016,g.rotation.y+=g.rotationSpeed.y*.016,g.rotation.z+=g.rotationSpeed.z*.016),g.position.x>Lr/2+D&&(x.indexOf(g),g.position.x=-45-D-tn*(g.geometry instanceof En,g.geometry.parameters.width),g.position.y=0,g.position.z=tn*(Math.random()-.5)*C.positionZRandomness*C.emitterDepth)}),l&&l.render()}return Yo(()=>{S(),window.addEventListener("resize",k)}),Wo(()=>{window.removeEventListener("resize",k),o==null||o.dispose()}),(g,G)=>(so(),oo("div",{ref_key:"container",ref:r,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}});function ti(f,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,t.key,t)}}function ni(f,e,r){return e&&ti(f.prototype,e),f}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ke,_r,xt,Zt,jt,Sn,es,nn,Yn,ts,Ht,Pt,ns,rs=function(){return Ke||typeof window<"u"&&(Ke=window.gsap)&&Ke.registerPlugin&&Ke},os=1,Tn=[],xe=[],Bt=[],Wn=Date.now,Zr=function(e,r){return r},ri=function(){var e=Yn.core,r=e.bridge||{},t=e._scrollers,n=e._proxies;t.push.apply(t,xe),n.push.apply(n,Bt),xe=t,Bt=n,Zr=function(l,c){return r[l](c)}},qt=function(e,r){return~Bt.indexOf(e)&&Bt[Bt.indexOf(e)+1][r]},Xn=function(e){return!!~ts.indexOf(e)},it=function(e,r,t,n,o){return e.addEventListener(r,t,{passive:n!==!1,capture:!!o})},st=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},or="scrollLeft",sr="scrollTop",jr=function(){return Ht&&Ht.isPressed||xe.cache++},Sr=function(e,r){var t=function n(o){if(o||o===0){os&&(xt.history.scrollRestoration="manual");var l=Ht&&Ht.isPressed;o=n.v=Math.round(o)||(Ht&&Ht.iOS?1:0),e(o),n.cacheID=xe.cache,l&&Zr("ss",o)}else(r||xe.cache!==n.cacheID||Zr("ref"))&&(n.cacheID=xe.cache,n.v=e());return n.v+n.offset};return t.offset=0,e&&t},ut={s:or,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Sr(function(f){return arguments.length?xt.scrollTo(f,We.sc()):xt.pageXOffset||Zt[or]||jt[or]||Sn[or]||0})},We={s:sr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ut,sc:Sr(function(f){return arguments.length?xt.scrollTo(ut.sc(),f):xt.pageYOffset||Zt[sr]||jt[sr]||Sn[sr]||0})},ft=function(e,r){return(r&&r._ctx&&r._ctx.selector||Ke.utils.toArray)(e)[0]||(typeof e=="string"&&Ke.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Qt=function(e,r){var t=r.s,n=r.sc;Xn(e)&&(e=Zt.scrollingElement||jt);var o=xe.indexOf(e),l=n===We.sc?1:2;!~o&&(o=xe.push(e)-1),xe[o+l]||it(e,"scroll",jr);var c=xe[o+l],x=c||(xe[o+l]=Sr(qt(e,t),!0)||(Xn(e)?n:Sr(function(C){return arguments.length?e[t]=C:e[t]})));return x.target=e,c||(x.smooth=Ke.getProperty(e,"scrollBehavior")==="smooth"),x},qr=function(e,r,t){var n=e,o=e,l=Wn(),c=l,x=r||50,C=Math.max(500,x*3),D=function(k,T){var g=Wn();T||g-l>x?(o=n,n=k,c=l,l=g):t?n+=k:n=o+(k-o)/(g-c)*(l-c)},A=function(){o=n=t?0:n,c=l=0},S=function(k){var T=c,g=o,G=Wn();return(k||k===0)&&k!==n&&D(k),l===c||G-c>C?0:(n+(t?g:-g))/((t?G:l)-T)*1e3};return{update:D,reset:A,getVelocity:S}},Dn=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},vo=function(e){var r=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(t)?r:t},ss=function(){Yn=Ke.core.globals().ScrollTrigger,Yn&&Yn.core&&ri()},is=function(e){return Ke=e||rs(),!_r&&Ke&&typeof document<"u"&&document.body&&(xt=window,Zt=document,jt=Zt.documentElement,Sn=Zt.body,ts=[xt,Zt,jt,Sn],Ke.utils.clamp,ns=Ke.core.context||function(){},nn="onpointerenter"in Sn?"pointer":"mouse",es=Fe.isTouch=xt.matchMedia&&xt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in xt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Pt=Fe.eventTypes=("ontouchstart"in jt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in jt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return os=0},500),ss(),_r=1),_r};ut.op=We;xe.cache=0;var Fe=function(){function f(r){this.init(r)}var e=f.prototype;return e.init=function(t){_r||is(Ke)||console.warn("Please gsap.registerPlugin(Observer)"),Yn||ss();var n=t.tolerance,o=t.dragMinimum,l=t.type,c=t.target,x=t.lineHeight,C=t.debounce,D=t.preventDefault,A=t.onStop,S=t.onStopDelay,b=t.ignore,k=t.wheelSpeed,T=t.event,g=t.onDragStart,G=t.onDragEnd,q=t.onDrag,B=t.onPress,v=t.onRelease,z=t.onRight,Y=t.onLeft,M=t.onUp,W=t.onDown,Z=t.onChangeX,E=t.onChangeY,te=t.onChange,I=t.onToggleX,ee=t.onToggleY,Q=t.onHover,ie=t.onHoverEnd,j=t.onMove,F=t.ignoreCheck,O=t.isNormalizer,ae=t.onGestureStart,h=t.onGestureEnd,ue=t.onWheel,De=t.onEnable,re=t.onDisable,d=t.onClick,u=t.scrollSpeed,i=t.capture,s=t.allowClicks,_=t.lockAxis,P=t.onLockAxis;this.target=c=ft(c)||jt,this.vars=t,b&&(b=Ke.utils.toArray(b)),n=n||1e-9,o=o||0,k=k||1,u=u||1,l=l||"wheel,touch,pointer",C=C!==!1,x||(x=parseFloat(xt.getComputedStyle(Sn).lineHeight)||22);var y,R,X,L,w,U,V,p=this,m=0,a=0,H=t.passive||!D&&t.passive!==!1,N=Qt(c,ut),se=Qt(c,We),ne=N(),K=se(),oe=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Pt[0]==="pointerdown",Te=Xn(c),fe=c.ownerDocument||Zt,Se=[0,0,0],Ce=[0,0,0],Me=0,Pe=function(){return Me=Wn()},ve=function(ce,Ee){return(p.event=ce)&&b&&~b.indexOf(ce.target)||Ee&&oe&&ce.pointerType!=="touch"||F&&F(ce,Ee)},Be=function(){p._vx.reset(),p._vy.reset(),R.pause(),A&&A(p)},Oe=function(){var ce=p.deltaX=vo(Se),Ee=p.deltaY=vo(Ce),$=Math.abs(ce)>=n,pe=Math.abs(Ee)>=n;te&&($||pe)&&te(p,ce,Ee,Se,Ce),$&&(z&&p.deltaX>0&&z(p),Y&&p.deltaX<0&&Y(p),Z&&Z(p),I&&p.deltaX<0!=m<0&&I(p),m=p.deltaX,Se[0]=Se[1]=Se[2]=0),pe&&(W&&p.deltaY>0&&W(p),M&&p.deltaY<0&&M(p),E&&E(p),ee&&p.deltaY<0!=a<0&&ee(p),a=p.deltaY,Ce[0]=Ce[1]=Ce[2]=0),(L||X)&&(j&&j(p),X&&(g&&X===1&&g(p),q&&q(p),X=0),L=!1),U&&!(U=!1)&&P&&P(p),w&&(ue(p),w=!1),y=0},kt=function(ce,Ee,$){Se[$]+=ce,Ce[$]+=Ee,p._vx.update(ce),p._vy.update(Ee),C?y||(y=requestAnimationFrame(Oe)):Oe()},Tt=function(ce,Ee){_&&!V&&(p.axis=V=Math.abs(ce)>Math.abs(Ee)?"x":"y",U=!0),V!=="y"&&(Se[2]+=ce,p._vx.update(ce,!0)),V!=="x"&&(Ce[2]+=Ee,p._vy.update(Ee,!0)),C?y||(y=requestAnimationFrame(Oe)):Oe()},Yt=function(ce){if(!ve(ce,1)){ce=Dn(ce,D);var Ee=ce.clientX,$=ce.clientY,pe=Ee-p.x,le=$-p.y,he=p.isDragging;p.x=Ee,p.y=$,(he||(pe||le)&&(Math.abs(p.startX-Ee)>=o||Math.abs(p.startY-$)>=o))&&(X=he?2:1,he||(p.isDragging=!0),Tt(pe,le))}},$t=p.onPress=function(de){ve(de,1)||de&&de.button||(p.axis=V=null,R.pause(),p.isPressed=!0,de=Dn(de),m=a=0,p.startX=p.x=de.clientX,p.startY=p.y=de.clientY,p._vx.reset(),p._vy.reset(),it(O?c:fe,Pt[1],Yt,H,!0),p.deltaX=p.deltaY=0,B&&B(p))},be=p.onRelease=function(de){if(!ve(de,1)){st(O?c:fe,Pt[1],Yt,!0);var ce=!isNaN(p.y-p.startY),Ee=p.isDragging,$=Ee&&(Math.abs(p.x-p.startX)>3||Math.abs(p.y-p.startY)>3),pe=Dn(de);!$&&ce&&(p._vx.reset(),p._vy.reset(),D&&s&&Ke.delayedCall(.08,function(){if(Wn()-Me>300&&!de.defaultPrevented){if(de.target.click)de.target.click();else if(fe.createEvent){var le=fe.createEvent("MouseEvents");le.initMouseEvent("click",!0,!0,xt,1,pe.screenX,pe.screenY,pe.clientX,pe.clientY,!1,!1,!1,!1,0,null),de.target.dispatchEvent(le)}}})),p.isDragging=p.isGesturing=p.isPressed=!1,A&&Ee&&!O&&R.restart(!0),X&&Oe(),G&&Ee&&G(p),v&&v(p,$)}},Kt=function(ce){return ce.touches&&ce.touches.length>1&&(p.isGesturing=!0)&&ae(ce,p.isDragging)},St=function(){return(p.isGesturing=!1)||h(p)},Ct=function(ce){if(!ve(ce)){var Ee=N(),$=se();kt((Ee-ne)*u,($-K)*u,1),ne=Ee,K=$,A&&R.restart(!0)}},Mt=function(ce){if(!ve(ce)){ce=Dn(ce,D),ue&&(w=!0);var Ee=(ce.deltaMode===1?x:ce.deltaMode===2?xt.innerHeight:1)*k;kt(ce.deltaX*Ee,ce.deltaY*Ee,0),A&&!O&&R.restart(!0)}},Jt=function(ce){if(!ve(ce)){var Ee=ce.clientX,$=ce.clientY,pe=Ee-p.x,le=$-p.y;p.x=Ee,p.y=$,L=!0,A&&R.restart(!0),(pe||le)&&Tt(pe,le)}},dn=function(ce){p.event=ce,Q(p)},zt=function(ce){p.event=ce,ie(p)},In=function(ce){return ve(ce)||Dn(ce,D)&&d(p)};R=p._dc=Ke.delayedCall(S||.25,Be).pause(),p.deltaX=p.deltaY=0,p._vx=qr(0,50,!0),p._vy=qr(0,50,!0),p.scrollX=N,p.scrollY=se,p.isDragging=p.isGesturing=p.isPressed=!1,ns(this),p.enable=function(de){return p.isEnabled||(it(Te?fe:c,"scroll",jr),l.indexOf("scroll")>=0&&it(Te?fe:c,"scroll",Ct,H,i),l.indexOf("wheel")>=0&&it(c,"wheel",Mt,H,i),(l.indexOf("touch")>=0&&es||l.indexOf("pointer")>=0)&&(it(c,Pt[0],$t,H,i),it(fe,Pt[2],be),it(fe,Pt[3],be),s&&it(c,"click",Pe,!0,!0),d&&it(c,"click",In),ae&&it(fe,"gesturestart",Kt),h&&it(fe,"gestureend",St),Q&&it(c,nn+"enter",dn),ie&&it(c,nn+"leave",zt),j&&it(c,nn+"move",Jt)),p.isEnabled=!0,p.isDragging=p.isGesturing=p.isPressed=L=X=!1,p._vx.reset(),p._vy.reset(),ne=N(),K=se(),de&&de.type&&$t(de),De&&De(p)),p},p.disable=function(){p.isEnabled&&(Tn.filter(function(de){return de!==p&&Xn(de.target)}).length||st(Te?fe:c,"scroll",jr),p.isPressed&&(p._vx.reset(),p._vy.reset(),st(O?c:fe,Pt[1],Yt,!0)),st(Te?fe:c,"scroll",Ct,i),st(c,"wheel",Mt,i),st(c,Pt[0],$t,i),st(fe,Pt[2],be),st(fe,Pt[3],be),st(c,"click",Pe,!0),st(c,"click",In),st(fe,"gesturestart",Kt),st(fe,"gestureend",St),st(c,nn+"enter",dn),st(c,nn+"leave",zt),st(c,nn+"move",Jt),p.isEnabled=p.isPressed=p.isDragging=!1,re&&re(p))},p.kill=p.revert=function(){p.disable();var de=Tn.indexOf(p);de>=0&&Tn.splice(de,1),Ht===p&&(Ht=0)},Tn.push(p),O&&Xn(c)&&(Ht=p),p.enable(T)},ni(f,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),f}();Fe.version="3.12.7";Fe.create=function(f){return new Fe(f)};Fe.register=is;Fe.getAll=function(){return Tn.slice()};Fe.getById=function(f){return Tn.filter(function(e){return e.vars.id===f})[0]};rs()&&Ke.registerPlugin(Fe);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var J,wn,_e,ke,_t,Ie,io,Cr,Jn,Vn,Nn,ir,nt,kr,Qr,lt,To,So,vn,as,Nr,ls,at,$r,cs,us,Xt,Kr,ao,Cn,lo,Mr,Jr,Br,ar=1,rt=Date.now,zr=rt(),vt=0,Bn=0,Co=function(e,r,t){var n=mt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=n,n?e.substr(6,e.length-7):e},Mo=function(e,r){return r&&(!mt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},oi=function f(){return Bn&&requestAnimationFrame(f)},Eo=function(){return kr=1},Po=function(){return kr=0},Lt=function(e){return e},zn=function(e){return Math.round(e*1e5)/1e5||0},fs=function(){return typeof window<"u"},ps=function(){return J||fs()&&(J=window.gsap)&&J.registerPlugin&&J},fn=function(e){return!!~io.indexOf(e)},hs=function(e){return(e==="Height"?lo:_e["inner"+e])||_t["client"+e]||Ie["client"+e]},ds=function(e){return qt(e,"getBoundingClientRect")||(fn(e)?function(){return Tr.width=_e.innerWidth,Tr.height=lo,Tr}:function(){return Ft(e)})},si=function(e,r,t){var n=t.d,o=t.d2,l=t.a;return(l=qt(e,"getBoundingClientRect"))?function(){return l()[n]}:function(){return(r?hs(o):e["client"+o])||0}},ii=function(e,r){return!r||~Bt.indexOf(e)?ds(e):function(){return Tr}},Nt=function(e,r){var t=r.s,n=r.d2,o=r.d,l=r.a;return Math.max(0,(t="scroll"+n)&&(l=qt(e,t))?l()-ds(e)()[o]:fn(e)?(_t[t]||Ie[t])-hs(n):e[t]-e["offset"+n])},lr=function(e,r){for(var t=0;t<vn.length;t+=3)(!r||~r.indexOf(vn[t+1]))&&e(vn[t],vn[t+1],vn[t+2])},mt=function(e){return typeof e=="string"},ot=function(e){return typeof e=="function"},Un=function(e){return typeof e=="number"},rn=function(e){return typeof e=="object"},On=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},Ur=function(e,r){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return r(e)}):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},yn=Math.abs,gs="left",ms="top",co="right",uo="bottom",an="width",ln="height",Zn="Right",jn="Left",qn="Top",Qn="Bottom",He="padding",bt="margin",Pn="Width",fo="Height",Ye="px",wt=function(e){return _e.getComputedStyle(e)},ai=function(e){var r=wt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Io=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},Ft=function(e,r){var t=r&&wt(e)[Qr]!=="matrix(1, 0, 0, 1, 0, 0)"&&J.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return t&&t.progress(0).kill(),n},Er=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},ys=function(e){var r=[],t=e.labels,n=e.duration(),o;for(o in t)r.push(t[o]/n);return r},li=function(e){return function(r){return J.utils.snap(ys(e),r)}},po=function(e){var r=J.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(n,o){return n-o});return t?function(n,o,l){l===void 0&&(l=.001);var c;if(!o)return r(n);if(o>0){for(n-=l,c=0;c<t.length;c++)if(t[c]>=n)return t[c];return t[c-1]}else for(c=t.length,n+=l;c--;)if(t[c]<=n)return t[c];return t[0]}:function(n,o,l){l===void 0&&(l=.001);var c=r(n);return!o||Math.abs(c-n)<l||c-n<0==o<0?c:r(o<0?n-e:n+e)}},ci=function(e){return function(r,t){return po(ys(e))(r,t.direction)}},cr=function(e,r,t,n){return t.split(",").forEach(function(o){return e(r,o,n)})},Ze=function(e,r,t,n,o){return e.addEventListener(r,t,{passive:!n,capture:!!o})},Ve=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},ur=function(e,r,t){t=t&&t.wheelHandler,t&&(e(r,"wheel",t),e(r,"touchmove",t))},Ao={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},fr={toggleActions:"play",anticipatePin:0},Pr={top:0,left:0,center:.5,bottom:1,right:1},xr=function(e,r){if(mt(e)){var t=e.indexOf("="),n=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(n*=r/100),e=e.substr(0,t-1)),e=n+(e in Pr?Pr[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},pr=function(e,r,t,n,o,l,c,x){var C=o.startColor,D=o.endColor,A=o.fontSize,S=o.indent,b=o.fontWeight,k=ke.createElement("div"),T=fn(t)||qt(t,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,G=T?Ie:t,q=e.indexOf("start")!==-1,B=q?C:D,v="border-color:"+B+";font-size:"+A+";color:"+B+";font-weight:"+b+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((g||x)&&T?"fixed;":"absolute;"),(g||x||!T)&&(v+=(n===We?co:uo)+":"+(l+parseFloat(S))+"px;"),c&&(v+="box-sizing:border-box;text-align:left;width:"+c.offsetWidth+"px;"),k._isStart=q,k.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),k.style.cssText=v,k.innerText=r||r===0?e+"-"+r:e,G.children[0]?G.insertBefore(k,G.children[0]):G.appendChild(k),k._offset=k["offset"+n.op.d2],br(k,0,n,q),k},br=function(e,r,t,n){var o={display:"block"},l=t[n?"os2":"p2"],c=t[n?"p2":"os2"];e._isFlipped=n,o[t.a+"Percent"]=n?-100:0,o[t.a]=n?"1px":0,o["border"+l+Pn]=1,o["border"+c+Pn]=0,o[t.p]=r+"px",J.set(e,o)},ye=[],eo={},er,ko=function(){return rt()-vt>34&&(er||(er=requestAnimationFrame(Gt)))},_n=function(){(!at||!at.isPressed||at.startX>Ie.clientWidth)&&(xe.cache++,at?er||(er=requestAnimationFrame(Gt)):Gt(),vt||hn("scrollStart"),vt=rt())},Fr=function(){us=_e.innerWidth,cs=_e.innerHeight},Fn=function(e){xe.cache++,(e===!0||!nt&&!ls&&!ke.fullscreenElement&&!ke.webkitFullscreenElement&&(!$r||us!==_e.innerWidth||Math.abs(_e.innerHeight-cs)>_e.innerHeight*.25))&&Cr.restart(!0)},pn={},ui=[],_s=function f(){return Ve(me,"scrollEnd",f)||sn(!0)},hn=function(e){return pn[e]&&pn[e].map(function(r){return r()})||ui},gt=[],xs=function(e){for(var r=0;r<gt.length;r+=5)(!e||gt[r+4]&&gt[r+4].query===e)&&(gt[r].style.cssText=gt[r+1],gt[r].getBBox&&gt[r].setAttribute("transform",gt[r+2]||""),gt[r+3].uncache=1)},ho=function(e,r){var t;for(lt=0;lt<ye.length;lt++)t=ye[lt],t&&(!r||t._ctx===r)&&(e?t.kill(1):t.revert(!0,!0));Mr=!0,r&&xs(r),r||hn("revert")},bs=function(e,r){xe.cache++,(r||!ct)&&xe.forEach(function(t){return ot(t)&&t.cacheID++&&(t.rec=0)}),mt(e)&&(_e.history.scrollRestoration=ao=e)},ct,cn=0,Ro,fi=function(){if(Ro!==cn){var e=Ro=cn;requestAnimationFrame(function(){return e===cn&&sn(!0)})}},ws=function(){Ie.appendChild(Cn),lo=!at&&Cn.offsetHeight||_e.innerHeight,Ie.removeChild(Cn)},Do=function(e){return Jn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},sn=function(e,r){if(_t=ke.documentElement,Ie=ke.body,io=[_e,ke,_t,Ie],vt&&!e&&!Mr){Ze(me,"scrollEnd",_s);return}ws(),ct=me.isRefreshing=!0,xe.forEach(function(n){return ot(n)&&++n.cacheID&&(n.rec=n())});var t=hn("refreshInit");as&&me.sort(),r||ho(),xe.forEach(function(n){ot(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),ye.slice(0).forEach(function(n){return n.refresh()}),Mr=!1,ye.forEach(function(n){if(n._subPinOffset&&n.pin){var o=n.vars.horizontal?"offsetWidth":"offsetHeight",l=n.pin[o];n.revert(!0,1),n.adjustPinSpacing(n.pin[o]-l),n.refresh()}}),Jr=1,Do(!0),ye.forEach(function(n){var o=Nt(n.scroller,n._dir),l=n.vars.end==="max"||n._endClamp&&n.end>o,c=n._startClamp&&n.start>=o;(l||c)&&n.setPositions(c?o-1:n.start,l?Math.max(c?o:n.start+1,o):n.end,!0)}),Do(!1),Jr=0,t.forEach(function(n){return n&&n.render&&n.render(-1)}),xe.forEach(function(n){ot(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),bs(ao,1),Cr.pause(),cn++,ct=2,Gt(2),ye.forEach(function(n){return ot(n.vars.onRefresh)&&n.vars.onRefresh(n)}),ct=me.isRefreshing=!1,hn("refresh")},to=0,wr=1,$n,Gt=function(e){if(e===2||!ct&&!Mr){me.isUpdating=!0,$n&&$n.update(0);var r=ye.length,t=rt(),n=t-zr>=50,o=r&&ye[0].scroll();if(wr=to>o?-1:1,ct||(to=o),n&&(vt&&!kr&&t-vt>200&&(vt=0,hn("scrollEnd")),Nn=zr,zr=t),wr<0){for(lt=r;lt-- >0;)ye[lt]&&ye[lt].update(0,n);wr=1}else for(lt=0;lt<r;lt++)ye[lt]&&ye[lt].update(0,n);me.isUpdating=!1}er=0},no=[gs,ms,uo,co,bt+Qn,bt+Zn,bt+qn,bt+jn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],vr=no.concat([an,ln,"boxSizing","max"+Pn,"max"+fo,"position",bt,He,He+qn,He+Zn,He+Qn,He+jn]),pi=function(e,r,t){Mn(t);var n=e._gsap;if(n.spacerIsNative)Mn(n.spacerState);else if(e._gsap.swappedIn){var o=r.parentNode;o&&(o.insertBefore(e,r),o.removeChild(r))}e._gsap.swappedIn=!1},Hr=function(e,r,t,n){if(!e._gsap.swappedIn){for(var o=no.length,l=r.style,c=e.style,x;o--;)x=no[o],l[x]=t[x];l.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(l.display="inline-block"),c[uo]=c[co]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[an]=Er(e,ut)+Ye,l[ln]=Er(e,We)+Ye,l[He]=c[bt]=c[ms]=c[gs]="0",Mn(n),c[an]=c["max"+Pn]=t[an],c[ln]=c["max"+fo]=t[ln],c[He]=t[He],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},hi=/([A-Z])/g,Mn=function(e){if(e){var r=e.t.style,t=e.length,n=0,o,l;for((e.t._gsap||J.core.getCache(e.t)).uncache=1;n<t;n+=2)l=e[n+1],o=e[n],l?r[o]=l:r[o]&&r.removeProperty(o.replace(hi,"-$1").toLowerCase())}},hr=function(e){for(var r=vr.length,t=e.style,n=[],o=0;o<r;o++)n.push(vr[o],t[vr[o]]);return n.t=e,n},di=function(e,r,t){for(var n=[],o=e.length,l=t?8:0,c;l<o;l+=2)c=e[l],n.push(c,c in r?r[c]:e[l+1]);return n.t=e.t,n},Tr={left:0,top:0},Oo=function(e,r,t,n,o,l,c,x,C,D,A,S,b,k){ot(e)&&(e=e(x)),mt(e)&&e.substr(0,3)==="max"&&(e=S+(e.charAt(4)==="="?xr("0"+e.substr(3),t):0));var T=b?b.time():0,g,G,q;if(b&&b.seek(0),isNaN(e)||(e=+e),Un(e))b&&(e=J.utils.mapRange(b.scrollTrigger.start,b.scrollTrigger.end,0,S,e)),c&&br(c,t,n,!0);else{ot(r)&&(r=r(x));var B=(e||"0").split(" "),v,z,Y,M;q=ft(r,x)||Ie,v=Ft(q)||{},(!v||!v.left&&!v.top)&&wt(q).display==="none"&&(M=q.style.display,q.style.display="block",v=Ft(q),M?q.style.display=M:q.style.removeProperty("display")),z=xr(B[0],v[n.d]),Y=xr(B[1]||"0",t),e=v[n.p]-C[n.p]-D+z+o-Y,c&&br(c,Y,n,t-Y<20||c._isStart&&Y>20),t-=t-Y}if(k&&(x[k]=e||-.001,e<0&&(e=0)),l){var W=e+t,Z=l._isStart;g="scroll"+n.d2,br(l,W,n,Z&&W>20||!Z&&(A?Math.max(Ie[g],_t[g]):l.parentNode[g])<=W+1),A&&(C=Ft(c),A&&(l.style[n.op.p]=C[n.op.p]-n.op.m-l._offset+Ye))}return b&&q&&(g=Ft(q),b.seek(S),G=Ft(q),b._caScrollDist=g[n.p]-G[n.p],e=e/b._caScrollDist*S),b&&b.seek(T),b?e:Math.round(e)},gi=/(webkit|moz|length|cssText|inset)/i,Lo=function(e,r,t,n){if(e.parentNode!==r){var o=e.style,l,c;if(r===Ie){e._stOrig=o.cssText,c=wt(e);for(l in c)!+l&&!gi.test(l)&&c[l]&&typeof o[l]=="string"&&l!=="0"&&(o[l]=c[l]);o.top=t,o.left=n}else o.cssText=e._stOrig;J.core.getCache(e).uncache=1,r.appendChild(e)}},vs=function(e,r,t){var n=r,o=n;return function(l){var c=Math.round(e());return c!==n&&c!==o&&Math.abs(c-n)>3&&Math.abs(c-o)>3&&(l=c,t&&t()),o=n,n=Math.round(l),n}},dr=function(e,r,t){var n={};n[r.p]="+="+t,J.set(e,n)},No=function(e,r){var t=Qt(e,r),n="_scroll"+r.p2,o=function l(c,x,C,D,A){var S=l.tween,b=x.onComplete,k={};C=C||t();var T=vs(t,C,function(){S.kill(),l.tween=0});return A=D&&A||0,D=D||c-C,S&&S.kill(),x[n]=c,x.inherit=!1,x.modifiers=k,k[n]=function(){return T(C+D*S.ratio+A*S.ratio*S.ratio)},x.onUpdate=function(){xe.cache++,l.tween&&Gt()},x.onComplete=function(){l.tween=0,b&&b.call(S)},S=l.tween=J.to(e,x),S};return e[n]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Ze(e,"wheel",t.wheelHandler),me.isTouch&&Ze(e,"touchmove",t.wheelHandler),o},me=function(){function f(r,t){wn||f.register(J)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Kr(this),this.init(r,t)}var e=f.prototype;return e.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Bn){this.update=this.refresh=this.kill=Lt;return}t=Io(mt(t)||Un(t)||t.nodeType?{trigger:t}:t,fr);var o=t,l=o.onUpdate,c=o.toggleClass,x=o.id,C=o.onToggle,D=o.onRefresh,A=o.scrub,S=o.trigger,b=o.pin,k=o.pinSpacing,T=o.invalidateOnRefresh,g=o.anticipatePin,G=o.onScrubComplete,q=o.onSnapComplete,B=o.once,v=o.snap,z=o.pinReparent,Y=o.pinSpacer,M=o.containerAnimation,W=o.fastScrollEnd,Z=o.preventOverlaps,E=t.horizontal||t.containerAnimation&&t.horizontal!==!1?ut:We,te=!A&&A!==0,I=ft(t.scroller||_e),ee=J.core.getCache(I),Q=fn(I),ie=("pinType"in t?t.pinType:qt(I,"pinType")||Q&&"fixed")==="fixed",j=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],F=te&&t.toggleActions.split(" "),O="markers"in t?t.markers:fr.markers,ae=Q?0:parseFloat(wt(I)["border"+E.p2+Pn])||0,h=this,ue=t.onRefreshInit&&function(){return t.onRefreshInit(h)},De=si(I,Q,E),re=ii(I,Q),d=0,u=0,i=0,s=Qt(I,E),_,P,y,R,X,L,w,U,V,p,m,a,H,N,se,ne,K,oe,Te,fe,Se,Ce,Me,Pe,ve,Be,Oe,kt,Tt,Yt,$t,be,Kt,St,Ct,Mt,Jt,dn,zt;if(h._startClamp=h._endClamp=!1,h._dir=E,g*=45,h.scroller=I,h.scroll=M?M.time.bind(M):s,R=s(),h.vars=t,n=n||t.animation,"refreshPriority"in t&&(as=1,t.refreshPriority===-9999&&($n=h)),ee.tweenScroll=ee.tweenScroll||{top:No(I,We),left:No(I,ut)},h.tweenTo=_=ee.tweenScroll[E.p],h.scrubDuration=function($){Kt=Un($)&&$,Kt?be?be.duration($):be=J.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Kt,paused:!0,onComplete:function(){return G&&G(h)}}):(be&&be.progress(1).kill(),be=0)},n&&(n.vars.lazy=!1,n._initted&&!h.isReverted||n.vars.immediateRender!==!1&&t.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),h.animation=n.pause(),n.scrollTrigger=h,h.scrubDuration(A),Yt=0,x||(x=n.vars.id)),v&&((!rn(v)||v.push)&&(v={snapTo:v}),"scrollBehavior"in Ie.style&&J.set(Q?[Ie,_t]:I,{scrollBehavior:"auto"}),xe.forEach(function($){return ot($)&&$.target===(Q?ke.scrollingElement||_t:I)&&($.smooth=!1)}),y=ot(v.snapTo)?v.snapTo:v.snapTo==="labels"?li(n):v.snapTo==="labelsDirectional"?ci(n):v.directional!==!1?function($,pe){return po(v.snapTo)($,rt()-u<500?0:pe.direction)}:J.utils.snap(v.snapTo),St=v.duration||{min:.1,max:2},St=rn(St)?Vn(St.min,St.max):Vn(St,St),Ct=J.delayedCall(v.delay||Kt/2||.1,function(){var $=s(),pe=rt()-u<500,le=_.tween;if((pe||Math.abs(h.getVelocity())<10)&&!le&&!kr&&d!==$){var he=($-L)/N,Xe=n&&!te?n.totalProgress():he,we=pe?0:(Xe-$t)/(rt()-Nn)*1e3||0,ze=J.utils.clamp(-he,1-he,yn(we/2)*we/.185),Je=he+(v.inertia===!1?0:ze),Ne,Re,Ae=v,Et=Ae.onStart,Le=Ae.onInterrupt,dt=Ae.onComplete;if(Ne=y(Je,h),Un(Ne)||(Ne=Je),Re=Math.max(0,Math.round(L+Ne*N)),$<=w&&$>=L&&Re!==$){if(le&&!le._initted&&le.data<=yn(Re-$))return;v.inertia===!1&&(ze=Ne-he),_(Re,{duration:St(yn(Math.max(yn(Je-Xe),yn(Ne-Xe))*.185/we/.05||0)),ease:v.ease||"power3",data:yn(Re-$),onInterrupt:function(){return Ct.restart(!0)&&Le&&Le(h)},onComplete:function(){h.update(),d=s(),n&&!te&&(be?be.resetTo("totalProgress",Ne,n._tTime/n._tDur):n.progress(Ne)),Yt=$t=n&&!te?n.totalProgress():h.progress,q&&q(h),dt&&dt(h)}},$,ze*N,Re-$-ze*N),Et&&Et(h,_.tween)}}else h.isActive&&d!==$&&Ct.restart(!0)}).pause()),x&&(eo[x]=h),S=h.trigger=ft(S||b!==!0&&b),zt=S&&S._gsap&&S._gsap.stRevert,zt&&(zt=zt(h)),b=b===!0?S:ft(b),mt(c)&&(c={targets:S,className:c}),b&&(k===!1||k===bt||(k=!k&&b.parentNode&&b.parentNode.style&&wt(b.parentNode).display==="flex"?!1:He),h.pin=b,P=J.core.getCache(b),P.spacer?se=P.pinState:(Y&&(Y=ft(Y),Y&&!Y.nodeType&&(Y=Y.current||Y.nativeElement),P.spacerIsNative=!!Y,Y&&(P.spacerState=hr(Y))),P.spacer=oe=Y||ke.createElement("div"),oe.classList.add("pin-spacer"),x&&oe.classList.add("pin-spacer-"+x),P.pinState=se=hr(b)),t.force3D!==!1&&J.set(b,{force3D:!0}),h.spacer=oe=P.spacer,Tt=wt(b),Pe=Tt[k+E.os2],fe=J.getProperty(b),Se=J.quickSetter(b,E.a,Ye),Hr(b,oe,Tt),K=hr(b)),O){a=rn(O)?Io(O,Ao):Ao,p=pr("scroller-start",x,I,E,a,0),m=pr("scroller-end",x,I,E,a,0,p),Te=p["offset"+E.op.d2];var In=ft(qt(I,"content")||I);U=this.markerStart=pr("start",x,In,E,a,Te,0,M),V=this.markerEnd=pr("end",x,In,E,a,Te,0,M),M&&(dn=J.quickSetter([U,V],E.a,Ye)),!ie&&!(Bt.length&&qt(I,"fixedMarkers")===!0)&&(ai(Q?Ie:I),J.set([p,m],{force3D:!0}),Be=J.quickSetter(p,E.a,Ye),kt=J.quickSetter(m,E.a,Ye))}if(M){var de=M.vars.onUpdate,ce=M.vars.onUpdateParams;M.eventCallback("onUpdate",function(){h.update(0,0,1),de&&de.apply(M,ce||[])})}if(h.previous=function(){return ye[ye.indexOf(h)-1]},h.next=function(){return ye[ye.indexOf(h)+1]},h.revert=function($,pe){if(!pe)return h.kill(!0);var le=$!==!1||!h.enabled,he=nt;le!==h.isReverted&&(le&&(Mt=Math.max(s(),h.scroll.rec||0),i=h.progress,Jt=n&&n.progress()),U&&[U,V,p,m].forEach(function(Xe){return Xe.style.display=le?"none":"block"}),le&&(nt=h,h.update(le)),b&&(!z||!h.isActive)&&(le?pi(b,oe,se):Hr(b,oe,wt(b),ve)),le||h.update(le),nt=he,h.isReverted=le)},h.refresh=function($,pe,le,he){if(!((nt||!h.enabled)&&!pe)){if(b&&$&&vt){Ze(f,"scrollEnd",_s);return}!ct&&ue&&ue(h),nt=h,_.tween&&!le&&(_.tween.kill(),_.tween=0),be&&be.pause(),T&&n&&n.revert({kill:!1}).invalidate(),h.isReverted||h.revert(!0,!0),h._subPinOffset=!1;var Xe=De(),we=re(),ze=M?M.duration():Nt(I,E),Je=N<=.01,Ne=0,Re=he||0,Ae=rn(le)?le.end:t.end,Et=t.endTrigger||S,Le=rn(le)?le.start:t.start||(t.start===0||!S?0:b?"0 0":"0 100%"),dt=h.pinnedContainer=t.pinnedContainer&&ft(t.pinnedContainer,h),Rt=S&&Math.max(0,ye.indexOf(h))||0,qe=Rt,Qe,et,en,nr,tt,Ge,Dt,Rr,go,An,Ot,kn,rr;for(O&&rn(le)&&(kn=J.getProperty(p,E.p),rr=J.getProperty(m,E.p));qe-- >0;)Ge=ye[qe],Ge.end||Ge.refresh(0,1)||(nt=h),Dt=Ge.pin,Dt&&(Dt===S||Dt===b||Dt===dt)&&!Ge.isReverted&&(An||(An=[]),An.unshift(Ge),Ge.revert(!0,!0)),Ge!==ye[qe]&&(Rt--,qe--);for(ot(Le)&&(Le=Le(h)),Le=Co(Le,"start",h),L=Oo(Le,S,Xe,E,s(),U,p,h,we,ae,ie,ze,M,h._startClamp&&"_startClamp")||(b?-.001:0),ot(Ae)&&(Ae=Ae(h)),mt(Ae)&&!Ae.indexOf("+=")&&(~Ae.indexOf(" ")?Ae=(mt(Le)?Le.split(" ")[0]:"")+Ae:(Ne=xr(Ae.substr(2),Xe),Ae=mt(Le)?Le:(M?J.utils.mapRange(0,M.duration(),M.scrollTrigger.start,M.scrollTrigger.end,L):L)+Ne,Et=S)),Ae=Co(Ae,"end",h),w=Math.max(L,Oo(Ae||(Et?"100% 0":ze),Et,Xe,E,s()+Ne,V,m,h,we,ae,ie,ze,M,h._endClamp&&"_endClamp"))||-.001,Ne=0,qe=Rt;qe--;)Ge=ye[qe],Dt=Ge.pin,Dt&&Ge.start-Ge._pinPush<=L&&!M&&Ge.end>0&&(Qe=Ge.end-(h._startClamp?Math.max(0,Ge.start):Ge.start),(Dt===S&&Ge.start-Ge._pinPush<L||Dt===dt)&&isNaN(Le)&&(Ne+=Qe*(1-Ge.progress)),Dt===b&&(Re+=Qe));if(L+=Ne,w+=Ne,h._startClamp&&(h._startClamp+=Ne),h._endClamp&&!ct&&(h._endClamp=w||-.001,w=Math.min(w,Nt(I,E))),N=w-L||(L-=.01)&&.001,Je&&(i=J.utils.clamp(0,1,J.utils.normalize(L,w,Mt))),h._pinPush=Re,U&&Ne&&(Qe={},Qe[E.a]="+="+Ne,dt&&(Qe[E.p]="-="+s()),J.set([U,V],Qe)),b&&!(Jr&&h.end>=Nt(I,E)))Qe=wt(b),nr=E===We,en=s(),Ce=parseFloat(fe(E.a))+Re,!ze&&w>1&&(Ot=(Q?ke.scrollingElement||_t:I).style,Ot={style:Ot,value:Ot["overflow"+E.a.toUpperCase()]},Q&&wt(Ie)["overflow"+E.a.toUpperCase()]!=="scroll"&&(Ot.style["overflow"+E.a.toUpperCase()]="scroll")),Hr(b,oe,Qe),K=hr(b),et=Ft(b,!0),Rr=ie&&Qt(I,nr?ut:We)(),k?(ve=[k+E.os2,N+Re+Ye],ve.t=oe,qe=k===He?Er(b,E)+N+Re:0,qe&&(ve.push(E.d,qe+Ye),oe.style.flexBasis!=="auto"&&(oe.style.flexBasis=qe+Ye)),Mn(ve),dt&&ye.forEach(function(Rn){Rn.pin===dt&&Rn.vars.pinSpacing!==!1&&(Rn._subPinOffset=!0)}),ie&&s(Mt)):(qe=Er(b,E),qe&&oe.style.flexBasis!=="auto"&&(oe.style.flexBasis=qe+Ye)),ie&&(tt={top:et.top+(nr?en-L:Rr)+Ye,left:et.left+(nr?Rr:en-L)+Ye,boxSizing:"border-box",position:"fixed"},tt[an]=tt["max"+Pn]=Math.ceil(et.width)+Ye,tt[ln]=tt["max"+fo]=Math.ceil(et.height)+Ye,tt[bt]=tt[bt+qn]=tt[bt+Zn]=tt[bt+Qn]=tt[bt+jn]="0",tt[He]=Qe[He],tt[He+qn]=Qe[He+qn],tt[He+Zn]=Qe[He+Zn],tt[He+Qn]=Qe[He+Qn],tt[He+jn]=Qe[He+jn],ne=di(se,tt,z),ct&&s(0)),n?(go=n._initted,Nr(1),n.render(n.duration(),!0,!0),Me=fe(E.a)-Ce+N+Re,Oe=Math.abs(N-Me)>1,ie&&Oe&&ne.splice(ne.length-2,2),n.render(0,!0,!0),go||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Nr(0)):Me=N,Ot&&(Ot.value?Ot.style["overflow"+E.a.toUpperCase()]=Ot.value:Ot.style.removeProperty("overflow-"+E.a));else if(S&&s()&&!M)for(et=S.parentNode;et&&et!==Ie;)et._pinOffset&&(L-=et._pinOffset,w-=et._pinOffset),et=et.parentNode;An&&An.forEach(function(Rn){return Rn.revert(!1,!0)}),h.start=L,h.end=w,R=X=ct?Mt:s(),!M&&!ct&&(R<Mt&&s(Mt),h.scroll.rec=0),h.revert(!1,!0),u=rt(),Ct&&(d=-1,Ct.restart(!0)),nt=0,n&&te&&(n._initted||Jt)&&n.progress()!==Jt&&n.progress(Jt||0,!0).render(n.time(),!0,!0),(Je||i!==h.progress||M||T||n&&!n._initted)&&(n&&!te&&n.totalProgress(M&&L<-.001&&!i?J.utils.normalize(L,w,0):i,!0),h.progress=Je||(R-L)/N===i?0:i),b&&k&&(oe._pinOffset=Math.round(h.progress*Me)),be&&be.invalidate(),isNaN(kn)||(kn-=J.getProperty(p,E.p),rr-=J.getProperty(m,E.p),dr(p,E,kn),dr(U,E,kn-(he||0)),dr(m,E,rr),dr(V,E,rr-(he||0))),Je&&!ct&&h.update(),D&&!ct&&!H&&(H=!0,D(h),H=!1)}},h.getVelocity=function(){return(s()-X)/(rt()-Nn)*1e3||0},h.endAnimation=function(){On(h.callbackAnimation),n&&(be?be.progress(1):n.paused()?te||On(n,h.direction<0,1):On(n,n.reversed()))},h.labelToScroll=function($){return n&&n.labels&&(L||h.refresh()||L)+n.labels[$]/n.duration()*N||0},h.getTrailing=function($){var pe=ye.indexOf(h),le=h.direction>0?ye.slice(0,pe).reverse():ye.slice(pe+1);return(mt($)?le.filter(function(he){return he.vars.preventOverlaps===$}):le).filter(function(he){return h.direction>0?he.end<=L:he.start>=w})},h.update=function($,pe,le){if(!(M&&!le&&!$)){var he=ct===!0?Mt:h.scroll(),Xe=$?0:(he-L)/N,we=Xe<0?0:Xe>1?1:Xe||0,ze=h.progress,Je,Ne,Re,Ae,Et,Le,dt,Rt;if(pe&&(X=R,R=M?s():he,v&&($t=Yt,Yt=n&&!te?n.totalProgress():we)),g&&b&&!nt&&!ar&&vt&&(!we&&L<he+(he-X)/(rt()-Nn)*g?we=1e-4:we===1&&w>he+(he-X)/(rt()-Nn)*g&&(we=.9999)),we!==ze&&h.enabled){if(Je=h.isActive=!!we&&we<1,Ne=!!ze&&ze<1,Le=Je!==Ne,Et=Le||!!we!=!!ze,h.direction=we>ze?1:-1,h.progress=we,Et&&!nt&&(Re=we&&!ze?0:we===1?1:ze===1?2:3,te&&(Ae=!Le&&F[Re+1]!=="none"&&F[Re+1]||F[Re],Rt=n&&(Ae==="complete"||Ae==="reset"||Ae in n))),Z&&(Le||Rt)&&(Rt||A||!n)&&(ot(Z)?Z(h):h.getTrailing(Z).forEach(function(en){return en.endAnimation()})),te||(be&&!nt&&!ar?(be._dp._time-be._start!==be._time&&be.render(be._dp._time-be._start),be.resetTo?be.resetTo("totalProgress",we,n._tTime/n._tDur):(be.vars.totalProgress=we,be.invalidate().restart())):n&&n.totalProgress(we,!!(nt&&(u||$)))),b){if($&&k&&(oe.style[k+E.os2]=Pe),!ie)Se(zn(Ce+Me*we));else if(Et){if(dt=!$&&we>ze&&w+1>he&&he+1>=Nt(I,E),z)if(!$&&(Je||dt)){var qe=Ft(b,!0),Qe=he-L;Lo(b,Ie,qe.top+(E===We?Qe:0)+Ye,qe.left+(E===We?0:Qe)+Ye)}else Lo(b,oe);Mn(Je||dt?ne:K),Oe&&we<1&&Je||Se(Ce+(we===1&&!dt?Me:0))}}v&&!_.tween&&!nt&&!ar&&Ct.restart(!0),c&&(Le||B&&we&&(we<1||!Br))&&Jn(c.targets).forEach(function(en){return en.classList[Je||B?"add":"remove"](c.className)}),l&&!te&&!$&&l(h),Et&&!nt?(te&&(Rt&&(Ae==="complete"?n.pause().totalProgress(1):Ae==="reset"?n.restart(!0).pause():Ae==="restart"?n.restart(!0):n[Ae]()),l&&l(h)),(Le||!Br)&&(C&&Le&&Ur(h,C),j[Re]&&Ur(h,j[Re]),B&&(we===1?h.kill(!1,1):j[Re]=0),Le||(Re=we===1?1:3,j[Re]&&Ur(h,j[Re]))),W&&!Je&&Math.abs(h.getVelocity())>(Un(W)?W:2500)&&(On(h.callbackAnimation),be?be.progress(1):On(n,Ae==="reverse"?1:!we,1))):te&&l&&!nt&&l(h)}if(kt){var et=M?he/M.duration()*(M._caScrollDist||0):he;Be(et+(p._isFlipped?1:0)),kt(et)}dn&&dn(-he/M.duration()*(M._caScrollDist||0))}},h.enable=function($,pe){h.enabled||(h.enabled=!0,Ze(I,"resize",Fn),Q||Ze(I,"scroll",_n),ue&&Ze(f,"refreshInit",ue),$!==!1&&(h.progress=i=0,R=X=d=s()),pe!==!1&&h.refresh())},h.getTween=function($){return $&&_?_.tween:be},h.setPositions=function($,pe,le,he){if(M){var Xe=M.scrollTrigger,we=M.duration(),ze=Xe.end-Xe.start;$=Xe.start+ze*$/we,pe=Xe.start+ze*pe/we}h.refresh(!1,!1,{start:Mo($,le&&!!h._startClamp),end:Mo(pe,le&&!!h._endClamp)},he),h.update()},h.adjustPinSpacing=function($){if(ve&&$){var pe=ve.indexOf(E.d)+1;ve[pe]=parseFloat(ve[pe])+$+Ye,ve[1]=parseFloat(ve[1])+$+Ye,Mn(ve)}},h.disable=function($,pe){if(h.enabled&&($!==!1&&h.revert(!0,!0),h.enabled=h.isActive=!1,pe||be&&be.pause(),Mt=0,P&&(P.uncache=1),ue&&Ve(f,"refreshInit",ue),Ct&&(Ct.pause(),_.tween&&_.tween.kill()&&(_.tween=0)),!Q)){for(var le=ye.length;le--;)if(ye[le].scroller===I&&ye[le]!==h)return;Ve(I,"resize",Fn),Q||Ve(I,"scroll",_n)}},h.kill=function($,pe){h.disable($,pe),be&&!pe&&be.kill(),x&&delete eo[x];var le=ye.indexOf(h);le>=0&&ye.splice(le,1),le===lt&&wr>0&&lt--,le=0,ye.forEach(function(he){return he.scroller===h.scroller&&(le=1)}),le||ct||(h.scroll.rec=0),n&&(n.scrollTrigger=null,$&&n.revert({kill:!1}),pe||n.kill()),U&&[U,V,p,m].forEach(function(he){return he.parentNode&&he.parentNode.removeChild(he)}),$n===h&&($n=0),b&&(P&&(P.uncache=1),le=0,ye.forEach(function(he){return he.pin===b&&le++}),le||(P.spacer=0)),t.onKill&&t.onKill(h)},ye.push(h),h.enable(!1,!1),zt&&zt(h),n&&n.add&&!N){var Ee=h.update;h.update=function(){h.update=Ee,xe.cache++,L||w||h.refresh()},J.delayedCall(.01,h.update),N=.01,L=w=0}else h.refresh();b&&fi()},f.register=function(t){return wn||(J=t||ps(),fs()&&window.document&&f.enable(),wn=Bn),wn},f.defaults=function(t){if(t)for(var n in t)fr[n]=t[n];return fr},f.disable=function(t,n){Bn=0,ye.forEach(function(l){return l[n?"kill":"disable"](t)}),Ve(_e,"wheel",_n),Ve(ke,"scroll",_n),clearInterval(ir),Ve(ke,"touchcancel",Lt),Ve(Ie,"touchstart",Lt),cr(Ve,ke,"pointerdown,touchstart,mousedown",Eo),cr(Ve,ke,"pointerup,touchend,mouseup",Po),Cr.kill(),lr(Ve);for(var o=0;o<xe.length;o+=3)ur(Ve,xe[o],xe[o+1]),ur(Ve,xe[o],xe[o+2])},f.enable=function(){if(_e=window,ke=document,_t=ke.documentElement,Ie=ke.body,J&&(Jn=J.utils.toArray,Vn=J.utils.clamp,Kr=J.core.context||Lt,Nr=J.core.suppressOverwrites||Lt,ao=_e.history.scrollRestoration||"auto",to=_e.pageYOffset||0,J.core.globals("ScrollTrigger",f),Ie)){Bn=1,Cn=document.createElement("div"),Cn.style.height="100vh",Cn.style.position="absolute",ws(),oi(),Fe.register(J),f.isTouch=Fe.isTouch,Xt=Fe.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),$r=Fe.isTouch===1,Ze(_e,"wheel",_n),io=[_e,ke,_t,Ie],J.matchMedia?(f.matchMedia=function(C){var D=J.matchMedia(),A;for(A in C)D.add(A,C[A]);return D},J.addEventListener("matchMediaInit",function(){return ho()}),J.addEventListener("matchMediaRevert",function(){return xs()}),J.addEventListener("matchMedia",function(){sn(0,1),hn("matchMedia")}),J.matchMedia().add("(orientation: portrait)",function(){return Fr(),Fr})):console.warn("Requires GSAP 3.11.0 or later"),Fr(),Ze(ke,"scroll",_n);var t=Ie.hasAttribute("style"),n=Ie.style,o=n.borderTopStyle,l=J.core.Animation.prototype,c,x;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",c=Ft(Ie),We.m=Math.round(c.top+We.sc())||0,ut.m=Math.round(c.left+ut.sc())||0,o?n.borderTopStyle=o:n.removeProperty("border-top-style"),t||(Ie.setAttribute("style",""),Ie.removeAttribute("style")),ir=setInterval(ko,250),J.delayedCall(.5,function(){return ar=0}),Ze(ke,"touchcancel",Lt),Ze(Ie,"touchstart",Lt),cr(Ze,ke,"pointerdown,touchstart,mousedown",Eo),cr(Ze,ke,"pointerup,touchend,mouseup",Po),Qr=J.utils.checkPrefix("transform"),vr.push(Qr),wn=rt(),Cr=J.delayedCall(.2,sn).pause(),vn=[ke,"visibilitychange",function(){var C=_e.innerWidth,D=_e.innerHeight;ke.hidden?(To=C,So=D):(To!==C||So!==D)&&Fn()},ke,"DOMContentLoaded",sn,_e,"load",sn,_e,"resize",Fn],lr(Ze),ye.forEach(function(C){return C.enable(0,1)}),x=0;x<xe.length;x+=3)ur(Ve,xe[x],xe[x+1]),ur(Ve,xe[x],xe[x+2])}},f.config=function(t){"limitCallbacks"in t&&(Br=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(ir)||(ir=n)&&setInterval(ko,n),"ignoreMobileResize"in t&&($r=f.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(lr(Ve)||lr(Ze,t.autoRefreshEvents||"none"),ls=(t.autoRefreshEvents+"").indexOf("resize")===-1)},f.scrollerProxy=function(t,n){var o=ft(t),l=xe.indexOf(o),c=fn(o);~l&&xe.splice(l,c?6:2),n&&(c?Bt.unshift(_e,n,Ie,n,_t,n):Bt.unshift(o,n))},f.clearMatchMedia=function(t){ye.forEach(function(n){return n._ctx&&n._ctx.query===t&&n._ctx.kill(!0,!0)})},f.isInViewport=function(t,n,o){var l=(mt(t)?ft(t):t).getBoundingClientRect(),c=l[o?an:ln]*n||0;return o?l.right-c>0&&l.left+c<_e.innerWidth:l.bottom-c>0&&l.top+c<_e.innerHeight},f.positionInViewport=function(t,n,o){mt(t)&&(t=ft(t));var l=t.getBoundingClientRect(),c=l[o?an:ln],x=n==null?c/2:n in Pr?Pr[n]*c:~n.indexOf("%")?parseFloat(n)*c/100:parseFloat(n)||0;return o?(l.left+x)/_e.innerWidth:(l.top+x)/_e.innerHeight},f.killAll=function(t){if(ye.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var n=pn.killAll||[];pn={},n.forEach(function(o){return o()})}},f}();me.version="3.12.7";me.saveStyles=function(f){return f?Jn(f).forEach(function(e){if(e&&e.style){var r=gt.indexOf(e);r>=0&&gt.splice(r,5),gt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),J.core.getCache(e),Kr())}}):gt};me.revert=function(f,e){return ho(!f,e)};me.create=function(f,e){return new me(f,e)};me.refresh=function(f){return f?Fn(!0):(wn||me.register())&&sn(!0)};me.update=function(f){return++xe.cache&&Gt(f===!0?2:0)};me.clearScrollMemory=bs;me.maxScroll=function(f,e){return Nt(f,e?ut:We)};me.getScrollFunc=function(f,e){return Qt(ft(f),e?ut:We)};me.getById=function(f){return eo[f]};me.getAll=function(){return ye.filter(function(f){return f.vars.id!=="ScrollSmoother"})};me.isScrolling=function(){return!!vt};me.snapDirectional=po;me.addEventListener=function(f,e){var r=pn[f]||(pn[f]=[]);~r.indexOf(e)||r.push(e)};me.removeEventListener=function(f,e){var r=pn[f],t=r&&r.indexOf(e);t>=0&&r.splice(t,1)};me.batch=function(f,e){var r=[],t={},n=e.interval||.016,o=e.batchMax||1e9,l=function(C,D){var A=[],S=[],b=J.delayedCall(n,function(){D(A,S),A=[],S=[]}).pause();return function(k){A.length||b.restart(!0),A.push(k.trigger),S.push(k),o<=A.length&&b.progress(1)}},c;for(c in e)t[c]=c.substr(0,2)==="on"&&ot(e[c])&&c!=="onRefreshInit"?l(c,e[c]):e[c];return ot(o)&&(o=o(),Ze(me,"refresh",function(){return o=e.batchMax()})),Jn(f).forEach(function(x){var C={};for(c in t)C[c]=t[c];C.trigger=x,r.push(me.create(C))}),r};var Bo=function(e,r,t,n){return r>n?e(n):r<0&&e(0),t>n?(n-r)/(t-r):t<0?r/(r-t):1},Gr=function f(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Fe.isTouch?" pinch-zoom":""):"none",e===_t&&f(Ie,r)},gr={auto:1,scroll:1},mi=function(e){var r=e.event,t=e.target,n=e.axis,o=(r.changedTouches?r.changedTouches[0]:r).target,l=o._gsap||J.core.getCache(o),c=rt(),x;if(!l._isScrollT||c-l._isScrollT>2e3){for(;o&&o!==Ie&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(gr[(x=wt(o)).overflowY]||gr[x.overflowX]));)o=o.parentNode;l._isScroll=o&&o!==t&&!fn(o)&&(gr[(x=wt(o)).overflowY]||gr[x.overflowX]),l._isScrollT=c}(l._isScroll||n==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Ts=function(e,r,t,n){return Fe.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:n=n&&mi,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return t&&Ze(ke,Fe.eventTypes[0],Uo,!1,!0)},onDisable:function(){return Ve(ke,Fe.eventTypes[0],Uo,!0)}})},yi=/(input|label|select|textarea)/i,zo,Uo=function(e){var r=yi.test(e.target.tagName);(r||zo)&&(e._gsapAllow=!0,zo=r)},_i=function(e){rn(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,t=r.normalizeScrollX,n=r.momentum,o=r.allowNestedScroll,l=r.onRelease,c,x,C=ft(e.target)||_t,D=J.core.globals().ScrollSmoother,A=D&&D.get(),S=Xt&&(e.content&&ft(e.content)||A&&e.content!==!1&&!A.smooth()&&A.content()),b=Qt(C,We),k=Qt(C,ut),T=1,g=(Fe.isTouch&&_e.visualViewport?_e.visualViewport.scale*_e.visualViewport.width:_e.outerWidth)/_e.innerWidth,G=0,q=ot(n)?function(){return n(c)}:function(){return n||2.8},B,v,z=Ts(C,e.type,!0,o),Y=function(){return v=!1},M=Lt,W=Lt,Z=function(){x=Nt(C,We),W=Vn(Xt?1:0,x),t&&(M=Vn(0,Nt(C,ut))),B=cn},E=function(){S._gsap.y=zn(parseFloat(S._gsap.y)+b.offset)+"px",S.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(S._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},te=function(){if(v){requestAnimationFrame(Y);var O=zn(c.deltaY/2),ae=W(b.v-O);if(S&&ae!==b.v+b.offset){b.offset=ae-b.v;var h=zn((parseFloat(S&&S._gsap.y)||0)-b.offset);S.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+h+", 0, 1)",S._gsap.y=h+"px",b.cacheID=xe.cache,Gt()}return!0}b.offset&&E(),v=!0},I,ee,Q,ie,j=function(){Z(),I.isActive()&&I.vars.scrollY>x&&(b()>x?I.progress(1)&&b(x):I.resetTo("scrollY",x))};return S&&J.set(S,{y:"+=0"}),e.ignoreCheck=function(F){return Xt&&F.type==="touchmove"&&te()||T>1.05&&F.type!=="touchstart"||c.isGesturing||F.touches&&F.touches.length>1},e.onPress=function(){v=!1;var F=T;T=zn((_e.visualViewport&&_e.visualViewport.scale||1)/g),I.pause(),F!==T&&Gr(C,T>1.01?!0:t?!1:"x"),ee=k(),Q=b(),Z(),B=cn},e.onRelease=e.onGestureStart=function(F,O){if(b.offset&&E(),!O)ie.restart(!0);else{xe.cache++;var ae=q(),h,ue;t&&(h=k(),ue=h+ae*.05*-F.velocityX/.227,ae*=Bo(k,h,ue,Nt(C,ut)),I.vars.scrollX=M(ue)),h=b(),ue=h+ae*.05*-F.velocityY/.227,ae*=Bo(b,h,ue,Nt(C,We)),I.vars.scrollY=W(ue),I.invalidate().duration(ae).play(.01),(Xt&&I.vars.scrollY>=x||h>=x-1)&&J.to({},{onUpdate:j,duration:ae})}l&&l(F)},e.onWheel=function(){I._ts&&I.pause(),rt()-G>1e3&&(B=0,G=rt())},e.onChange=function(F,O,ae,h,ue){if(cn!==B&&Z(),O&&t&&k(M(h[2]===O?ee+(F.startX-F.x):k()+O-h[1])),ae){b.offset&&E();var De=ue[2]===ae,re=De?Q+F.startY-F.y:b()+ae-ue[1],d=W(re);De&&re!==d&&(Q+=d-re),b(d)}(ae||O)&&Gt()},e.onEnable=function(){Gr(C,t?!1:"x"),me.addEventListener("refresh",j),Ze(_e,"resize",j),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=k.smooth=!1),z.enable()},e.onDisable=function(){Gr(C,!0),Ve(_e,"resize",j),me.removeEventListener("refresh",j),z.kill()},e.lockAxis=e.lockAxis!==!1,c=new Fe(e),c.iOS=Xt,Xt&&!b()&&b(1),Xt&&J.ticker.add(Lt),ie=c._dc,I=J.to(c,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:vs(b,b(),function(){return I.pause()})},onUpdate:Gt,onComplete:ie.vars.onComplete}),c};me.sort=function(f){if(ot(f))return ye.sort(f);var e=_e.pageYOffset||0;return me.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+_e.innerHeight}),ye.sort(f||function(r,t){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};me.observe=function(f){return new Fe(f)};me.normalizeScroll=function(f){if(typeof f>"u")return at;if(f===!0&&at)return at.enable();if(f===!1){at&&at.kill(),at=f;return}var e=f instanceof Fe?f:_i(f);return at&&at.target===e.target&&at.kill(),fn(e.target)&&(at=e),e};me.core={_getVelocityProp:qr,_inputObserver:Ts,_scrollers:xe,_proxies:Bt,bridge:{ss:function(){vt||hn("scrollStart"),vt=rt()},ref:function(){return nt}}};ps()&&J.registerPlugin(me);var Kn=function(){var f=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(D){D.preventDefault(),t(++f%e.children.length)},!1);function r(D){return e.appendChild(D.dom),D}function t(D){for(var A=0;A<e.children.length;A++)e.children[A].style.display=A===D?"block":"none";f=D}var n=(performance||Date).now(),o=n,l=0,c=r(new Kn.Panel("FPS","#0ff","#002")),x=r(new Kn.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var C=r(new Kn.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:r,showPanel:t,begin:function(){n=(performance||Date).now()},end:function(){l++;var D=(performance||Date).now();if(x.update(D-n,200),D>=o+1e3&&(c.update(l*1e3/(D-o),100),o=D,l=0,C)){var A=performance.memory;C.update(A.usedJSHeapSize/1048576,A.jsHeapSizeLimit/1048576)}return D},update:function(){n=this.end()},domElement:e,setMode:t}};Kn.Panel=function(f,e,r){var t=1/0,n=0,o=Math.round,l=o(window.devicePixelRatio||1),c=80*l,x=48*l,C=3*l,D=2*l,A=3*l,S=15*l,b=74*l,k=30*l,T=document.createElement("canvas");T.width=c,T.height=x,T.style.cssText="width:80px;height:48px";var g=T.getContext("2d");return g.font="bold "+9*l+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=r,g.fillRect(0,0,c,x),g.fillStyle=e,g.fillText(f,C,D),g.fillRect(A,S,b,k),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(A,S,b,k),{dom:T,update:function(G,q){t=Math.min(t,G),n=Math.max(n,G),g.fillStyle=r,g.globalAlpha=1,g.fillRect(0,0,c,S),g.fillStyle=e,g.fillText(o(G)+" "+f+" ("+o(t)+"-"+o(n)+")",C,D),g.drawImage(T,A+l,S,b-l,k,A,S,b-l,k),g.fillRect(A+b-l,S,l,k),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(A+b-l,S,l,o((1-G/q)*k))}}};class Ss extends ks{constructor(e,r={}){const t=r.font;if(t===void 0)super();else{const n=t.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(n,r)}this.type="TextGeometry"}}const xi=Ls;class Ir extends jo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,r,t,n){const o=this,l=new qo(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{r(o.parse(c))}catch(x){n?n(x):console.error(x),o.manager.itemError(e)}},t,n)}parse(e){const r=this;function t(d,u){if(d.nodeType!==1)return;const i=v(d);let s=!1,_=null;switch(d.nodeName){case"svg":u=k(d,u);break;case"style":o(d);break;case"g":u=k(d,u);break;case"path":u=k(d,u),d.hasAttribute("d")&&(_=n(d));break;case"rect":u=k(d,u),_=x(d);break;case"polygon":u=k(d,u),_=C(d);break;case"polyline":u=k(d,u),_=D(d);break;case"circle":u=k(d,u),_=A(d);break;case"ellipse":u=k(d,u),_=S(d);break;case"line":u=k(d,u),_=b(d);break;case"defs":s=!0;break;case"use":u=k(d,u);const R=(d.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),X=d.viewportElement.getElementById(R);X?t(X,u):console.warn("SVGLoader: 'use node' references non-existent node id: "+R);break}_&&(u.fill!==void 0&&u.fill!=="none"&&_.color.setStyle(u.fill,xi),Y(_,ue),I.push(_),_.userData={node:d,style:u});const P=d.childNodes;for(let y=0;y<P.length;y++){const R=P[y];s&&R.nodeName!=="style"&&R.nodeName!=="defs"||t(R,u)}i&&(Q.pop(),Q.length>0?ue.copy(Q[Q.length-1]):ue.identity())}function n(d){const u=new Wt,i=new ge,s=new ge,_=new ge;let P=!0,y=!1;const R=d.getAttribute("d");if(R===""||R==="none")return null;const X=R.match(/[a-df-z][^a-df-z]*/ig);for(let L=0,w=X.length;L<w;L++){const U=X[L],V=U.charAt(0),p=U.slice(1).trim();P===!0&&(y=!0,P=!1);let m;switch(V){case"M":m=g(p);for(let a=0,H=m.length;a<H;a+=2)i.x=m[a+0],i.y=m[a+1],s.x=i.x,s.y=i.y,a===0?u.moveTo(i.x,i.y):u.lineTo(i.x,i.y),a===0&&_.copy(i);break;case"H":m=g(p);for(let a=0,H=m.length;a<H;a++)i.x=m[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"V":m=g(p);for(let a=0,H=m.length;a<H;a++)i.y=m[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"L":m=g(p);for(let a=0,H=m.length;a<H;a+=2)i.x=m[a+0],i.y=m[a+1],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"C":m=g(p);for(let a=0,H=m.length;a<H;a+=6)u.bezierCurveTo(m[a+0],m[a+1],m[a+2],m[a+3],m[a+4],m[a+5]),s.x=m[a+2],s.y=m[a+3],i.x=m[a+4],i.y=m[a+5],a===0&&y===!0&&_.copy(i);break;case"S":m=g(p);for(let a=0,H=m.length;a<H;a+=4)u.bezierCurveTo(T(i.x,s.x),T(i.y,s.y),m[a+0],m[a+1],m[a+2],m[a+3]),s.x=m[a+0],s.y=m[a+1],i.x=m[a+2],i.y=m[a+3],a===0&&y===!0&&_.copy(i);break;case"Q":m=g(p);for(let a=0,H=m.length;a<H;a+=4)u.quadraticCurveTo(m[a+0],m[a+1],m[a+2],m[a+3]),s.x=m[a+0],s.y=m[a+1],i.x=m[a+2],i.y=m[a+3],a===0&&y===!0&&_.copy(i);break;case"T":m=g(p);for(let a=0,H=m.length;a<H;a+=2){const N=T(i.x,s.x),se=T(i.y,s.y);u.quadraticCurveTo(N,se,m[a+0],m[a+1]),s.x=N,s.y=se,i.x=m[a+0],i.y=m[a+1],a===0&&y===!0&&_.copy(i)}break;case"A":m=g(p,[3,4],7);for(let a=0,H=m.length;a<H;a+=7){if(m[a+5]==i.x&&m[a+6]==i.y)continue;const N=i.clone();i.x=m[a+5],i.y=m[a+6],s.x=i.x,s.y=i.y,l(u,m[a],m[a+1],m[a+2],m[a+3],m[a+4],N,i),a===0&&y===!0&&_.copy(i)}break;case"m":m=g(p);for(let a=0,H=m.length;a<H;a+=2)i.x+=m[a+0],i.y+=m[a+1],s.x=i.x,s.y=i.y,a===0?u.moveTo(i.x,i.y):u.lineTo(i.x,i.y),a===0&&_.copy(i);break;case"h":m=g(p);for(let a=0,H=m.length;a<H;a++)i.x+=m[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"v":m=g(p);for(let a=0,H=m.length;a<H;a++)i.y+=m[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"l":m=g(p);for(let a=0,H=m.length;a<H;a+=2)i.x+=m[a+0],i.y+=m[a+1],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"c":m=g(p);for(let a=0,H=m.length;a<H;a+=6)u.bezierCurveTo(i.x+m[a+0],i.y+m[a+1],i.x+m[a+2],i.y+m[a+3],i.x+m[a+4],i.y+m[a+5]),s.x=i.x+m[a+2],s.y=i.y+m[a+3],i.x+=m[a+4],i.y+=m[a+5],a===0&&y===!0&&_.copy(i);break;case"s":m=g(p);for(let a=0,H=m.length;a<H;a+=4)u.bezierCurveTo(T(i.x,s.x),T(i.y,s.y),i.x+m[a+0],i.y+m[a+1],i.x+m[a+2],i.y+m[a+3]),s.x=i.x+m[a+0],s.y=i.y+m[a+1],i.x+=m[a+2],i.y+=m[a+3],a===0&&y===!0&&_.copy(i);break;case"q":m=g(p);for(let a=0,H=m.length;a<H;a+=4)u.quadraticCurveTo(i.x+m[a+0],i.y+m[a+1],i.x+m[a+2],i.y+m[a+3]),s.x=i.x+m[a+0],s.y=i.y+m[a+1],i.x+=m[a+2],i.y+=m[a+3],a===0&&y===!0&&_.copy(i);break;case"t":m=g(p);for(let a=0,H=m.length;a<H;a+=2){const N=T(i.x,s.x),se=T(i.y,s.y);u.quadraticCurveTo(N,se,i.x+m[a+0],i.y+m[a+1]),s.x=N,s.y=se,i.x=i.x+m[a+0],i.y=i.y+m[a+1],a===0&&y===!0&&_.copy(i)}break;case"a":m=g(p,[3,4],7);for(let a=0,H=m.length;a<H;a+=7){if(m[a+5]==0&&m[a+6]==0)continue;const N=i.clone();i.x+=m[a+5],i.y+=m[a+6],s.x=i.x,s.y=i.y,l(u,m[a],m[a+1],m[a+2],m[a+3],m[a+4],N,i),a===0&&y===!0&&_.copy(i)}break;case"Z":case"z":u.currentPath.autoClose=!0,u.currentPath.curves.length>0&&(i.copy(_),u.currentPath.currentPoint.copy(i),P=!0);break;default:console.warn(U)}y=!1}return u}function o(d){if(!(!d.sheet||!d.sheet.cssRules||!d.sheet.cssRules.length))for(let u=0;u<d.sheet.cssRules.length;u++){const i=d.sheet.cssRules[u];if(i.type!==1)continue;const s=i.selectorText.split(/,/gm).filter(Boolean).map(_=>_.trim());for(let _=0;_<s.length;_++){const P=Object.fromEntries(Object.entries(i.style).filter(([,y])=>y!==""));ee[s[_]]=Object.assign(ee[s[_]]||{},P)}}}function l(d,u,i,s,_,P,y,R){if(u==0||i==0){d.lineTo(R.x,R.y);return}s=s*Math.PI/180,u=Math.abs(u),i=Math.abs(i);const X=(y.x-R.x)/2,L=(y.y-R.y)/2,w=Math.cos(s)*X+Math.sin(s)*L,U=-Math.sin(s)*X+Math.cos(s)*L;let V=u*u,p=i*i;const m=w*w,a=U*U,H=m/V+a/p;if(H>1){const Me=Math.sqrt(H);u=Me*u,i=Me*i,V=u*u,p=i*i}const N=V*a+p*m,se=(V*p-N)/N;let ne=Math.sqrt(Math.max(0,se));_===P&&(ne=-ne);const K=ne*u*U/i,oe=-ne*i*w/u,Te=Math.cos(s)*K-Math.sin(s)*oe+(y.x+R.x)/2,fe=Math.sin(s)*K+Math.cos(s)*oe+(y.y+R.y)/2,Se=c(1,0,(w-K)/u,(U-oe)/i),Ce=c((w-K)/u,(U-oe)/i,(-w-K)/u,(-U-oe)/i)%(Math.PI*2);d.currentPath.absellipse(Te,fe,u,i,Se,Se+Ce,P===0,s)}function c(d,u,i,s){const _=d*i+u*s,P=Math.sqrt(d*d+u*u)*Math.sqrt(i*i+s*s);let y=Math.acos(Math.max(-1,Math.min(1,_/P)));return d*s-u*i<0&&(y=-y),y}function x(d){const u=B(d.getAttribute("x")||0),i=B(d.getAttribute("y")||0),s=B(d.getAttribute("rx")||d.getAttribute("ry")||0),_=B(d.getAttribute("ry")||d.getAttribute("rx")||0),P=B(d.getAttribute("width")),y=B(d.getAttribute("height")),R=1-.551915024494,X=new Wt;return X.moveTo(u+s,i),X.lineTo(u+P-s,i),(s!==0||_!==0)&&X.bezierCurveTo(u+P-s*R,i,u+P,i+_*R,u+P,i+_),X.lineTo(u+P,i+y-_),(s!==0||_!==0)&&X.bezierCurveTo(u+P,i+y-_*R,u+P-s*R,i+y,u+P-s,i+y),X.lineTo(u+s,i+y),(s!==0||_!==0)&&X.bezierCurveTo(u+s*R,i+y,u,i+y-_*R,u,i+y-_),X.lineTo(u,i+_),(s!==0||_!==0)&&X.bezierCurveTo(u,i+_*R,u+s*R,i,u+s,i),X}function C(d){function u(P,y,R){const X=B(y),L=B(R);_===0?s.moveTo(X,L):s.lineTo(X,L),_++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Wt;let _=0;return d.getAttribute("points").replace(i,u),s.currentPath.autoClose=!0,s}function D(d){function u(P,y,R){const X=B(y),L=B(R);_===0?s.moveTo(X,L):s.lineTo(X,L),_++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Wt;let _=0;return d.getAttribute("points").replace(i,u),s.currentPath.autoClose=!1,s}function A(d){const u=B(d.getAttribute("cx")||0),i=B(d.getAttribute("cy")||0),s=B(d.getAttribute("r")||0),_=new Dr;_.absarc(u,i,s,0,Math.PI*2);const P=new Wt;return P.subPaths.push(_),P}function S(d){const u=B(d.getAttribute("cx")||0),i=B(d.getAttribute("cy")||0),s=B(d.getAttribute("rx")||0),_=B(d.getAttribute("ry")||0),P=new Dr;P.absellipse(u,i,s,_,0,Math.PI*2);const y=new Wt;return y.subPaths.push(P),y}function b(d){const u=B(d.getAttribute("x1")||0),i=B(d.getAttribute("y1")||0),s=B(d.getAttribute("x2")||0),_=B(d.getAttribute("y2")||0),P=new Wt;return P.moveTo(u,i),P.lineTo(s,_),P.currentPath.autoClose=!1,P}function k(d,u){u=Object.assign({},u);let i={};if(d.hasAttribute("class")){const y=d.getAttribute("class").split(/\s/).filter(Boolean).map(R=>R.trim());for(let R=0;R<y.length;R++)i=Object.assign(i,ee["."+y[R]])}d.hasAttribute("id")&&(i=Object.assign(i,ee["#"+d.getAttribute("id")]));function s(y,R,X){X===void 0&&(X=function(w){return w.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),w}),d.hasAttribute(y)&&(u[R]=X(d.getAttribute(y))),i[y]&&(u[R]=X(i[y])),d.style&&d.style[y]!==""&&(u[R]=X(d.style[y]))}function _(y){return Math.max(0,Math.min(1,B(y)))}function P(y){return Math.max(0,B(y))}return s("fill","fill"),s("fill-opacity","fillOpacity",_),s("fill-rule","fillRule"),s("opacity","opacity",_),s("stroke","stroke"),s("stroke-opacity","strokeOpacity",_),s("stroke-width","strokeWidth",P),s("stroke-linejoin","strokeLineJoin"),s("stroke-linecap","strokeLineCap"),s("stroke-miterlimit","strokeMiterLimit",P),s("visibility","visibility"),u}function T(d,u){return d-(u-d)}function g(d,u,i){if(typeof d!="string")throw new TypeError("Invalid input: "+typeof d);const s={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},_=0,P=1,y=2,R=3;let X=_,L=!0,w="",U="";const V=[];function p(N,se,ne){const K=new SyntaxError('Unexpected character "'+N+'" at index '+se+".");throw K.partial=ne,K}function m(){w!==""&&(U===""?V.push(Number(w)):V.push(Number(w)*Math.pow(10,Number(U)))),w="",U=""}let a;const H=d.length;for(let N=0;N<H;N++){if(a=d[N],Array.isArray(u)&&u.includes(V.length%i)&&s.FLAGS.test(a)){X=P,w=a,m();continue}if(X===_){if(s.WHITESPACE.test(a))continue;if(s.DIGIT.test(a)||s.SIGN.test(a)){X=P,w=a;continue}if(s.POINT.test(a)){X=y,w=a;continue}s.COMMA.test(a)&&(L&&p(a,N,V),L=!0)}if(X===P){if(s.DIGIT.test(a)){w+=a;continue}if(s.POINT.test(a)){w+=a,X=y;continue}if(s.EXP.test(a)){X=R;continue}s.SIGN.test(a)&&w.length===1&&s.SIGN.test(w[0])&&p(a,N,V)}if(X===y){if(s.DIGIT.test(a)){w+=a;continue}if(s.EXP.test(a)){X=R;continue}s.POINT.test(a)&&w[w.length-1]==="."&&p(a,N,V)}if(X===R){if(s.DIGIT.test(a)){U+=a;continue}if(s.SIGN.test(a)){if(U===""){U+=a;continue}U.length===1&&s.SIGN.test(U)&&p(a,N,V)}}s.WHITESPACE.test(a)?(m(),X=_,L=!1):s.COMMA.test(a)?(m(),X=_,L=!0):s.SIGN.test(a)?(m(),X=P,w=a):s.POINT.test(a)?(m(),X=y,w=a):p(a,N,V)}return m(),V}const G=["mm","cm","in","pt","pc","px"],q={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function B(d){let u="px";if(typeof d=="string"||d instanceof String)for(let s=0,_=G.length;s<_;s++){const P=G[s];if(d.endsWith(P)){u=P,d=d.substring(0,d.length-P.length);break}}let i;return u==="px"&&r.defaultUnit!=="px"?i=q.in[r.defaultUnit]/r.defaultDPI:(i=q[u][r.defaultUnit],i<0&&(i=q[u].in*r.defaultDPI)),i*parseFloat(d)}function v(d){if(!(d.hasAttribute("transform")||d.nodeName==="use"&&(d.hasAttribute("x")||d.hasAttribute("y"))))return null;const u=z(d);return Q.length>0&&u.premultiply(Q[Q.length-1]),ue.copy(u),Q.push(u),u}function z(d){const u=new mn,i=ie;if(d.nodeName==="use"&&(d.hasAttribute("x")||d.hasAttribute("y"))){const s=B(d.getAttribute("x")),_=B(d.getAttribute("y"));u.translate(s,_)}if(d.hasAttribute("transform")){const s=d.getAttribute("transform").split(")");for(let _=s.length-1;_>=0;_--){const P=s[_].trim();if(P==="")continue;const y=P.indexOf("("),R=P.length;if(y>0&&y<R){const X=P.slice(0,y),L=g(P.slice(y+1));switch(i.identity(),X){case"translate":if(L.length>=1){const w=L[0];let U=0;L.length>=2&&(U=L[1]),i.translate(w,U)}break;case"rotate":if(L.length>=1){let w=0,U=0,V=0;w=L[0]*Math.PI/180,L.length>=3&&(U=L[1],V=L[2]),j.makeTranslation(-U,-V),F.makeRotation(w),O.multiplyMatrices(F,j),j.makeTranslation(U,V),i.multiplyMatrices(j,O)}break;case"scale":if(L.length>=1){const w=L[0];let U=w;L.length>=2&&(U=L[1]),i.scale(w,U)}break;case"skewX":L.length===1&&i.set(1,Math.tan(L[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":L.length===1&&i.set(1,0,0,Math.tan(L[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":L.length===6&&i.set(L[0],L[2],L[4],L[1],L[3],L[5],0,0,1);break}}u.premultiply(i)}}return u}function Y(d,u){function i(y){h.set(y.x,y.y,1).applyMatrix3(u),y.set(h.x,h.y)}function s(y){const R=y.xRadius,X=y.yRadius,L=Math.cos(y.aRotation),w=Math.sin(y.aRotation),U=new Ue(R*L,R*w,0),V=new Ue(-X*w,X*L,0),p=U.applyMatrix3(u),m=V.applyMatrix3(u),a=ie.set(p.x,m.x,0,p.y,m.y,0,0,0,1),H=j.copy(a).invert(),ne=F.copy(H).transpose().multiply(H).elements,K=te(ne[0],ne[1],ne[4]),oe=Math.sqrt(K.rt1),Te=Math.sqrt(K.rt2);if(y.xRadius=1/oe,y.yRadius=1/Te,y.aRotation=Math.atan2(K.sn,K.cs),!((y.aEndAngle-y.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Se=j.set(oe,0,0,0,Te,0,0,0,1),Ce=F.set(K.cs,K.sn,0,-K.sn,K.cs,0,0,0,1),Me=Se.multiply(Ce).multiply(a),Pe=ve=>{const{x:Be,y:Oe}=new Ue(Math.cos(ve),Math.sin(ve),0).applyMatrix3(Me);return Math.atan2(Oe,Be)};y.aStartAngle=Pe(y.aStartAngle),y.aEndAngle=Pe(y.aEndAngle),M(u)&&(y.aClockwise=!y.aClockwise)}}function _(y){const R=Z(u),X=E(u);y.xRadius*=R,y.yRadius*=X;const L=R>Number.EPSILON?Math.atan2(u.elements[1],u.elements[0]):Math.atan2(-u.elements[3],u.elements[4]);y.aRotation+=L,M(u)&&(y.aStartAngle*=-1,y.aEndAngle*=-1,y.aClockwise=!y.aClockwise)}const P=d.subPaths;for(let y=0,R=P.length;y<R;y++){const L=P[y].curves;for(let w=0;w<L.length;w++){const U=L[w];U.isLineCurve?(i(U.v1),i(U.v2)):U.isCubicBezierCurve?(i(U.v0),i(U.v1),i(U.v2),i(U.v3)):U.isQuadraticBezierCurve?(i(U.v0),i(U.v1),i(U.v2)):U.isEllipseCurve&&(ae.set(U.aX,U.aY),i(ae),U.aX=ae.x,U.aY=ae.y,W(u)?s(U):_(U))}}}function M(d){const u=d.elements;return u[0]*u[4]-u[1]*u[3]<0}function W(d){const u=d.elements,i=u[0]*u[3]+u[1]*u[4];if(i===0)return!1;const s=Z(d),_=E(d);return Math.abs(i/(s*_))>Number.EPSILON}function Z(d){const u=d.elements;return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function E(d){const u=d.elements;return Math.sqrt(u[3]*u[3]+u[4]*u[4])}function te(d,u,i){let s,_,P,y,R;const X=d+i,L=d-i,w=Math.sqrt(L*L+4*u*u);return X>0?(s=.5*(X+w),R=1/s,_=d*R*i-u*R*u):X<0?_=.5*(X-w):(s=.5*w,_=-.5*w),L>0?P=L+w:P=L-w,Math.abs(P)>2*Math.abs(u)?(R=-2*u/P,y=1/Math.sqrt(1+R*R),P=R*y):Math.abs(u)===0?(P=1,y=0):(R=-.5*P/u,P=1/Math.sqrt(1+R*R),y=R*P),L>0&&(R=P,P=-y,y=R),{rt1:s,rt2:_,cs:P,sn:y}}const I=[],ee={},Q=[],ie=new mn,j=new mn,F=new mn,O=new mn,ae=new ge,h=new Ue,ue=new mn,De=new DOMParser().parseFromString(e,"image/svg+xml");return t(De.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:I,xml:De.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},n={loc:t.ORIGIN,t:0};function o(T,g,G,q){const B=T.x,v=g.x,z=G.x,Y=q.x,M=T.y,W=g.y,Z=G.y,E=q.y,te=(Y-z)*(M-Z)-(E-Z)*(B-z),I=(v-B)*(M-Z)-(W-M)*(B-z),ee=(E-Z)*(v-B)-(Y-z)*(W-M),Q=te/ee,ie=I/ee;if(ee===0&&te!==0||Q<=0||Q>=1||ie<0||ie>1)return null;if(te===0&&ee===0){for(let j=0;j<2;j++)if(l(j===0?G:q,T,g),n.loc==t.ORIGIN){const F=j===0?G:q;return{x:F.x,y:F.y,t:n.t}}else if(n.loc==t.BETWEEN){const F=+(B+n.t*(v-B)).toPrecision(10),O=+(M+n.t*(W-M)).toPrecision(10);return{x:F,y:O,t:n.t}}return null}else{for(let O=0;O<2;O++)if(l(O===0?G:q,T,g),n.loc==t.ORIGIN){const ae=O===0?G:q;return{x:ae.x,y:ae.y,t:n.t}}const j=+(B+Q*(v-B)).toPrecision(10),F=+(M+Q*(W-M)).toPrecision(10);return{x:j,y:F,t:Q}}}function l(T,g,G){const q=G.x-g.x,B=G.y-g.y,v=T.x-g.x,z=T.y-g.y,Y=q*z-v*B;if(T.x===g.x&&T.y===g.y){n.loc=t.ORIGIN,n.t=0;return}if(T.x===G.x&&T.y===G.y){n.loc=t.DESTINATION,n.t=1;return}if(Y<-Number.EPSILON){n.loc=t.LEFT;return}if(Y>Number.EPSILON){n.loc=t.RIGHT;return}if(q*v<0||B*z<0){n.loc=t.BEHIND;return}if(Math.sqrt(q*q+B*B)<Math.sqrt(v*v+z*z)){n.loc=t.BEYOND;return}let M;q!==0?M=v/q:M=z/B,n.loc=t.BETWEEN,n.t=M}function c(T,g){const G=[],q=[];for(let B=1;B<T.length;B++){const v=T[B-1],z=T[B];for(let Y=1;Y<g.length;Y++){const M=g[Y-1],W=g[Y],Z=o(v,z,M,W);Z!==null&&G.find(E=>E.t<=Z.t+Number.EPSILON&&E.t>=Z.t-Number.EPSILON)===void 0&&(G.push(Z),q.push(new ge(Z.x,Z.y)))}}return q}function x(T,g,G){const q=new ge;g.getCenter(q);const B=[];return G.forEach(v=>{v.boundingBox.containsPoint(q)&&c(T,v.points).forEach(Y=>{B.push({identifier:v.identifier,isCW:v.isCW,point:Y})})}),B.sort((v,z)=>v.point.x-z.point.x),B}function C(T,g,G,q,B){(B==null||B==="")&&(B="nonzero");const v=new ge;T.boundingBox.getCenter(v);const z=[new ge(G,v.y),new ge(q,v.y)],Y=x(z,T.boundingBox,g);Y.sort((I,ee)=>I.point.x-ee.point.x);const M=[],W=[];Y.forEach(I=>{I.identifier===T.identifier?M.push(I):W.push(I)});const Z=M[0].point.x,E=[];let te=0;for(;te<W.length&&W[te].point.x<Z;)E.length>0&&E[E.length-1]===W[te].identifier?E.pop():E.push(W[te].identifier),te++;if(E.push(T.identifier),B==="evenodd"){const I=E.length%2===0,ee=E[E.length-2];return{identifier:T.identifier,isHole:I,for:ee}}else if(B==="nonzero"){let I=!0,ee=null,Q=null;for(let ie=0;ie<E.length;ie++){const j=E[ie];I?(Q=g[j].isCW,I=!1,ee=j):Q!==g[j].isCW&&(Q=g[j].isCW,I=!0)}return{identifier:T.identifier,isHole:I,for:ee}}else console.warn('fill-rule: "'+B+'" is currently not implemented.')}let D=999999999,A=-999999999,S=e.subPaths.map(T=>{const g=T.getPoints();let G=-999999999,q=999999999,B=-999999999,v=999999999;for(let z=0;z<g.length;z++){const Y=g[z];Y.y>G&&(G=Y.y),Y.y<q&&(q=Y.y),Y.x>B&&(B=Y.x),Y.x<v&&(v=Y.x)}return A<=B&&(A=B+1),D>=v&&(D=v-1),{curves:T.curves,points:g,isCW:Ds.isClockWise(g),identifier:-1,boundingBox:new Rs(new ge(v,q),new ge(B,G))}});S=S.filter(T=>T.points.length>1);for(let T=0;T<S.length;T++)S[T].identifier=T;const b=S.map(T=>C(T,S,D,A,e.userData?e.userData.style.fillRule:void 0)),k=[];return S.forEach(T=>{if(!b[T.identifier].isHole){const G=new Os;G.curves=T.curves,b.filter(B=>B.isHole&&B.for===T.identifier).forEach(B=>{const v=S[B.identifier],z=new Dr;z.curves=v.curves,G.holes.push(z)}),k.push(G)}}),k}static getStrokeStyle(e,r,t,n,o){return e=e!==void 0?e:1,r=r!==void 0?r:"#000",t=t!==void 0?t:"miter",n=n!==void 0?n:"butt",o=o!==void 0?o:4,{strokeColor:r,strokeWidth:e,strokeLineJoin:t,strokeLineCap:n,strokeMiterLimit:o}}static pointsToStroke(e,r,t,n){const o=[],l=[],c=[];if(Ir.pointsToStrokeWithBuffers(e,r,t,n,o,l,c)===0)return null;const x=new Ar;return x.setAttribute("position",new Hn(o,3)),x.setAttribute("normal",new Hn(l,3)),x.setAttribute("uv",new Hn(c,2)),x}static pointsToStrokeWithBuffers(e,r,t,n,o,l,c,x){const C=new ge,D=new ge,A=new ge,S=new ge,b=new ge,k=new ge,T=new ge,g=new ge,G=new ge,q=new ge,B=new ge,v=new ge,z=new ge,Y=new ge,M=new ge,W=new ge,Z=new ge;t=t!==void 0?t:12,n=n!==void 0?n:.001,x=x!==void 0?x:0,e=L(e);const E=e.length;if(E<2)return 0;const te=e[0].equals(e[E-1]);let I,ee=e[0],Q;const ie=r.strokeWidth/2,j=1/(E-1);let F=0,O,ae,h,ue,De=!1,re=0,d=x*3,u=x*2;i(e[0],e[1],C).multiplyScalar(ie),g.copy(e[0]).sub(C),G.copy(e[0]).add(C),q.copy(g),B.copy(G);for(let w=1;w<E;w++){I=e[w],w===E-1?te?Q=e[1]:Q=void 0:Q=e[w+1];const U=C;if(i(ee,I,U),A.copy(U).multiplyScalar(ie),v.copy(I).sub(A),z.copy(I).add(A),O=F+j,ae=!1,Q!==void 0){i(I,Q,D),A.copy(D).multiplyScalar(ie),Y.copy(I).sub(A),M.copy(I).add(A),h=!0,A.subVectors(Q,ee),U.dot(A)<0&&(h=!1),w===1&&(De=h),A.subVectors(Q,I),A.normalize();const V=Math.abs(U.dot(A));if(V>Number.EPSILON){const p=ie/V;A.multiplyScalar(-p),S.subVectors(I,ee),b.copy(S).setLength(p).add(A),W.copy(b).negate();const m=b.length(),a=S.length();S.divideScalar(a),k.subVectors(Q,I);const H=k.length();switch(k.divideScalar(H),S.dot(W)<a&&k.dot(W)<H&&(ae=!0),Z.copy(b).add(I),W.add(I),ue=!1,ae?h?(M.copy(W),z.copy(W)):(Y.copy(W),v.copy(W)):P(),r.strokeLineJoin){case"bevel":y(h,ae,O);break;case"round":R(h,ae),h?_(I,v,Y,O,0):_(I,M,z,O,1);break;case"miter":case"miter-clip":default:const N=ie*r.strokeMiterLimit/m;if(N<1)if(r.strokeLineJoin!=="miter-clip"){y(h,ae,O);break}else R(h,ae),h?(k.subVectors(Z,v).multiplyScalar(N).add(v),T.subVectors(Z,Y).multiplyScalar(N).add(Y),s(v,O,0),s(k,O,0),s(I,O,.5),s(I,O,.5),s(k,O,0),s(T,O,0),s(I,O,.5),s(T,O,0),s(Y,O,0)):(k.subVectors(Z,z).multiplyScalar(N).add(z),T.subVectors(Z,M).multiplyScalar(N).add(M),s(z,O,1),s(k,O,1),s(I,O,.5),s(I,O,.5),s(k,O,1),s(T,O,1),s(I,O,.5),s(T,O,1),s(M,O,1));else ae?(h?(s(G,F,1),s(g,F,0),s(Z,O,0),s(G,F,1),s(Z,O,0),s(W,O,1)):(s(G,F,1),s(g,F,0),s(Z,O,1),s(g,F,0),s(W,O,0),s(Z,O,1)),h?Y.copy(Z):M.copy(Z)):h?(s(v,O,0),s(Z,O,0),s(I,O,.5),s(I,O,.5),s(Z,O,0),s(Y,O,0)):(s(z,O,1),s(Z,O,1),s(I,O,.5),s(I,O,.5),s(Z,O,1),s(M,O,1)),ue=!0;break}}else P()}else P();!te&&w===E-1&&X(e[0],q,B,h,!0,F),F=O,ee=I,g.copy(Y),G.copy(M)}if(!te)X(I,v,z,h,!1,O);else if(ae&&o){let w=Z,U=W;De!==h&&(w=W,U=Z),h?(ue||De)&&(U.toArray(o,0*3),U.toArray(o,3*3),ue&&w.toArray(o,1*3)):(ue||!De)&&(U.toArray(o,1*3),U.toArray(o,3*3),ue&&w.toArray(o,0*3))}return re;function i(w,U,V){return V.subVectors(U,w),V.set(-V.y,V.x).normalize()}function s(w,U,V){o&&(o[d]=w.x,o[d+1]=w.y,o[d+2]=0,l&&(l[d]=0,l[d+1]=0,l[d+2]=1),d+=3,c&&(c[u]=U,c[u+1]=V,u+=2)),re+=3}function _(w,U,V,p,m){C.copy(U).sub(w).normalize(),D.copy(V).sub(w).normalize();let a=Math.PI;const H=C.dot(D);Math.abs(H)<1&&(a=Math.abs(Math.acos(H))),a/=t,A.copy(U);for(let N=0,se=t-1;N<se;N++)S.copy(A).rotateAround(w,a),s(A,p,m),s(S,p,m),s(w,p,.5),A.copy(S);s(S,p,m),s(V,p,m),s(w,p,.5)}function P(){s(G,F,1),s(g,F,0),s(v,O,0),s(G,F,1),s(v,O,0),s(z,O,1)}function y(w,U,V){U?w?(s(G,F,1),s(g,F,0),s(v,O,0),s(G,F,1),s(v,O,0),s(W,O,1),s(v,V,0),s(Y,V,0),s(W,V,.5)):(s(G,F,1),s(g,F,0),s(z,O,1),s(g,F,0),s(W,O,0),s(z,O,1),s(z,V,1),s(W,V,0),s(M,V,1)):w?(s(v,V,0),s(Y,V,0),s(I,V,.5)):(s(z,V,1),s(M,V,0),s(I,V,.5))}function R(w,U){U&&(w?(s(G,F,1),s(g,F,0),s(v,O,0),s(G,F,1),s(v,O,0),s(W,O,1),s(v,F,0),s(I,O,.5),s(W,O,1),s(I,O,.5),s(Y,F,0),s(W,O,1)):(s(G,F,1),s(g,F,0),s(z,O,1),s(g,F,0),s(W,O,0),s(z,O,1),s(z,F,1),s(W,O,0),s(I,O,.5),s(I,O,.5),s(W,O,0),s(M,F,1)))}function X(w,U,V,p,m,a){switch(r.strokeLineCap){case"round":m?_(w,V,U,a,.5):_(w,U,V,a,.5);break;case"square":if(m)C.subVectors(U,w),D.set(C.y,-C.x),A.addVectors(C,D).add(w),S.subVectors(D,C).add(w),p?(A.toArray(o,1*3),S.toArray(o,0*3),S.toArray(o,3*3)):(A.toArray(o,1*3),c[3*2+1]===1?S.toArray(o,3*3):A.toArray(o,3*3),S.toArray(o,0*3));else{C.subVectors(V,w),D.set(C.y,-C.x),A.addVectors(C,D).add(w),S.subVectors(D,C).add(w);const H=o.length;p?(A.toArray(o,H-1*3),S.toArray(o,H-2*3),S.toArray(o,H-4*3)):(S.toArray(o,H-2*3),A.toArray(o,H-1*3),S.toArray(o,H-4*3))}break}}function L(w){let U=!1;for(let p=1,m=w.length-1;p<m;p++)if(w[p].distanceTo(w[p+1])<n){U=!0;break}if(!U)return w;const V=[];V.push(w[0]);for(let p=1,m=w.length-1;p<m;p++)w[p].distanceTo(w[p+1])>=n&&V.push(w[p]);return V.push(w[w.length-1]),V}}}function bi(f,e,r,t){const{CUBE_SIZE:n,FIRST_CUBE_Z:o}=t,l=8,c=24,x=.075,C=200;let D,A=[],S=[],b=[],k=[];const T=(v,z,Y,M)=>{const W=new En(v,v,v),Z=new Gn(W),E=[new It({color:16711680,transparent:!0,opacity:M.opacity,blending:Ut}),new It({color:65280,transparent:!0,opacity:M.opacity,blending:Ut}),new It({color:255,transparent:!0,opacity:M.opacity,blending:Ut}),new It({color:65535,transparent:!0,opacity:M.opacity,blending:Ut}),new It({color:16711935,transparent:!0,opacity:M.opacity,blending:Ut}),new It({color:16776960,transparent:!0,opacity:M.opacity,blending:Ut})],te=new yt,I=Z.getAttribute("position").array,ee=[];for(let j=0;j<I.length/3;j+=2)ee.push(j,j+1);const Q=Array(6).fill(null).map(()=>new Ar),ie=Array(6).fill(null).map(()=>[]);for(let j=0;j<ee.length/2;j++){const F=j%6;ie[F].push(ee[j*2],ee[j*2+1])}return Q.forEach((j,F)=>{j.setIndex(ie[F]),j.setAttribute("position",Z.getAttribute("position"));const O=new Vt(j,E[F]);te.add(O)}),te.position.z=z,te.rotation.z=Y,te};return(()=>{const Y=.9/(c-1);for(let ee=0;ee<c;ee++)S[ee]=new It({transparent:!0,opacity:1-ee*Y});if(D=new yt,!D){console.error("introGroup failed to initialize");return}for(let ee=0;ee<c;ee++){const Q=n-ee*l,ie=T(Q,0,0,S[ee]),j=ie.children.map(F=>F.material);k.push(j.map(F=>({material:F,originalColor:F.color.clone()}))),D.add(ie)}D.position.z=o,e.add(D),A.push(D),b=S.map(ee=>ee.opacity);const M=$e.timeline({repeat:-1});M.to(D.rotation,{x:pt.degToRad(360),duration:12,ease:"none"},0),M.to(D.rotation,{y:pt.degToRad(360),duration:10,ease:"none"},0),M.to(D.rotation,{z:pt.degToRad(360),duration:14,ease:"none"},0);let W=-1,Z=0;const E=x*1e3,te=c*E,I=ee=>{const Q=ee%te/E,ie=Math.floor(Q)%c;W!==-1&&ee-Z>=E&&(k[W].forEach(O=>{O.material.opacity=b[W],O.material.color.copy(O.originalColor)}),W=-1),W===-1&&ie!==W&&(W=ie,Z=ee,k[W].forEach(F=>{F.material.opacity=1,F.material.color.set(1,1,1)})),requestAnimationFrame(I)};requestAnimationFrame(I)})(),r.then(v=>{if(v){const z=G(v);f.add(z)}}),{introCubes:A};function G(v){const z=new yt,Y=q(v);Y.position.set(0,-36,0),z.add(Y),B(W=>{z.add(W),$e.fromTo(Y.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const Z=W.children.find(E=>E instanceof je&&E!==W.children[0]);if(Z){const E=Z.position.y;$e.to(Z.position,{y:E+3,duration:1,ease:"easeOut",onComplete:()=>{Z.position.y=E},repeat:-1})}}),z.position.x=0,z.position.y=-240;const M=o-c*l;return z.position.z=M+C,z}function q(v){const z=new Ss("SCROLL TO CONTINUE",{font:v,size:8,depth:0,curveSegments:12,bevelEnabled:!1});z.computeBoundingBox(),z.center();const Y=new At({color:16777215,transparent:!0,opacity:1});return new je(z,Y)}function B(v){new Ir().load("/3D/mouse.svg",Y=>{const M=Y.paths;let W=null,Z=null,E=new yt;if(M.forEach((te,I)=>{Ir.createShapes(te).forEach(Q=>{const ie=new Ns(Q);ie.computeBoundingBox();const j=new At({color:16777215,transparent:!0,opacity:1,side:bn}),F=new je(ie,j);F.scale.set(.05,.05,1),I===0?W=F:I===1&&(Z=F)})}),W&&Z){E.add(W),E.add(Z);const I=(W.geometry.boundingBox.max.x-W.geometry.boundingBox.min.x)*W.scale.x/2;E.position.x=-I,E.rotation.x=Math.PI,v(E)}})}}class wi extends jo{constructor(e){super(e)}load(e,r,t,n){const o=this,l=new qo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){const x=o.parse(JSON.parse(c));r&&r(x)},t,n)}parse(e){return new vi(e)}}class vi{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const t=[],n=Ti(e,r,this.data);for(let o=0,l=n.length;o<l;o++)t.push(...n[o].toShapes());return t}}function Ti(f,e,r){const t=Array.from(f),n=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*n,l=[];let c=0,x=0;for(let C=0;C<t.length;C++){const D=t[C];if(D===`
`)c=0,x-=o;else{const A=Si(D,n,c,x,r);c+=A.offsetX,l.push(A.path)}}return l}function Si(f,e,r,t,n){const o=n.glyphs[f]||n.glyphs["?"];if(!o){console.error('THREE.Font: character "'+f+'" does not exists in font family '+n.familyName+".");return}const l=new Wt;let c,x,C,D,A,S,b,k;if(o.o){const T=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let g=0,G=T.length;g<G;)switch(T[g++]){case"m":c=T[g++]*e+r,x=T[g++]*e+t,l.moveTo(c,x);break;case"l":c=T[g++]*e+r,x=T[g++]*e+t,l.lineTo(c,x);break;case"q":C=T[g++]*e+r,D=T[g++]*e+t,A=T[g++]*e+r,S=T[g++]*e+t,l.quadraticCurveTo(A,S,C,D);break;case"b":C=T[g++]*e+r,D=T[g++]*e+t,A=T[g++]*e+r,S=T[g++]*e+t,b=T[g++]*e+r,k=T[g++]*e+t,l.bezierCurveTo(A,S,b,k,C,D);break}}return{offsetX:o.ha*e,path:l}}function Ci(f,e,r,t){const{CUBE_SIZE:n,CUBE_SPACING:o,FIRST_CUBE_Z:l}=e,c=l-(r.length+1)*o,x=65535,C=16711935,D=16711680,A=pt.degToRad(15),S=1e3,b=.5,k=80,T=1,g=15,G=.1;let q=[],B=null,v=null,z=!1,Y=!1,M=new Bs,W=new ge,Z=null,E=null,te=null,I=!1,ee=null,Q=!1;const ie=(re,d,u,i,s)=>{const _=new yt;_.position.z=d,_.rotation.z=u,_.userData.isActive=!1;const P=new En(re,re,re),y=new Gn(P),R=new It({color:new ht(x),transparent:!0,opacity:0}),X=new Vt(y,R);_.add(X);let L="right";const w=()=>{const m=new yo(40,24),a=new Gn(m),H=new It({color:new ht(x),transparent:!0,opacity:0,visible:!0}),N=new Vt(a,H);N.userData.isPortal=!0,N.userData.isAnimating=!1;const se=new Ln(120,120),ne=new At({visible:!1,side:bn}),K=new je(se,ne);K.userData.isPortalHitbox=!0,K.userData.portal=N;const oe=new yt,Te=new Ln(T,g),fe=65/2;for(let Pe=0;Pe<k;Pe++){const ve=new At({color:new ht(C),transparent:!0,opacity:0,visible:!1,side:bn}),Be=new je(Te,ve),Oe=Pe/k*Math.PI*2;Be.position.set(Math.cos(Oe)*fe,Math.sin(Oe)*fe,0),Be.rotation.z=Oe+Math.PI/2,Be.userData.baseOpacity=.01,Be.userData.index=Pe,oe.add(Be)}const Se=2,Ce=25;for(let Pe=1;Pe<Ce;Pe++){const ve=new yo(40,24),Be=new Gn(ve),Oe=pt.lerp(1,.1,Pe/(Ce-1)),kt=new It({color:new ht(x),transparent:!0,opacity:0}),Tt=new Vt(Be,kt);Tt.userData.isPortal=!0,Tt.userData.maxOpacity=Oe,Tt.position.z=-Pe*Se,N.add(Tt)}switch(N.userData.maxOpacity=1,L){case"left":case"right":oe.children.forEach(Pe=>{Pe.position.x+=G});break;case"top":case"bottom":oe.children.forEach(Pe=>{Pe.position.y+=G});break}N.add(oe),_.add(N),_.add(K),N.updateMatrixWorld(!0),oe.updateMatrixWorld(!0);const Me=re/2;switch(L){case"left":N.position.set(-Me,0,0),N.rotation.y=Math.PI/2,K.position.set(-Me,0,0),K.rotation.y=Math.PI/2;break;case"top":N.position.set(0,Me,0),N.rotation.x=-Math.PI/2,K.position.set(0,Me,0),K.rotation.x=-Math.PI/2;break;case"right":N.position.set(Me,0,0),N.rotation.y=-Math.PI/2,K.position.set(Me,0,0),K.rotation.y=-Math.PI/2;break;case"bottom":N.position.set(0,-Me,0),N.rotation.x=Math.PI/2,K.position.set(0,-Me,0),K.rotation.y=Math.PI/2;break}};return i?new mo().load(i,p=>{p.encoding=void 0;const m=new Ln(re-1,re-1),a=new At({map:p,transparent:!0,opacity:0,blending:Ut,side:bn}),H=new je(m,a),N=["left","top","right","bottom"].includes(s)?s:"left",se=re/2;switch(N){case"left":H.position.set(-se,0,0),H.rotation.y=Math.PI/2,L="right";break;case"top":H.position.set(0,se,0),H.rotation.x=Math.PI/2,H.rotation.z=-Math.PI/2,L="bottom";break;case"right":H.position.set(se,0,0),H.rotation.y=-Math.PI/2,L="left";break;case"bottom":H.position.set(0,-se,0),H.rotation.x=-Math.PI/2,H.rotation.z=-Math.PI/2,L="top";break}_.add(H),w()},void 0,p=>{w()}):w(),new mo().load(t,V=>{V.encoding=void 0;const p=new Ln(re-1,re-1),m=new At({map:V,transparent:!0,opacity:0,blending:Ut,side:bn}),a=new je(p,m);a.position.set(0,0,-re/2-1),a.userData.isGridPlane=!0,_.add(a)},void 0,V=>{console.error("Error loading projectGridFile:",V)}),_},j=(re,d,u,i,s,_)=>{const P=new Ss(re,{font:_,size:s,depth:0,curveSegments:12,bevelEnabled:!1});P.computeBoundingBox(),P.center();const y=new At({color:16777215,transparent:!0,opacity:0,side:bn}),R=new je(P,y);return R.position.set(d,u,i),f.add(R),R},F=()=>new Promise(re=>{B=new wi,B.load("/fonts/Poppins_Regular.json",d=>{v=d;const u=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r),u.forEach((i,s)=>{const _=l-(s+1)*o,P=(s+1)*A,y=ie(n,_,P,i.keyart,i.keyartLocation);f.add(y),q.push(y),j(i.title,0,i.size-15,l+90-(s+1)*o,i.size,d)}),re()},void 0,d=>console.error("Error loading font:",d))}),O=()=>z?Promise.resolve({projectCubes:q,updateCubeColors:ue,loadedFont:v}):F().then(()=>(z=!0,{projectCubes:q,updateCubeColors:ue,loadedFont:v})),ae=re=>{if(re.userData.isAnimating)return;re.userData.isAnimating=!0;const d=re.children.find(P=>P instanceof yt);if(!d)return;const u=d.children,i=u.length,s=$e.timeline({repeat:-1,defaults:{ease:"none"}}),_={value:0};s.to(_,{value:1,duration:1.5,onUpdate:()=>{u.forEach(y=>{const R=y.material;if(R.visible){const X=(y.userData.index/i+_.value)%1,w=(Math.sin(X*Math.PI*2)+1)/2,U=.01+(1-.01)*Math.pow(w,4);R.opacity=U}})}}),re.userData.animationTimeline=s},h=re=>{if(!re.userData.isAnimating)return;re.userData.isAnimating=!1;const d=re.children.find(u=>u instanceof yt);d&&(re.userData.animationTimeline&&(re.userData.animationTimeline.kill(),delete re.userData.animationTimeline),d.children.forEach(u=>{const i=u.material;i.opacity=0}))},ue=re=>{const d=re.position.z;let u=[];f.traverse(i=>{i instanceof je&&i.geometry&&i.geometry.type==="TextGeometry"&&u.push(i)}),Y||(Y=!0),q.forEach(i=>{const s=i.position.z,_=Math.abs(d-s);let P=0;_<=S&&(P=1-_/S),i.userData.isActive=P>=b,i.children.forEach(y=>{if(y instanceof Vt&&!y.userData.isPortal&&!y.userData.isPortalHitbox){const R=y.material;if(_<=S){const X=pt.lerp((x>>16&255)/255,(C>>16&255)/255,P),L=pt.lerp((x>>8&255)/255,(C>>8&255)/255,P),w=pt.lerp((x&255)/255,(C&255)/255,P);R.color.set(X,L,w),R.opacity=Math.min(1,P*2)}else R.opacity=0}else if(y instanceof Vt&&y.userData.isPortal)Y&&(P>.1?y.children.forEach(R=>{R instanceof yt&&R.children.forEach(X=>{X instanceof je&&(X.material.visible=!0,y.userData.animationStarted||(ae(y),y.userData.animationStarted=!0))})}):P<=.1&&y.userData.animationStarted&&(y.children.forEach(R=>{R instanceof yt&&R.children.forEach(X=>{X instanceof je&&(X.material.visible=!1)})}),h(y),delete y.userData.animationStarted));else if(y instanceof je&&!y.userData.isPortalHitbox){const R=y.material;if(_<=S){const X=1-_/S;R.opacity=Math.min(.8,X*2)}else R.opacity=0}})}),u.forEach(i=>{const s=i.material,_=i.position.z,P=Math.abs(d-_+120);if(P<=S){const y=1-P/S;s.opacity=Math.min(1,y*2)}else s.opacity=0})};return{getInitializedData:O,updateCubeColors:ue,setupInteractivity:(re,d,u)=>{ee=u;let i=null,s=null,_=null;const P=a=>{W.x=a.clientX/window.innerWidth*2-1,W.y=-(a.clientY/window.innerHeight)*2+1,M.setFromCamera(W,re);const H=[];q.forEach(se=>{se.userData.isActive&&se.children.forEach(ne=>{ne instanceof je&&ne.userData.isPortalHitbox&&H.push(ne)})});const N=M.intersectObjects(H);if(N.length>0){const ne=N[0].object.userData.portal;if(Z!==ne){if(Z){const oe=Z.material;$e.to(oe.color,{r:(x>>16&255)/255,g:(x>>8&255)/255,b:(x&255)/255,duration:.5})}Z=ne;const K=Z.material;$e.to(K.color,{r:(D>>16&255)/255,g:(D>>8&255)/255,b:(D&255)/255,duration:.5})}d.style.cursor="pointer"}else{if(Z){const se=Z.material;$e.to(se.color,{r:(x>>16&255)/255,g:(x>>8&255)/255,b:(x&255)/255,duration:.5}),Z=null}d.style.cursor="auto"}},y=(a,H=!1)=>{a.children.find(se=>se instanceof yt)},R=(a,H=!0)=>{const N=[a,...a.children.filter(ne=>ne instanceof Vt&&ne.userData.isPortal)],se=H?25:2;N.forEach((ne,K)=>{const oe=-K*se,Te=H?ne.userData.maxOpacity:0;$e.to(ne.position,{z:oe,duration:1,ease:"power3.out",delay:.5}),$e.to(ne.material,{opacity:Te,duration:1,ease:"power3.out",delay:.5})})},X=a=>{if(I)return;W.x=a.clientX/window.innerWidth*2-1,W.y=-(a.clientY/window.innerHeight)*2+1,M.setFromCamera(W,re);const H=[];q.forEach(se=>{se.userData.isActive&&se.children.forEach(ne=>{ne instanceof je&&ne.userData.isPortalHitbox&&H.push(ne)})});const N=M.intersectObjects(H);if(N.length>0){const se=N[0].object,ne=se.userData.portal,K=se.parent;E||(E=re.position.clone(),te=new Ue(0,0,c)),ee&&ee(!0,E,te);const oe=ne.getWorldPosition(new Ue),Te={x:te.x,y:te.y,z:te.z};$e.to(Te,{x:oe.x,y:oe.y,z:oe.z,duration:2,ease:"power3.out",onStart:()=>{I=!0,i=window.scrollY,document.body.classList.add("no-scrollbar"),_=ne,y(ne),R(ne,!0)},onUpdate:()=>{re.lookAt(Te.x,Te.y,Te.z)}});const fe=K.getWorldPosition(new Ue),Se=new Ue(0,0,fe.z);$e.to(re.position,{x:Se.x,y:Se.y,z:Se.z,duration:2,ease:"power3.out"})}},L=()=>{if(!E||!te)return;Q=!0;const a=te.clone(),H=new Ue;re.getWorldDirection(H),H.multiplyScalar(1e3).add(re.position);const N={x:H.x,y:H.y,z:H.z};$e.to(re.position,{x:E.x,y:E.y,z:E.z,duration:1,ease:"power3.out"}),$e.to(N,{x:a.x,y:a.y,z:a.z,duration:1,ease:"power3.out",onUpdate:()=>{re.lookAt(N.x,N.y,N.z)},onStart:()=>{_&&(y(_,!0),R(_,!1))},onComplete:()=>{I=!1,ee&&ee(!1),E=null,te=null,_=null,Q=!1,i=null,document.body.classList.remove("no-scrollbar")}})},w=a=>{I&&!Q&&E&&te&&(a.preventDefault(),a.stopPropagation(),a.deltaY<0&&L())},U=a=>{I&&!Q&&(s=a.touches[0].clientY)},V=a=>{if(I&&!Q&&s!==null&&i!==null){const H=a.touches[0].clientY,N=s-H;N>0?(a.preventDefault(),window.scrollTo(0,i)):N<0&&(a.preventDefault(),L())}},p=a=>{s=null},m=a=>{if(I&&!Q&&i!==null){const H=window.scrollY;H>i?window.scrollTo(0,i):H<i&&L()}};return d.addEventListener("mousemove",P),d.addEventListener("click",X),d.addEventListener("wheel",w,{passive:!1}),d.addEventListener("touchstart",U,{passive:!1}),d.addEventListener("touchmove",V,{passive:!1}),d.addEventListener("touchend",p),window.addEventListener("scroll",m),()=>{d.removeEventListener("mousemove",P),d.removeEventListener("click",X),d.removeEventListener("wheel",w),d.removeEventListener("touchstart",U),d.removeEventListener("touchmove",V),d.removeEventListener("touchend",p),window.removeEventListener("scroll",m),d.style.cursor="auto",document.body.classList.remove("no-scrollbar")}}}}function Mi(f,e){let B,v,z,Y=[],M=[],W=[],Z=[],E=[];const te=()=>{B=new yt;const Q=new En(100,100,100),ie=new Gn(Q),j=32*60,F=new zs;F.copy(ie),F.instanceCount=j;const O=new It({color:2236962,transparent:!0,fog:!0,vertexColors:!0}),ae=new Float32Array(j*3),h=new Float32Array(j*3),ue=new Float32Array(j*3),De=32*100,re=-3200/2+100/2,d=-500;for(let N=0;N<32;N++){const se=I(N);for(let ne=0;ne<60;ne++){const K=N*60+ne,oe=re+N*100,Te=d-ne*100,fe=pt.randFloat(100,300),Se=fe/100,Ce=-600+fe/2;ae[K*3]=oe,ae[K*3+1]=Ce,ae[K*3+2]=Te,h[K*3]=1,h[K*3+1]=Se,h[K*3+2]=1,ue[K*3]=se,ue[K*3+1]=se,ue[K*3+2]=se}}F.setAttribute("instancePosition",new Or(ae,3)),F.setAttribute("instanceScale",new Or(h,3)),F.setAttribute("color",new Or(ue,3)),O.onBeforeCompile=N=>{N.vertexShader=`
                attribute vec3 instancePosition;
                attribute vec3 instanceScale;
                ${N.vertexShader}
            `.replace("#include <begin_vertex>",`#include <begin_vertex>
                transformed *= instanceScale;
                transformed += instancePosition;`)},v=new Vt(F,O);const u=-3200/2,i=De/2,s=-600,_=-300,P=-6500,y=-500;F.boundingBox=new Us(new Ue(u,s,P),new Ue(i,_,y));const R=(u+i)/2,X=(s+_)/2,L=(P+y)/2,w=i-u,U=_-s,V=y-P,p=Math.sqrt(w*w+U*U+V*V)/2;F.boundingSphere=new Fs(new Ue(R,X,L),p),B.add(v),e.add(B),z=new yt;const m=De/5,a=-3200/2;for(let N=0;N<6;N++){let ne=a+N*m,K=-500;const oe=[new Ue(ne,-450,K)];let Te=0;for(;K>-6500;){const fe=K===-500?pt.randFloat(300,800):Math.min(pt.randFloat(300,800),Math.abs(K- -6500));if(K-=fe,oe.push(new Ue(ne,-450,K)),Te+=fe,K<=-6500){oe[oe.length-1].z=-6500;break}const Se=Math.random()<.5?-1:1,Ce=pt.randFloat(100,300);ne+=Se*Ce,oe.push(new Ue(ne,-450,K)),Te+=Ce}M.push({points:oe,totalLength:Te})}const H=new En(4,4,4);for(let N=0;N<6;N++){const se=M[N],ne=se.totalLength,K=ne/60;for(let oe=0;oe<60;oe++){const Te=new At({color:16711680,fog:!0}),fe=new je(H,Te),Se=oe*K;let Ce=Se;for(let Me=0;Me<se.points.length-1;Me++){const Pe=se.points[Me],ve=se.points[Me+1],Be=Pe.distanceTo(ve);if(Ce<=Be){const Oe=Ce/Be;fe.position.lerpVectors(Pe,ve,Oe);break}Ce-=Be}Y.push(fe),W.push(Se),Z.push(N),E.push(1),z.add(fe)}for(let oe=0;oe<60;oe++){const Te=new At({color:16777215,fog:!0}),fe=new je(H,Te),Se=ne-oe*K;let Ce=ne-Se;const Me=[...se.points].reverse();for(let Pe=0;Pe<Me.length-1;Pe++){const ve=Me[Pe],Be=Me[Pe+1],Oe=ve.distanceTo(Be);if(Ce<=Oe){const kt=Ce/Oe;fe.position.lerpVectors(ve,Be,kt);break}Ce-=Oe}Y.push(fe),W.push(Se),Z.push(N),E.push(-1),z.add(fe)}}e.add(z)},I=Q=>{if(Q<10)return .05+Q*.10555555555555556;if(Q>=22){const ie=31-Q,j=(1-.05)/9;return .05+ie*j}return 1},ee=Q=>{const ie=100*Q;for(let j=0;j<Y.length;j++){const F=E[j];W[j]+=ie*F;const O=Z[j],ae=M[O],h=ae.totalLength;if(F===1&&W[j]>=h)W[j]=0,Y[j].position.copy(ae.points[0]);else if(F===-1&&W[j]<=0)W[j]=h,Y[j].position.copy(ae.points[ae.points.length-1]);else{const ue=W[j],De=F===1?ae.points:[...ae.points].reverse();let re=F===1?ue:h-ue;for(let d=0;d<De.length-1;d++){const u=De[d],i=De[d+1],s=u.distanceTo(i);if(re<=s){const _=re/s;Y[j].position.lerpVectors(u,i,_);break}re-=s}}}};return te(),{cityGroup:B,buildingLines:[v],updateParticles:ee}}function Ei(f,e,r,t,n,o,l){const{CUBE_SPACING:c,FIRST_CUBE_Z:x}=o,C=x-(t.length+1)*c;let D=!1,A=!1;return l&&l((k,T,g)=>{D=k,A=k?!1:A}),$e.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:()=>{const k=Math.abs(C),T=c,G=t.length*T;return`${k+G}px`},scrub:1,pin:!0,onUpdate:k=>{if(!D&&!A){const T=k.progress,g=Math.min(0,pt.lerp(0,C,T));e.position.set(0,0,g),e.lookAt(0,0,C)}n(e)}}}).to(e.position,{z:C,duration:1,ease:"none"}),{setReverting:k=>{A=k}}}function Pi(f,e){const S=new Ar,b=new Float32Array(1e3*3),k=new Float32Array(1e3),T=new Float32Array(1e3);let g=0;for(;g<1e3;){const z=(Math.random()-.5)*4e3,Y=(Math.random()-.5)*4e3,M=-1e3+Math.random()*-8e3,W=M>-7200&&Math.abs(z)<1e3&&Math.abs(Y)<1e3,Z=Math.abs(z)<150&&Math.abs(Y)<150&&M>-2500&&M<-500;if(!W&&!Z){const E=g*3;b[E]=z,b[E+1]=Y,b[E+2]=M;const te=.1+Math.random()*(.7-.1);k[g]=te,T[g]=te,g++}}S.setAttribute("position",new _o(b,3)),S.setAttribute("opacity",new _o(T,1));const G=new on({uniforms:{color:{value:new ht(1,1,1)},size:{value:20}},vertexShader:`
      attribute float opacity;
      varying float vOpacity;
      uniform float size;

      void main() {
        vOpacity = opacity;
        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
        gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
        gl_Position = projectionMatrix * mvPosition;
      }
    `,fragmentShader:`
      uniform vec3 color;
      varying float vOpacity;

      void main() {
        float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
        float alpha = vOpacity * (1.0 - dist);
        if (alpha <= 0.0) discard;
        gl_FragColor = vec4(color, alpha);
      }
    `,transparent:!0,fog:!1,depthWrite:!1}),q=new Hs(S,G);f.add(q);const B=S.attributes.opacity;for(let z=0;z<1e3;z++)$e.to({opacity:k[z]},{opacity:.05,duration:1+Math.random(),yoyo:!0,repeat:-1,ease:"sine.inOut",delay:Math.random()*2,onUpdate:function(){T[z]=this.targets()[0].opacity,B.needsUpdate=!0}});return{dispose:()=>{$e.killTweensOf(T),f.remove(q),S.dispose(),G.dispose()}}}const Fo=250,Ho=500,Yr=-500,Wr=-520,Go=-720,Ii=ro({__name:"HallwayEngine",props:{projects:{},projectGridFile:{}},setup(f){$e.registerPlugin(me);const e=f,r=Xr(null),t=Xr(null);let n,o,l,c,x,C,D,A,S=0,b=null,k=null,T=null;const g=()=>{const v=r.value?r.value.getBoundingClientRect().width:window.innerWidth,z=window.innerHeight;l.setSize(v,z),c.setSize(v,z),o.aspect=v/z,o.far=6e4,o.updateProjectionMatrix()},G=()=>{n=new Vo,n.background=new ht(0),n.fog=new Gs(0,700,4e3),o=new Ys(75,window.innerWidth/window.innerHeight,1,6e4),o.position.set(0,0,0),o.lookAt(0,0,1e3),l=new Zo({antialias:!0}),l.setPixelRatio(window.devicePixelRatio),l.toneMapping=Ws,l.toneMappingExposure=1,l.outputEncoding=void 0,c=new Ko(l);const v=new Jo(n,o);if(c.addPass(v),x=new un(new ge(window.innerWidth,window.innerHeight),6,.4,0),x.renderToScreen=!0,c.addPass(x),g(),r.value)r.value.appendChild(l.domElement);else return;D=new Kn,D.dom.style.position="fixed",D.dom.style.top="0px",D.dom.style.left="0px",D.dom.style.zIndex="1000",document.body.appendChild(D.dom);const{updateParticles:z}=Mi(n,n);A=z;const Y=Ci(n,{CUBE_SIZE:Fo,CUBE_SPACING:Ho,FIRST_CUBE_Z:Yr},e.projects,e.projectGridFile);Y.getInitializedData().then(({projectCubes:W,updateCubeColors:Z,loadedFont:E})=>{const{introCubes:te}=bi(n,n,Promise.resolve(E),{CUBE_SIZE:Fo,FIRST_CUBE_Z:Yr}),I=[...te,...W],{setReverting:ee}=Ei(n,o,t,I,Z,{CUBE_SPACING:Ho,FIRST_CUBE_Z:Yr},(Q,ie,j)=>{T&&T(Q)});T=ee,k=Y.setupInteractivity(o,l.domElement,(Q,ie,j)=>{T&&T(Q)}),q()});const{dispose:M}=Pi(n);b=M},q=(v=0)=>{if(C=requestAnimationFrame(q),l&&c){const z=(v-S)/1e3;S=v,A(z);const Y=Go-Wr;let M=0;o.position.z>=Wr?M=0:o.position.z<=Go?M=1:M=(o.position.z-Wr)/Y,x.strength=pt.lerp(1,.125,M),c.render()}me.update(),D.update()};Yo(()=>{G(),window.addEventListener("resize",B)}),Wo(()=>{k&&k(),window.removeEventListener("resize",B),cancelAnimationFrame(C),me.getAll().forEach(v=>v.kill()),l.dispose(),c.dispose(),n.clear(),document.body.removeChild(D.dom),b&&b()});const B=()=>{g(),me.refresh()};return(v,z)=>(so(),oo("section",{ref_key:"wrapper",ref:t,class:"wrapper"},[xn("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),Ai=Zs(Ii,[["__scopeId","data-v-18099530"]]),ki={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},Ri={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Di={class:"overflow-hidden"},Oi={class:"flex justify-center items-center"},Li={class:"flex justify-center items-center -mt-24 mix-blend-screen"},Ui=ro({__name:"Welcome",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},laravelVersion:{},phpVersion:{},projects:{},projectGridFile:{}},setup(f){return(e,r)=>(so(),oo(Ps,null,[gn(Ms(Es),{title:"Welcome"}),xn("div",ki,[xn("nav",Ri,[gn(Xs)]),xn("div",Di,[gn(Ai,{projects:e.projects,"project-grid-file":e.projectGridFile},null,8,["projects","project-grid-file"])]),xn("div",Oi,[gn(wo,{"particle-width":20,"particle-height":20})]),xn("div",Li,[gn(wo,{"particle-width":15,"particle-height":160})]),gn(Vs)])],64))}});export{Ui as default};
