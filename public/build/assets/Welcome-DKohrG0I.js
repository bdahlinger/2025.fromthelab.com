import{J as sn,W as an,I as Qo,e as qo,o as So,a as ir,t as ln,d as tr,x as cn,y as un,b as Ir,T as fn,w as dn,c as pn,f as hn,u as gn,m as mn,F as _n}from"./app-BEFUNrrI.js";import{M as He,O as vn,B as Ai,F as ai,S as wr,U as Ho,V as bt,W as ho,H as go,N as wn,C as yn,a as Rt,b as yt,A as xt,c as Ft,E as bn,d as Bt,e as nr,g as We,f as Ue,h as Ri,i as mo,j as Wt,k as xn,l as Sn,m as Tn,R as Cn,n as Pn,T as mr,P as Vt,D as Gt,o as Mn,p as En,q as li,Q as An,r as Ms,s as Es,t as As,u as Rs,v as ks,w as Rn,x as kn,y as Dn,z as In,I as Fn,L as Bn,G as On}from"./GlobalFooter-YnpFTAzb.js";import{_ as ki}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Di=sn("tunnel",{state:()=>({isMobile:!1,activeProjectSlug:null,scrollPosition:0}),mutations:{storeIsMobile(n,e){n.isMobile=e}},actions:{setActiveProject(n){this.activeProjectSlug=n},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(n){this.scrollPosition=n,console.log("Scroll position stored:",n)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function zn(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function Ln(n,e,o){return e&&zn(n.prototype,e),n}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ve,_o,mt,$t,Qt,br,Ii,rr,Hr,Fi,Xt,At,Bi,Oi=function(){return Ve||typeof window<"u"&&(Ve=window.gsap)&&Ve.registerPlugin&&Ve},zi=1,yr=[],ee=[],Lt=[],Nr=Date.now,No=function(e,o){return o},Hn=function(){var e=Hr.core,o=e.bridge||{},t=e._scrollers,r=e._proxies;t.push.apply(t,ee),r.push.apply(r,Lt),ee=t,Lt=r,No=function(s,a){return o[s](a)}},qt=function(e,o){return~Lt.indexOf(e)&&Lt[Lt.indexOf(e)+1][o]},Ur=function(e){return!!~Fi.indexOf(e)},ot=function(e,o,t,r,i){return e.addEventListener(o,t,{passive:r!==!1,capture:!!i})},rt=function(e,o,t,r){return e.removeEventListener(o,t,!!r)},eo="scrollLeft",to="scrollTop",Uo=function(){return Xt&&Xt.isPressed||ee.cache++},To=function(e,o){var t=function r(i){if(i||i===0){zi&&(mt.history.scrollRestoration="manual");var s=Xt&&Xt.isPressed;i=r.v=Math.round(i)||(Xt&&Xt.iOS?1:0),e(i),r.cacheID=ee.cache,s&&No("ss",i)}else(o||ee.cache!==r.cacheID||No("ref"))&&(r.cacheID=ee.cache,r.v=e());return r.v+r.offset};return t.offset=0,e&&t},at={s:eo,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:To(function(n){return arguments.length?mt.scrollTo(n,Oe.sc()):mt.pageXOffset||$t[eo]||Qt[eo]||br[eo]||0})},Oe={s:to,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:at,sc:To(function(n){return arguments.length?mt.scrollTo(at.sc(),n):mt.pageYOffset||$t[to]||Qt[to]||br[to]||0})},ct=function(e,o){return(o&&o._ctx&&o._ctx.selector||Ve.utils.toArray)(e)[0]||(typeof e=="string"&&Ve.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Kt=function(e,o){var t=o.s,r=o.sc;Ur(e)&&(e=$t.scrollingElement||Qt);var i=ee.indexOf(e),s=r===Oe.sc?1:2;!~i&&(i=ee.push(e)-1),ee[i+s]||ot(e,"scroll",Uo);var a=ee[i+s],f=a||(ee[i+s]=To(qt(e,t),!0)||(Ur(e)?r:To(function(h){return arguments.length?e[t]=h:e[t]})));return f.target=e,a||(f.smooth=Ve.getProperty(e,"scrollBehavior")==="smooth"),f},Go=function(e,o,t){var r=e,i=e,s=Nr(),a=s,f=o||50,h=Math.max(500,f*3),g=function(m,P){var _=Nr();P||_-s>f?(i=r,r=m,a=s,s=_):t?r+=m:r=i+(m-i)/(_-a)*(s-a)},p=function(){i=r=t?0:r,a=s=0},d=function(m){var P=a,_=i,ne=Nr();return(m||m===0)&&m!==r&&g(m),s===a||ne-a>h?0:(r+(t?_:-_))/((t?ne:s)-P)*1e3};return{update:g,reset:p,getVelocity:d}},Rr=function(e,o){return o&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},ci=function(e){var o=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(o)>=Math.abs(t)?o:t},Li=function(){Hr=Ve.core.globals().ScrollTrigger,Hr&&Hr.core&&Hn()},Hi=function(e){return Ve=e||Oi(),!_o&&Ve&&typeof document<"u"&&document.body&&(mt=window,$t=document,Qt=$t.documentElement,br=$t.body,Fi=[mt,$t,Qt,br],Ve.utils.clamp,Bi=Ve.core.context||function(){},rr="onpointerenter"in br?"pointer":"mouse",Ii=Re.isTouch=mt.matchMedia&&mt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in mt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,At=Re.eventTypes=("ontouchstart"in Qt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Qt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return zi=0},500),Li(),_o=1),_o};at.op=Oe;ee.cache=0;var Re=function(){function n(o){this.init(o)}var e=n.prototype;return e.init=function(t){_o||Hi(Ve)||console.warn("Please gsap.registerPlugin(Observer)"),Hr||Li();var r=t.tolerance,i=t.dragMinimum,s=t.type,a=t.target,f=t.lineHeight,h=t.debounce,g=t.preventDefault,p=t.onStop,d=t.onStopDelay,u=t.ignore,m=t.wheelSpeed,P=t.event,_=t.onDragStart,ne=t.onDragEnd,se=t.onDrag,Q=t.onPress,x=t.onRelease,Me=t.onRight,te=t.onLeft,S=t.onUp,ye=t.onDown,F=t.onChangeX,y=t.onChangeY,j=t.onChange,v=t.onToggleX,pe=t.onToggleY,ue=t.onHover,V=t.onHoverEnd,he=t.onMove,G=t.ignoreCheck,fe=t.isNormalizer,ae=t.onGestureStart,c=t.onGestureEnd,re=t.onWheel,_t=t.onEnable,vt=t.onDisable,ut=t.onClick,B=t.scrollSpeed,M=t.capture,q=t.allowClicks,Z=t.lockAxis,ie=t.onLockAxis;this.target=a=ct(a)||Qt,this.vars=t,u&&(u=Ve.utils.toArray(u)),r=r||1e-9,i=i||0,m=m||1,B=B||1,s=s||"wheel,touch,pointer",h=h!==!1,f||(f=parseFloat(mt.getComputedStyle(br).lineHeight)||22);var K,O,me,C,T,E,R,l=this,D=0,de=0,Te=t.passive||!g&&t.passive!==!1,oe=Kt(a,at),W=Kt(a,Oe),be=oe(),ze=W(),_e=~s.indexOf("touch")&&!~s.indexOf("pointer")&&At[0]==="pointerdown",le=Ur(a),I=a.ownerDocument||$t,lt=[0,0,0],tt=[0,0,0],z=0,Ie=function(){return z=Nr()},ve=function(k,ge){return(l.event=k)&&u&&~u.indexOf(k.target)||ge&&_e&&k.pointerType!=="touch"||G&&G(k,ge)},L=function(){l._vx.reset(),l._vy.reset(),O.pause(),p&&p(l)},ft=function(){var k=l.deltaX=ci(lt),ge=l.deltaY=ci(tt),w=Math.abs(k)>=r,N=Math.abs(ge)>=r;j&&(w||N)&&j(l,k,ge,lt,tt),w&&(Me&&l.deltaX>0&&Me(l),te&&l.deltaX<0&&te(l),F&&F(l),v&&l.deltaX<0!=D<0&&v(l),D=l.deltaX,lt[0]=lt[1]=lt[2]=0),N&&(ye&&l.deltaY>0&&ye(l),S&&l.deltaY<0&&S(l),y&&y(l),pe&&l.deltaY<0!=de<0&&pe(l),de=l.deltaY,tt[0]=tt[1]=tt[2]=0),(C||me)&&(he&&he(l),me&&(_&&me===1&&_(l),se&&se(l),me=0),C=!1),E&&!(E=!1)&&ie&&ie(l),T&&(re(l),T=!1),K=0},Ht=function(k,ge,w){lt[w]+=k,tt[w]+=ge,l._vx.update(k),l._vy.update(ge),h?K||(K=requestAnimationFrame(ft)):ft()},ke=function(k,ge){Z&&!R&&(l.axis=R=Math.abs(k)>Math.abs(ge)?"x":"y",E=!0),R!=="y"&&(lt[2]+=k,l._vx.update(k,!0)),R!=="x"&&(tt[2]+=ge,l._vy.update(ge,!0)),h?K||(K=requestAnimationFrame(ft)):ft()},wt=function(k){if(!ve(k,1)){k=Rr(k,g);var ge=k.clientX,w=k.clientY,N=ge-l.x,A=w-l.y,U=l.isDragging;l.x=ge,l.y=w,(U||(N||A)&&(Math.abs(l.startX-ge)>=i||Math.abs(l.startY-w)>=i))&&(me=U?2:1,U||(l.isDragging=!0),ke(N,A))}},Ze=l.onPress=function(Y){ve(Y,1)||Y&&Y.button||(l.axis=R=null,O.pause(),l.isPressed=!0,Y=Rr(Y),D=de=0,l.startX=l.x=Y.clientX,l.startY=l.y=Y.clientY,l._vx.reset(),l._vy.reset(),ot(fe?a:I,At[1],wt,Te,!0),l.deltaX=l.deltaY=0,Q&&Q(l))},H=l.onRelease=function(Y){if(!ve(Y,1)){rt(fe?a:I,At[1],wt,!0);var k=!isNaN(l.y-l.startY),ge=l.isDragging,w=ge&&(Math.abs(l.x-l.startX)>3||Math.abs(l.y-l.startY)>3),N=Rr(Y);!w&&k&&(l._vx.reset(),l._vy.reset(),g&&q&&Ve.delayedCall(.08,function(){if(Nr()-z>300&&!Y.defaultPrevented){if(Y.target.click)Y.target.click();else if(I.createEvent){var A=I.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,mt,1,N.screenX,N.screenY,N.clientX,N.clientY,!1,!1,!1,!1,0,null),Y.target.dispatchEvent(A)}}})),l.isDragging=l.isGesturing=l.isPressed=!1,p&&ge&&!fe&&O.restart(!0),me&&ft(),ne&&ge&&ne(l),x&&x(l,w)}},Nt=function(k){return k.touches&&k.touches.length>1&&(l.isGesturing=!0)&&ae(k,l.isDragging)},Ye=function(){return(l.isGesturing=!1)||c(l)},Pt=function(k){if(!ve(k)){var ge=oe(),w=W();Ht((ge-be)*B,(w-ze)*B,1),be=ge,ze=w,p&&O.restart(!0)}},Mt=function(k){if(!ve(k)){k=Rr(k,g),re&&(T=!0);var ge=(k.deltaMode===1?f:k.deltaMode===2?mt.innerHeight:1)*m;Ht(k.deltaX*ge,k.deltaY*ge,0),p&&!fe&&O.restart(!0)}},Jt=function(k){if(!ve(k)){var ge=k.clientX,w=k.clientY,N=ge-l.x,A=w-l.y;l.x=ge,l.y=w,C=!0,p&&O.restart(!0),(N||A)&&ke(N,A)}},pr=function(k){l.event=k,ue(l)},Ut=function(k){l.event=k,V(l)},Pr=function(k){return ve(k)||Rr(k,g)&&ut(l)};O=l._dc=Ve.delayedCall(d||.25,L).pause(),l.deltaX=l.deltaY=0,l._vx=Go(0,50,!0),l._vy=Go(0,50,!0),l.scrollX=oe,l.scrollY=W,l.isDragging=l.isGesturing=l.isPressed=!1,Bi(this),l.enable=function(Y){return l.isEnabled||(ot(le?I:a,"scroll",Uo),s.indexOf("scroll")>=0&&ot(le?I:a,"scroll",Pt,Te,M),s.indexOf("wheel")>=0&&ot(a,"wheel",Mt,Te,M),(s.indexOf("touch")>=0&&Ii||s.indexOf("pointer")>=0)&&(ot(a,At[0],Ze,Te,M),ot(I,At[2],H),ot(I,At[3],H),q&&ot(a,"click",Ie,!0,!0),ut&&ot(a,"click",Pr),ae&&ot(I,"gesturestart",Nt),c&&ot(I,"gestureend",Ye),ue&&ot(a,rr+"enter",pr),V&&ot(a,rr+"leave",Ut),he&&ot(a,rr+"move",Jt)),l.isEnabled=!0,l.isDragging=l.isGesturing=l.isPressed=C=me=!1,l._vx.reset(),l._vy.reset(),be=oe(),ze=W(),Y&&Y.type&&Ze(Y),_t&&_t(l)),l},l.disable=function(){l.isEnabled&&(yr.filter(function(Y){return Y!==l&&Ur(Y.target)}).length||rt(le?I:a,"scroll",Uo),l.isPressed&&(l._vx.reset(),l._vy.reset(),rt(fe?a:I,At[1],wt,!0)),rt(le?I:a,"scroll",Pt,M),rt(a,"wheel",Mt,M),rt(a,At[0],Ze,M),rt(I,At[2],H),rt(I,At[3],H),rt(a,"click",Ie,!0),rt(a,"click",Pr),rt(I,"gesturestart",Nt),rt(I,"gestureend",Ye),rt(a,rr+"enter",pr),rt(a,rr+"leave",Ut),rt(a,rr+"move",Jt),l.isEnabled=l.isPressed=l.isDragging=!1,vt&&vt(l))},l.kill=l.revert=function(){l.disable();var Y=yr.indexOf(l);Y>=0&&yr.splice(Y,1),Xt===l&&(Xt=0)},yr.push(l),fe&&Ur(a)&&(Xt=l),l.enable(P)},Ln(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();Re.version="3.12.7";Re.create=function(n){return new Re(n)};Re.register=Hi;Re.getAll=function(){return yr.slice()};Re.getById=function(n){return yr.filter(function(e){return e.vars.id===n})[0]};Oi()&&Ve.registerPlugin(Re);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var b,_r,J,Se,gt,we,Ko,Co,$r,Gr,Fr,ro,Ke,Ao,Wo,nt,ui,fi,vr,Ni,ko,Ui,it,Yo,Gi,Wi,Zt,Xo,Jo,xr,ei,Po,jo,Do,oo=1,Je=Date.now,Io=Je(),Ct=0,Br=0,di=function(e,o,t){var r=ht(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+o+"Clamp"]=r,r?e.substr(6,e.length-7):e},pi=function(e,o){return o&&(!ht(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Nn=function n(){return Br&&requestAnimationFrame(n)},hi=function(){return Ao=1},gi=function(){return Ao=0},Ot=function(e){return e},Or=function(e){return Math.round(e*1e5)/1e5||0},Yi=function(){return typeof window<"u"},Xi=function(){return b||Yi()&&(b=window.gsap)&&b.registerPlugin&&b},ur=function(e){return!!~Ko.indexOf(e)},ji=function(e){return(e==="Height"?ei:J["inner"+e])||gt["client"+e]||we["client"+e]},Vi=function(e){return qt(e,"getBoundingClientRect")||(ur(e)?function(){return xo.width=J.innerWidth,xo.height=ei,xo}:function(){return Yt(e)})},Un=function(e,o,t){var r=t.d,i=t.d2,s=t.a;return(s=qt(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(o?ji(i):e["client"+i])||0}},Gn=function(e,o){return!o||~Lt.indexOf(e)?Vi(e):function(){return xo}},zt=function(e,o){var t=o.s,r=o.d2,i=o.d,s=o.a;return Math.max(0,(t="scroll"+r)&&(s=qt(e,t))?s()-Vi(e)()[i]:ur(e)?(gt[t]||we[t])-ji(r):e[t]-e["offset"+r])},io=function(e,o){for(var t=0;t<vr.length;t+=3)(!o||~o.indexOf(vr[t+1]))&&e(vr[t],vr[t+1],vr[t+2])},ht=function(e){return typeof e=="string"},et=function(e){return typeof e=="function"},zr=function(e){return typeof e=="number"},or=function(e){return typeof e=="object"},kr=function(e,o,t){return e&&e.progress(o?0:1)&&t&&e.pause()},Fo=function(e,o){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return o(e)}):o(e);t&&t.totalTime&&(e.callbackAnimation=t)}},hr=Math.abs,Zi="left",$i="top",ti="right",ri="bottom",ar="width",lr="height",Wr="Right",Yr="Left",Xr="Top",jr="Bottom",De="padding",St="margin",Tr="Width",oi="Height",Be="px",Tt=function(e){return J.getComputedStyle(e)},Wn=function(e){var o=Tt(e).position;e.style.position=o==="absolute"||o==="fixed"?o:"relative"},mi=function(e,o){for(var t in o)t in e||(e[t]=o[t]);return e},Yt=function(e,o){var t=o&&Tt(e)[Wo]!=="matrix(1, 0, 0, 1, 0, 0)"&&b.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return t&&t.progress(0).kill(),r},Mo=function(e,o){var t=o.d2;return e["offset"+t]||e["client"+t]||0},Qi=function(e){var o=[],t=e.labels,r=e.duration(),i;for(i in t)o.push(t[i]/r);return o},Yn=function(e){return function(o){return b.utils.snap(Qi(e),o)}},ii=function(e){var o=b.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(r,i){return r-i});return t?function(r,i,s){s===void 0&&(s=.001);var a;if(!i)return o(r);if(i>0){for(r-=s,a=0;a<t.length;a++)if(t[a]>=r)return t[a];return t[a-1]}else for(a=t.length,r+=s;a--;)if(t[a]<=r)return t[a];return t[0]}:function(r,i,s){s===void 0&&(s=.001);var a=o(r);return!i||Math.abs(a-r)<s||a-r<0==i<0?a:o(i<0?r-e:r+e)}},Xn=function(e){return function(o,t){return ii(Qi(e))(o,t.direction)}},no=function(e,o,t,r){return t.split(",").forEach(function(i){return e(o,i,r)})},Ge=function(e,o,t,r,i){return e.addEventListener(o,t,{passive:!r,capture:!!i})},Ne=function(e,o,t,r){return e.removeEventListener(o,t,!!r)},so=function(e,o,t){t=t&&t.wheelHandler,t&&(e(o,"wheel",t),e(o,"touchmove",t))},_i={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ao={toggleActions:"play",anticipatePin:0},Eo={top:0,left:0,center:.5,bottom:1,right:1},vo=function(e,o){if(ht(e)){var t=e.indexOf("="),r=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(r*=o/100),e=e.substr(0,t-1)),e=r+(e in Eo?Eo[e]*o:~e.indexOf("%")?parseFloat(e)*o/100:parseFloat(e)||0)}return e},lo=function(e,o,t,r,i,s,a,f){var h=i.startColor,g=i.endColor,p=i.fontSize,d=i.indent,u=i.fontWeight,m=Se.createElement("div"),P=ur(t)||qt(t,"pinType")==="fixed",_=e.indexOf("scroller")!==-1,ne=P?we:t,se=e.indexOf("start")!==-1,Q=se?h:g,x="border-color:"+Q+";font-size:"+p+";color:"+Q+";font-weight:"+u+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+((_||f)&&P?"fixed;":"absolute;"),(_||f||!P)&&(x+=(r===Oe?ti:ri)+":"+(s+parseFloat(d))+"px;"),a&&(x+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),m._isStart=se,m.setAttribute("class","gsap-marker-"+e+(o?" marker-"+o:"")),m.style.cssText=x,m.innerText=o||o===0?e+"-"+o:e,ne.children[0]?ne.insertBefore(m,ne.children[0]):ne.appendChild(m),m._offset=m["offset"+r.op.d2],wo(m,0,r,se),m},wo=function(e,o,t,r){var i={display:"block"},s=t[r?"os2":"p2"],a=t[r?"p2":"os2"];e._isFlipped=r,i[t.a+"Percent"]=r?-100:0,i[t.a]=r?"1px":0,i["border"+s+Tr]=1,i["border"+a+Tr]=0,i[t.p]=o+"px",b.set(e,i)},$=[],Vo={},Qr,vi=function(){return Je()-Ct>34&&(Qr||(Qr=requestAnimationFrame(jt)))},gr=function(){(!it||!it.isPressed||it.startX>we.clientWidth)&&(ee.cache++,it?Qr||(Qr=requestAnimationFrame(jt)):jt(),Ct||dr("scrollStart"),Ct=Je())},Bo=function(){Wi=J.innerWidth,Gi=J.innerHeight},Lr=function(e){ee.cache++,(e===!0||!Ke&&!Ui&&!Se.fullscreenElement&&!Se.webkitFullscreenElement&&(!Yo||Wi!==J.innerWidth||Math.abs(J.innerHeight-Gi)>J.innerHeight*.25))&&Co.restart(!0)},fr={},jn=[],qi=function n(){return Ne(X,"scrollEnd",n)||sr(!0)},dr=function(e){return fr[e]&&fr[e].map(function(o){return o()})||jn},pt=[],Ki=function(e){for(var o=0;o<pt.length;o+=5)(!e||pt[o+4]&&pt[o+4].query===e)&&(pt[o].style.cssText=pt[o+1],pt[o].getBBox&&pt[o].setAttribute("transform",pt[o+2]||""),pt[o+3].uncache=1)},ni=function(e,o){var t;for(nt=0;nt<$.length;nt++)t=$[nt],t&&(!o||t._ctx===o)&&(e?t.kill(1):t.revert(!0,!0));Po=!0,o&&Ki(o),o||dr("revert")},Ji=function(e,o){ee.cache++,(o||!st)&&ee.forEach(function(t){return et(t)&&t.cacheID++&&(t.rec=0)}),ht(e)&&(J.history.scrollRestoration=Jo=e)},st,cr=0,wi,Vn=function(){if(wi!==cr){var e=wi=cr;requestAnimationFrame(function(){return e===cr&&sr(!0)})}},en=function(){we.appendChild(xr),ei=!it&&xr.offsetHeight||J.innerHeight,we.removeChild(xr)},yi=function(e){return $r(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(o){return o.style.display=e?"none":"block"})},sr=function(e,o){if(gt=Se.documentElement,we=Se.body,Ko=[J,Se,gt,we],Ct&&!e&&!Po){Ge(X,"scrollEnd",qi);return}en(),st=X.isRefreshing=!0,ee.forEach(function(r){return et(r)&&++r.cacheID&&(r.rec=r())});var t=dr("refreshInit");Ni&&X.sort(),o||ni(),ee.forEach(function(r){et(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),$.slice(0).forEach(function(r){return r.refresh()}),Po=!1,$.forEach(function(r){if(r._subPinOffset&&r.pin){var i=r.vars.horizontal?"offsetWidth":"offsetHeight",s=r.pin[i];r.revert(!0,1),r.adjustPinSpacing(r.pin[i]-s),r.refresh()}}),jo=1,yi(!0),$.forEach(function(r){var i=zt(r.scroller,r._dir),s=r.vars.end==="max"||r._endClamp&&r.end>i,a=r._startClamp&&r.start>=i;(s||a)&&r.setPositions(a?i-1:r.start,s?Math.max(a?i:r.start+1,i):r.end,!0)}),yi(!1),jo=0,t.forEach(function(r){return r&&r.render&&r.render(-1)}),ee.forEach(function(r){et(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),Ji(Jo,1),Co.pause(),cr++,st=2,jt(2),$.forEach(function(r){return et(r.vars.onRefresh)&&r.vars.onRefresh(r)}),st=X.isRefreshing=!1,dr("refresh")},Zo=0,yo=1,Vr,jt=function(e){if(e===2||!st&&!Po){X.isUpdating=!0,Vr&&Vr.update(0);var o=$.length,t=Je(),r=t-Io>=50,i=o&&$[0].scroll();if(yo=Zo>i?-1:1,st||(Zo=i),r&&(Ct&&!Ao&&t-Ct>200&&(Ct=0,dr("scrollEnd")),Fr=Io,Io=t),yo<0){for(nt=o;nt-- >0;)$[nt]&&$[nt].update(0,r);yo=1}else for(nt=0;nt<o;nt++)$[nt]&&$[nt].update(0,r);X.isUpdating=!1}Qr=0},$o=[Zi,$i,ri,ti,St+jr,St+Wr,St+Xr,St+Yr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],bo=$o.concat([ar,lr,"boxSizing","max"+Tr,"max"+oi,"position",St,De,De+Xr,De+Wr,De+jr,De+Yr]),Zn=function(e,o,t){Sr(t);var r=e._gsap;if(r.spacerIsNative)Sr(r.spacerState);else if(e._gsap.swappedIn){var i=o.parentNode;i&&(i.insertBefore(e,o),i.removeChild(o))}e._gsap.swappedIn=!1},Oo=function(e,o,t,r){if(!e._gsap.swappedIn){for(var i=$o.length,s=o.style,a=e.style,f;i--;)f=$o[i],s[f]=t[f];s.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(s.display="inline-block"),a[ri]=a[ti]="auto",s.flexBasis=t.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[ar]=Mo(e,at)+Be,s[lr]=Mo(e,Oe)+Be,s[De]=a[St]=a[$i]=a[Zi]="0",Sr(r),a[ar]=a["max"+Tr]=t[ar],a[lr]=a["max"+oi]=t[lr],a[De]=t[De],e.parentNode!==o&&(e.parentNode.insertBefore(o,e),o.appendChild(e)),e._gsap.swappedIn=!0}},$n=/([A-Z])/g,Sr=function(e){if(e){var o=e.t.style,t=e.length,r=0,i,s;for((e.t._gsap||b.core.getCache(e.t)).uncache=1;r<t;r+=2)s=e[r+1],i=e[r],s?o[i]=s:o[i]&&o.removeProperty(i.replace($n,"-$1").toLowerCase())}},co=function(e){for(var o=bo.length,t=e.style,r=[],i=0;i<o;i++)r.push(bo[i],t[bo[i]]);return r.t=e,r},Qn=function(e,o,t){for(var r=[],i=e.length,s=t?8:0,a;s<i;s+=2)a=e[s],r.push(a,a in o?o[a]:e[s+1]);return r.t=e.t,r},xo={left:0,top:0},bi=function(e,o,t,r,i,s,a,f,h,g,p,d,u,m){et(e)&&(e=e(f)),ht(e)&&e.substr(0,3)==="max"&&(e=d+(e.charAt(4)==="="?vo("0"+e.substr(3),t):0));var P=u?u.time():0,_,ne,se;if(u&&u.seek(0),isNaN(e)||(e=+e),zr(e))u&&(e=b.utils.mapRange(u.scrollTrigger.start,u.scrollTrigger.end,0,d,e)),a&&wo(a,t,r,!0);else{et(o)&&(o=o(f));var Q=(e||"0").split(" "),x,Me,te,S;se=ct(o,f)||we,x=Yt(se)||{},(!x||!x.left&&!x.top)&&Tt(se).display==="none"&&(S=se.style.display,se.style.display="block",x=Yt(se),S?se.style.display=S:se.style.removeProperty("display")),Me=vo(Q[0],x[r.d]),te=vo(Q[1]||"0",t),e=x[r.p]-h[r.p]-g+Me+i-te,a&&wo(a,te,r,t-te<20||a._isStart&&te>20),t-=t-te}if(m&&(f[m]=e||-.001,e<0&&(e=0)),s){var ye=e+t,F=s._isStart;_="scroll"+r.d2,wo(s,ye,r,F&&ye>20||!F&&(p?Math.max(we[_],gt[_]):s.parentNode[_])<=ye+1),p&&(h=Yt(a),p&&(s.style[r.op.p]=h[r.op.p]-r.op.m-s._offset+Be))}return u&&se&&(_=Yt(se),u.seek(d),ne=Yt(se),u._caScrollDist=_[r.p]-ne[r.p],e=e/u._caScrollDist*d),u&&u.seek(P),u?e:Math.round(e)},qn=/(webkit|moz|length|cssText|inset)/i,xi=function(e,o,t,r){if(e.parentNode!==o){var i=e.style,s,a;if(o===we){e._stOrig=i.cssText,a=Tt(e);for(s in a)!+s&&!qn.test(s)&&a[s]&&typeof i[s]=="string"&&s!=="0"&&(i[s]=a[s]);i.top=t,i.left=r}else i.cssText=e._stOrig;b.core.getCache(e).uncache=1,o.appendChild(e)}},tn=function(e,o,t){var r=o,i=r;return function(s){var a=Math.round(e());return a!==r&&a!==i&&Math.abs(a-r)>3&&Math.abs(a-i)>3&&(s=a,t&&t()),i=r,r=Math.round(s),r}},uo=function(e,o,t){var r={};r[o.p]="+="+t,b.set(e,r)},Si=function(e,o){var t=Kt(e,o),r="_scroll"+o.p2,i=function s(a,f,h,g,p){var d=s.tween,u=f.onComplete,m={};h=h||t();var P=tn(t,h,function(){d.kill(),s.tween=0});return p=g&&p||0,g=g||a-h,d&&d.kill(),f[r]=a,f.inherit=!1,f.modifiers=m,m[r]=function(){return P(h+g*d.ratio+p*d.ratio*d.ratio)},f.onUpdate=function(){ee.cache++,s.tween&&jt()},f.onComplete=function(){s.tween=0,u&&u.call(d)},d=s.tween=b.to(e,f),d};return e[r]=t,t.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Ge(e,"wheel",t.wheelHandler),X.isTouch&&Ge(e,"touchmove",t.wheelHandler),i},X=function(){function n(o,t){_r||n.register(b)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Xo(this),this.init(o,t)}var e=n.prototype;return e.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Br){this.update=this.refresh=this.kill=Ot;return}t=mi(ht(t)||zr(t)||t.nodeType?{trigger:t}:t,ao);var i=t,s=i.onUpdate,a=i.toggleClass,f=i.id,h=i.onToggle,g=i.onRefresh,p=i.scrub,d=i.trigger,u=i.pin,m=i.pinSpacing,P=i.invalidateOnRefresh,_=i.anticipatePin,ne=i.onScrubComplete,se=i.onSnapComplete,Q=i.once,x=i.snap,Me=i.pinReparent,te=i.pinSpacer,S=i.containerAnimation,ye=i.fastScrollEnd,F=i.preventOverlaps,y=t.horizontal||t.containerAnimation&&t.horizontal!==!1?at:Oe,j=!p&&p!==0,v=ct(t.scroller||J),pe=b.core.getCache(v),ue=ur(v),V=("pinType"in t?t.pinType:qt(v,"pinType")||ue&&"fixed")==="fixed",he=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],G=j&&t.toggleActions.split(" "),fe="markers"in t?t.markers:ao.markers,ae=ue?0:parseFloat(Tt(v)["border"+y.p2+Tr])||0,c=this,re=t.onRefreshInit&&function(){return t.onRefreshInit(c)},_t=Un(v,ue,y),vt=Gn(v,ue),ut=0,B=0,M=0,q=Kt(v,y),Z,ie,K,O,me,C,T,E,R,l,D,de,Te,oe,W,be,ze,_e,le,I,lt,tt,z,Ie,ve,L,ft,Ht,ke,wt,Ze,H,Nt,Ye,Pt,Mt,Jt,pr,Ut;if(c._startClamp=c._endClamp=!1,c._dir=y,_*=45,c.scroller=v,c.scroll=S?S.time.bind(S):q,O=q(),c.vars=t,r=r||t.animation,"refreshPriority"in t&&(Ni=1,t.refreshPriority===-9999&&(Vr=c)),pe.tweenScroll=pe.tweenScroll||{top:Si(v,Oe),left:Si(v,at)},c.tweenTo=Z=pe.tweenScroll[y.p],c.scrubDuration=function(w){Nt=zr(w)&&w,Nt?H?H.duration(w):H=b.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Nt,paused:!0,onComplete:function(){return ne&&ne(c)}}):(H&&H.progress(1).kill(),H=0)},r&&(r.vars.lazy=!1,r._initted&&!c.isReverted||r.vars.immediateRender!==!1&&t.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),c.animation=r.pause(),r.scrollTrigger=c,c.scrubDuration(p),wt=0,f||(f=r.vars.id)),x&&((!or(x)||x.push)&&(x={snapTo:x}),"scrollBehavior"in we.style&&b.set(ue?[we,gt]:v,{scrollBehavior:"auto"}),ee.forEach(function(w){return et(w)&&w.target===(ue?Se.scrollingElement||gt:v)&&(w.smooth=!1)}),K=et(x.snapTo)?x.snapTo:x.snapTo==="labels"?Yn(r):x.snapTo==="labelsDirectional"?Xn(r):x.directional!==!1?function(w,N){return ii(x.snapTo)(w,Je()-B<500?0:N.direction)}:b.utils.snap(x.snapTo),Ye=x.duration||{min:.1,max:2},Ye=or(Ye)?Gr(Ye.min,Ye.max):Gr(Ye,Ye),Pt=b.delayedCall(x.delay||Nt/2||.1,function(){var w=q(),N=Je()-B<500,A=Z.tween;if((N||Math.abs(c.getVelocity())<10)&&!A&&!Ao&&ut!==w){var U=(w-C)/oe,Le=r&&!j?r.totalProgress():U,ce=N?0:(Le-Ze)/(Je()-Fr)*1e3||0,Ae=b.utils.clamp(-U,1-U,hr(ce/2)*ce/.185),$e=U+(x.inertia===!1?0:Ae),Ee,Ce,xe=x,Et=xe.onStart,Pe=xe.onInterrupt,dt=xe.onComplete;if(Ee=K($e,c),zr(Ee)||(Ee=$e),Ce=Math.max(0,Math.round(C+Ee*oe)),w<=T&&w>=C&&Ce!==w){if(A&&!A._initted&&A.data<=hr(Ce-w))return;x.inertia===!1&&(Ae=Ee-U),Z(Ce,{duration:Ye(hr(Math.max(hr($e-Le),hr(Ee-Le))*.185/ce/.05||0)),ease:x.ease||"power3",data:hr(Ce-w),onInterrupt:function(){return Pt.restart(!0)&&Pe&&Pe(c)},onComplete:function(){c.update(),ut=q(),r&&!j&&(H?H.resetTo("totalProgress",Ee,r._tTime/r._tDur):r.progress(Ee)),wt=Ze=r&&!j?r.totalProgress():c.progress,se&&se(c),dt&&dt(c)}},w,Ae*oe,Ce-w-Ae*oe),Et&&Et(c,Z.tween)}}else c.isActive&&ut!==w&&Pt.restart(!0)}).pause()),f&&(Vo[f]=c),d=c.trigger=ct(d||u!==!0&&u),Ut=d&&d._gsap&&d._gsap.stRevert,Ut&&(Ut=Ut(c)),u=u===!0?d:ct(u),ht(a)&&(a={targets:d,className:a}),u&&(m===!1||m===St||(m=!m&&u.parentNode&&u.parentNode.style&&Tt(u.parentNode).display==="flex"?!1:De),c.pin=u,ie=b.core.getCache(u),ie.spacer?W=ie.pinState:(te&&(te=ct(te),te&&!te.nodeType&&(te=te.current||te.nativeElement),ie.spacerIsNative=!!te,te&&(ie.spacerState=co(te))),ie.spacer=_e=te||Se.createElement("div"),_e.classList.add("pin-spacer"),f&&_e.classList.add("pin-spacer-"+f),ie.pinState=W=co(u)),t.force3D!==!1&&b.set(u,{force3D:!0}),c.spacer=_e=ie.spacer,ke=Tt(u),Ie=ke[m+y.os2],I=b.getProperty(u),lt=b.quickSetter(u,y.a,Be),Oo(u,_e,ke),ze=co(u)),fe){de=or(fe)?mi(fe,_i):_i,l=lo("scroller-start",f,v,y,de,0),D=lo("scroller-end",f,v,y,de,0,l),le=l["offset"+y.op.d2];var Pr=ct(qt(v,"content")||v);E=this.markerStart=lo("start",f,Pr,y,de,le,0,S),R=this.markerEnd=lo("end",f,Pr,y,de,le,0,S),S&&(pr=b.quickSetter([E,R],y.a,Be)),!V&&!(Lt.length&&qt(v,"fixedMarkers")===!0)&&(Wn(ue?we:v),b.set([l,D],{force3D:!0}),L=b.quickSetter(l,y.a,Be),Ht=b.quickSetter(D,y.a,Be))}if(S){var Y=S.vars.onUpdate,k=S.vars.onUpdateParams;S.eventCallback("onUpdate",function(){c.update(0,0,1),Y&&Y.apply(S,k||[])})}if(c.previous=function(){return $[$.indexOf(c)-1]},c.next=function(){return $[$.indexOf(c)+1]},c.revert=function(w,N){if(!N)return c.kill(!0);var A=w!==!1||!c.enabled,U=Ke;A!==c.isReverted&&(A&&(Mt=Math.max(q(),c.scroll.rec||0),M=c.progress,Jt=r&&r.progress()),E&&[E,R,l,D].forEach(function(Le){return Le.style.display=A?"none":"block"}),A&&(Ke=c,c.update(A)),u&&(!Me||!c.isActive)&&(A?Zn(u,_e,W):Oo(u,_e,Tt(u),ve)),A||c.update(A),Ke=U,c.isReverted=A)},c.refresh=function(w,N,A,U){if(!((Ke||!c.enabled)&&!N)){if(u&&w&&Ct){Ge(n,"scrollEnd",qi);return}!st&&re&&re(c),Ke=c,Z.tween&&!A&&(Z.tween.kill(),Z.tween=0),H&&H.pause(),P&&r&&r.revert({kill:!1}).invalidate(),c.isReverted||c.revert(!0,!0),c._subPinOffset=!1;var Le=_t(),ce=vt(),Ae=S?S.duration():zt(v,y),$e=oe<=.01,Ee=0,Ce=U||0,xe=or(A)?A.end:t.end,Et=t.endTrigger||d,Pe=or(A)?A.start:t.start||(t.start===0||!d?0:u?"0 0":"0 100%"),dt=c.pinnedContainer=t.pinnedContainer&&ct(t.pinnedContainer,c),kt=d&&Math.max(0,$.indexOf(c))||0,Xe=kt,je,Qe,er,Kr,qe,Fe,Dt,Ro,si,Mr,It,Er,Jr;for(fe&&or(A)&&(Er=b.getProperty(l,y.p),Jr=b.getProperty(D,y.p));Xe-- >0;)Fe=$[Xe],Fe.end||Fe.refresh(0,1)||(Ke=c),Dt=Fe.pin,Dt&&(Dt===d||Dt===u||Dt===dt)&&!Fe.isReverted&&(Mr||(Mr=[]),Mr.unshift(Fe),Fe.revert(!0,!0)),Fe!==$[Xe]&&(kt--,Xe--);for(et(Pe)&&(Pe=Pe(c)),Pe=di(Pe,"start",c),C=bi(Pe,d,Le,y,q(),E,l,c,ce,ae,V,Ae,S,c._startClamp&&"_startClamp")||(u?-.001:0),et(xe)&&(xe=xe(c)),ht(xe)&&!xe.indexOf("+=")&&(~xe.indexOf(" ")?xe=(ht(Pe)?Pe.split(" ")[0]:"")+xe:(Ee=vo(xe.substr(2),Le),xe=ht(Pe)?Pe:(S?b.utils.mapRange(0,S.duration(),S.scrollTrigger.start,S.scrollTrigger.end,C):C)+Ee,Et=d)),xe=di(xe,"end",c),T=Math.max(C,bi(xe||(Et?"100% 0":Ae),Et,Le,y,q()+Ee,R,D,c,ce,ae,V,Ae,S,c._endClamp&&"_endClamp"))||-.001,Ee=0,Xe=kt;Xe--;)Fe=$[Xe],Dt=Fe.pin,Dt&&Fe.start-Fe._pinPush<=C&&!S&&Fe.end>0&&(je=Fe.end-(c._startClamp?Math.max(0,Fe.start):Fe.start),(Dt===d&&Fe.start-Fe._pinPush<C||Dt===dt)&&isNaN(Pe)&&(Ee+=je*(1-Fe.progress)),Dt===u&&(Ce+=je));if(C+=Ee,T+=Ee,c._startClamp&&(c._startClamp+=Ee),c._endClamp&&!st&&(c._endClamp=T||-.001,T=Math.min(T,zt(v,y))),oe=T-C||(C-=.01)&&.001,$e&&(M=b.utils.clamp(0,1,b.utils.normalize(C,T,Mt))),c._pinPush=Ce,E&&Ee&&(je={},je[y.a]="+="+Ee,dt&&(je[y.p]="-="+q()),b.set([E,R],je)),u&&!(jo&&c.end>=zt(v,y)))je=Tt(u),Kr=y===Oe,er=q(),tt=parseFloat(I(y.a))+Ce,!Ae&&T>1&&(It=(ue?Se.scrollingElement||gt:v).style,It={style:It,value:It["overflow"+y.a.toUpperCase()]},ue&&Tt(we)["overflow"+y.a.toUpperCase()]!=="scroll"&&(It.style["overflow"+y.a.toUpperCase()]="scroll")),Oo(u,_e,je),ze=co(u),Qe=Yt(u,!0),Ro=V&&Kt(v,Kr?at:Oe)(),m?(ve=[m+y.os2,oe+Ce+Be],ve.t=_e,Xe=m===De?Mo(u,y)+oe+Ce:0,Xe&&(ve.push(y.d,Xe+Be),_e.style.flexBasis!=="auto"&&(_e.style.flexBasis=Xe+Be)),Sr(ve),dt&&$.forEach(function(Ar){Ar.pin===dt&&Ar.vars.pinSpacing!==!1&&(Ar._subPinOffset=!0)}),V&&q(Mt)):(Xe=Mo(u,y),Xe&&_e.style.flexBasis!=="auto"&&(_e.style.flexBasis=Xe+Be)),V&&(qe={top:Qe.top+(Kr?er-C:Ro)+Be,left:Qe.left+(Kr?Ro:er-C)+Be,boxSizing:"border-box",position:"fixed"},qe[ar]=qe["max"+Tr]=Math.ceil(Qe.width)+Be,qe[lr]=qe["max"+oi]=Math.ceil(Qe.height)+Be,qe[St]=qe[St+Xr]=qe[St+Wr]=qe[St+jr]=qe[St+Yr]="0",qe[De]=je[De],qe[De+Xr]=je[De+Xr],qe[De+Wr]=je[De+Wr],qe[De+jr]=je[De+jr],qe[De+Yr]=je[De+Yr],be=Qn(W,qe,Me),st&&q(0)),r?(si=r._initted,ko(1),r.render(r.duration(),!0,!0),z=I(y.a)-tt+oe+Ce,ft=Math.abs(oe-z)>1,V&&ft&&be.splice(be.length-2,2),r.render(0,!0,!0),si||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),ko(0)):z=oe,It&&(It.value?It.style["overflow"+y.a.toUpperCase()]=It.value:It.style.removeProperty("overflow-"+y.a));else if(d&&q()&&!S)for(Qe=d.parentNode;Qe&&Qe!==we;)Qe._pinOffset&&(C-=Qe._pinOffset,T-=Qe._pinOffset),Qe=Qe.parentNode;Mr&&Mr.forEach(function(Ar){return Ar.revert(!1,!0)}),c.start=C,c.end=T,O=me=st?Mt:q(),!S&&!st&&(O<Mt&&q(Mt),c.scroll.rec=0),c.revert(!1,!0),B=Je(),Pt&&(ut=-1,Pt.restart(!0)),Ke=0,r&&j&&(r._initted||Jt)&&r.progress()!==Jt&&r.progress(Jt||0,!0).render(r.time(),!0,!0),($e||M!==c.progress||S||P||r&&!r._initted)&&(r&&!j&&r.totalProgress(S&&C<-.001&&!M?b.utils.normalize(C,T,0):M,!0),c.progress=$e||(O-C)/oe===M?0:M),u&&m&&(_e._pinOffset=Math.round(c.progress*z)),H&&H.invalidate(),isNaN(Er)||(Er-=b.getProperty(l,y.p),Jr-=b.getProperty(D,y.p),uo(l,y,Er),uo(E,y,Er-(U||0)),uo(D,y,Jr),uo(R,y,Jr-(U||0))),$e&&!st&&c.update(),g&&!st&&!Te&&(Te=!0,g(c),Te=!1)}},c.getVelocity=function(){return(q()-me)/(Je()-Fr)*1e3||0},c.endAnimation=function(){kr(c.callbackAnimation),r&&(H?H.progress(1):r.paused()?j||kr(r,c.direction<0,1):kr(r,r.reversed()))},c.labelToScroll=function(w){return r&&r.labels&&(C||c.refresh()||C)+r.labels[w]/r.duration()*oe||0},c.getTrailing=function(w){var N=$.indexOf(c),A=c.direction>0?$.slice(0,N).reverse():$.slice(N+1);return(ht(w)?A.filter(function(U){return U.vars.preventOverlaps===w}):A).filter(function(U){return c.direction>0?U.end<=C:U.start>=T})},c.update=function(w,N,A){if(!(S&&!A&&!w)){var U=st===!0?Mt:c.scroll(),Le=w?0:(U-C)/oe,ce=Le<0?0:Le>1?1:Le||0,Ae=c.progress,$e,Ee,Ce,xe,Et,Pe,dt,kt;if(N&&(me=O,O=S?q():U,x&&(Ze=wt,wt=r&&!j?r.totalProgress():ce)),_&&u&&!Ke&&!oo&&Ct&&(!ce&&C<U+(U-me)/(Je()-Fr)*_?ce=1e-4:ce===1&&T>U+(U-me)/(Je()-Fr)*_&&(ce=.9999)),ce!==Ae&&c.enabled){if($e=c.isActive=!!ce&&ce<1,Ee=!!Ae&&Ae<1,Pe=$e!==Ee,Et=Pe||!!ce!=!!Ae,c.direction=ce>Ae?1:-1,c.progress=ce,Et&&!Ke&&(Ce=ce&&!Ae?0:ce===1?1:Ae===1?2:3,j&&(xe=!Pe&&G[Ce+1]!=="none"&&G[Ce+1]||G[Ce],kt=r&&(xe==="complete"||xe==="reset"||xe in r))),F&&(Pe||kt)&&(kt||p||!r)&&(et(F)?F(c):c.getTrailing(F).forEach(function(er){return er.endAnimation()})),j||(H&&!Ke&&!oo?(H._dp._time-H._start!==H._time&&H.render(H._dp._time-H._start),H.resetTo?H.resetTo("totalProgress",ce,r._tTime/r._tDur):(H.vars.totalProgress=ce,H.invalidate().restart())):r&&r.totalProgress(ce,!!(Ke&&(B||w)))),u){if(w&&m&&(_e.style[m+y.os2]=Ie),!V)lt(Or(tt+z*ce));else if(Et){if(dt=!w&&ce>Ae&&T+1>U&&U+1>=zt(v,y),Me)if(!w&&($e||dt)){var Xe=Yt(u,!0),je=U-C;xi(u,we,Xe.top+(y===Oe?je:0)+Be,Xe.left+(y===Oe?0:je)+Be)}else xi(u,_e);Sr($e||dt?be:ze),ft&&ce<1&&$e||lt(tt+(ce===1&&!dt?z:0))}}x&&!Z.tween&&!Ke&&!oo&&Pt.restart(!0),a&&(Pe||Q&&ce&&(ce<1||!Do))&&$r(a.targets).forEach(function(er){return er.classList[$e||Q?"add":"remove"](a.className)}),s&&!j&&!w&&s(c),Et&&!Ke?(j&&(kt&&(xe==="complete"?r.pause().totalProgress(1):xe==="reset"?r.restart(!0).pause():xe==="restart"?r.restart(!0):r[xe]()),s&&s(c)),(Pe||!Do)&&(h&&Pe&&Fo(c,h),he[Ce]&&Fo(c,he[Ce]),Q&&(ce===1?c.kill(!1,1):he[Ce]=0),Pe||(Ce=ce===1?1:3,he[Ce]&&Fo(c,he[Ce]))),ye&&!$e&&Math.abs(c.getVelocity())>(zr(ye)?ye:2500)&&(kr(c.callbackAnimation),H?H.progress(1):kr(r,xe==="reverse"?1:!ce,1))):j&&s&&!Ke&&s(c)}if(Ht){var Qe=S?U/S.duration()*(S._caScrollDist||0):U;L(Qe+(l._isFlipped?1:0)),Ht(Qe)}pr&&pr(-U/S.duration()*(S._caScrollDist||0))}},c.enable=function(w,N){c.enabled||(c.enabled=!0,Ge(v,"resize",Lr),ue||Ge(v,"scroll",gr),re&&Ge(n,"refreshInit",re),w!==!1&&(c.progress=M=0,O=me=ut=q()),N!==!1&&c.refresh())},c.getTween=function(w){return w&&Z?Z.tween:H},c.setPositions=function(w,N,A,U){if(S){var Le=S.scrollTrigger,ce=S.duration(),Ae=Le.end-Le.start;w=Le.start+Ae*w/ce,N=Le.start+Ae*N/ce}c.refresh(!1,!1,{start:pi(w,A&&!!c._startClamp),end:pi(N,A&&!!c._endClamp)},U),c.update()},c.adjustPinSpacing=function(w){if(ve&&w){var N=ve.indexOf(y.d)+1;ve[N]=parseFloat(ve[N])+w+Be,ve[1]=parseFloat(ve[1])+w+Be,Sr(ve)}},c.disable=function(w,N){if(c.enabled&&(w!==!1&&c.revert(!0,!0),c.enabled=c.isActive=!1,N||H&&H.pause(),Mt=0,ie&&(ie.uncache=1),re&&Ne(n,"refreshInit",re),Pt&&(Pt.pause(),Z.tween&&Z.tween.kill()&&(Z.tween=0)),!ue)){for(var A=$.length;A--;)if($[A].scroller===v&&$[A]!==c)return;Ne(v,"resize",Lr),ue||Ne(v,"scroll",gr)}},c.kill=function(w,N){c.disable(w,N),H&&!N&&H.kill(),f&&delete Vo[f];var A=$.indexOf(c);A>=0&&$.splice(A,1),A===nt&&yo>0&&nt--,A=0,$.forEach(function(U){return U.scroller===c.scroller&&(A=1)}),A||st||(c.scroll.rec=0),r&&(r.scrollTrigger=null,w&&r.revert({kill:!1}),N||r.kill()),E&&[E,R,l,D].forEach(function(U){return U.parentNode&&U.parentNode.removeChild(U)}),Vr===c&&(Vr=0),u&&(ie&&(ie.uncache=1),A=0,$.forEach(function(U){return U.pin===u&&A++}),A||(ie.spacer=0)),t.onKill&&t.onKill(c)},$.push(c),c.enable(!1,!1),Ut&&Ut(c),r&&r.add&&!oe){var ge=c.update;c.update=function(){c.update=ge,ee.cache++,C||T||c.refresh()},b.delayedCall(.01,c.update),oe=.01,C=T=0}else c.refresh();u&&Vn()},n.register=function(t){return _r||(b=t||Xi(),Yi()&&window.document&&n.enable(),_r=Br),_r},n.defaults=function(t){if(t)for(var r in t)ao[r]=t[r];return ao},n.disable=function(t,r){Br=0,$.forEach(function(s){return s[r?"kill":"disable"](t)}),Ne(J,"wheel",gr),Ne(Se,"scroll",gr),clearInterval(ro),Ne(Se,"touchcancel",Ot),Ne(we,"touchstart",Ot),no(Ne,Se,"pointerdown,touchstart,mousedown",hi),no(Ne,Se,"pointerup,touchend,mouseup",gi),Co.kill(),io(Ne);for(var i=0;i<ee.length;i+=3)so(Ne,ee[i],ee[i+1]),so(Ne,ee[i],ee[i+2])},n.enable=function(){if(J=window,Se=document,gt=Se.documentElement,we=Se.body,b&&($r=b.utils.toArray,Gr=b.utils.clamp,Xo=b.core.context||Ot,ko=b.core.suppressOverwrites||Ot,Jo=J.history.scrollRestoration||"auto",Zo=J.pageYOffset||0,b.core.globals("ScrollTrigger",n),we)){Br=1,xr=document.createElement("div"),xr.style.height="100vh",xr.style.position="absolute",en(),Nn(),Re.register(b),n.isTouch=Re.isTouch,Zt=Re.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Yo=Re.isTouch===1,Ge(J,"wheel",gr),Ko=[J,Se,gt,we],b.matchMedia?(n.matchMedia=function(h){var g=b.matchMedia(),p;for(p in h)g.add(p,h[p]);return g},b.addEventListener("matchMediaInit",function(){return ni()}),b.addEventListener("matchMediaRevert",function(){return Ki()}),b.addEventListener("matchMedia",function(){sr(0,1),dr("matchMedia")}),b.matchMedia().add("(orientation: portrait)",function(){return Bo(),Bo})):console.warn("Requires GSAP 3.11.0 or later"),Bo(),Ge(Se,"scroll",gr);var t=we.hasAttribute("style"),r=we.style,i=r.borderTopStyle,s=b.core.Animation.prototype,a,f;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=Yt(we),Oe.m=Math.round(a.top+Oe.sc())||0,at.m=Math.round(a.left+at.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),t||(we.setAttribute("style",""),we.removeAttribute("style")),ro=setInterval(vi,250),b.delayedCall(.5,function(){return oo=0}),Ge(Se,"touchcancel",Ot),Ge(we,"touchstart",Ot),no(Ge,Se,"pointerdown,touchstart,mousedown",hi),no(Ge,Se,"pointerup,touchend,mouseup",gi),Wo=b.utils.checkPrefix("transform"),bo.push(Wo),_r=Je(),Co=b.delayedCall(.2,sr).pause(),vr=[Se,"visibilitychange",function(){var h=J.innerWidth,g=J.innerHeight;Se.hidden?(ui=h,fi=g):(ui!==h||fi!==g)&&Lr()},Se,"DOMContentLoaded",sr,J,"load",sr,J,"resize",Lr],io(Ge),$.forEach(function(h){return h.enable(0,1)}),f=0;f<ee.length;f+=3)so(Ne,ee[f],ee[f+1]),so(Ne,ee[f],ee[f+2])}},n.config=function(t){"limitCallbacks"in t&&(Do=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(ro)||(ro=r)&&setInterval(vi,r),"ignoreMobileResize"in t&&(Yo=n.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(io(Ne)||io(Ge,t.autoRefreshEvents||"none"),Ui=(t.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(t,r){var i=ct(t),s=ee.indexOf(i),a=ur(i);~s&&ee.splice(s,a?6:2),r&&(a?Lt.unshift(J,r,we,r,gt,r):Lt.unshift(i,r))},n.clearMatchMedia=function(t){$.forEach(function(r){return r._ctx&&r._ctx.query===t&&r._ctx.kill(!0,!0)})},n.isInViewport=function(t,r,i){var s=(ht(t)?ct(t):t).getBoundingClientRect(),a=s[i?ar:lr]*r||0;return i?s.right-a>0&&s.left+a<J.innerWidth:s.bottom-a>0&&s.top+a<J.innerHeight},n.positionInViewport=function(t,r,i){ht(t)&&(t=ct(t));var s=t.getBoundingClientRect(),a=s[i?ar:lr],f=r==null?a/2:r in Eo?Eo[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return i?(s.left+f)/J.innerWidth:(s.top+f)/J.innerHeight},n.killAll=function(t){if($.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),t!==!0){var r=fr.killAll||[];fr={},r.forEach(function(i){return i()})}},n}();X.version="3.12.7";X.saveStyles=function(n){return n?$r(n).forEach(function(e){if(e&&e.style){var o=pt.indexOf(e);o>=0&&pt.splice(o,5),pt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),b.core.getCache(e),Xo())}}):pt};X.revert=function(n,e){return ni(!n,e)};X.create=function(n,e){return new X(n,e)};X.refresh=function(n){return n?Lr(!0):(_r||X.register())&&sr(!0)};X.update=function(n){return++ee.cache&&jt(n===!0?2:0)};X.clearScrollMemory=Ji;X.maxScroll=function(n,e){return zt(n,e?at:Oe)};X.getScrollFunc=function(n,e){return Kt(ct(n),e?at:Oe)};X.getById=function(n){return Vo[n]};X.getAll=function(){return $.filter(function(n){return n.vars.id!=="ScrollSmoother"})};X.isScrolling=function(){return!!Ct};X.snapDirectional=ii;X.addEventListener=function(n,e){var o=fr[n]||(fr[n]=[]);~o.indexOf(e)||o.push(e)};X.removeEventListener=function(n,e){var o=fr[n],t=o&&o.indexOf(e);t>=0&&o.splice(t,1)};X.batch=function(n,e){var o=[],t={},r=e.interval||.016,i=e.batchMax||1e9,s=function(h,g){var p=[],d=[],u=b.delayedCall(r,function(){g(p,d),p=[],d=[]}).pause();return function(m){p.length||u.restart(!0),p.push(m.trigger),d.push(m),i<=p.length&&u.progress(1)}},a;for(a in e)t[a]=a.substr(0,2)==="on"&&et(e[a])&&a!=="onRefreshInit"?s(a,e[a]):e[a];return et(i)&&(i=i(),Ge(X,"refresh",function(){return i=e.batchMax()})),$r(n).forEach(function(f){var h={};for(a in t)h[a]=t[a];h.trigger=f,o.push(X.create(h))}),o};var Ti=function(e,o,t,r){return o>r?e(r):o<0&&e(0),t>r?(r-o)/(t-o):t<0?o/(o-t):1},zo=function n(e,o){o===!0?e.style.removeProperty("touch-action"):e.style.touchAction=o===!0?"auto":o?"pan-"+o+(Re.isTouch?" pinch-zoom":""):"none",e===gt&&n(we,o)},fo={auto:1,scroll:1},Kn=function(e){var o=e.event,t=e.target,r=e.axis,i=(o.changedTouches?o.changedTouches[0]:o).target,s=i._gsap||b.core.getCache(i),a=Je(),f;if(!s._isScrollT||a-s._isScrollT>2e3){for(;i&&i!==we&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(fo[(f=Tt(i)).overflowY]||fo[f.overflowX]));)i=i.parentNode;s._isScroll=i&&i!==t&&!ur(i)&&(fo[(f=Tt(i)).overflowY]||fo[f.overflowX]),s._isScrollT=a}(s._isScroll||r==="x")&&(o.stopPropagation(),o._gsapAllow=!0)},rn=function(e,o,t,r){return Re.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:o,onWheel:r=r&&Kn,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return t&&Ge(Se,Re.eventTypes[0],Pi,!1,!0)},onDisable:function(){return Ne(Se,Re.eventTypes[0],Pi,!0)}})},Jn=/(input|label|select|textarea)/i,Ci,Pi=function(e){var o=Jn.test(e.target.tagName);(o||Ci)&&(e._gsapAllow=!0,Ci=o)},es=function(e){or(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o=e,t=o.normalizeScrollX,r=o.momentum,i=o.allowNestedScroll,s=o.onRelease,a,f,h=ct(e.target)||gt,g=b.core.globals().ScrollSmoother,p=g&&g.get(),d=Zt&&(e.content&&ct(e.content)||p&&e.content!==!1&&!p.smooth()&&p.content()),u=Kt(h,Oe),m=Kt(h,at),P=1,_=(Re.isTouch&&J.visualViewport?J.visualViewport.scale*J.visualViewport.width:J.outerWidth)/J.innerWidth,ne=0,se=et(r)?function(){return r(a)}:function(){return r||2.8},Q,x,Me=rn(h,e.type,!0,i),te=function(){return x=!1},S=Ot,ye=Ot,F=function(){f=zt(h,Oe),ye=Gr(Zt?1:0,f),t&&(S=Gr(0,zt(h,at))),Q=cr},y=function(){d._gsap.y=Or(parseFloat(d._gsap.y)+u.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",u.offset=u.cacheID=0},j=function(){if(x){requestAnimationFrame(te);var fe=Or(a.deltaY/2),ae=ye(u.v-fe);if(d&&ae!==u.v+u.offset){u.offset=ae-u.v;var c=Or((parseFloat(d&&d._gsap.y)||0)-u.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+c+", 0, 1)",d._gsap.y=c+"px",u.cacheID=ee.cache,jt()}return!0}u.offset&&y(),x=!0},v,pe,ue,V,he=function(){F(),v.isActive()&&v.vars.scrollY>f&&(u()>f?v.progress(1)&&u(f):v.resetTo("scrollY",f))};return d&&b.set(d,{y:"+=0"}),e.ignoreCheck=function(G){return Zt&&G.type==="touchmove"&&j()||P>1.05&&G.type!=="touchstart"||a.isGesturing||G.touches&&G.touches.length>1},e.onPress=function(){x=!1;var G=P;P=Or((J.visualViewport&&J.visualViewport.scale||1)/_),v.pause(),G!==P&&zo(h,P>1.01?!0:t?!1:"x"),pe=m(),ue=u(),F(),Q=cr},e.onRelease=e.onGestureStart=function(G,fe){if(u.offset&&y(),!fe)V.restart(!0);else{ee.cache++;var ae=se(),c,re;t&&(c=m(),re=c+ae*.05*-G.velocityX/.227,ae*=Ti(m,c,re,zt(h,at)),v.vars.scrollX=S(re)),c=u(),re=c+ae*.05*-G.velocityY/.227,ae*=Ti(u,c,re,zt(h,Oe)),v.vars.scrollY=ye(re),v.invalidate().duration(ae).play(.01),(Zt&&v.vars.scrollY>=f||c>=f-1)&&b.to({},{onUpdate:he,duration:ae})}s&&s(G)},e.onWheel=function(){v._ts&&v.pause(),Je()-ne>1e3&&(Q=0,ne=Je())},e.onChange=function(G,fe,ae,c,re){if(cr!==Q&&F(),fe&&t&&m(S(c[2]===fe?pe+(G.startX-G.x):m()+fe-c[1])),ae){u.offset&&y();var _t=re[2]===ae,vt=_t?ue+G.startY-G.y:u()+ae-re[1],ut=ye(vt);_t&&vt!==ut&&(ue+=ut-vt),u(ut)}(ae||fe)&&jt()},e.onEnable=function(){zo(h,t?!1:"x"),X.addEventListener("refresh",he),Ge(J,"resize",he),u.smooth&&(u.target.style.scrollBehavior="auto",u.smooth=m.smooth=!1),Me.enable()},e.onDisable=function(){zo(h,!0),Ne(J,"resize",he),X.removeEventListener("refresh",he),Me.kill()},e.lockAxis=e.lockAxis!==!1,a=new Re(e),a.iOS=Zt,Zt&&!u()&&u(1),Zt&&b.ticker.add(Ot),V=a._dc,v=b.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:tn(u,u(),function(){return v.pause()})},onUpdate:jt,onComplete:V.vars.onComplete}),a};X.sort=function(n){if(et(n))return $.sort(n);var e=J.pageYOffset||0;return X.getAll().forEach(function(o){return o._sortY=o.trigger?e+o.trigger.getBoundingClientRect().top:o.start+J.innerHeight}),$.sort(n||function(o,t){return(o.vars.refreshPriority||0)*-1e6+(o.vars.containerAnimation?1e6:o._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};X.observe=function(n){return new Re(n)};X.normalizeScroll=function(n){if(typeof n>"u")return it;if(n===!0&&it)return it.enable();if(n===!1){it&&it.kill(),it=n;return}var e=n instanceof Re?n:es(n);return it&&it.target===e.target&&it.kill(),ur(e.target)&&(it=e),e};X.core={_getVelocityProp:Go,_inputObserver:rn,_scrollers:ee,_proxies:Lt,bridge:{ss:function(){Ct||dr("scrollStart"),Ct=Je()},ref:function(){return Ke}}};Xi()&&b.registerPlugin(X);var Zr=function(){var n=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(g){g.preventDefault(),t(++n%e.children.length)},!1);function o(g){return e.appendChild(g.dom),g}function t(g){for(var p=0;p<e.children.length;p++)e.children[p].style.display=p===g?"block":"none";n=g}var r=(performance||Date).now(),i=r,s=0,a=o(new Zr.Panel("FPS","#0ff","#002")),f=o(new Zr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=o(new Zr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:o,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){s++;var g=(performance||Date).now();if(f.update(g-r,200),g>=i+1e3&&(a.update(s*1e3/(g-i),100),i=g,s=0,h)){var p=performance.memory;h.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return g},update:function(){r=this.end()},domElement:e,setMode:t}};Zr.Panel=function(n,e,o){var t=1/0,r=0,i=Math.round,s=i(window.devicePixelRatio||1),a=80*s,f=48*s,h=3*s,g=2*s,p=3*s,d=15*s,u=74*s,m=30*s,P=document.createElement("canvas");P.width=a,P.height=f,P.style.cssText="width:80px;height:48px";var _=P.getContext("2d");return _.font="bold "+9*s+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=o,_.fillRect(0,0,a,f),_.fillStyle=e,_.fillText(n,h,g),_.fillRect(p,d,u,m),_.fillStyle=o,_.globalAlpha=.9,_.fillRect(p,d,u,m),{dom:P,update:function(ne,se){t=Math.min(t,ne),r=Math.max(r,ne),_.fillStyle=o,_.globalAlpha=1,_.fillRect(0,0,a,d),_.fillStyle=e,_.fillText(i(ne)+" "+n+" ("+i(t)+"-"+i(r)+")",h,g),_.drawImage(P,p+s,d,u-s,m,p,d,u-s,m),_.fillRect(p+u-s,d,s,m),_.fillStyle=o,_.globalAlpha=.9,_.fillRect(p+u-s,d,s,i((1-ne/se)*m))}}};const on={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class qr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ts=new vn(-1,1,1,-1,0,1);class rs extends Ai{constructor(){super(),this.setAttribute("position",new ai([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ai([0,2,0,0,2,0],2))}}const os=new rs;class nn{constructor(e){this._mesh=new He(os,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ts)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class is extends qr{constructor(e,o){super(),this.textureID=o!==void 0?o:"tDiffuse",e instanceof wr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ho.clone(e.uniforms),this.material=new wr({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new nn(this.material)}render(e,o,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(o),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Mi extends qr{constructor(e,o){super(),this.scene=e,this.camera=o,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,o,t){const r=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let s,a;this.inverse?(s=0,a=1):(s=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),i.buffers.stencil.setFunc(r.ALWAYS,s,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(o),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(r.EQUAL,1,4294967295),i.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),i.buffers.stencil.setLocked(!0)}}class ns extends qr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class ss{constructor(e,o){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),o===void 0){const t=e.getSize(new bt);this._width=t.width,this._height=t.height,o=new ho(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:go}),o.texture.name="EffectComposer.rt1"}else this._width=o.width,this._height=o.height;this.renderTarget1=o,this.renderTarget2=o.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new is(on),this.copyPass.material.blending=wn,this.clock=new yn}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,o){this.passes.splice(o,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const o=this.passes.indexOf(e);o!==-1&&this.passes.splice(o,1)}isLastEnabledPass(e){for(let o=e+1;o<this.passes.length;o++)if(this.passes[o].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const o=this.renderer.getRenderTarget();let t=!1;for(let r=0,i=this.passes.length;r<i;r++){const s=this.passes[r];if(s.enabled!==!1){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),s.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),s.needsSwap){if(t){const a=this.renderer.getContext(),f=this.renderer.state.buffers.stencil;f.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),f.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}Mi!==void 0&&(s instanceof Mi?t=!0:s instanceof ns&&(t=!1))}}this.renderer.setRenderTarget(o)}reset(e){if(e===void 0){const o=this.renderer.getSize(new bt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=o.width,this._height=o.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,o){this._width=e,this._height=o;const t=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(t,r),this.renderTarget2.setSize(t,r);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(t,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class as extends qr{constructor(e,o,t=null,r=null,i=null){super(),this.scene=e,this.camera=o,this.overrideMaterial=t,this.clearColor=r,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Rt}render(e,o,t){const r=e.autoClear;e.autoClear=!1;let i,s;this.overrideMaterial!==null&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=s),e.autoClear=r}}const ls={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Rt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Cr extends qr{constructor(e,o,t,r){super(),this.strength=o!==void 0?o:1,this.radius=t,this.threshold=r,this.resolution=e!==void 0?new bt(e.x,e.y):new bt(256,256),this.clearColor=new Rt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new ho(i,s,{type:go}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let p=0;p<this.nMips;p++){const d=new ho(i,s,{type:go});d.texture.name="UnrealBloomPass.h"+p,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);const u=new ho(i,s,{type:go});u.texture.name="UnrealBloomPass.v"+p,u.texture.generateMipmaps=!1,this.renderTargetsVertical.push(u),i=Math.round(i/2),s=Math.round(s/2)}const a=ls;this.highPassUniforms=Ho.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new wr({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const f=[3,5,7,9,11];i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let p=0;p<this.nMips;p++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(f[p])),this.separableBlurMaterials[p].uniforms.invSize.value=new bt(1/i,1/s),i=Math.round(i/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=o,this.compositeMaterial.uniforms.bloomRadius.value=.1;const h=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=h,this.bloomTintColors=[new yt(1,1,1),new yt(1,1,1),new yt(1,1,1),new yt(1,1,1),new yt(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const g=on;this.copyUniforms=Ho.clone(g.uniforms),this.blendMaterial=new wr({uniforms:this.copyUniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader,blending:xt,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Rt,this.oldClearAlpha=1,this.basic=new Ft,this.fsQuad=new nn(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,o){let t=Math.round(e/2),r=Math.round(o/2);this.renderTargetBright.setSize(t,r);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(t,r),this.renderTargetsVertical[i].setSize(t,r),this.separableBlurMaterials[i].uniforms.invSize.value=new bt(1/t,1/r),t=Math.round(t/2),r=Math.round(r/2)}render(e,o,t,r,i){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const s=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let f=0;f<this.nMips;f++)this.fsQuad.material=this.separableBlurMaterials[f],this.separableBlurMaterials[f].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[f].uniforms.direction.value=Cr.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[f]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[f].uniforms.colorTexture.value=this.renderTargetsHorizontal[f].texture,this.separableBlurMaterials[f].uniforms.direction.value=Cr.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[f]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[f];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=s}getSeparableBlurMaterial(e){const o=[];for(let t=0;t<e;t++)o.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new wr({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new bt(.5,.5)},direction:{value:new bt(.5,.5)},gaussianCoefficients:{value:o}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new wr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Cr.BlurDirectionX=new bt(1,0);Cr.BlurDirectionY=new bt(0,1);class cs extends bn{constructor(e,o={}){const t=o.font;if(t===void 0)super();else{const r=t.generateShapes(e,o.size);o.depth===void 0&&(o.depth=50),o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),super(r,o)}this.type="TextGeometry"}}function us(n,e,o,t){const{CUBE_SIZE:r,FIRST_CUBE_Z:i}=o,s=8,a=24,f=.075;let h,g=[],p=[],d=[],u=[];const m=(_,ne,se,Q)=>{const x=new Ri(_,_,_),Me=new mo(x),te=[new Bt({color:16711680,transparent:!0,opacity:Q.opacity,blending:xt}),new Bt({color:65280,transparent:!0,opacity:Q.opacity,blending:xt}),new Bt({color:255,transparent:!0,opacity:Q.opacity,blending:xt}),new Bt({color:65535,transparent:!0,opacity:Q.opacity,blending:xt}),new Bt({color:16711935,transparent:!0,opacity:Q.opacity,blending:xt}),new Bt({color:16776960,transparent:!0,opacity:Q.opacity,blending:xt})],S=new nr,ye=Me.getAttribute("position").array,F=[];for(let v=0;v<ye.length/3;v+=2)F.push(v,v+1);const y=Array(6).fill(null).map(()=>new Ai),j=Array(6).fill(null).map(()=>[]);for(let v=0;v<F.length/2;v++){const pe=v%6;j[pe].push(F[v*2],F[v*2+1])}return y.forEach((v,pe)=>{v.setIndex(j[pe]),v.setAttribute("position",Me.getAttribute("position"));const ue=new Wt(v,te[pe]);S.add(ue)}),S.position.z=ne,S.rotation.z=se,S};return(()=>{const se=.9/(a-1);for(let F=0;F<a;F++)p[F]=new Bt({transparent:!0,opacity:1-F*se});if(h=new nr,!h){console.error("introGroup failed to initialize");return}for(let F=0;F<a;F++){const y=r-F*s,j=m(y,0,0,p[F]),v=j.children.map(pe=>pe.material);u.push(v.map(pe=>({material:pe,originalColor:pe.color.clone()}))),h.add(j)}h.position.z=i,e.add(h),g.push(h),d=p.map(F=>F.opacity);const Q=We.timeline({repeat:-1});Q.to(h.rotation,{x:Ue.degToRad(360),duration:12,ease:"none"},0),Q.to(h.rotation,{y:Ue.degToRad(360),duration:10,ease:"none"},0),Q.to(h.rotation,{z:Ue.degToRad(360),duration:14,ease:"none"},0);let x=-1,Me=0;const te=f*1e3,S=a*te,ye=F=>{const y=F%S/te,j=Math.floor(y)%a;x!==-1&&F-Me>=te&&(u[x].forEach(ue=>{ue.material.opacity=d[x],ue.material.color.copy(ue.originalColor)}),x=-1),x===-1&&j!==x&&(x=j,Me=F,u[x].forEach(pe=>{pe.material.opacity=1,pe.material.color.set(1,1,1)})),requestAnimationFrame(ye)};requestAnimationFrame(ye)})(),{introCubes:g}}class fs extends xn{constructor(e){super(e)}load(e,o,t,r){const i=this,s=new Sn(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){const f=i.parse(JSON.parse(a));o&&o(f)},t,r)}parse(e){return new ds(e)}}class ds{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,o=100){const t=[],r=ps(e,o,this.data);for(let i=0,s=r.length;i<s;i++)t.push(...r[i].toShapes());return t}}function ps(n,e,o){const t=Array.from(n),r=e/o.resolution,i=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,s=[];let a=0,f=0;for(let h=0;h<t.length;h++){const g=t[h];if(g===`
`)a=0,f-=i;else{const p=hs(g,r,a,f,o);a+=p.offsetX,s.push(p.path)}}return s}function hs(n,e,o,t,r){const i=r.glyphs[n]||r.glyphs["?"];if(!i){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const s=new Tn;let a,f,h,g,p,d,u,m;if(i.o){const P=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let _=0,ne=P.length;_<ne;)switch(P[_++]){case"m":a=P[_++]*e+o,f=P[_++]*e+t,s.moveTo(a,f);break;case"l":a=P[_++]*e+o,f=P[_++]*e+t,s.lineTo(a,f);break;case"q":h=P[_++]*e+o,g=P[_++]*e+t,p=P[_++]*e+o,d=P[_++]*e+t,s.quadraticCurveTo(p,d,h,g);break;case"b":h=P[_++]*e+o,g=P[_++]*e+t,p=P[_++]*e+o,d=P[_++]*e+t,u=P[_++]*e+o,m=P[_++]*e+t,s.bezierCurveTo(p,d,u,m,h,g);break}}return{offsetX:i.ha*e,path:s}}function Ei(n,e,o,t,r,i){const{CUBE_SIZE:s,CUBE_SPACING:a,FIRST_CUBE_Z:f}=e,h=f-(o.length+1)*a,g=65535,p=16711935,d=16711680,u=Ue.degToRad(15),m=1e3,P=.5,_=80,ne=1,se=15,Q=.1;let x=[],Me=null,te=null,S=!1,ye=!1,F=new Cn,y=new bt,j=null,v=null,pe=null,ue=!1,V=null;const he=Di(),G=(B,M,q,Z,ie,K)=>{const O=new nr;O.position.z=q,O.rotation.z=Z,O.userData.isActive=!1;const me=new Ri(M,M,M),C=new mo(me),T=new Bt({color:new Rt(g),transparent:!0,opacity:0}),E=new Wt(C,T);E.geometry.computeBoundingSphere(),O.add(E);let R="right";const l=M/2;if(ie&&i.showKeyarts)switch(["left","top","right","bottom"].includes(K)?K:"left"){case"left":R="right";break;case"top":R="bottom";break;case"right":R="left";break;case"bottom":R="top";break}const D=()=>{const ze=new li(40,24),_e=new mo(ze),le=new Bt({color:new Rt(g),transparent:!0,opacity:0,visible:!0}),I=new Wt(_e,le);I.userData.isPortal=!0,I.userData.isAnimating=!1,I.geometry.computeBoundingSphere();const lt=new Vt(120,120),tt=new Ft({visible:!1,side:Gt}),z=new He(lt,tt);z.userData.isPortalHitbox=!0,z.userData.portal=I,z.geometry.computeBoundingSphere();const Ie=new nr,ve=new Vt(ne,se),L=65/2;for(let ke=0;ke<_;ke++){const wt=new Ft({color:new Rt(p),transparent:!0,opacity:0,visible:!1,side:Gt}),Ze=new He(ve,wt),H=ke/_*Math.PI*2;Ze.position.set(Math.cos(H)*L,Math.sin(H)*L,0),Ze.rotation.z=H+Math.PI/2,Ze.userData.baseOpacity=.01,Ze.userData.index=ke,Ze.geometry.computeBoundingSphere(),Ie.add(Ze)}const ft=2,Ht=25;for(let ke=1;ke<Ht;ke++){const wt=new li(40,24),Ze=new mo(wt),H=Ue.lerp(1,.1,ke/(Ht-1)),Nt=new Bt({color:new Rt(g),transparent:!0,opacity:0}),Ye=new Wt(Ze,Nt);Ye.userData.isPortal=!0,Ye.userData.maxOpacity=H,Ye.position.z=-ke*ft,Ye.geometry.computeBoundingSphere(),I.add(Ye)}switch(I.userData.maxOpacity=1,R){case"left":case"right":Ie.children.forEach(ke=>ke.position.x+=Q);break;case"top":case"bottom":Ie.children.forEach(ke=>ke.position.y+=Q);break}switch(I.add(Ie),O.add(I),O.add(z),I.updateMatrixWorld(!0),Ie.updateMatrixWorld(!0),R){case"left":I.position.set(-l,0,0),I.rotation.y=Math.PI/2,z.position.set(-l,0,0),z.rotation.y=Math.PI/2;break;case"top":I.position.set(0,l,0),I.rotation.x=-Math.PI/2,z.position.set(0,l,0),z.rotation.x=Math.PI/2;break;case"right":I.position.set(l,0,0),I.rotation.y=-Math.PI/2,z.position.set(l,0,0),z.rotation.y=-Math.PI/2;break;case"bottom":I.position.set(0,-l,0),I.rotation.x=Math.PI/2,z.position.set(0,-l,0),z.rotation.x=Math.PI/2;break}},de=W=>{(W instanceof Wt||W instanceof He)&&W.geometry&&W.geometry.computeBoundingSphere(),O.add(W)};ie&&i.showKeyarts?new mr().load(ie,be=>{be.encoding=void 0;const ze=new Vt(M-1,M-1),_e=new Ft({map:be,transparent:!0,opacity:0,blending:xt,side:Gt}),le=new He(ze,_e);switch(K){case"left":le.position.set(-l,0,0),Z>=Ue.degToRad(120)?(le.rotation.y=Math.PI/2,le.rotation.z=-Math.PI):le.rotation.y=Math.PI/2;break;case"top":le.position.set(0,l,0),le.rotation.x=Math.PI/2,le.rotation.z=-Math.PI/2;break;case"right":le.position.set(l,0,0),Z>=Ue.degToRad(120)?(le.rotation.y=-Math.PI/2,le.rotation.z=-Math.PI):le.rotation.y=-Math.PI/2;break;case"bottom":le.position.set(0,-l,0),Z>=Ue.degToRad(120)?(le.rotation.x=-Math.PI/2,le.rotation.z=Math.PI/2):(le.rotation.x=-Math.PI/2,le.rotation.z=-Math.PI/2);break}le.geometry.computeBoundingSphere(),de(le),D()},void 0,be=>{console.error("Error loading keyart:",be),D()}):D();{new mr().load(t,z=>{z.encoding=void 0;const Ie=new Vt(M-1,M-1),ve=new Ft({map:z,transparent:!0,opacity:0,blending:xt,side:Gt,depthWrite:!1}),L=new He(Ie,ve);L.position.set(0,0,-M/2-1),L.rotation.y=0,L.userData.isGridPlane=!0,L.geometry.computeBoundingSphere(),de(L)},void 0,z=>{console.error("Error loading projectGridFile:",z)}),new mr().load(t,z=>{z.encoding=void 0;const Ie=new Vt(M-1,M-1),ve=new Ft({map:z,transparent:!0,opacity:0,blending:xt,side:Gt,depthWrite:!1,color:new Rt(16744448)}),L=new He(Ie,ve);L.position.set(0,0,M/2+1),L.rotation.y=0,L.userData.isGridPlane=!0,L.geometry.computeBoundingSphere(),de(L)},void 0,z=>{console.error("Error loading projectGridFile:",z)});const ze=["left","top","right","bottom"],le=[ie&&i.showKeyarts?K||"left":null,R].filter(Boolean),I=ze.filter(z=>!le.includes(z));new mr().load(t,z=>{z.encoding=void 0;const Ie=new Vt(M-1,M-1),ve=new Ft({map:z,transparent:!0,opacity:0,blending:xt,side:Gt,depthWrite:!1,color:new Rt(255)}),L=new He(Ie,ve);switch(I[0]){case"left":L.position.set(-l,0,0),L.rotation.y=-Math.PI/2;break;case"top":L.position.set(0,l,0),L.rotation.x=Math.PI/2;break;case"right":L.position.set(l,0,0),L.rotation.y=Math.PI/2;break;case"bottom":L.position.set(0,-l,0),L.rotation.x=-Math.PI/2;break}L.userData.isGridPlane=!0,L.geometry.computeBoundingSphere(),de(L)},void 0,z=>{console.error("Error loading projectGridFile:",z)}),new mr().load(r,z=>{z.encoding=void 0;const Ie=new Vt(M-1,M-1),ve=new Ft({map:z,transparent:!0,opacity:0,blending:xt,side:Gt,depthWrite:!1}),L=new He(Ie,ve);switch(I[1]){case"left":L.position.set(-l,0,0),L.rotation.y=-Math.PI/2;break;case"top":L.position.set(0,l,0),L.rotation.x=Math.PI/2;break;case"right":L.position.set(l,0,0),L.rotation.y=Math.PI/2;break;case"bottom":L.position.set(0,-l,0),L.rotation.x=-Math.PI/2;break}L.userData.isGridPlane=!0,L.geometry.computeBoundingSphere(),de(L)},void 0,z=>{console.error("Error loading projectGridFile2:",z)})}O.children.forEach(W=>{(W instanceof Wt||W instanceof He)&&W.geometry&&!W.geometry.boundingSphere&&W.geometry.computeBoundingSphere()}),O.updateMatrixWorld(!0);const Te=new Mn().setFromObject(O),oe=new En;return Te.getBoundingSphere(oe),O.boundingSphere=oe,O},fe=(B,M,q,Z,ie,K)=>{const O=new cs(B,{font:K,size:ie,depth:0,curveSegments:12,bevelEnabled:!1});O.computeBoundingBox(),O.center();const me=new Ft({color:16777215,transparent:!0,opacity:0,side:Gt}),C=new He(O,me);C.position.set(M,q,Z);const T=O.boundingBox,E=T.max.x-T.min.x,R=T.max.y-T.min.y,l=E+8,D=R+4,de=new Vt(l,D),Te=new Ft({color:0,transparent:!0,opacity:0,side:Gt}),oe=new He(de,Te);return oe.position.set(M,q,Z-1),n.add(oe),n.add(C),C.userData.backgroundPlane=oe,C},ae=()=>new Promise(B=>{Me=new fs,Me.load("/fonts/Poppins_Regular.json",M=>{te=M;const q=Array.isArray(o)?o:[];Array.isArray(o)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",o),q.forEach((Z,ie)=>{const K=f-(ie+1)*a,O=(ie+1)*u,me=G(Z,s,K,O,Z.keyart,Z.keyartLocation);n.add(me),x.push(me),fe(Z.title,0,Z.size-15,f+90-(ie+1)*a,Z.size,M)}),B()},void 0,M=>console.error("Error loading font:",M))}),c=()=>S?Promise.resolve({projectCubes:x,updateCubeColors:vt,loadedFont:te,maxZ:h}):ae().then(()=>(S=!0,{projectCubes:x,updateCubeColors:vt,loadedFont:te,maxZ:h})).catch(B=>{throw console.error("Error in loadFontAndText:",B),B}),re=B=>{if(!B.userData.isAnimating)return;B.userData.isAnimating=!1;const M=B.children.find(q=>q instanceof nr);M&&(B.userData.animationTimeline&&(B.userData.animationTimeline.kill(),delete B.userData.animationTimeline),M.children.forEach(q=>{const Z=q.material;Z.opacity=0}))},_t=new Pn,vt=B=>{const M=performance.now();_t.setFromProjectionMatrix(B.projectionMatrix.clone().multiply(B.matrixWorldInverse));const q=B.position.z;let Z=[];n.traverse(K=>{K instanceof He&&K.geometry&&K.geometry.type==="TextGeometry"&&Z.push(K)}),ye||(ye=!0),x.forEach((K,O)=>{if(!K.geometry&&!K.children.length){console.warn(`Cube ${O} has no geometry or children`,K);return}try{if(!_t.intersectsObject(K))return}catch(E){console.error(`Error with cube ${O}`,K,E);return}const me=K.position.z,C=Math.abs(q-me);let T=0;C<=m&&(T=1-C/m),K.userData.isActive=T>=P,K.children.forEach(E=>{if(E instanceof Wt&&!E.userData.isPortal&&!E.userData.isPortalHitbox){const R=E.material;if(C<=m){const l=Ue.lerp((g>>16&255)/255,(p>>16&255)/255,T),D=Ue.lerp((g>>8&255)/255,(p>>8&255)/255,T),de=Ue.lerp((g&255)/255,(p&255)/255,T);R.color.set(l,D,de),R.opacity=Math.min(1,T*2)}else R.opacity=0}else if(E instanceof Wt&&E.userData.isPortal)ye&&(T>.1?E.children.forEach(R=>{R instanceof nr&&R.children.forEach(l=>{l instanceof He&&(l.material.visible=!0,!E.userData.animationStarted&&i.showPortalPulses)})}):T<=.1&&E.userData.animationStarted&&(E.children.forEach(R=>{R instanceof nr&&R.children.forEach(l=>{l instanceof He&&(l.material.visible=!1)})}),re(E),delete E.userData.animationStarted));else if(E instanceof He&&!E.userData.isPortalHitbox){const R=E.material;if(C<=m){const l=1-C/m;R.opacity=Math.min(.8,l*2)}else R.opacity=0}})}),Z.forEach(K=>{const O=K.material,me=K.userData.backgroundPlane,C=me==null?void 0:me.material,T=K.position.z,E=Math.abs(q-T+120);if(E<=m){const R=1-E/m,l=Math.min(1,R*2);O.opacity=l,C&&(C.opacity=l*.8)}else O.opacity=0,C&&(C.opacity=0)});const ie=performance.now();ie-M>16&&console.log(`updateCubeColors: ${ie-M}ms`)};return{getInitializedData:c,updateCubeColors:vt,setupInteractivity:(B,M,q)=>{V=q;let Z=null,ie=null;const K=(T,E=!0)=>{const R=[T,...T.children.filter(D=>D instanceof Wt&&D.userData.isPortal)],l=E?25:2;R.forEach((D,de)=>{let Te=-de*l;(T.position.y>0&&T.rotation.x===-Math.PI/2||T.position.y<0&&T.rotation.x===Math.PI/2)&&(Te=de*l);const oe=E?D.userData.maxOpacity:0;We.to(D.position,{z:Te,duration:1,ease:"power3.out",delay:.5}),We.to(D.material,{opacity:oe,duration:1,ease:"power3.out",delay:.5})})},O=T=>{y.x=T.clientX/window.innerWidth*2-1,y.y=-(T.clientY/window.innerHeight)*2+1,F.setFromCamera(y,B);const E=x.flatMap(l=>l.userData.isActive?l.children.filter(D=>D instanceof He&&D.userData.isPortalHitbox):[]),R=F.intersectObjects(E);if(R.length>0){const D=R[0].object.userData.portal;if(j!==D){if(j){const Te=j.material;We.to(Te.color,{r:(g>>16&255)/255,g:(g>>8&255)/255,b:(g&255)/255,duration:.5})}j=D;const de=j.material;We.to(de.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}M.style.cursor="pointer"}else{if(j){const l=j.material;We.to(l.color,{r:(g>>16&255)/255,g:(g>>8&255)/255,b:(g&255)/255,duration:.5}),j=null}M.style.cursor="auto"}},me=T=>{y.x=T.clientX/window.innerWidth*2-1,y.y=-(T.clientY/window.innerHeight)*2+1,F.setFromCamera(y,B);const E=x.flatMap(W=>W.userData.isActive?W.children.filter(be=>be instanceof He&&be.userData.isPortalHitbox):[]),R=F.intersectObjects(E);if(R.length===0)return;const l=R[0].object,D=l.userData.portal,de=l.parent,Te=x.indexOf(de),oe=o[Te];if(ue&&D===ie){D.getWorldPosition(new yt);let W=new yt;const be=e.CUBE_SIZE/2;D.position.x===be?W.set(-1,0,0):D.position.x===-be?W.set(1,0,0):D.position.y===be?W.set(0,-1,0):D.position.y===-be&&W.set(0,1,0),W.applyQuaternion(de.getWorldQuaternion(new An)).normalize();const _e=B.position.clone().clone().add(W.clone().multiplyScalar(-675)),le=W.clone().multiplyScalar(-1e3),I=_e.clone().add(le);We.to(B.position,{x:_e.x,y:_e.y,z:_e.z,duration:1,ease:"power2.in",onUpdate:()=>B.lookAt(I),onComplete:()=>{oe!=null&&oe.slug&&(he.setScrollPosition(window.scrollY),an.visit(route("project.show",{project:oe.slug}),{preserveScroll:!1}))}})}else if(!ue){v||(v=B.position.clone(),pe=new yt(0,0,h)),V&&q(!0,v,pe);const W=D.getWorldPosition(new yt);We.to(B.position,{x:0,y:0,z:de.getWorldPosition(new yt).z,duration:2,ease:"power3.out"}),We.to({},{duration:2,ease:"power3.out",onUpdate:function(){const be=this.progress(),ze=B.getWorldDirection(new yt).multiplyScalar(1e3).add(B.position),_e=Ue.lerp(ze.x,W.x,be),le=Ue.lerp(ze.y,W.y,be),I=Ue.lerp(ze.z,W.z,be);B.lookAt(_e,le,I)},onStart:()=>{ue=!0,Z=window.scrollY,document.body.classList.add("no-scrollbar"),ie=D,K(D,!0)}})}},C=T=>{if(!ue||!ie||!v||!pe)return;let E=0;if(T instanceof WheelEvent?E=T.deltaY:E=window.scrollY-(Z||0),T.preventDefault(),T.stopPropagation(),E>0){window.scrollTo(0,Z);return}if(E<0){const R=ie,l=pe.clone(),D=v.z;We.to(B.position,{x:v.x,y:v.y,z:D,duration:1,ease:"power3.out"}),We.to({},{duration:1,ease:"power3.out",onUpdate:function(){const de=this.progress(),Te=B.getWorldDirection(new yt).multiplyScalar(1e3).add(B.position),oe=Ue.lerp(Te.x,l.x,de),W=Ue.lerp(Te.y,l.y,de),be=Ue.lerp(Te.z,l.z,de);B.lookAt(oe,W,be)},onComplete:()=>{B.lookAt(l),ue=!1,ie=null,document.body.classList.remove("no-scrollbar"),V&&q(!1),K(R,!1),Z=null,v=null,pe=null}})}};return M.addEventListener("mousemove",O),M.addEventListener("click",me),window.addEventListener("wheel",C,{passive:!1}),window.addEventListener("scroll",C,{passive:!1}),()=>{M.removeEventListener("mousemove",O),M.removeEventListener("click",me),window.removeEventListener("wheel",C),window.removeEventListener("scroll",C)}}}}We.registerPlugin(X);function gs(n,e,o,t,r,i,s={},a,f){X.config({syncTouch:!0});const{CUBE_SPACING:h,FIRST_CUBE_Z:g}=i,p=(t==null?void 0:t.length)||0,d=g-(p+1)*h;let u=!1;const m=Math.abs(d)+(p-1)*h,P=We.timeline();return We.timeline({scrollTrigger:{trigger:o.value,start:"top top",end:`+=${m}`,scrub:s.scrub||.5,pin:!0,onUpdate:se=>{if(!u){const Q=se.progress,x=Ue.lerp(0,d,Q);e.position.set(0,0,x),e.lookAt(0,0,d)}r(e)}}}).fromTo(e.position,{z:0},{z:d,duration:1,ease:"none"}),{setReverting:ne=>{u=ne},timeline:P}}const ms={class:"preloader"},_s={class:"progress-label"},vs=Qo({__name:"Preloader",props:{progress:{}},setup(n){return(e,o)=>(So(),qo("div",ms,[ir("div",_s,ln(Math.round(e.progress))+"%",1)]))}}),ws=ki(vs,[["__scopeId","data-v-e5eadefa"]]),Lo=250,po=500,Dr=-500,ys=Qo({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(n){We.registerPlugin(X);const e=Di();e.isMobile=/iPhone|iPad|Android/i.test(navigator.userAgent);const o=n,t={showChasers:!1,showStarfield:!1,showCars:!1,showBuildings:!1,showPortalPulses:!1,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0},r=tr(null),i=tr(null),s=tr(!1),a=tr(0),f=tr(!1),h=tr(!0),g=new Map;tr(null);let p,d,u,m,P,_,ne,se=null,Q=null,x=null,Me=null,te=null,S=[],ye=null,F=null;const y=()=>{const V=r.value?r.value.getBoundingClientRect().width:window.innerWidth,he=window.innerHeight,G=e.isMobile?.75:1;u.setSize(V*G,he*G),m.setSize(V*G,he*G),d.aspect=V/he,d.far=6e4,d.updateProjectionMatrix(),u.domElement.style.width=`${V}px`,u.domElement.style.height=`${he}px`},j=V=>g.has(V)?Promise.resolve(g.get(V)):new Promise((he,G)=>{new mr().load(V,ae=>{ae.encoding=void 0,g.set(V,ae),he(ae)},void 0,ae=>G(ae))}),v=async()=>{p=new Rn,p.background=new Rt(0),p.fog=new kn(0,700,4e3),d=new Dn(75,window.innerWidth/window.innerHeight,1,6e4),d.position.set(0,0,0),d.lookAt(0,0,1e3),u=new In({antialias:!0}),e.isMobile?u.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):u.setPixelRatio(window.devicePixelRatio),u.toneMapping=Fn,u.toneMappingExposure=1,u.outputEncoding=void 0,m=new ss(u);const V=new as(p,d);if(m.addPass(V),P=new Cr(new bt(window.innerWidth,window.innerHeight),6,.4,0),P.renderToScreen=!0,e.isMobile||m.addPass(P),r.value)r.value.appendChild(u.domElement),u.domElement.style.opacity="0";else return;_=new Zr,_.dom.style.position="fixed",_.dom.style.top="0px",_.dom.style.left="0px",_.dom.style.zIndex="1000",document.body.appendChild(_.dom);const he=o.projects.length+2+1;let G=0;const fe=()=>{G++,a.value=G/he*100,G===he&&(s.value=!0)};await j(o.projectGridFile).then(()=>fe()).catch(()=>fe()),await j(o.projectGridFile2).then(()=>fe()).catch(()=>fe());for(const re of o.projects)re.keyart?await j(re.keyart).then(()=>fe()).catch(()=>fe()):fe();const ae=Ei(p,{CUBE_SIZE:Lo,CUBE_SPACING:po,FIRST_CUBE_Z:Dr},o.projects,o.projectGridFile,o.projectGridFile2,t);let c=-8500;try{const re=await ae.getInitializedData();c=re.maxZ!==void 0&&!isNaN(re.maxZ)?re.maxZ:-8500,fe();const{introCubes:_t}=us(p,p,{CUBE_SIZE:Lo,FIRST_CUBE_Z:Dr},t);S=[..._t,...re.projectCubes],ye=re.updateCubeColors,t.showCars,t.showStarfield,t.showChasers,y()}catch(re){console.error("Error initializing project cubes:",re)}},pe=(V=0)=>{u&&m&&(e.isMobile,f.value,m.render(),_.update()),F=requestAnimationFrame(pe)};cn(()=>{v().then(()=>{if(s.value){F=requestAnimationFrame(pe);const V=Ei(p,{CUBE_SIZE:Lo,CUBE_SPACING:po,FIRST_CUBE_Z:Dr},o.projects,o.projectGridFile,o.projectGridFile2,t);let he=null;const G=V.getInitializedData().then(({projectCubes:ae})=>{ae.forEach(re=>{re.userData.isActive=!0});const c=Dr-(o.projects.length-1)*po;d.position.set(0,0,5e3),d.lookAt(0,0,c),d.updateProjectionMatrix(),ye(d),m.render(),S.length&&ye&&(he=gs(p,d,i,S,ye,{CUBE_SPACING:po,FIRST_CUBE_Z:Dr},{scrub:e.isMobile?3:1}).setReverting),u&&Q===null&&(Q=V.setupInteractivity(d,u.domElement,re=>{he&&he(re)})),window.scrollTo({top:0,behavior:"auto"})}),fe=()=>{G.then(()=>{h.value=!1,d.position.set(0,0,5e3),d.updateProjectionMatrix(),We.to(u.domElement,{opacity:1,duration:.5,ease:"power4.out"});const ae={z:5e3};We.to(ae,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{d.position.z=ae.z,d.updateProjectionMatrix()},onComplete:()=>{d.position.z=0,f.value=!0}})})};We.delayedCall(.1,fe)}}).catch(V=>{console.error("Initialization failed:",V)}),window.addEventListener("resize",ue)}),un(()=>{F!==null&&cancelAnimationFrame(F),Q&&Q(),window.removeEventListener("resize",ue),X.getAll().forEach(V=>V.kill()),u.dispose(),m.dispose(),p.clear(),document.body.removeChild(_.dom),te&&te()});const ue=()=>{y(),X.refresh()};return(V,he)=>(So(),qo("section",{ref_key:"wrapper",ref:i,class:"wrapper"},[Ir(fn,{name:"fade"},{default:dn(()=>[h.value?(So(),pn(ws,{key:0,progress:a.value},null,8,["progress"])):hn("",!0)]),_:1}),ir("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),bs=ki(ys,[["__scopeId","data-v-7ee355b7"]]),xs={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},Ss={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Ts={class:"overflow-hidden"},Is=Qo({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(n){return(e,o)=>(So(),qo(_n,null,[Ir(gn(mn),{title:"Welcome"}),ir("div",xs,[ir("nav",Ss,[Ir(Bn)]),ir("div",Ts,[Ir(bs,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),o[0]||(o[0]=ir("div",{class:"flex justify-center items-center"},null,-1)),o[1]||(o[1]=ir("div",{class:"flex justify-center items-center -mt-24 mix-blend-screen"},null,-1)),Ir(On)])],64))}});export{Is as default};
