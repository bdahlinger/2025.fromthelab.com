import{W as ki,d as qt,I as Or,e as Ft,o as At,a as ot,t as Zs,x as js,y as Ii,b as ko,w as Vs,c as $s,f as Oi,T as Li,n as qr,M as zi,j as Qr,E as Bi,u as Kr,m as Hi,F as ws,h as xs,g as Fi}from"./app-CtNgDF3R.js";import{c as Fe,O as Ni,f as yo,F as ys,k as wo,U as Jr,V as Wt,l as yr,H as br,N as Ui,C as Gi,m as Et,e as Ue,b as eo,n as ht,L as zt,G as Qt,g as ye,o as Ye,B as Fo,E as Vo,h as pt,p as Yi,u as Lr,R as Wi,q as qs,r as Xi,P as lo,a as Vt,s as Qs,t as Ks,v as bs,Q as Zi,I as ji,w as Hr,x as Ts,y as Vi,z as Fr,J as Nr,K as $i,T as qi,X as Qi,Y as Ki,S as Ji,Z as en,_ as tn,W as on,$ as rn,a0 as Cs,a1 as sn,d as lr,i as nn,j as an}from"./GlobalFooter-Cyz8sxQp.js";import{u as Do,_ as ln}from"./App.vue_vue_type_script_setup_true_lang-YLGBm1-w.js";import{_ as us}from"./_plugin-vue_export-helper-DlAUqK2U.js";function cn(a,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function un(a,e,r){return e&&cn(a.prototype,e),a}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _t,Tr,Ut,uo,fo,zo,Js,_o,$o,ei,io,$t,ti,oi=function(){return _t||typeof window<"u"&&(_t=window.gsap)&&_t.registerPlugin&&_t},ri=1,Lo=[],Ae=[],oo=[],qo=Date.now,es=function(e,r){return r},fn=function(){var e=$o.core,r=e.bridge||{},t=e._scrollers,o=e._proxies;t.push.apply(t,Ae),o.push.apply(o,oo),Ae=t,oo=o,es=function(i,n){return r[i](n)}},po=function(e,r){return~oo.indexOf(e)&&oo[oo.indexOf(e)+1][r]},Qo=function(e){return!!~ei.indexOf(e)},Pt=function(e,r,t,o,s){return e.addEventListener(r,t,{passive:o!==!1,capture:!!s})},Mt=function(e,r,t,o){return e.removeEventListener(r,t,!!o)},cr="scrollLeft",ur="scrollTop",ts=function(){return io&&io.isPressed||Ae.cache++},Dr=function(e,r){var t=function o(s){if(s||s===0){ri&&(Ut.history.scrollRestoration="manual");var i=io&&io.isPressed;s=o.v=Math.round(s)||(io&&io.iOS?1:0),e(s),o.cacheID=Ae.cache,i&&es("ss",s)}else(r||Ae.cache!==o.cacheID||es("ref"))&&(o.cacheID=Ae.cache,o.v=e());return o.v+o.offset};return t.offset=0,e&&t},kt={s:cr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Dr(function(a){return arguments.length?Ut.scrollTo(a,ut.sc()):Ut.pageXOffset||uo[cr]||fo[cr]||zo[cr]||0})},ut={s:ur,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:kt,sc:Dr(function(a){return arguments.length?Ut.scrollTo(kt.sc(),a):Ut.pageYOffset||uo[ur]||fo[ur]||zo[ur]||0})},Lt=function(e,r){return(r&&r._ctx&&r._ctx.selector||_t.utils.toArray)(e)[0]||(typeof e=="string"&&_t.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},ho=function(e,r){var t=r.s,o=r.sc;Qo(e)&&(e=uo.scrollingElement||fo);var s=Ae.indexOf(e),i=o===ut.sc?1:2;!~s&&(s=Ae.push(e)-1),Ae[s+i]||Pt(e,"scroll",ts);var n=Ae[s+i],u=n||(Ae[s+i]=Dr(po(e,t),!0)||(Qo(e)?o:Dr(function(p){return arguments.length?e[t]=p:e[t]})));return u.target=e,n||(u.smooth=_t.getProperty(e,"scrollBehavior")==="smooth"),u},os=function(e,r,t){var o=e,s=e,i=qo(),n=i,u=r||50,p=Math.max(500,u*3),M=function(d,D){var _=qo();D||_-i>u?(s=o,o=d,n=i,i=_):t?o+=d:o=s+(d-s)/(_-n)*(i-n)},g=function(){s=o=t?0:o,n=i=0},w=function(d){var D=n,_=s,k=qo();return(d||d===0)&&d!==o&&M(d),i===n||k-n>p?0:(o+(t?_:-_))/((t?k:i)-D)*1e3};return{update:M,reset:g,getVelocity:w}},Uo=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Ms=function(e){var r=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(t)?r:t},si=function(){$o=_t.core.globals().ScrollTrigger,$o&&$o.core&&fn()},ii=function(e){return _t=e||oi(),!Tr&&_t&&typeof document<"u"&&document.body&&(Ut=window,uo=document,fo=uo.documentElement,zo=uo.body,ei=[Ut,uo,fo,zo],_t.utils.clamp,ti=_t.core.context||function(){},_o="onpointerenter"in zo?"pointer":"mouse",Js=rt.isTouch=Ut.matchMedia&&Ut.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ut||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,$t=rt.eventTypes=("ontouchstart"in fo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in fo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ri=0},500),si(),Tr=1),Tr};kt.op=ut;Ae.cache=0;var rt=function(){function a(r){this.init(r)}var e=a.prototype;return e.init=function(t){Tr||ii(_t)||console.warn("Please gsap.registerPlugin(Observer)"),$o||si();var o=t.tolerance,s=t.dragMinimum,i=t.type,n=t.target,u=t.lineHeight,p=t.debounce,M=t.preventDefault,g=t.onStop,w=t.onStopDelay,f=t.ignore,d=t.wheelSpeed,D=t.event,_=t.onDragStart,k=t.onDragEnd,I=t.onDrag,se=t.onPress,E=t.onRelease,ue=t.onRight,he=t.onLeft,P=t.onUp,Me=t.onDown,W=t.onChangeX,v=t.onChangeY,Z=t.onChange,b=t.onToggleX,Y=t.onToggleY,_e=t.onHover,ve=t.onHoverEnd,Oe=t.onMove,X=t.ignoreCheck,Le=t.isNormalizer,ne=t.onGestureStart,l=t.onGestureEnd,ee=t.onWheel,ae=t.onEnable,ce=t.onDisable,Pe=t.onClick,We=t.scrollSpeed,Se=t.capture,ke=t.allowClicks,G=t.lockAxis,Q=t.onLockAxis;this.target=n=Lt(n)||fo,this.vars=t,f&&(f=_t.utils.toArray(f)),o=o||1e-9,s=s||0,d=d||1,We=We||1,i=i||"wheel,touch,pointer",p=p!==!1,u||(u=parseFloat(Ut.getComputedStyle(zo).lineHeight)||22);var be,L,de,T,z,fe,Be,c=this,Ve=0,Xe=0,qe=t.passive||!M&&t.passive!==!1,ze=ho(n,kt),Ke=ho(n,ut),Je=ze(),st=Ke(),Ze=~i.indexOf("touch")&&!~i.indexOf("pointer")&&$t[0]==="pointerdown",Gt=Qo(n),$e=n.ownerDocument||uo,mt=[0,0,0],vt=[0,0,0],x=0,$=function(){return x=qo()},y=function(F,pe){return(c.event=F)&&f&&~f.indexOf(F.target)||pe&&Ze&&F.pointerType!=="touch"||X&&X(F,pe)},le=function(){c._vx.reset(),c._vy.reset(),L.pause(),g&&g(c)},j=function(){var F=c.deltaX=Ms(mt),pe=c.deltaY=Ms(vt),C=Math.abs(F)>=o,H=Math.abs(pe)>=o;Z&&(C||H)&&Z(c,F,pe,mt,vt),C&&(ue&&c.deltaX>0&&ue(c),he&&c.deltaX<0&&he(c),W&&W(c),b&&c.deltaX<0!=Ve<0&&b(c),Ve=c.deltaX,mt[0]=mt[1]=mt[2]=0),H&&(Me&&c.deltaY>0&&Me(c),P&&c.deltaY<0&&P(c),v&&v(c),Y&&c.deltaY<0!=Xe<0&&Y(c),Xe=c.deltaY,vt[0]=vt[1]=vt[2]=0),(T||de)&&(Oe&&Oe(c),de&&(_&&de===1&&_(c),I&&I(c),de=0),T=!1),fe&&!(fe=!1)&&Q&&Q(c),z&&(ee(c),z=!1),be=0},q=function(F,pe,C){mt[C]+=F,vt[C]+=pe,c._vx.update(F),c._vy.update(pe),p?be||(be=requestAnimationFrame(j)):j()},ge=function(F,pe){G&&!Be&&(c.axis=Be=Math.abs(F)>Math.abs(pe)?"x":"y",fe=!0),Be!=="y"&&(mt[2]+=F,c._vx.update(F,!0)),Be!=="x"&&(vt[2]+=pe,c._vy.update(pe,!0)),p?be||(be=requestAnimationFrame(j)):j()},R=function(F){if(!y(F,1)){F=Uo(F,M);var pe=F.clientX,C=F.clientY,H=pe-c.x,m=C-c.y,h=c.isDragging;c.x=pe,c.y=C,(h||(H||m)&&(Math.abs(c.startX-pe)>=s||Math.abs(c.startY-C)>=s))&&(de=h?2:1,h||(c.isDragging=!0),ge(H,m))}},K=c.onPress=function(S){y(S,1)||S&&S.button||(c.axis=Be=null,L.pause(),c.isPressed=!0,S=Uo(S),Ve=Xe=0,c.startX=c.x=S.clientX,c.startY=c.y=S.clientY,c._vx.reset(),c._vy.reset(),Pt(Le?n:$e,$t[1],R,qe,!0),c.deltaX=c.deltaY=0,se&&se(c))},B=c.onRelease=function(S){if(!y(S,1)){Mt(Le?n:$e,$t[1],R,!0);var F=!isNaN(c.y-c.startY),pe=c.isDragging,C=pe&&(Math.abs(c.x-c.startX)>3||Math.abs(c.y-c.startY)>3),H=Uo(S);!C&&F&&(c._vx.reset(),c._vy.reset(),M&&ke&&_t.delayedCall(.08,function(){if(qo()-x>300&&!S.defaultPrevented){if(S.target.click)S.target.click();else if($e.createEvent){var m=$e.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,Ut,1,H.screenX,H.screenY,H.clientX,H.clientY,!1,!1,!1,!1,0,null),S.target.dispatchEvent(m)}}})),c.isDragging=c.isGesturing=c.isPressed=!1,g&&pe&&!Le&&L.restart(!0),de&&j(),k&&pe&&k(c),E&&E(c,C)}},te=function(F){return F.touches&&F.touches.length>1&&(c.isGesturing=!0)&&ne(F,c.isDragging)},Ie=function(){return(c.isGesturing=!1)||l(c)},Ne=function(F){if(!y(F)){var pe=ze(),C=Ke();q((pe-Je)*We,(C-st)*We,1),Je=pe,st=C,g&&L.restart(!0)}},Ee=function(F){if(!y(F)){F=Uo(F,M),ee&&(z=!0);var pe=(F.deltaMode===1?u:F.deltaMode===2?Ut.innerHeight:1)*d;q(F.deltaX*pe,F.deltaY*pe,0),g&&!Le&&L.restart(!0)}},wt=function(F){if(!y(F)){var pe=F.clientX,C=F.clientY,H=pe-c.x,m=C-c.y;c.x=pe,c.y=C,T=!0,g&&L.restart(!0),(H||m)&&ge(H,m)}},xt=function(F){c.event=F,_e(c)},ft=function(F){c.event=F,ve(c)},It=function(F){return y(F)||Uo(F,M)&&Pe(c)};L=c._dc=_t.delayedCall(w||.25,le).pause(),c.deltaX=c.deltaY=0,c._vx=os(0,50,!0),c._vy=os(0,50,!0),c.scrollX=ze,c.scrollY=Ke,c.isDragging=c.isGesturing=c.isPressed=!1,ti(this),c.enable=function(S){return c.isEnabled||(Pt(Gt?$e:n,"scroll",ts),i.indexOf("scroll")>=0&&Pt(Gt?$e:n,"scroll",Ne,qe,Se),i.indexOf("wheel")>=0&&Pt(n,"wheel",Ee,qe,Se),(i.indexOf("touch")>=0&&Js||i.indexOf("pointer")>=0)&&(Pt(n,$t[0],K,qe,Se),Pt($e,$t[2],B),Pt($e,$t[3],B),ke&&Pt(n,"click",$,!0,!0),Pe&&Pt(n,"click",It),ne&&Pt($e,"gesturestart",te),l&&Pt($e,"gestureend",Ie),_e&&Pt(n,_o+"enter",xt),ve&&Pt(n,_o+"leave",ft),Oe&&Pt(n,_o+"move",wt)),c.isEnabled=!0,c.isDragging=c.isGesturing=c.isPressed=T=de=!1,c._vx.reset(),c._vy.reset(),Je=ze(),st=Ke(),S&&S.type&&K(S),ae&&ae(c)),c},c.disable=function(){c.isEnabled&&(Lo.filter(function(S){return S!==c&&Qo(S.target)}).length||Mt(Gt?$e:n,"scroll",ts),c.isPressed&&(c._vx.reset(),c._vy.reset(),Mt(Le?n:$e,$t[1],R,!0)),Mt(Gt?$e:n,"scroll",Ne,Se),Mt(n,"wheel",Ee,Se),Mt(n,$t[0],K,Se),Mt($e,$t[2],B),Mt($e,$t[3],B),Mt(n,"click",$,!0),Mt(n,"click",It),Mt($e,"gesturestart",te),Mt($e,"gestureend",Ie),Mt(n,_o+"enter",xt),Mt(n,_o+"leave",ft),Mt(n,_o+"move",wt),c.isEnabled=c.isPressed=c.isDragging=!1,ce&&ce(c))},c.kill=c.revert=function(){c.disable();var S=Lo.indexOf(c);S>=0&&Lo.splice(S,1),io===c&&(io=0)},Lo.push(c),Le&&Qo(n)&&(io=c),c.enable(D)},un(a,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),a}();rt.version="3.12.7";rt.create=function(a){return new rt(a)};rt.register=ii;rt.getAll=function(){return Lo.slice()};rt.getById=function(a){return Lo.filter(function(e){return e.vars.id===a})[0]};oi()&&_t.registerPlugin(rt);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var U,Io,Re,je,Nt,Ge,fs,Rr,ir,Ko,Yo,fr,bt,zr,rs,Dt,Ps,Ss,Oo,ni,Ur,ai,St,ss,li,ci,co,is,ps,Bo,ds,Ar,ns,Gr,pr=1,Tt=Date.now,Yr=Tt(),jt=0,Wo=0,Es=function(e,r,t){var o=Ht(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=o,o?e.substr(6,e.length-7):e},Ds=function(e,r){return r&&(!Ht(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},pn=function a(){return Wo&&requestAnimationFrame(a)},Rs=function(){return zr=1},As=function(){return zr=0},Jt=function(e){return e},Xo=function(e){return Math.round(e*1e5)/1e5||0},ui=function(){return typeof window<"u"},fi=function(){return U||ui()&&(U=window.gsap)&&U.registerPlugin&&U},Mo=function(e){return!!~fs.indexOf(e)},pi=function(e){return(e==="Height"?ds:Re["inner"+e])||Nt["client"+e]||Ge["client"+e]},di=function(e){return po(e,"getBoundingClientRect")||(Mo(e)?function(){return Er.width=Re.innerWidth,Er.height=ds,Er}:function(){return so(e)})},dn=function(e,r,t){var o=t.d,s=t.d2,i=t.a;return(i=po(e,"getBoundingClientRect"))?function(){return i()[o]}:function(){return(r?pi(s):e["client"+s])||0}},hn=function(e,r){return!r||~oo.indexOf(e)?di(e):function(){return Er}},to=function(e,r){var t=r.s,o=r.d2,s=r.d,i=r.a;return Math.max(0,(t="scroll"+o)&&(i=po(e,t))?i()-di(e)()[s]:Mo(e)?(Nt[t]||Ge[t])-pi(o):e[t]-e["offset"+o])},dr=function(e,r){for(var t=0;t<Oo.length;t+=3)(!r||~r.indexOf(Oo[t+1]))&&e(Oo[t],Oo[t+1],Oo[t+2])},Ht=function(e){return typeof e=="string"},Ct=function(e){return typeof e=="function"},Zo=function(e){return typeof e=="number"},vo=function(e){return typeof e=="object"},Go=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},Wr=function(e,r){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return r(e)}):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},Ro=Math.abs,hi="left",gi="top",hs="right",gs="bottom",bo="width",To="height",Jo="Right",er="Left",tr="Top",or="Bottom",nt="padding",Xt="margin",No="Width",ms="Height",ct="px",Zt=function(e){return Re.getComputedStyle(e)},gn=function(e){var r=Zt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},ks=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},so=function(e,r){var t=r&&Zt(e)[rs]!=="matrix(1, 0, 0, 1, 0, 0)"&&U.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return t&&t.progress(0).kill(),o},kr=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},mi=function(e){var r=[],t=e.labels,o=e.duration(),s;for(s in t)r.push(t[s]/o);return r},mn=function(e){return function(r){return U.utils.snap(mi(e),r)}},_s=function(e){var r=U.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(o,s){return o-s});return t?function(o,s,i){i===void 0&&(i=.001);var n;if(!s)return r(o);if(s>0){for(o-=i,n=0;n<t.length;n++)if(t[n]>=o)return t[n];return t[n-1]}else for(n=t.length,o+=i;n--;)if(t[n]<=o)return t[n];return t[0]}:function(o,s,i){i===void 0&&(i=.001);var n=r(o);return!s||Math.abs(n-o)<i||n-o<0==s<0?n:r(s<0?o-e:o+e)}},_n=function(e){return function(r,t){return _s(mi(e))(r,t.direction)}},hr=function(e,r,t,o){return t.split(",").forEach(function(s){return e(r,s,o)})},gt=function(e,r,t,o,s){return e.addEventListener(r,t,{passive:!o,capture:!!s})},dt=function(e,r,t,o){return e.removeEventListener(r,t,!!o)},gr=function(e,r,t){t=t&&t.wheelHandler,t&&(e(r,"wheel",t),e(r,"touchmove",t))},Is={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},mr={toggleActions:"play",anticipatePin:0},Ir={top:0,left:0,center:.5,bottom:1,right:1},Cr=function(e,r){if(Ht(e)){var t=e.indexOf("="),o=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(o*=r/100),e=e.substr(0,t-1)),e=o+(e in Ir?Ir[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},_r=function(e,r,t,o,s,i,n,u){var p=s.startColor,M=s.endColor,g=s.fontSize,w=s.indent,f=s.fontWeight,d=je.createElement("div"),D=Mo(t)||po(t,"pinType")==="fixed",_=e.indexOf("scroller")!==-1,k=D?Ge:t,I=e.indexOf("start")!==-1,se=I?p:M,E="border-color:"+se+";font-size:"+g+";color:"+se+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((_||u)&&D?"fixed;":"absolute;"),(_||u||!D)&&(E+=(o===ut?hs:gs)+":"+(i+parseFloat(w))+"px;"),n&&(E+="box-sizing:border-box;text-align:left;width:"+n.offsetWidth+"px;"),d._isStart=I,d.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),d.style.cssText=E,d.innerText=r||r===0?e+"-"+r:e,k.children[0]?k.insertBefore(d,k.children[0]):k.appendChild(d),d._offset=d["offset"+o.op.d2],Mr(d,0,o,I),d},Mr=function(e,r,t,o){var s={display:"block"},i=t[o?"os2":"p2"],n=t[o?"p2":"os2"];e._isFlipped=o,s[t.a+"Percent"]=o?-100:0,s[t.a]=o?"1px":0,s["border"+i+No]=1,s["border"+n+No]=0,s[t.p]=r+"px",U.set(e,s)},De=[],as={},nr,Os=function(){return Tt()-jt>34&&(nr||(nr=requestAnimationFrame(no)))},Ao=function(){(!St||!St.isPressed||St.startX>Ge.clientWidth)&&(Ae.cache++,St?nr||(nr=requestAnimationFrame(no)):no(),jt||So("scrollStart"),jt=Tt())},Xr=function(){ci=Re.innerWidth,li=Re.innerHeight},jo=function(e){Ae.cache++,(e===!0||!bt&&!ai&&!je.fullscreenElement&&!je.webkitFullscreenElement&&(!ss||ci!==Re.innerWidth||Math.abs(Re.innerHeight-li)>Re.innerHeight*.25))&&Rr.restart(!0)},Po={},vn=[],_i=function a(){return dt(xe,"scrollEnd",a)||xo(!0)},So=function(e){return Po[e]&&Po[e].map(function(r){return r()})||vn},Bt=[],vi=function(e){for(var r=0;r<Bt.length;r+=5)(!e||Bt[r+4]&&Bt[r+4].query===e)&&(Bt[r].style.cssText=Bt[r+1],Bt[r].getBBox&&Bt[r].setAttribute("transform",Bt[r+2]||""),Bt[r+3].uncache=1)},vs=function(e,r){var t;for(Dt=0;Dt<De.length;Dt++)t=De[Dt],t&&(!r||t._ctx===r)&&(e?t.kill(1):t.revert(!0,!0));Ar=!0,r&&vi(r),r||So("revert")},wi=function(e,r){Ae.cache++,(r||!Rt)&&Ae.forEach(function(t){return Ct(t)&&t.cacheID++&&(t.rec=0)}),Ht(e)&&(Re.history.scrollRestoration=ps=e)},Rt,Co=0,Ls,wn=function(){if(Ls!==Co){var e=Ls=Co;requestAnimationFrame(function(){return e===Co&&xo(!0)})}},xi=function(){Ge.appendChild(Bo),ds=!St&&Bo.offsetHeight||Re.innerHeight,Ge.removeChild(Bo)},zs=function(e){return ir(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},xo=function(e,r){if(Nt=je.documentElement,Ge=je.body,fs=[Re,je,Nt,Ge],jt&&!e&&!Ar){gt(xe,"scrollEnd",_i);return}xi(),Rt=xe.isRefreshing=!0,Ae.forEach(function(o){return Ct(o)&&++o.cacheID&&(o.rec=o())});var t=So("refreshInit");ni&&xe.sort(),r||vs(),Ae.forEach(function(o){Ct(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),De.slice(0).forEach(function(o){return o.refresh()}),Ar=!1,De.forEach(function(o){if(o._subPinOffset&&o.pin){var s=o.vars.horizontal?"offsetWidth":"offsetHeight",i=o.pin[s];o.revert(!0,1),o.adjustPinSpacing(o.pin[s]-i),o.refresh()}}),ns=1,zs(!0),De.forEach(function(o){var s=to(o.scroller,o._dir),i=o.vars.end==="max"||o._endClamp&&o.end>s,n=o._startClamp&&o.start>=s;(i||n)&&o.setPositions(n?s-1:o.start,i?Math.max(n?s:o.start+1,s):o.end,!0)}),zs(!1),ns=0,t.forEach(function(o){return o&&o.render&&o.render(-1)}),Ae.forEach(function(o){Ct(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),wi(ps,1),Rr.pause(),Co++,Rt=2,no(2),De.forEach(function(o){return Ct(o.vars.onRefresh)&&o.vars.onRefresh(o)}),Rt=xe.isRefreshing=!1,So("refresh")},ls=0,Pr=1,rr,no=function(e){if(e===2||!Rt&&!Ar){xe.isUpdating=!0,rr&&rr.update(0);var r=De.length,t=Tt(),o=t-Yr>=50,s=r&&De[0].scroll();if(Pr=ls>s?-1:1,Rt||(ls=s),o&&(jt&&!zr&&t-jt>200&&(jt=0,So("scrollEnd")),Yo=Yr,Yr=t),Pr<0){for(Dt=r;Dt-- >0;)De[Dt]&&De[Dt].update(0,o);Pr=1}else for(Dt=0;Dt<r;Dt++)De[Dt]&&De[Dt].update(0,o);xe.isUpdating=!1}nr=0},cs=[hi,gi,gs,hs,Xt+or,Xt+Jo,Xt+tr,Xt+er,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Sr=cs.concat([bo,To,"boxSizing","max"+No,"max"+ms,"position",Xt,nt,nt+tr,nt+Jo,nt+or,nt+er]),xn=function(e,r,t){Ho(t);var o=e._gsap;if(o.spacerIsNative)Ho(o.spacerState);else if(e._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(e,r),s.removeChild(r))}e._gsap.swappedIn=!1},Zr=function(e,r,t,o){if(!e._gsap.swappedIn){for(var s=cs.length,i=r.style,n=e.style,u;s--;)u=cs[s],i[u]=t[u];i.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(i.display="inline-block"),n[gs]=n[hs]="auto",i.flexBasis=t.flexBasis||"auto",i.overflow="visible",i.boxSizing="border-box",i[bo]=kr(e,kt)+ct,i[To]=kr(e,ut)+ct,i[nt]=n[Xt]=n[gi]=n[hi]="0",Ho(o),n[bo]=n["max"+No]=t[bo],n[To]=n["max"+ms]=t[To],n[nt]=t[nt],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},yn=/([A-Z])/g,Ho=function(e){if(e){var r=e.t.style,t=e.length,o=0,s,i;for((e.t._gsap||U.core.getCache(e.t)).uncache=1;o<t;o+=2)i=e[o+1],s=e[o],i?r[s]=i:r[s]&&r.removeProperty(s.replace(yn,"-$1").toLowerCase())}},vr=function(e){for(var r=Sr.length,t=e.style,o=[],s=0;s<r;s++)o.push(Sr[s],t[Sr[s]]);return o.t=e,o},bn=function(e,r,t){for(var o=[],s=e.length,i=t?8:0,n;i<s;i+=2)n=e[i],o.push(n,n in r?r[n]:e[i+1]);return o.t=e.t,o},Er={left:0,top:0},Bs=function(e,r,t,o,s,i,n,u,p,M,g,w,f,d){Ct(e)&&(e=e(u)),Ht(e)&&e.substr(0,3)==="max"&&(e=w+(e.charAt(4)==="="?Cr("0"+e.substr(3),t):0));var D=f?f.time():0,_,k,I;if(f&&f.seek(0),isNaN(e)||(e=+e),Zo(e))f&&(e=U.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,w,e)),n&&Mr(n,t,o,!0);else{Ct(r)&&(r=r(u));var se=(e||"0").split(" "),E,ue,he,P;I=Lt(r,u)||Ge,E=so(I)||{},(!E||!E.left&&!E.top)&&Zt(I).display==="none"&&(P=I.style.display,I.style.display="block",E=so(I),P?I.style.display=P:I.style.removeProperty("display")),ue=Cr(se[0],E[o.d]),he=Cr(se[1]||"0",t),e=E[o.p]-p[o.p]-M+ue+s-he,n&&Mr(n,he,o,t-he<20||n._isStart&&he>20),t-=t-he}if(d&&(u[d]=e||-.001,e<0&&(e=0)),i){var Me=e+t,W=i._isStart;_="scroll"+o.d2,Mr(i,Me,o,W&&Me>20||!W&&(g?Math.max(Ge[_],Nt[_]):i.parentNode[_])<=Me+1),g&&(p=so(n),g&&(i.style[o.op.p]=p[o.op.p]-o.op.m-i._offset+ct))}return f&&I&&(_=so(I),f.seek(w),k=so(I),f._caScrollDist=_[o.p]-k[o.p],e=e/f._caScrollDist*w),f&&f.seek(D),f?e:Math.round(e)},Tn=/(webkit|moz|length|cssText|inset)/i,Hs=function(e,r,t,o){if(e.parentNode!==r){var s=e.style,i,n;if(r===Ge){e._stOrig=s.cssText,n=Zt(e);for(i in n)!+i&&!Tn.test(i)&&n[i]&&typeof s[i]=="string"&&i!=="0"&&(s[i]=n[i]);s.top=t,s.left=o}else s.cssText=e._stOrig;U.core.getCache(e).uncache=1,r.appendChild(e)}},yi=function(e,r,t){var o=r,s=o;return function(i){var n=Math.round(e());return n!==o&&n!==s&&Math.abs(n-o)>3&&Math.abs(n-s)>3&&(i=n,t&&t()),s=o,o=Math.round(i),o}},wr=function(e,r,t){var o={};o[r.p]="+="+t,U.set(e,o)},Fs=function(e,r){var t=ho(e,r),o="_scroll"+r.p2,s=function i(n,u,p,M,g){var w=i.tween,f=u.onComplete,d={};p=p||t();var D=yi(t,p,function(){w.kill(),i.tween=0});return g=M&&g||0,M=M||n-p,w&&w.kill(),u[o]=n,u.inherit=!1,u.modifiers=d,d[o]=function(){return D(p+M*w.ratio+g*w.ratio*w.ratio)},u.onUpdate=function(){Ae.cache++,i.tween&&no()},u.onComplete=function(){i.tween=0,f&&f.call(w)},w=i.tween=U.to(e,u),w};return e[o]=t,t.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},gt(e,"wheel",t.wheelHandler),xe.isTouch&&gt(e,"touchmove",t.wheelHandler),s},xe=function(){function a(r,t){Io||a.register(U)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),is(this),this.init(r,t)}var e=a.prototype;return e.init=function(t,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Wo){this.update=this.refresh=this.kill=Jt;return}t=ks(Ht(t)||Zo(t)||t.nodeType?{trigger:t}:t,mr);var s=t,i=s.onUpdate,n=s.toggleClass,u=s.id,p=s.onToggle,M=s.onRefresh,g=s.scrub,w=s.trigger,f=s.pin,d=s.pinSpacing,D=s.invalidateOnRefresh,_=s.anticipatePin,k=s.onScrubComplete,I=s.onSnapComplete,se=s.once,E=s.snap,ue=s.pinReparent,he=s.pinSpacer,P=s.containerAnimation,Me=s.fastScrollEnd,W=s.preventOverlaps,v=t.horizontal||t.containerAnimation&&t.horizontal!==!1?kt:ut,Z=!g&&g!==0,b=Lt(t.scroller||Re),Y=U.core.getCache(b),_e=Mo(b),ve=("pinType"in t?t.pinType:po(b,"pinType")||_e&&"fixed")==="fixed",Oe=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],X=Z&&t.toggleActions.split(" "),Le="markers"in t?t.markers:mr.markers,ne=_e?0:parseFloat(Zt(b)["border"+v.p2+No])||0,l=this,ee=t.onRefreshInit&&function(){return t.onRefreshInit(l)},ae=dn(b,_e,v),ce=hn(b,_e),Pe=0,We=0,Se=0,ke=ho(b,v),G,Q,be,L,de,T,z,fe,Be,c,Ve,Xe,qe,ze,Ke,Je,st,Ze,Gt,$e,mt,vt,x,$,y,le,j,q,ge,R,K,B,te,Ie,Ne,Ee,wt,xt,ft;if(l._startClamp=l._endClamp=!1,l._dir=v,_*=45,l.scroller=b,l.scroll=P?P.time.bind(P):ke,L=ke(),l.vars=t,o=o||t.animation,"refreshPriority"in t&&(ni=1,t.refreshPriority===-9999&&(rr=l)),Y.tweenScroll=Y.tweenScroll||{top:Fs(b,ut),left:Fs(b,kt)},l.tweenTo=G=Y.tweenScroll[v.p],l.scrubDuration=function(C){te=Zo(C)&&C,te?B?B.duration(C):B=U.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:te,paused:!0,onComplete:function(){return k&&k(l)}}):(B&&B.progress(1).kill(),B=0)},o&&(o.vars.lazy=!1,o._initted&&!l.isReverted||o.vars.immediateRender!==!1&&t.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),l.animation=o.pause(),o.scrollTrigger=l,l.scrubDuration(g),R=0,u||(u=o.vars.id)),E&&((!vo(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in Ge.style&&U.set(_e?[Ge,Nt]:b,{scrollBehavior:"auto"}),Ae.forEach(function(C){return Ct(C)&&C.target===(_e?je.scrollingElement||Nt:b)&&(C.smooth=!1)}),be=Ct(E.snapTo)?E.snapTo:E.snapTo==="labels"?mn(o):E.snapTo==="labelsDirectional"?_n(o):E.directional!==!1?function(C,H){return _s(E.snapTo)(C,Tt()-We<500?0:H.direction)}:U.utils.snap(E.snapTo),Ie=E.duration||{min:.1,max:2},Ie=vo(Ie)?Ko(Ie.min,Ie.max):Ko(Ie,Ie),Ne=U.delayedCall(E.delay||te/2||.1,function(){var C=ke(),H=Tt()-We<500,m=G.tween;if((H||Math.abs(l.getVelocity())<10)&&!m&&!zr&&Pe!==C){var h=(C-T)/ze,me=o&&!Z?o.totalProgress():h,A=H?0:(me-K)/(Tt()-Yo)*1e3||0,oe=U.utils.clamp(-h,1-h,Ro(A/2)*A/.185),O=h+(E.inertia===!1?0:oe),J,N,ie=E,re=ie.onStart,V=ie.onInterrupt,we=ie.onComplete;if(J=be(O,l),Zo(J)||(J=O),N=Math.max(0,Math.round(T+J*ze)),C<=z&&C>=T&&N!==C){if(m&&!m._initted&&m.data<=Ro(N-C))return;E.inertia===!1&&(oe=J-h),G(N,{duration:Ie(Ro(Math.max(Ro(O-me),Ro(J-me))*.185/A/.05||0)),ease:E.ease||"power3",data:Ro(N-C),onInterrupt:function(){return Ne.restart(!0)&&V&&V(l)},onComplete:function(){l.update(),Pe=ke(),o&&!Z&&(B?B.resetTo("totalProgress",J,o._tTime/o._tDur):o.progress(J)),R=K=o&&!Z?o.totalProgress():l.progress,I&&I(l),we&&we(l)}},C,oe*ze,N-C-oe*ze),re&&re(l,G.tween)}}else l.isActive&&Pe!==C&&Ne.restart(!0)}).pause()),u&&(as[u]=l),w=l.trigger=Lt(w||f!==!0&&f),ft=w&&w._gsap&&w._gsap.stRevert,ft&&(ft=ft(l)),f=f===!0?w:Lt(f),Ht(n)&&(n={targets:w,className:n}),f&&(d===!1||d===Xt||(d=!d&&f.parentNode&&f.parentNode.style&&Zt(f.parentNode).display==="flex"?!1:nt),l.pin=f,Q=U.core.getCache(f),Q.spacer?Ke=Q.pinState:(he&&(he=Lt(he),he&&!he.nodeType&&(he=he.current||he.nativeElement),Q.spacerIsNative=!!he,he&&(Q.spacerState=vr(he))),Q.spacer=Ze=he||je.createElement("div"),Ze.classList.add("pin-spacer"),u&&Ze.classList.add("pin-spacer-"+u),Q.pinState=Ke=vr(f)),t.force3D!==!1&&U.set(f,{force3D:!0}),l.spacer=Ze=Q.spacer,ge=Zt(f),$=ge[d+v.os2],$e=U.getProperty(f),mt=U.quickSetter(f,v.a,ct),Zr(f,Ze,ge),st=vr(f)),Le){Xe=vo(Le)?ks(Le,Is):Is,c=_r("scroller-start",u,b,v,Xe,0),Ve=_r("scroller-end",u,b,v,Xe,0,c),Gt=c["offset"+v.op.d2];var It=Lt(po(b,"content")||b);fe=this.markerStart=_r("start",u,It,v,Xe,Gt,0,P),Be=this.markerEnd=_r("end",u,It,v,Xe,Gt,0,P),P&&(xt=U.quickSetter([fe,Be],v.a,ct)),!ve&&!(oo.length&&po(b,"fixedMarkers")===!0)&&(gn(_e?Ge:b),U.set([c,Ve],{force3D:!0}),le=U.quickSetter(c,v.a,ct),q=U.quickSetter(Ve,v.a,ct))}if(P){var S=P.vars.onUpdate,F=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){l.update(0,0,1),S&&S.apply(P,F||[])})}if(l.previous=function(){return De[De.indexOf(l)-1]},l.next=function(){return De[De.indexOf(l)+1]},l.revert=function(C,H){if(!H)return l.kill(!0);var m=C!==!1||!l.enabled,h=bt;m!==l.isReverted&&(m&&(Ee=Math.max(ke(),l.scroll.rec||0),Se=l.progress,wt=o&&o.progress()),fe&&[fe,Be,c,Ve].forEach(function(me){return me.style.display=m?"none":"block"}),m&&(bt=l,l.update(m)),f&&(!ue||!l.isActive)&&(m?xn(f,Ze,Ke):Zr(f,Ze,Zt(f),y)),m||l.update(m),bt=h,l.isReverted=m)},l.refresh=function(C,H,m,h){if(!((bt||!l.enabled)&&!H)){if(f&&C&&jt){gt(a,"scrollEnd",_i);return}!Rt&&ee&&ee(l),bt=l,G.tween&&!m&&(G.tween.kill(),G.tween=0),B&&B.pause(),D&&o&&o.revert({kill:!1}).invalidate(),l.isReverted||l.revert(!0,!0),l._subPinOffset=!1;var me=ae(),A=ce(),oe=P?P.duration():to(b,v),O=ze<=.01,J=0,N=h||0,ie=vo(m)?m.end:t.end,re=t.endTrigger||w,V=vo(m)?m.start:t.start||(t.start===0||!w?0:f?"0 0":"0 100%"),we=l.pinnedContainer=t.pinnedContainer&&Lt(t.pinnedContainer,l),He=w&&Math.max(0,De.indexOf(l))||0,Te=He,Ce,at,Kt,go,lt,et,Yt,ao,Qe,Ot,tt,it,ro;for(Le&&vo(m)&&(it=U.getProperty(c,v.p),ro=U.getProperty(Ve,v.p));Te-- >0;)et=De[Te],et.end||et.refresh(0,1)||(bt=l),Yt=et.pin,Yt&&(Yt===w||Yt===f||Yt===we)&&!et.isReverted&&(Ot||(Ot=[]),Ot.unshift(et),et.revert(!0,!0)),et!==De[Te]&&(He--,Te--);for(Ct(V)&&(V=V(l)),V=Es(V,"start",l),T=Bs(V,w,me,v,ke(),fe,c,l,A,ne,ve,oe,P,l._startClamp&&"_startClamp")||(f?-.001:0),Ct(ie)&&(ie=ie(l)),Ht(ie)&&!ie.indexOf("+=")&&(~ie.indexOf(" ")?ie=(Ht(V)?V.split(" ")[0]:"")+ie:(J=Cr(ie.substr(2),me),ie=Ht(V)?V:(P?U.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,T):T)+J,re=w)),ie=Es(ie,"end",l),z=Math.max(T,Bs(ie||(re?"100% 0":oe),re,me,v,ke()+J,Be,Ve,l,A,ne,ve,oe,P,l._endClamp&&"_endClamp"))||-.001,J=0,Te=He;Te--;)et=De[Te],Yt=et.pin,Yt&&et.start-et._pinPush<=T&&!P&&et.end>0&&(Ce=et.end-(l._startClamp?Math.max(0,et.start):et.start),(Yt===w&&et.start-et._pinPush<T||Yt===we)&&isNaN(V)&&(J+=Ce*(1-et.progress)),Yt===f&&(N+=Ce));if(T+=J,z+=J,l._startClamp&&(l._startClamp+=J),l._endClamp&&!Rt&&(l._endClamp=z||-.001,z=Math.min(z,to(b,v))),ze=z-T||(T-=.01)&&.001,O&&(Se=U.utils.clamp(0,1,U.utils.normalize(T,z,Ee))),l._pinPush=N,fe&&J&&(Ce={},Ce[v.a]="+="+J,we&&(Ce[v.p]="-="+ke()),U.set([fe,Be],Ce)),f&&!(ns&&l.end>=to(b,v)))Ce=Zt(f),go=v===ut,Kt=ke(),vt=parseFloat($e(v.a))+N,!oe&&z>1&&(tt=(_e?je.scrollingElement||Nt:b).style,tt={style:tt,value:tt["overflow"+v.a.toUpperCase()]},_e&&Zt(Ge)["overflow"+v.a.toUpperCase()]!=="scroll"&&(tt.style["overflow"+v.a.toUpperCase()]="scroll")),Zr(f,Ze,Ce),st=vr(f),at=so(f,!0),ao=ve&&ho(b,go?kt:ut)(),d?(y=[d+v.os2,ze+N+ct],y.t=Ze,Te=d===nt?kr(f,v)+ze+N:0,Te&&(y.push(v.d,Te+ct),Ze.style.flexBasis!=="auto"&&(Ze.style.flexBasis=Te+ct)),Ho(y),we&&De.forEach(function(yt){yt.pin===we&&yt.vars.pinSpacing!==!1&&(yt._subPinOffset=!0)}),ve&&ke(Ee)):(Te=kr(f,v),Te&&Ze.style.flexBasis!=="auto"&&(Ze.style.flexBasis=Te+ct)),ve&&(lt={top:at.top+(go?Kt-T:ao)+ct,left:at.left+(go?ao:Kt-T)+ct,boxSizing:"border-box",position:"fixed"},lt[bo]=lt["max"+No]=Math.ceil(at.width)+ct,lt[To]=lt["max"+ms]=Math.ceil(at.height)+ct,lt[Xt]=lt[Xt+tr]=lt[Xt+Jo]=lt[Xt+or]=lt[Xt+er]="0",lt[nt]=Ce[nt],lt[nt+tr]=Ce[nt+tr],lt[nt+Jo]=Ce[nt+Jo],lt[nt+or]=Ce[nt+or],lt[nt+er]=Ce[nt+er],Je=bn(Ke,lt,ue),Rt&&ke(0)),o?(Qe=o._initted,Ur(1),o.render(o.duration(),!0,!0),x=$e(v.a)-vt+ze+N,j=Math.abs(ze-x)>1,ve&&j&&Je.splice(Je.length-2,2),o.render(0,!0,!0),Qe||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),Ur(0)):x=ze,tt&&(tt.value?tt.style["overflow"+v.a.toUpperCase()]=tt.value:tt.style.removeProperty("overflow-"+v.a));else if(w&&ke()&&!P)for(at=w.parentNode;at&&at!==Ge;)at._pinOffset&&(T-=at._pinOffset,z-=at._pinOffset),at=at.parentNode;Ot&&Ot.forEach(function(yt){return yt.revert(!1,!0)}),l.start=T,l.end=z,L=de=Rt?Ee:ke(),!P&&!Rt&&(L<Ee&&ke(Ee),l.scroll.rec=0),l.revert(!1,!0),We=Tt(),Ne&&(Pe=-1,Ne.restart(!0)),bt=0,o&&Z&&(o._initted||wt)&&o.progress()!==wt&&o.progress(wt||0,!0).render(o.time(),!0,!0),(O||Se!==l.progress||P||D||o&&!o._initted)&&(o&&!Z&&o.totalProgress(P&&T<-.001&&!Se?U.utils.normalize(T,z,0):Se,!0),l.progress=O||(L-T)/ze===Se?0:Se),f&&d&&(Ze._pinOffset=Math.round(l.progress*x)),B&&B.invalidate(),isNaN(it)||(it-=U.getProperty(c,v.p),ro-=U.getProperty(Ve,v.p),wr(c,v,it),wr(fe,v,it-(h||0)),wr(Ve,v,ro),wr(Be,v,ro-(h||0))),O&&!Rt&&l.update(),M&&!Rt&&!qe&&(qe=!0,M(l),qe=!1)}},l.getVelocity=function(){return(ke()-de)/(Tt()-Yo)*1e3||0},l.endAnimation=function(){Go(l.callbackAnimation),o&&(B?B.progress(1):o.paused()?Z||Go(o,l.direction<0,1):Go(o,o.reversed()))},l.labelToScroll=function(C){return o&&o.labels&&(T||l.refresh()||T)+o.labels[C]/o.duration()*ze||0},l.getTrailing=function(C){var H=De.indexOf(l),m=l.direction>0?De.slice(0,H).reverse():De.slice(H+1);return(Ht(C)?m.filter(function(h){return h.vars.preventOverlaps===C}):m).filter(function(h){return l.direction>0?h.end<=T:h.start>=z})},l.update=function(C,H,m){if(!(P&&!m&&!C)){var h=Rt===!0?Ee:l.scroll(),me=C?0:(h-T)/ze,A=me<0?0:me>1?1:me||0,oe=l.progress,O,J,N,ie,re,V,we,He;if(H&&(de=L,L=P?ke():h,E&&(K=R,R=o&&!Z?o.totalProgress():A)),_&&f&&!bt&&!pr&&jt&&(!A&&T<h+(h-de)/(Tt()-Yo)*_?A=1e-4:A===1&&z>h+(h-de)/(Tt()-Yo)*_&&(A=.9999)),A!==oe&&l.enabled){if(O=l.isActive=!!A&&A<1,J=!!oe&&oe<1,V=O!==J,re=V||!!A!=!!oe,l.direction=A>oe?1:-1,l.progress=A,re&&!bt&&(N=A&&!oe?0:A===1?1:oe===1?2:3,Z&&(ie=!V&&X[N+1]!=="none"&&X[N+1]||X[N],He=o&&(ie==="complete"||ie==="reset"||ie in o))),W&&(V||He)&&(He||g||!o)&&(Ct(W)?W(l):l.getTrailing(W).forEach(function(Kt){return Kt.endAnimation()})),Z||(B&&!bt&&!pr?(B._dp._time-B._start!==B._time&&B.render(B._dp._time-B._start),B.resetTo?B.resetTo("totalProgress",A,o._tTime/o._tDur):(B.vars.totalProgress=A,B.invalidate().restart())):o&&o.totalProgress(A,!!(bt&&(We||C)))),f){if(C&&d&&(Ze.style[d+v.os2]=$),!ve)mt(Xo(vt+x*A));else if(re){if(we=!C&&A>oe&&z+1>h&&h+1>=to(b,v),ue)if(!C&&(O||we)){var Te=so(f,!0),Ce=h-T;Hs(f,Ge,Te.top+(v===ut?Ce:0)+ct,Te.left+(v===ut?0:Ce)+ct)}else Hs(f,Ze);Ho(O||we?Je:st),j&&A<1&&O||mt(vt+(A===1&&!we?x:0))}}E&&!G.tween&&!bt&&!pr&&Ne.restart(!0),n&&(V||se&&A&&(A<1||!Gr))&&ir(n.targets).forEach(function(Kt){return Kt.classList[O||se?"add":"remove"](n.className)}),i&&!Z&&!C&&i(l),re&&!bt?(Z&&(He&&(ie==="complete"?o.pause().totalProgress(1):ie==="reset"?o.restart(!0).pause():ie==="restart"?o.restart(!0):o[ie]()),i&&i(l)),(V||!Gr)&&(p&&V&&Wr(l,p),Oe[N]&&Wr(l,Oe[N]),se&&(A===1?l.kill(!1,1):Oe[N]=0),V||(N=A===1?1:3,Oe[N]&&Wr(l,Oe[N]))),Me&&!O&&Math.abs(l.getVelocity())>(Zo(Me)?Me:2500)&&(Go(l.callbackAnimation),B?B.progress(1):Go(o,ie==="reverse"?1:!A,1))):Z&&i&&!bt&&i(l)}if(q){var at=P?h/P.duration()*(P._caScrollDist||0):h;le(at+(c._isFlipped?1:0)),q(at)}xt&&xt(-h/P.duration()*(P._caScrollDist||0))}},l.enable=function(C,H){l.enabled||(l.enabled=!0,gt(b,"resize",jo),_e||gt(b,"scroll",Ao),ee&&gt(a,"refreshInit",ee),C!==!1&&(l.progress=Se=0,L=de=Pe=ke()),H!==!1&&l.refresh())},l.getTween=function(C){return C&&G?G.tween:B},l.setPositions=function(C,H,m,h){if(P){var me=P.scrollTrigger,A=P.duration(),oe=me.end-me.start;C=me.start+oe*C/A,H=me.start+oe*H/A}l.refresh(!1,!1,{start:Ds(C,m&&!!l._startClamp),end:Ds(H,m&&!!l._endClamp)},h),l.update()},l.adjustPinSpacing=function(C){if(y&&C){var H=y.indexOf(v.d)+1;y[H]=parseFloat(y[H])+C+ct,y[1]=parseFloat(y[1])+C+ct,Ho(y)}},l.disable=function(C,H){if(l.enabled&&(C!==!1&&l.revert(!0,!0),l.enabled=l.isActive=!1,H||B&&B.pause(),Ee=0,Q&&(Q.uncache=1),ee&&dt(a,"refreshInit",ee),Ne&&(Ne.pause(),G.tween&&G.tween.kill()&&(G.tween=0)),!_e)){for(var m=De.length;m--;)if(De[m].scroller===b&&De[m]!==l)return;dt(b,"resize",jo),_e||dt(b,"scroll",Ao)}},l.kill=function(C,H){l.disable(C,H),B&&!H&&B.kill(),u&&delete as[u];var m=De.indexOf(l);m>=0&&De.splice(m,1),m===Dt&&Pr>0&&Dt--,m=0,De.forEach(function(h){return h.scroller===l.scroller&&(m=1)}),m||Rt||(l.scroll.rec=0),o&&(o.scrollTrigger=null,C&&o.revert({kill:!1}),H||o.kill()),fe&&[fe,Be,c,Ve].forEach(function(h){return h.parentNode&&h.parentNode.removeChild(h)}),rr===l&&(rr=0),f&&(Q&&(Q.uncache=1),m=0,De.forEach(function(h){return h.pin===f&&m++}),m||(Q.spacer=0)),t.onKill&&t.onKill(l)},De.push(l),l.enable(!1,!1),ft&&ft(l),o&&o.add&&!ze){var pe=l.update;l.update=function(){l.update=pe,Ae.cache++,T||z||l.refresh()},U.delayedCall(.01,l.update),ze=.01,T=z=0}else l.refresh();f&&wn()},a.register=function(t){return Io||(U=t||fi(),ui()&&window.document&&a.enable(),Io=Wo),Io},a.defaults=function(t){if(t)for(var o in t)mr[o]=t[o];return mr},a.disable=function(t,o){Wo=0,De.forEach(function(i){return i[o?"kill":"disable"](t)}),dt(Re,"wheel",Ao),dt(je,"scroll",Ao),clearInterval(fr),dt(je,"touchcancel",Jt),dt(Ge,"touchstart",Jt),hr(dt,je,"pointerdown,touchstart,mousedown",Rs),hr(dt,je,"pointerup,touchend,mouseup",As),Rr.kill(),dr(dt);for(var s=0;s<Ae.length;s+=3)gr(dt,Ae[s],Ae[s+1]),gr(dt,Ae[s],Ae[s+2])},a.enable=function(){if(Re=window,je=document,Nt=je.documentElement,Ge=je.body,U&&(ir=U.utils.toArray,Ko=U.utils.clamp,is=U.core.context||Jt,Ur=U.core.suppressOverwrites||Jt,ps=Re.history.scrollRestoration||"auto",ls=Re.pageYOffset||0,U.core.globals("ScrollTrigger",a),Ge)){Wo=1,Bo=document.createElement("div"),Bo.style.height="100vh",Bo.style.position="absolute",xi(),pn(),rt.register(U),a.isTouch=rt.isTouch,co=rt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ss=rt.isTouch===1,gt(Re,"wheel",Ao),fs=[Re,je,Nt,Ge],U.matchMedia?(a.matchMedia=function(p){var M=U.matchMedia(),g;for(g in p)M.add(g,p[g]);return M},U.addEventListener("matchMediaInit",function(){return vs()}),U.addEventListener("matchMediaRevert",function(){return vi()}),U.addEventListener("matchMedia",function(){xo(0,1),So("matchMedia")}),U.matchMedia().add("(orientation: portrait)",function(){return Xr(),Xr})):console.warn("Requires GSAP 3.11.0 or later"),Xr(),gt(je,"scroll",Ao);var t=Ge.hasAttribute("style"),o=Ge.style,s=o.borderTopStyle,i=U.core.Animation.prototype,n,u;for(i.revert||Object.defineProperty(i,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",n=so(Ge),ut.m=Math.round(n.top+ut.sc())||0,kt.m=Math.round(n.left+kt.sc())||0,s?o.borderTopStyle=s:o.removeProperty("border-top-style"),t||(Ge.setAttribute("style",""),Ge.removeAttribute("style")),fr=setInterval(Os,250),U.delayedCall(.5,function(){return pr=0}),gt(je,"touchcancel",Jt),gt(Ge,"touchstart",Jt),hr(gt,je,"pointerdown,touchstart,mousedown",Rs),hr(gt,je,"pointerup,touchend,mouseup",As),rs=U.utils.checkPrefix("transform"),Sr.push(rs),Io=Tt(),Rr=U.delayedCall(.2,xo).pause(),Oo=[je,"visibilitychange",function(){var p=Re.innerWidth,M=Re.innerHeight;je.hidden?(Ps=p,Ss=M):(Ps!==p||Ss!==M)&&jo()},je,"DOMContentLoaded",xo,Re,"load",xo,Re,"resize",jo],dr(gt),De.forEach(function(p){return p.enable(0,1)}),u=0;u<Ae.length;u+=3)gr(dt,Ae[u],Ae[u+1]),gr(dt,Ae[u],Ae[u+2])}},a.config=function(t){"limitCallbacks"in t&&(Gr=!!t.limitCallbacks);var o=t.syncInterval;o&&clearInterval(fr)||(fr=o)&&setInterval(Os,o),"ignoreMobileResize"in t&&(ss=a.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(dr(dt)||dr(gt,t.autoRefreshEvents||"none"),ai=(t.autoRefreshEvents+"").indexOf("resize")===-1)},a.scrollerProxy=function(t,o){var s=Lt(t),i=Ae.indexOf(s),n=Mo(s);~i&&Ae.splice(i,n?6:2),o&&(n?oo.unshift(Re,o,Ge,o,Nt,o):oo.unshift(s,o))},a.clearMatchMedia=function(t){De.forEach(function(o){return o._ctx&&o._ctx.query===t&&o._ctx.kill(!0,!0)})},a.isInViewport=function(t,o,s){var i=(Ht(t)?Lt(t):t).getBoundingClientRect(),n=i[s?bo:To]*o||0;return s?i.right-n>0&&i.left+n<Re.innerWidth:i.bottom-n>0&&i.top+n<Re.innerHeight},a.positionInViewport=function(t,o,s){Ht(t)&&(t=Lt(t));var i=t.getBoundingClientRect(),n=i[s?bo:To],u=o==null?n/2:o in Ir?Ir[o]*n:~o.indexOf("%")?parseFloat(o)*n/100:parseFloat(o)||0;return s?(i.left+u)/Re.innerWidth:(i.top+u)/Re.innerHeight},a.killAll=function(t){if(De.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),t!==!0){var o=Po.killAll||[];Po={},o.forEach(function(s){return s()})}},a}();xe.version="3.12.7";xe.saveStyles=function(a){return a?ir(a).forEach(function(e){if(e&&e.style){var r=Bt.indexOf(e);r>=0&&Bt.splice(r,5),Bt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),U.core.getCache(e),is())}}):Bt};xe.revert=function(a,e){return vs(!a,e)};xe.create=function(a,e){return new xe(a,e)};xe.refresh=function(a){return a?jo(!0):(Io||xe.register())&&xo(!0)};xe.update=function(a){return++Ae.cache&&no(a===!0?2:0)};xe.clearScrollMemory=wi;xe.maxScroll=function(a,e){return to(a,e?kt:ut)};xe.getScrollFunc=function(a,e){return ho(Lt(a),e?kt:ut)};xe.getById=function(a){return as[a]};xe.getAll=function(){return De.filter(function(a){return a.vars.id!=="ScrollSmoother"})};xe.isScrolling=function(){return!!jt};xe.snapDirectional=_s;xe.addEventListener=function(a,e){var r=Po[a]||(Po[a]=[]);~r.indexOf(e)||r.push(e)};xe.removeEventListener=function(a,e){var r=Po[a],t=r&&r.indexOf(e);t>=0&&r.splice(t,1)};xe.batch=function(a,e){var r=[],t={},o=e.interval||.016,s=e.batchMax||1e9,i=function(p,M){var g=[],w=[],f=U.delayedCall(o,function(){M(g,w),g=[],w=[]}).pause();return function(d){g.length||f.restart(!0),g.push(d.trigger),w.push(d),s<=g.length&&f.progress(1)}},n;for(n in e)t[n]=n.substr(0,2)==="on"&&Ct(e[n])&&n!=="onRefreshInit"?i(n,e[n]):e[n];return Ct(s)&&(s=s(),gt(xe,"refresh",function(){return s=e.batchMax()})),ir(a).forEach(function(u){var p={};for(n in t)p[n]=t[n];p.trigger=u,r.push(xe.create(p))}),r};var Ns=function(e,r,t,o){return r>o?e(o):r<0&&e(0),t>o?(o-r)/(t-r):t<0?r/(r-t):1},jr=function a(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(rt.isTouch?" pinch-zoom":""):"none",e===Nt&&a(Ge,r)},xr={auto:1,scroll:1},Cn=function(e){var r=e.event,t=e.target,o=e.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,i=s._gsap||U.core.getCache(s),n=Tt(),u;if(!i._isScrollT||n-i._isScrollT>2e3){for(;s&&s!==Ge&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(xr[(u=Zt(s)).overflowY]||xr[u.overflowX]));)s=s.parentNode;i._isScroll=s&&s!==t&&!Mo(s)&&(xr[(u=Zt(s)).overflowY]||xr[u.overflowX]),i._isScrollT=n}(i._isScroll||o==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},bi=function(e,r,t,o){return rt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:o=o&&Cn,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return t&&gt(je,rt.eventTypes[0],Gs,!1,!0)},onDisable:function(){return dt(je,rt.eventTypes[0],Gs,!0)}})},Mn=/(input|label|select|textarea)/i,Us,Gs=function(e){var r=Mn.test(e.target.tagName);(r||Us)&&(e._gsapAllow=!0,Us=r)},Pn=function(e){vo(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,t=r.normalizeScrollX,o=r.momentum,s=r.allowNestedScroll,i=r.onRelease,n,u,p=Lt(e.target)||Nt,M=U.core.globals().ScrollSmoother,g=M&&M.get(),w=co&&(e.content&&Lt(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),f=ho(p,ut),d=ho(p,kt),D=1,_=(rt.isTouch&&Re.visualViewport?Re.visualViewport.scale*Re.visualViewport.width:Re.outerWidth)/Re.innerWidth,k=0,I=Ct(o)?function(){return o(n)}:function(){return o||2.8},se,E,ue=bi(p,e.type,!0,s),he=function(){return E=!1},P=Jt,Me=Jt,W=function(){u=to(p,ut),Me=Ko(co?1:0,u),t&&(P=Ko(0,to(p,kt))),se=Co},v=function(){w._gsap.y=Xo(parseFloat(w._gsap.y)+f.offset)+"px",w.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(w._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},Z=function(){if(E){requestAnimationFrame(he);var Le=Xo(n.deltaY/2),ne=Me(f.v-Le);if(w&&ne!==f.v+f.offset){f.offset=ne-f.v;var l=Xo((parseFloat(w&&w._gsap.y)||0)-f.offset);w.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+l+", 0, 1)",w._gsap.y=l+"px",f.cacheID=Ae.cache,no()}return!0}f.offset&&v(),E=!0},b,Y,_e,ve,Oe=function(){W(),b.isActive()&&b.vars.scrollY>u&&(f()>u?b.progress(1)&&f(u):b.resetTo("scrollY",u))};return w&&U.set(w,{y:"+=0"}),e.ignoreCheck=function(X){return co&&X.type==="touchmove"&&Z()||D>1.05&&X.type!=="touchstart"||n.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){E=!1;var X=D;D=Xo((Re.visualViewport&&Re.visualViewport.scale||1)/_),b.pause(),X!==D&&jr(p,D>1.01?!0:t?!1:"x"),Y=d(),_e=f(),W(),se=Co},e.onRelease=e.onGestureStart=function(X,Le){if(f.offset&&v(),!Le)ve.restart(!0);else{Ae.cache++;var ne=I(),l,ee;t&&(l=d(),ee=l+ne*.05*-X.velocityX/.227,ne*=Ns(d,l,ee,to(p,kt)),b.vars.scrollX=P(ee)),l=f(),ee=l+ne*.05*-X.velocityY/.227,ne*=Ns(f,l,ee,to(p,ut)),b.vars.scrollY=Me(ee),b.invalidate().duration(ne).play(.01),(co&&b.vars.scrollY>=u||l>=u-1)&&U.to({},{onUpdate:Oe,duration:ne})}i&&i(X)},e.onWheel=function(){b._ts&&b.pause(),Tt()-k>1e3&&(se=0,k=Tt())},e.onChange=function(X,Le,ne,l,ee){if(Co!==se&&W(),Le&&t&&d(P(l[2]===Le?Y+(X.startX-X.x):d()+Le-l[1])),ne){f.offset&&v();var ae=ee[2]===ne,ce=ae?_e+X.startY-X.y:f()+ne-ee[1],Pe=Me(ce);ae&&ce!==Pe&&(_e+=Pe-ce),f(Pe)}(ne||Le)&&no()},e.onEnable=function(){jr(p,t?!1:"x"),xe.addEventListener("refresh",Oe),gt(Re,"resize",Oe),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=d.smooth=!1),ue.enable()},e.onDisable=function(){jr(p,!0),dt(Re,"resize",Oe),xe.removeEventListener("refresh",Oe),ue.kill()},e.lockAxis=e.lockAxis!==!1,n=new rt(e),n.iOS=co,co&&!f()&&f(1),co&&U.ticker.add(Jt),ve=n._dc,b=U.to(n,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:yi(f,f(),function(){return b.pause()})},onUpdate:no,onComplete:ve.vars.onComplete}),n};xe.sort=function(a){if(Ct(a))return De.sort(a);var e=Re.pageYOffset||0;return xe.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+Re.innerHeight}),De.sort(a||function(r,t){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};xe.observe=function(a){return new rt(a)};xe.normalizeScroll=function(a){if(typeof a>"u")return St;if(a===!0&&St)return St.enable();if(a===!1){St&&St.kill(),St=a;return}var e=a instanceof rt?a:Pn(a);return St&&St.target===e.target&&St.kill(),Mo(e.target)&&(St=e),e};xe.core={_getVelocityProp:os,_inputObserver:bi,_scrollers:Ae,_proxies:oo,bridge:{ss:function(){jt||So("scrollStart"),jt=Tt()},ref:function(){return bt}}};fi()&&U.registerPlugin(xe);var sr=function(){var a=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(M){M.preventDefault(),t(++a%e.children.length)},!1);function r(M){return e.appendChild(M.dom),M}function t(M){for(var g=0;g<e.children.length;g++)e.children[g].style.display=g===M?"block":"none";a=M}var o=(performance||Date).now(),s=o,i=0,n=r(new sr.Panel("FPS","#0ff","#002")),u=r(new sr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new sr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:r,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){i++;var M=(performance||Date).now();if(u.update(M-o,200),M>=s+1e3&&(n.update(i*1e3/(M-s),100),s=M,i=0,p)){var g=performance.memory;p.update(g.usedJSHeapSize/1048576,g.jsHeapSizeLimit/1048576)}return M},update:function(){o=this.end()},domElement:e,setMode:t}};sr.Panel=function(a,e,r){var t=1/0,o=0,s=Math.round,i=s(window.devicePixelRatio||1),n=80*i,u=48*i,p=3*i,M=2*i,g=3*i,w=15*i,f=74*i,d=30*i,D=document.createElement("canvas");D.width=n,D.height=u,D.style.cssText="width:80px;height:48px";var _=D.getContext("2d");return _.font="bold "+9*i+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=r,_.fillRect(0,0,n,u),_.fillStyle=e,_.fillText(a,p,M),_.fillRect(g,w,f,d),_.fillStyle=r,_.globalAlpha=.9,_.fillRect(g,w,f,d),{dom:D,update:function(k,I){t=Math.min(t,k),o=Math.max(o,k),_.fillStyle=r,_.globalAlpha=1,_.fillRect(0,0,n,w),_.fillStyle=e,_.fillText(s(k)+" "+a+" ("+s(t)+"-"+s(o)+")",p,M),_.drawImage(D,g+i,w,f-i,d,g,w,f-i,d),_.fillRect(g+f-i,w,i,d),_.fillStyle=r,_.globalAlpha=.9,_.fillRect(g+f-i,w,i,s((1-k/I)*d))}}};const Ti={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class ar{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Sn=new Ni(-1,1,1,-1,0,1);class En extends yo{constructor(){super(),this.setAttribute("position",new ys([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ys([0,2,0,0,2,0],2))}}const Dn=new En;class Ci{constructor(e){this._mesh=new Fe(Dn,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Sn)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Rn extends ar{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof wo?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Jr.clone(e.uniforms),this.material=new wo({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Ci(this.material)}render(e,r,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Ys extends ar{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,t){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let i,n;this.inverse?(i=0,n=1):(i=1,n=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,i,4294967295),s.buffers.stencil.setClear(n),s.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class An extends ar{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class kn{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const t=e.getSize(new Wt);this._width=t.width,this._height=t.height,r=new yr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:br}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Rn(Ti),this.copyPass.material.blending=Ui,this.clock=new Gi}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let t=!1;for(let o=0,s=this.passes.length;o<s;o++){const i=this.passes[o];if(i.enabled!==!1){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),i.needsSwap){if(t){const n=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(n.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(n.EQUAL,1,4294967295)}this.swapBuffers()}Ys!==void 0&&(i instanceof Ys?t=!0:i instanceof An&&(t=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new Wt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const t=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(t,o),this.renderTarget2.setSize(t,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(t,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class In extends ar{constructor(e,r,t=null,o=null,s=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=t,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Et}render(e,r,t){const o=e.autoClear;e.autoClear=!1;let s,i;this.overrideMaterial!==null&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=i),e.autoClear=o}}const On={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Et(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Eo extends ar{constructor(e,r,t,o){super(),this.strength=r!==void 0?r:1,this.radius=t,this.threshold=o,this.resolution=e!==void 0?new Wt(e.x,e.y):new Wt(256,256),this.clearColor=new Et(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),i=Math.round(this.resolution.y/2);this.renderTargetBright=new yr(s,i,{type:br}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let g=0;g<this.nMips;g++){const w=new yr(s,i,{type:br});w.texture.name="UnrealBloomPass.h"+g,w.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(w);const f=new yr(s,i,{type:br});f.texture.name="UnrealBloomPass.v"+g,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),s=Math.round(s/2),i=Math.round(i/2)}const n=On;this.highPassUniforms=Jr.clone(n.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new wo({uniforms:this.highPassUniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}),this.separableBlurMaterials=[];const u=[3,5,7,9,11];s=Math.round(this.resolution.x/2),i=Math.round(this.resolution.y/2);for(let g=0;g<this.nMips;g++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(u[g])),this.separableBlurMaterials[g].uniforms.invSize.value=new Wt(1/s,1/i),s=Math.round(s/2),i=Math.round(i/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const p=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=p,this.bloomTintColors=[new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1),new Ue(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const M=Ti;this.copyUniforms=Jr.clone(M.uniforms),this.blendMaterial=new wo({uniforms:this.copyUniforms,vertexShader:M.vertexShader,fragmentShader:M.fragmentShader,blending:eo,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Et,this.oldClearAlpha=1,this.basic=new ht,this.fsQuad=new Ci(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let t=Math.round(e/2),o=Math.round(r/2);this.renderTargetBright.setSize(t,o);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(t,o),this.renderTargetsVertical[s].setSize(t,o),this.separableBlurMaterials[s].uniforms.invSize.value=new Wt(1/t,1/o),t=Math.round(t/2),o=Math.round(o/2)}render(e,r,t,o,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let n=this.renderTargetBright;for(let u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=n.texture,this.separableBlurMaterials[u].uniforms.direction.value=Eo.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=Eo.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),n=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}getSeparableBlurMaterial(e){const r=[];for(let t=0;t<e;t++)r.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new wo({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Wt(.5,.5)},direction:{value:new Wt(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new wo({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Eo.BlurDirectionX=new Wt(1,0);Eo.BlurDirectionY=new Wt(0,1);function Ln(a,e,r,t){Do();const{CUBE_SIZE:o,FIRST_CUBE_Z:s}=r,i=8,n=24,u=.075;let p,M=[],g=[],w=[],f=[];const d=(_,k,I,se)=>{const E=new Fo(_,_,_),ue=new Vo(E),he=[new zt({color:16711680,transparent:!0,opacity:se.opacity,blending:eo}),new zt({color:65280,transparent:!0,opacity:se.opacity,blending:eo}),new zt({color:255,transparent:!0,opacity:se.opacity,blending:eo}),new zt({color:65535,transparent:!0,opacity:se.opacity,blending:eo}),new zt({color:16711935,transparent:!0,opacity:se.opacity,blending:eo}),new zt({color:16776960,transparent:!0,opacity:se.opacity,blending:eo})],P=new Qt,Me=ue.getAttribute("position").array,W=[];for(let b=0;b<Me.length/3;b+=2)W.push(b,b+1);const v=Array(6).fill(null).map(()=>new yo),Z=Array(6).fill(null).map(()=>[]);for(let b=0;b<W.length/2;b++){const Y=b%6;Z[Y].push(W[b*2],W[b*2+1])}return v.forEach((b,Y)=>{b.setIndex(Z[Y]),b.setAttribute("position",ue.getAttribute("position"));const _e=new pt(b,he[Y]);P.add(_e)}),P.position.z=k,P.rotation.z=I,P};return(()=>{const I=.9/(n-1);for(let W=0;W<n;W++)g[W]=new zt({transparent:!0,opacity:1-W*I});if(p=new Qt,!p){console.error("introGroup failed to initialize");return}for(let W=0;W<n;W++){const v=o-W*i,Z=d(v,0,0,g[W]),b=Z.children.map(Y=>Y.material);f.push(b.map(Y=>({material:Y,originalColor:Y.color.clone()}))),p.add(Z)}p.position.z=s,a.add(p),M.push(p),w=g.map(W=>W.opacity);const se=ye.timeline({repeat:-1});se.to(p.rotation,{x:Ye.degToRad(360),duration:12,ease:"none"},0),se.to(p.rotation,{y:Ye.degToRad(360),duration:10,ease:"none"},0),se.to(p.rotation,{z:Ye.degToRad(360),duration:14,ease:"none"},0);let E=-1,ue=0;const he=u*1e3,P=n*he,Me=W=>{const v=W%P/he,Z=Math.floor(v)%n;E!==-1&&W-ue>=he&&(f[E].forEach(_e=>{_e.material.opacity=w[E],_e.material.color.copy(_e.originalColor)}),E=-1),E===-1&&Z!==E&&(E=Z,ue=W,f[E].forEach(Y=>{Y.material.opacity=1,Y.material.color.set(1,1,1)})),requestAnimationFrame(Me)};requestAnimationFrame(Me)})(),{introCubes:M}}class Vr extends Yi{constructor(e,r={}){const t=r.font;if(t===void 0)super();else{const o=t.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(o,r)}this.type="TextGeometry"}}function zn(a,e,r,t,o,s,i,n){const u=Do(),p=Lr(),{CUBE_SIZE:M,CUBE_SPACING:g,FIRST_CUBE_Z:w}=e,f=w-(r.length+1)*g,d=65535,D=16711935,_=(d>>16&255)/255,k=(d>>8&255)/255,I=(d&255)/255,se=(D>>16&255)/255,E=(D>>8&255)/255,ue=(D&255)/255,he=Ye.degToRad(15),P=1e3,Me=.5,W=65280,v=80,Z=1,b=15,Y=.1,_e="ENTER TO LEARN MORE",ve=u.isMobile?1:.5,Oe=40,X=.125,Le=100,ne=8,l=u.isMobile?2.5:2,ee=u.isMobile?4:3.5,ae=1;let ce=[];ce.length=0;let Pe=[],We=!1,Se=new Wi,ke=new Wt,G=null,Q=null,be=null,L=!1,de=null;const T=new Map,z=new Map,fe=new Map,Be=(x,$,y,le,j,q,ge)=>{const R=new Qt;R.name="group",R.position.z=y,R.rotation.z=le,R.userData.isActive=!1,R.userData.cubeIndex=ge;const K=new Fo($,$,$),B=new Vo(K),te=new zt({color:new Et(d),transparent:!0,opacity:0}),Ie=new pt(B,te);Ie.geometry.computeBoundingSphere(),R.add(Ie);let Ne="right";const Ee=$/2,wt=()=>{const S=u.isMobile?2:1,F=25*S,pe=40*S,C=new bs(pe,75),H=new Vo(C),m=new zt({color:new Et(d),transparent:!0,opacity:0,visible:!0}),h=new pt(H,m);h.name="portal",h.userData.isPortal=!0,h.userData.isAnimating=!1,h.geometry.computeBoundingSphere();const me=80*S,A=new lo(me,me),oe=new ht({visible:!1,side:Vt}),O=new Fe(A,oe);O.userData.isPortalHitbox=!0,O.userData.portal=h,O.geometry.computeBoundingSphere();const J=new Qt,N=Z*S,ie=b*S,re=new lo(N,ie),V=(F+pe)/2;for(let Qe=0;Qe<v;Qe++){const Ot=new ht({color:new Et(D),transparent:!0,opacity:0,visible:!1,side:Vt}),tt=new Fe(re,Ot),it=Qe/v*Math.PI*2;tt.position.set(Math.cos(it)*V,Math.sin(it)*V,0),tt.rotation.z=it+Math.PI/2,tt.userData.baseOpacity=.01,tt.userData.index=Qe,tt.geometry.computeBoundingSphere(),J.add(tt)}h.userData.pulsesGroup=J;const we=2*S,He=25;for(let Qe=1;Qe<He;Qe++){const Ot=new bs(pe,75),tt=new Vo(Ot),it=Ye.lerp(.125,.1,Qe/(He-1)),ro=new zt({color:new Et(d),transparent:!0,opacity:0}),yt=new pt(tt,ro);yt.userData.isPortal=!0,yt.userData.maxOpacity=it,yt.position.z=-Qe*we,yt.geometry.computeBoundingSphere(),h.add(yt)}h.userData.maxOpacity=.125;let Te=null;if(n.value){const Qe=3*S,Ot=new Vr(_e,{font:n.value,size:Qe,depth:0,curveSegments:12,bevelEnabled:!1});Ot.computeBoundingBox(),Ot.center();const tt=new ht({color:16777215,transparent:!0,opacity:0,side:Vt}),it=new Fe(Ot,tt);it.visible=!1,it.userData.isVisible=!1,it.userData.isExploreText=!0,it.userData.skipTextMeshes=!0;const ro=-45*S;it.position.set(0,ro,0),it.name="textMesh",h.add(it),h.userData.exploreText=it;const yt=Ot.boundingBox,Mi=(yt.max.x-yt.min.x+10)*S,Pi=(yt.max.y-yt.min.y+10)*S,Si=new lo(Mi,Pi),Ei=new ht({transparent:!0,opacity:0,side:Vt,visible:!1});Te=new Fe(Si,Ei),Te.position.set(0,ro,0),Te.userData.isExploreTextHitbox=!0,Te.userData.portal=h,Te.geometry.computeBoundingSphere(),Te.name="textHitbox",h.add(Te),h.userData.exploreTextHitbox=Te;const Di=5,Br=new Vr(x.title,{font:n.value,size:Di,depth:0,curveSegments:12,bevelEnabled:!1});Br.computeBoundingBox(),Br.center();const Ri=new ht({color:16777215,transparent:!0,opacity:0,side:Vt}),mo=new Fe(Br,Ri);mo.visible=!1,mo.userData.isVisible=!1,mo.userData.isTitleText=!0,mo.userData.skipTextMeshes=!0;const Ai=u.isMobile?u.orientation==="portrait"?100:106:60;mo.position.set(0,Ai,0),h.add(mo),h.userData.titleText=mo}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const Ce=new Qt;Ce.name="closeGroup",Ce.position.set(u.isMobile?pe-10:pe,pe,2);const at=new lo(12,u.isMobile?1:.5),Kt=new ht({color:16777215,transparent:!0,opacity:0,side:Vt}),go=new Fe(at,Kt);go.rotation.z=Math.PI/4;const lt=new Fe(at,Kt);lt.rotation.z=-Math.PI/4,Ce.add(go,lt);const et=new lo(15*S,15*S),Yt=new ht({side:Vt,visible:!1}),ao=new Fe(et,Yt);switch(ao.userData.isCloseHitbox=!0,ao.geometry.computeBoundingSphere(),ao.renderOrder=2,Ce.add(ao),Ne){case"left":h.position.set(-Ee,0,0),h.rotation.y=Math.PI/2,O.position.set(-Ee,0,0),O.rotation.y=Math.PI/2,le>=Ye.degToRad(120)&&(h.rotation.z=Math.PI),J.children.forEach(Qe=>Qe.position.x+=Y);break;case"top":h.position.set(0,-Ee,0),h.rotation.x=-Math.PI/2,h.rotation.z=-Math.PI/2,O.position.set(0,-Ee,0),O.rotation.x=Math.PI/2,le>=Ye.degToRad(100)&&le>=Ye.degToRad(180)&&(h.rotation.z=Math.PI/2),J.children.forEach(Qe=>Qe.position.y+=Y);break;case"right":h.position.set(Ee,0,0),h.rotation.y=-Math.PI/2,O.position.set(Ee,0,0),O.rotation.y=-Math.PI/2,le>=Ye.degToRad(120)&&(h.rotation.z=Math.PI),J.children.forEach(Qe=>Qe.position.x+=Y);break;case"bottom":h.position.set(0,Ee,0),h.rotation.x=Math.PI/2,h.rotation.z=-Math.PI/2,O.position.set(0,Ee,0),O.rotation.x=Math.PI/2,J.children.forEach(Qe=>Qe.position.y+=Y);break}h.add(Ce),h.userData.closeButton=Ce,Ce.updateMatrixWorld(!0),h.add(J),R.add(h),R.add(O),R.userData.closeButton=Ce,h.updateMatrixWorld(!0),J.updateMatrixWorld(!0),Ce.updateMatrixWorld(!0),T.set(R,[]),z.set(R,0),fe.set(R,0)},xt=S=>{(S instanceof pt||S instanceof Fe)&&S.geometry&&S.geometry.computeBoundingSphere(),R.add(S)};if(j&&s.showKeyarts){switch(["left","top","right","bottom"].includes(q)?q:"left"){case"left":Ne="right";break;case"top":Ne="bottom";break;case"right":Ne="left";break;case"bottom":Ne="top";break}const F=i.get(j);if(F){const pe=new lo($-1,$-1),C=new ht({map:F,transparent:!0,opacity:0,blending:eo,side:Vt}),H=new Fe(pe,C);switch(H.userData.isLoaded=!0,q){case"left":H.position.set(-Ee,0,0),le>=Ye.degToRad(120)?(H.rotation.y=Math.PI/2,H.rotation.z=-Math.PI):H.rotation.y=Math.PI/2;break;case"top":H.position.set(0,-Ee,0),H.rotation.x=-Math.PI/2,H.rotation.z=-Math.PI/2;break;case"right":H.position.set(Ee,0,0),le>=Ye.degToRad(120)?(H.rotation.y=-Math.PI/2,H.rotation.z=-Math.PI):H.rotation.y=-Math.PI/2;break;case"bottom":H.position.set(0,Ee,0),le>=Ye.degToRad(180)?le>=Ye.degToRad(220)?(H.rotation.x=Math.PI/2,H.rotation.z=Math.PI/2):(H.rotation.x=-Math.PI/2,H.rotation.z=Math.PI/2):(H.rotation.x=Math.PI/2,H.rotation.z=-Math.PI/2);break}H.geometry.computeBoundingSphere(),xt(H),wt()}else console.warn(`Keyart texture not preloaded for ${x.title}: ${j}`),wt()}else wt();R.userData.portalLocation=Ne;{const S=(me,A,oe,O)=>{const J=new lo($-1,$-1),N={map:me,transparent:!0,opacity:0,blending:eo,side:Vt,depthWrite:!1};O&&(N.color=O);const ie=new ht(N),re=new Fe(J,ie);re.position.copy(A),oe.x&&(re.rotation.x=oe.x),oe.y&&(re.rotation.y=oe.y),re.userData.isGridPlane=!0,re.geometry.computeBoundingSphere(),xt(re)},F=i.get(t),pe=i.get(o),C=["left","top","right","bottom"],m=[j&&s.showKeyarts?q||"left":null,Ne].filter(Boolean),h=C.filter(me=>!m.includes(me));if(F)switch(S(F,new Ue(0,0,-$/2-1),{y:0}),S(F,new Ue(0,0,$/2+1),{y:0},new Et(16744448)),h[0]){case"left":S(F,new Ue(-Ee,0,0),{y:-Math.PI/2},new Et(255));break;case"top":S(F,new Ue(0,Ee,0),{x:Math.PI/2},new Et(255));break;case"right":S(F,new Ue(Ee,0,0),{y:Math.PI/2},new Et(255));break;case"bottom":S(F,new Ue(0,-Ee,0),{x:-Math.PI/2},new Et(255));break}else console.warn(`Grid texture not preloaded: ${t}`);if(pe)switch(h[1]){case"left":S(pe,new Ue(-Ee,0,0),{y:-Math.PI/2});break;case"top":S(pe,new Ue(0,Ee,0),{x:Math.PI/2});break;case"right":S(pe,new Ue(Ee,0,0),{y:Math.PI/2});break;case"bottom":S(pe,new Ue(0,-Ee,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}R.children.forEach(S=>{S.updateMatrixWorld(!0),S instanceof Qt&&S.children.forEach(F=>{F.updateMatrixWorld(!0)})}),R.updateMatrixWorld(!0);const ft=new Qs().setFromObject(R),It=new Ks;return ft.getBoundingSphere(It),R.boundingSphere=It,R},c=new qs,Ve=(x,$,y,le,j)=>{if(!n.value){console.warn("Font not available; skipping text creation for:",x);const ft=new yo,It=new ht({visible:!1});return new Fe(ft,It)}const q=new Vr(x,{font:n.value,size:j,depth:0,curveSegments:12,bevelEnabled:!1});q.computeBoundingBox(),q.center();const ge=new ht({color:16777215,transparent:!0,opacity:0,side:Vt}),R=new Fe(q,ge);R.position.set($,y,le);const K=q.boundingBox,B=K.max.x-K.min.x,te=K.max.y-K.min.y,Ie=B+8,Ne=te+4,Ee=new lo(Ie,Ne),wt=new ht({color:0,transparent:!0,opacity:0,side:Vt}),xt=new Fe(Ee,wt);return xt.position.set($,y,le-1),a.add(xt),a.add(R),R.userData.backgroundPlane=xt,R},Xe=()=>{const x=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r);let $=0;x.forEach((y,le)=>{const j=w-(le+1)*g,q=(le+1)*he,ge=Be(y,M,j,q,y.keyart,y.keyartLocation,$);a.add(ge),ce.push(ge),$++,Ve(y.title,0,y.size-15,w+90-(le+1)*g,y.size)}),a.traverse(y=>{var le;y instanceof Fe&&((le=y.geometry)==null?void 0:le.type)==="TextGeometry"&&!y.userData.skipTextMeshes&&Pe.push(y)})},qe=()=>We?Promise.resolve({projectCubes:ce,updateCubeColors:Ze,maxZ:f}):(Xe(),We=!0,Promise.resolve({projectCubes:ce,updateCubeColors:Ze,maxZ:f})),ze=x=>{if(x.userData.isAnimating)return;x.userData.isAnimating=!0;const $=x.userData.pulsesGroup;if(!$){console.warn("Pulses group not found in portal.userData");return}const y=$.children,le=y.length,j=ye.timeline({repeat:-1,defaults:{ease:"none"}}),q={value:0};j.to(q,{value:1,duration:1.5,onUpdate:()=>{y.forEach(R=>{const K=R.material;if(K.visible){const B=(R.userData.index/le+q.value)%1,Ie=(Math.sin(B*Math.PI*2)+1)/2;K.opacity=.01+(1-.01)*Math.pow(Ie,4)}})}}),x.userData.animationTimeline=j},Ke=x=>{if(!x.userData.isAnimating)return;x.userData.isAnimating=!1;const $=x.userData.pulsesGroup;if(!$){console.warn("Pulses group not found in portal.userData");return}x.userData.animationTimeline&&(x.userData.animationTimeline.kill(),delete x.userData.animationTimeline),$.children.forEach(y=>{const le=y.material;le.opacity=0})},Je=(x,$)=>{let y;const le=(fe.get(x)||0)+1;fe.set(x,le),le%ne===0?y=new Xi(l,ee,12,1):y=new Fo(ve,ve,ve);const j=new ht({color:16777215,transparent:!0,opacity:0}),q=new Fe(y,j);q.position.set(0,0,0);const ge=$.position.clone(),R=ge.clone().normalize(),K=ge.length()+Le;if(le%ne===0){const te=q.position.clone().add(R);q.lookAt(te),q.rotateX(Math.PI/2)}x.add(q),ye.to(j,{opacity:.5,duration:ae,ease:"power2.in",overwrite:"auto"});const B=T.get(x)||[];B.push({mesh:q,direction:R,distanceTraveled:0,totalDistance:K}),T.set(x,B)},st=x=>{(T.get(x)||[]).forEach(y=>{x.remove(y.mesh),y.mesh.geometry.dispose(),y.mesh.material.dispose()}),T.set(x,[])},Ze=x=>{c.setFromProjectionMatrix(x.projectionMatrix.clone().multiply(x.matrixWorldInverse));const $=x.position.z;ce.forEach((y,le)=>{const j=y.boundingSphere;if(j){const K=j.clone();if(K.radius*=1.5,!c.intersectsSphere(K))return}else console.warn(`Cube ${le} has no boundingSphere`);const q=y.position.z,ge=Math.abs($-q);let R=0;ge<=P&&(R=1-ge/P),y.userData.isActive=R>=Me,y.children.forEach(K=>{if(K instanceof pt&&!K.userData.isPortal&&!K.userData.isPortalHitbox){const B=K.material;if(ge<=P){const te=Ye.lerp(_,se,R),Ie=Ye.lerp(k,E,R),Ne=Ye.lerp(I,ue,R);B.color.set(te,Ie,Ne),B.opacity=Math.min(1,R*2)}else B.opacity=0}else if(K instanceof pt&&K.userData.isPortal){K.children.forEach(te=>{if(te instanceof Fe&&te.userData.isExploreText){const Ie=te.material;if(te===K.userData.titleText&&L)return;if(ge<=P){const Ne=1-ge/P;Ie.opacity=Math.min(1,Ne*2),te.visible=!0}else Ie.opacity=0,te.visible=!1}});const B=K.userData.pulsesGroup;R>.1?B&&B.children.forEach(te=>{te instanceof Fe&&(te.material.visible=!0,!K.userData.animationStarted&&s.showPortalPulses&&(ze(K),K.userData.animationStarted=!0))}):R<=.1&&K.userData.animationStarted&&(B&&B.children.forEach(te=>{te instanceof Fe&&(te.material.visible=!1)}),Ke(K),delete K.userData.animationStarted)}else if(K instanceof Fe&&!K.userData.isPortalHitbox&&!K.userData.isCloseHitbox){const B=K.material;if(K.userData.isLoaded||K.userData.isGridPlane)if(ge<=P){const te=1-ge/P;B.opacity=Math.min(.8,te*2),K.visible=!0}else B.opacity=0,K.visible=!1}})}),Pe.forEach(y=>{if(!c.intersectsObject(y))return;const le=y.material,j=y.userData.backgroundPlane,q=j==null?void 0:j.material,ge=y.position.z,R=Math.abs($-ge+120);if(L){le.opacity=0,q&&(q.opacity=0);return}if(R<=P){const K=1-R/P,B=Math.min(1,K*2);le.opacity=B,q&&(q.opacity=B*.8)}else le.opacity=0,q&&(q.opacity=0)})},Gt=(x,$)=>{const y=performance.now()/1e3,le=x.position.z;ce.forEach(j=>{const q=j.position.z;if(Math.abs(le-q+90)<=P&&!L){const R=z.get(j)||0;if(y-R>=X){const te=j.children.find(Ie=>Ie instanceof pt&&Ie.userData.isPortal);te&&(Je(j,te),z.set(j,y))}const B=(T.get(j)||[]).filter(te=>{if(te.distanceTraveled+=Oe*$,te.mesh.position.copy(te.direction.clone().multiplyScalar(te.distanceTraveled)),(te.totalDistance-te.distanceTraveled)/Oe<=ae&&!te.isFadingOut){te.isFadingOut=!0;const Ee=te.mesh.material;ye.to(Ee,{opacity:0,duration:ae,ease:"power2.out",overwrite:"auto"})}return te.distanceTraveled>=te.totalDistance?(j.remove(te.mesh),te.mesh.geometry.dispose(),te.mesh.material.dispose(),!1):!0});T.set(j,B)}else st(j)})},$e=x=>{const $=[x,...x.children.filter(j=>j instanceof pt&&j.userData.isPortal)],y=2,le=.1;$.forEach((j,q)=>{const ge=j.material;ge.opacity=j.userData.maxOpacity;const R=ye.timeline({repeat:-1,delay:q*le});R.to(ge,{opacity:0,duration:y/2,ease:"power2.inOut"}).to(ge,{opacity:j.userData.maxOpacity,duration:y/2,ease:"power2.inOut"}),j.userData.marqueeTimeline=R})},mt=x=>{const $=[x,...x.children.filter(y=>y instanceof pt&&y.userData.isPortal)];$.forEach(y=>{y.userData.marqueeTimeline&&(y.userData.marqueeTimeline.kill(),delete y.userData.marqueeTimeline)}),x.userData.ringExpandTimeline&&(x.userData.ringExpandTimeline.kill(),delete x.userData.ringExpandTimeline),$.forEach((y,le)=>{const j=y.material;ye.killTweensOf(y.position),ye.killTweensOf(j),y.position.z=-le*2,j.opacity=0})};return{getInitializedData:qe,updateCubeColors:Ze,setupInteractivity:(x,$,y,le,j)=>{de=le;let q=null,ge=null,R=null,K=!1,B=!1,te=!1,Ie=!1,Ne=!1;const Ee=m=>{L&&(q=m.touches[0].clientY,ge=ge??window.scrollY,K=!0)},wt=m=>{if(!L||!R||!q||Ie)return;const me=m.touches[0].clientY-q;u.isMobile&&me<-50&&!B&&(m.cancelable&&m.preventDefault(),It(),q=null)},xt=m=>{q=null,K=!1,te=!0,ye.delayedCall(.5,()=>{te=!1})},ft=m=>{if(K||B||te||Ie){m.preventDefault(),m.stopPropagation(),ge!==null&&(window.scrollTo(0,ge),ye.to(window,{scrollTo:{y:ge},duration:0}));return}if(!L||!R||!Q||!be)return;if(u.isMobile){m.preventDefault(),m.stopPropagation();return}let h=0;if(m instanceof WheelEvent?h=m.deltaY:h=window.scrollY-(ge||0),m.preventDefault(),m.stopPropagation(),h>0){window.scrollTo(0,ge);return}h<0&&It()},It=()=>{const m=R,h=be?be.clone():new Ue(0,0,f),me=(Q==null?void 0:Q.z)??x.position.z,A=m==null?void 0:m.parent,oe=m?ce.indexOf(A):-1;if(Ie=!0,m){mt(m);const N=m.userData.titleText;if(N){const ie=N.material;ye.to(ie,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{N.visible=!1}})}if(m.userData.closeButton){const ie=m.userData.closeButton,re=ie.children.filter(V=>V instanceof Fe&&!V.userData.isCloseHitbox).map(V=>V.material);re.length>0&&ye.to(re,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ie.visible=!1}})}}ye.to(x.position,{x:(Q==null?void 0:Q.x)??x.position.x,y:(Q==null?void 0:Q.y)??x.position.y,z:me,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const N=Pe[oe];if(oe!==-1&&N){const ie=N.material,re=N.userData.backgroundPlane,V=Math.abs(x.position.z-N.position.z+120),we=V<=P?Math.min(1,(1-V/P)*2):0;ye.to(ie,{opacity:we,duration:.5,ease:"power2.in"}),re&&ye.to(re.material,{opacity:we*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const N=J.progress,ie=Ye.lerp(O.x,h.x,N),re=Ye.lerp(O.y,h.y,N),V=Ye.lerp(O.z,h.z,N);x.lookAt(ie,re,V),x.updateMatrixWorld(!0)},onComplete:()=>{x.lookAt(h),L=!1,R=null,document.body.classList.remove("no-scrollbar"),u.isMobile&&(document.body.style.overflow=""),de&&de(!1),ge=null,Q=null,be=null,x.userData.lockedLookAt=null,Ie=!1,ce.forEach(N=>{Math.abs(x.position.z-N.position.z+90)<=P&&z.set(N,0)})}});const O=x.userData.lockedLookAt?x.userData.lockedLookAt.clone():x.getWorldDirection(new Ue).multiplyScalar(1e3).add(x.position),J={progress:0};ye.to(J,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},S=(m,h=!0)=>{const me=[m,...m.children.filter(O=>O instanceof pt&&O.userData.isPortal)],A=h?25:2,oe=ye.timeline({onComplete:()=>{h&&me[0]===m&&$e(m)}});me.forEach((O,J)=>{let N=-J*A;(m.position.y>0&&m.rotation.x===-Math.PI/2||m.position.y<0&&m.rotation.x===Math.PI/2)&&(N=J*A);const ie=h?O.userData.maxOpacity:0;oe.to(O.position,{z:N,duration:1,ease:"power3.out",delay:.5},0),oe.to(O.material,{opacity:ie,duration:1,ease:"power3.out",delay:.5},0)}),m.userData.ringExpandTimeline=oe},F=m=>{ke.x=m.clientX/window.innerWidth*2-1,ke.y=-(m.clientY/window.innerHeight)*2+1,Se.setFromCamera(ke,x),x.userData.lockedLookAt&&(x.lookAt(x.userData.lockedLookAt),x.updateMatrixWorld(!0)),ce.forEach(A=>{A.userData.lockedPosition&&(A.position.equals(A.userData.lockedPosition)||A.position.copy(A.userData.lockedPosition)),A.updateMatrixWorld(!0),A.children.forEach(oe=>oe.updateMatrixWorld(!0))});const h=ce.flatMap(A=>{const oe=[];return!L&&A.userData.isActive&&A.children.forEach(O=>{O instanceof Fe&&(O.userData.isPortalHitbox||O.userData.isExploreTextHitbox)&&oe.push(O)}),L&&R&&A===R.parent&&A.children.forEach(O=>{if(O instanceof Fe&&O.userData.isPortalHitbox&&oe.push(O),O instanceof pt&&O.userData.isPortal){const J=O;J.children.forEach(N=>{N instanceof Fe&&N.userData.isExploreTextHitbox&&oe.push(N),N instanceof Qt&&N===J.userData.closeButton&&N.children.forEach(ie=>{ie instanceof Fe&&ie.userData.isCloseHitbox&&oe.push(ie)})})}}),oe}),me=Se.intersectObjects(h);if(me.length>0){const A=me[0].object;if(A.userData.isPortalHitbox||A.userData.isExploreTextHitbox){const oe=A.userData.portal;G!==oe&&(G&&[G,...G.children.filter(N=>N instanceof pt&&N.userData.isPortal)].forEach(N=>{const ie=N.material;ye.to(ie.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}),G=oe,[G,...G.children.filter(J=>J instanceof pt&&J.userData.isPortal)].forEach(J=>{const N=J.material;ye.to(N.color,{r:(W>>16&255)/255,g:(W>>8&255)/255,b:(W&255)/255,duration:.5})})),$.style.cursor="pointer"}else if(A.userData.isCloseHitbox&&L){if(!Ne){Ne=!0;const oe=A.parent;ye.to(oe.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}$.style.cursor="pointer"}}else{if(G&&([G,...G.children.filter(oe=>oe instanceof pt&&oe.userData.isPortal)].forEach(oe=>{const O=oe.material;ye.to(O.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}),G=null),L&&R&&Ne){const A=R.userData.closeButton;A&&(Ne=!1,ye.to(A.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}$.style.cursor="auto"}},pe=m=>{if(Ie)return;ke.x=m.clientX/window.innerWidth*2-1,ke.y=-(m.clientY/window.innerHeight)*2+1,Se.setFromCamera(ke,x);const h=ce.flatMap(re=>{const V=[];return L&&R&&re===R.parent&&re.children.forEach(we=>{if(we instanceof pt&&we.userData.isPortal){const He=we;He.children.forEach(Te=>{Te instanceof Qt&&Te===He.userData.closeButton&&Te.children.forEach(Ce=>{Ce instanceof Fe&&Ce.userData.isCloseHitbox&&V.push(Ce)})})}}),V}),me=ce.flatMap(re=>{const V=[];return!L&&re.userData.isActive&&re.children.forEach(we=>{we instanceof Fe&&(we.userData.isPortalHitbox||we.userData.isExploreTextHitbox)&&V.push(we)}),L&&R&&re===R.parent&&re.children.forEach(we=>{we instanceof Fe&&we.userData.isPortalHitbox&&V.push(we),we instanceof pt&&we.userData.isPortal&&we.children.forEach(He=>{He instanceof Fe&&He.userData.isExploreTextHitbox&&V.push(He)})}),V});let A=Se.intersectObjects(h);for(const re of A)if(re.object.userData.isCloseHitbox){It();return}if(A=Se.intersectObjects(me),A.length===0)return;const O=A[0].object.userData.portal,J=O.parent,N=ce.indexOf(J),ie=r[N];if(L&&O===R){let re=new Ue;const V=e.CUBE_SIZE/2;O.position.x===V?re.set(-1,0,0):O.position.x===-V?re.set(1,0,0):O.position.y===V?re.set(0,-1,0):O.position.y===-V&&re.set(0,1,0),re.applyQuaternion(J.getWorldQuaternion(new Zi)).normalize();const He=x.position.clone().clone().add(re.clone().multiplyScalar(-675)),Te=re.clone().multiplyScalar(-1e3),Ce=He.clone().add(Te);Ie=!0,ye.to(x.position,{x:He.x,y:He.y,z:He.z,duration:1,ease:"power2.in",onUpdate:()=>x.lookAt(Ce),onStart:()=>{ye.to(y.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{ie!=null&&ie.slug&&(p.setScrollPosition(window.scrollY),ki.visit(route("project.show",{project:ie.slug}),{preserveScroll:!1})),Ie=!1}})}else if(!L){Q||(Q=x.position.clone(),be=new Ue(0,0,f)),de&&le(!0,Q,be);const re=O.getWorldPosition(new Ue);B=!0,Ie=!0,ge=window.scrollY,ye.to(x.position,{x:0,y:0,z:J.getWorldPosition(new Ue).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{L=!0,R=O,document.body.classList.add("no-scrollbar"),u.isMobile&&(document.body.style.overflow="hidden"),J.userData.lockedPosition=J.position.clone(),st(J);const V=Pe[N];if(V){const He=V.material,Te=V.userData.backgroundPlane;ye.to(He,{opacity:0,duration:.5,ease:"power2.out"}),Te&&ye.to(Te.material,{opacity:0,duration:.5,ease:"power2.out"})}const we=O.userData.titleText;if(we){we.visible=!0;const He=we.material;ye.to(He,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(O.userData.closeButton){const He=O.userData.closeButton;He.visible=!0;const Te=He.children.filter(Ce=>Ce instanceof Fe&&!Ce.userData.isCloseHitbox).map(Ce=>Ce.material);Te.length>0&&ye.to(Te,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}},onComplete:()=>{S(O,!0),B=!1,Ie=!1,x.userData.lockedLookAt=re.clone()}}),ye.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const V=this.progress(),we=x.getWorldDirection(new Ue).multiplyScalar(1e3).add(x.position),He=Ye.lerp(we.x,re.x,V),Te=Ye.lerp(we.y,re.y,V),Ce=Ye.lerp(we.z,re.z,V);x.lookAt(He,Te,Ce)},onComplete:()=>{x.lookAt(re.x,re.y,re.z),x.updateMatrixWorld(!0)}})}};$.addEventListener("mousemove",F),$.addEventListener("click",pe),$.addEventListener("touchstart",Ee,{passive:!1}),$.addEventListener("touchmove",wt,{passive:!1}),$.addEventListener("touchend",xt,{passive:!0}),window.addEventListener("wheel",ft,{passive:!1}),window.addEventListener("scroll",ft,{passive:!1});const C=()=>{T.forEach((m,h)=>{m.forEach(me=>{h.remove(me.mesh),me.mesh.geometry.dispose(),me.mesh.material.dispose()})}),T.clear(),z.clear(),fe.clear()},H=()=>{$.removeEventListener("mousemove",F),$.removeEventListener("click",pe),$.removeEventListener("touchstart",Ee),$.removeEventListener("touchmove",wt),$.removeEventListener("touchend",xt),window.removeEventListener("wheel",ft),window.removeEventListener("scroll",ft),R&&mt(R),u.isMobile&&(document.body.style.overflow="")};return()=>{H(),C()}},updateClickHereParticles:Gt}}function Bn(a,e,r,t){const o=Do(),s=100,i=100,n=300,u=3355443,p=o.isMobile?24:32,M=-600,g=-500,w=500,f=o.isMobile?5:10,d=.05,D=1,_=o.isMobile?6:4,k=o.isMobile?4:6,I=100,se=-450,E=60,ue=r-w,he=Math.abs(g-ue),P=Math.ceil(he/s),Me=()=>{const l=new Qt;let ee=null,ae=null;const ce=[],Pe=[],We=[],Se=[],ke=[];{const G=new Fo(s,s,s),Q=new Vo(G),be=p*P,L=new ji;L.copy(Q),L.instanceCount=be;const de=new zt({color:u,transparent:!0,fog:!0,vertexColors:!0}),T=new Float32Array(be*3),z=new Float32Array(be*3),fe=new Float32Array(be*3),Be=p*s,c=-Be/2+s/2,Ve=g;for(let y=0;y<p;y++){const le=W(y);for(let j=0;j<P;j++){const q=y*P+j,ge=c+y*s,R=Ve-j*s,K=Ye.randFloat(i,n),B=K/s,te=M+K/2;T[q*3]=ge,T[q*3+1]=te,T[q*3+2]=R,z[q*3]=1,z[q*3+1]=B,z[q*3+2]=1,fe[q*3]=le,fe[q*3+1]=le,fe[q*3+2]=le}}L.setAttribute("instancePosition",new Hr(T,3)),L.setAttribute("instanceScale",new Hr(z,3)),L.setAttribute("color",new Hr(fe,3)),de.onBeforeCompile=y=>{y.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${y.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},ee=new pt(L,de);const Xe=-Be/2,qe=Be/2,ze=M,Ke=M+n,Je=ue,st=g;L.boundingBox=new Qs(new Ue(Xe,ze,Je),new Ue(qe,Ke,st));const Ze=(Xe+qe)/2,Gt=(ze+Ke)/2,$e=(Je+st)/2,mt=qe-Xe,vt=Ke-ze,x=st-Je,$=Math.sqrt(mt*mt+vt*vt+x*x)/2;L.boundingSphere=new Ks(new Ue(Ze,Gt,$e),$),l.add(ee)}{ae=new Qt;const G=p*s/(k-1),Q=-(p*s)/2;for(let L=0;L<k;L++){let T=Q+L*G,z=g;const fe=[new Ue(T,se,z)];let Be=0;for(;z>ue;){const c=z===g?Ye.randFloat(300,800):Math.min(Ye.randFloat(300,800),Math.abs(z-ue));if(z-=c,fe.push(new Ue(T,se,z)),Be+=c,z<=ue){fe[fe.length-1].z=ue;break}const Ve=Math.random()<.5?-1:1,Xe=Ye.randFloat(100,300);T+=Ve*Xe,fe.push(new Ue(T,se,z)),Be+=Xe}Pe.push({points:fe,totalLength:Be})}const be=new Fo(_,_,_);for(let L=0;L<k;L++){const de=Pe[L],T=de.totalLength,z=T/E;for(let fe=0;fe<E;fe++){const Be=new ht({color:16711680,fog:!0}),c=new Fe(be,Be),Ve=fe*z;let Xe=Ve;for(let qe=0;qe<de.points.length-1;qe++){const ze=de.points[qe],Ke=de.points[qe+1],Je=ze.distanceTo(Ke);if(Xe<=Je){const st=Xe/Je;c.position.lerpVectors(ze,Ke,st);break}Xe-=Je}ce.push(c),We.push(Ve),Se.push(L),ke.push(1),ae.add(c)}for(let fe=0;fe<E;fe++){const Be=new ht({color:16777215,fog:!0}),c=new Fe(be,Be),Ve=T-(fe*z+z/2);let Xe=T-Ve;const qe=[...de.points].reverse();for(let ze=0;ze<qe.length-1;ze++){const Ke=qe[ze],Je=qe[ze+1],st=Ke.distanceTo(Je);if(Xe<=st){const Ze=Xe/st;c.position.lerpVectors(Ke,Je,Ze);break}Xe-=st}ce.push(c),We.push(Ve),Se.push(L),ke.push(-1),ae.add(c)}}e.add(ae)}return e.add(l),{cityGroup:l,instancedLines:ee,particleGroup:ae,particles:ce,paths:Pe,particleDistances:We,particlePaths:Se,particleDirections:ke}},W=l=>{if(l<f){const ee=(D-d)/(f-1);return d+l*ee}else if(l>=p-f){const ee=p-1-l,ae=(D-d)/(f-1);return d+ee*ae}return D},{cityGroup:v,instancedLines:Z,particleGroup:b,particles:Y,paths:_e,particleDistances:ve,particlePaths:Oe,particleDirections:X}=Me();return{cityGroup:v,buildingLines:Z?[Z]:[],updateParticles:l=>{const ee=I*l;for(let ae=0;ae<Y.length;ae++){const ce=X[ae],Pe=Oe[ae],We=_e[Pe],Se=We.totalLength;ve[ae]+=ee*ce,ce===1?(ve[ae]=ve[ae]%Se,ve[ae]<0&&(ve[ae]+=Se)):ve[ae]=(ve[ae]+Se)%Se;const ke=ve[ae],G=ce===1?We.points:[...We.points].reverse();let Q=ce===1?ke:Se-ke;for(let be=0;be<G.length-1;be++){const L=G[be],de=G[be+1],T=L.distanceTo(de);if(Q<=T){const z=Q/T;Y[ae].position.lerpVectors(L,de,z);break}Q-=T}}},dispose:()=>{Z&&(v.remove(Z),Z.geometry.dispose(),Z.material.dispose()),b&&(e.remove(b),b.children.forEach(l=>{l.geometry.dispose(),l.material.dispose()})),e.remove(v)}}}ye.registerPlugin(xe);function Hn(a,e,r,t,o,s,i={},n,u){const p=Do(),M=Lr(),{CUBE_SPACING:g,FIRST_CUBE_Z:w}=s,f=(t==null?void 0:t.length)||0,d=w-(f+1)*g;let D=!1,_=!1;const k=p.isMobile?(Math.abs(d)+(f-1)*g)*.7:Math.abs(d)+(f-1)*g;let I=ye.timeline();xe.config({ignoreMobileResize:!0});{let ue=0,he=0;const P=16;I=ye.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:`+=${k}`,scrub:i.scrub,pin:!0,onUpdate:Me=>{const W=performance.now();if(W-he>=P){if(!D){const v=Me.progress,Z=Ye.lerp(0,d,v);e.position.set(0,0,Z),e.lookAt(0,0,d),ue++,(ue%4===0||Z<1)&&M.setProgress(Math.round(Math.abs(Z)))}o(e),he=W}u&&u.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),I.fromTo(e.position,{z:0},{z:d,duration:1,ease:"none"},0)}return{setReverting:ue=>{D=ue},timeline:I,isScrollTriggerActive:()=>_}}function Fn(a,e,r){const t=Do(),o=t.isMobile?25:20,s=t.isMobile?600:1800,i=4e3,n=-1e3,u=r-1e3,p=1e3,M=r,g=150,w=-500,f=r,d=new yo,D=new Float32Array(s*3),_=new Float32Array(s),k=new Float32Array(s);let I=0;for(;I<s;){const Me=(Math.random()-.5)*i,W=(Math.random()-.5)*i,v=n+Math.random()*(u-n),Z=v>M&&Math.abs(Me)<p&&Math.abs(W)<p,b=Math.abs(Me)<g&&Math.abs(W)<g&&v>f&&v<w;if(!Z&&!b){const Y=I*3;D[Y]=Me,D[Y+1]=W,D[Y+2]=v;const _e=.1+Math.random()*(.7-.1);_[I]=_e,k[I]=_e,I++}}d.setAttribute("position",new Ts(D,3)),d.setAttribute("opacity",new Ts(k,1));const se=new wo({uniforms:{color:{value:new Et(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),E=new Vi(d,se);E.frustumCulled=!0,a.add(E);const ue={values:k.slice()},he=d.attributes.opacity;return ye.to(ue,{duration:2,onUpdate:()=>{const Me=Date.now()*.001;for(let W=0;W<s;W++)ue.values[W]=_[W]*(.05+.95*Math.abs(Math.sin(Me+W*.01)));he.array.set(ue.values),he.needsUpdate=!0},repeat:-1,ease:"none"}),new qs,{dispose:()=>{ye.killTweensOf(k),a.remove(E),d.dispose(),se.dispose()}}}function Nn(a,e){const t=e-1500,o=100,s=2,i=64,n=1e3,u=i*3,p=[4,4.5,5],M=6;let g,w,f,d,D,_;const k=[],I=[[],[],[]],se=[[],[],[]],E=[[],[],[]];let ue=[0,0,0];const he=()=>{const v=0-t,Z=[];for(let ne=0;ne<o;ne++){const l=ne/(o-1),ee=0-l*v,ae=l*5*2*Math.PI,ce=90*(.8+.2*Math.sin(ae*2)),Pe=new Ue(ce*Math.cos(ae),ce*Math.sin(ae),ee);(isNaN(Pe.x)||isNaN(Pe.y)||isNaN(Pe.z))&&console.error("NaN in chaserPath points",{t:l,z:ee,projectMaxZ:e}),Z.push(Pe)}g=new Fr(Z);const b=new yo().setFromPoints(g.getPoints(200));d=new Nr(b,new zt({color:16711935,linewidth:2,visible:!1})),a.add(d);const Y=[];for(let ne=0;ne<o;ne++){const l=ne/(o-1),ee=0-l*v,ae=l*3*2*Math.PI,ce=60*(.8+.2*Math.sin(ae*4)),Pe=new Ue(ce*Math.cos(ae),ce*Math.sin(ae),ee);(isNaN(Pe.x)||isNaN(Pe.y)||isNaN(Pe.z))&&console.error("NaN in chaserPath2 points",{t:l,z:ee,projectMaxZ:e}),Y.push(Pe)}w=new Fr(Y);const _e=new yo().setFromPoints(w.getPoints(200));D=new Nr(_e,new zt({color:65535,linewidth:2,visible:!1})),a.add(D);const ve=[];for(let ne=0;ne<o;ne++){const l=ne/(o-1),ee=0-l*v,ae=l*7*2*Math.PI,ce=100,Pe=90,We=.1*Math.sin(ae),Se=new Ue(ce*(1+We)*Math.cos(ae),Pe*(1-We)*Math.sin(ae),ee);(isNaN(Se.x)||isNaN(Se.y)||isNaN(Se.z))&&console.error("NaN in chaserPath3 points",{t:l,z:ee,projectMaxZ:e}),ve.push(Se)}f=new Fr(ve);const Oe=new yo().setFromPoints(f.getPoints(200));_=new Nr(Oe,new zt({color:16776960,linewidth:2,visible:!1})),a.add(_);const X=[16711680,65280,255],Le=new Fo(s,s,s);Le.attributes.color&&delete Le.attributes.color;for(let ne=0;ne<3;ne++){const l=new Qt;l.opacity=1,l.renderOrder=1,k[ne]=l,a.add(l);for(let ee=0;ee<u;ee++){const ae=new ht({color:X[ne],transparent:!0,opacity:0,blending:$i,fog:!0,depthWrite:!1}),ce=new Fe(Le,ae);ce.renderOrder=1,ce.visible=!1,l.add(ce),I[ne][ee]=ce,se[ne][ee]=0,E[ne][ee]=!1}}},P=v=>{const Z=[g,w,f][v],b=Z.getLength(),Y=E[v].filter(ve=>ve).length;if(u-Y>=i){let ve=0;for(let Oe=0;Oe<i;Oe++){const X=E[v].findIndex(Pe=>!Pe);if(X===-1){console.warn(`No available chasers for path ${v}, emitted ${ve}/${i}`);break}const Le=ve/(i-1),ne=.05+(1-.05)*Math.pow(Le,3),l=new ht({color:[16711680,65280,255][v],transparent:!0,opacity:ne,blending:eo,fog:!0,depthWrite:!1});I[v][X].material=l,I[v][X].visible=!0;const ee=ve*M;se[v][X]=ee,E[v][X]=!0;const ae=ee/b,ce=Z.getPointAt(ae);I[v][X].position.copy(ce),ve++}}},Me=v=>{const Z=performance.now()/1e3,b=[g,w,f];for(let Y=0;Y<3;Y++){Z-ue[Y]>=p[Y]&&(P(Y),ue[Y]=Z);const _e=b[Y],ve=_e.getLength(),Oe=n*v;for(let X=0;X<u;X++)if(E[Y][X]){se[Y][X]+=Oe;const Le=se[Y][X]/ve;if(Le>=1)I[Y][X].visible=!1,E[Y][X]=!1,se[Y][X]=0;else{const ne=_e.getPointAt(Le);I[Y][X].position.copy(ne)}}}};return he(),{chaserPath:g,chaserPath2:w,chaserPath3:f,updateChasers:Me,dispose:()=>{a.remove(d),a.remove(D),a.remove(_),d.geometry.dispose(),d.material.dispose(),D.geometry.dispose(),D.material.dispose(),_.geometry.dispose(),_.material.dispose(),k.forEach(v=>{v.children.forEach(Z=>{Z.geometry.dispose(),Z.material.dispose()}),a.remove(v)})}}}class Un extends qi{constructor(e){super(e)}load(e,r,t,o){const s=this,i=new Qi(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,function(n){const u=s.parse(JSON.parse(n));r&&r(u)},t,o)}parse(e){return new Gn(e)}}class Gn{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const t=[],o=Yn(e,r,this.data);for(let s=0,i=o.length;s<i;s++)t.push(...o[s].toShapes());return t}}function Yn(a,e,r){const t=Array.from(a),o=e/r.resolution,s=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*o,i=[];let n=0,u=0;for(let p=0;p<t.length;p++){const M=t[p];if(M===`
`)n=0,u-=s;else{const g=Wn(M,o,n,u,r);n+=g.offsetX,i.push(g.path)}}return i}function Wn(a,e,r,t,o){const s=o.glyphs[a]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+a+'" does not exists in font family '+o.familyName+".");return}const i=new Ki;let n,u,p,M,g,w,f,d;if(s.o){const D=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,k=D.length;_<k;)switch(D[_++]){case"m":n=D[_++]*e+r,u=D[_++]*e+t,i.moveTo(n,u);break;case"l":n=D[_++]*e+r,u=D[_++]*e+t,i.lineTo(n,u);break;case"q":p=D[_++]*e+r,M=D[_++]*e+t,g=D[_++]*e+r,w=D[_++]*e+t,i.quadraticCurveTo(g,w,p,M);break;case"b":p=D[_++]*e+r,M=D[_++]*e+t,g=D[_++]*e+r,w=D[_++]*e+t,f=D[_++]*e+r,d=D[_++]*e+t,i.bezierCurveTo(g,w,f,d,p,M);break}}return{offsetX:s.ha*e,path:i}}function Xn(a="/fonts/Poppins_Regular.json"){const e=qt(null),r=qt(0),t=qt(!1),o=()=>new Promise((i,n)=>{new Un().load(a,p=>{e.value=p,r.value=100,t.value=!0,i(p)},p=>{p.lengthComputable&&(r.value=p.loaded/p.total*100)},p=>{r.value=100,t.value=!0,n(p)})});return{font:e,loadingProgress:r,isLoaded:t,initialize:()=>o()}}const Zn={class:"preloader"},jn={class:"progress-label"},Vn=Or({__name:"Preloader",props:{progress:{}},setup(a){return(e,r)=>(At(),Ft("div",Zn,[ot("div",jn,Zs(Math.round(e.progress))+"%",1)]))}}),$n=us(Vn,[["__scopeId","data-v-e5eadefa"]]),$r=-520,Ws=-720,Xs=4e3,qn=Or({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(a){ye.registerPlugin(xe);const e=a,r=Lr();r.projects=e.projects;const t=Do(),o=qt(!1),s=r.cubeSize,i=r.cubeSpacing,n=r.firstCubeZ,u={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0},p=qt(null),M=qt(null),g=qt(!1),w=qt(0),f=qt(!1),d=qt(!0),D=new Map;let _,k,I,se,E,ue,he,P=null,Me=null,W=null,v=null,Z=null,b=[],Y=null,_e=null,ve=0,Oe=null,X,Le=null,ne=null,l=null;const ee=Xn("/fonts/Poppins_Regular.json"),ae=()=>{const G=p.value?p.value.getBoundingClientRect().width:window.innerWidth,Q=window.innerHeight,be=1,L=t.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;I.setSize(G*be,Q*be),I.setPixelRatio(L),se.setSize(G*be,Q*be),k.aspect=G/Q,k.updateProjectionMatrix(),I.domElement.style.width=`${G}px`,I.domElement.style.height=`${Q}px`},ce=G=>D.has(G)?Promise.resolve(D.get(G)):new Promise((Q,be)=>{new sn().load(G,de=>{de.encoding=Cs,D.set(G,de),Q(de)},void 0,de=>be(de))}),Pe=async()=>{_=new Ji,_.background=new Et(0),_.fog=new en(0,700,Xs),k=new tn(t.isMobile?t.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,Xs+6e3),k.position.set(0,0,0),k.lookAt(0,0,1e3),I=new on({antialias:!0}),t.isMobile?I.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):I.setPixelRatio(window.devicePixelRatio),I.toneMapping=rn,I.toneMappingExposure=1,I.outputEncoding=Cs,se=new kn(I);const G=new In(_,k);se.addPass(G);const Q=new Wt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(t.isMobile?E=new Eo(Q,1,.1,0):E=new Eo(Q,1.6,.2,0),E.renderToScreen=!0,se.addPass(E),p.value)p.value.appendChild(I.domElement),I.domElement.style.opacity="0";else return;ue=new sr,ue.dom.style.position="fixed",ue.dom.style.top="0px",ue.dom.style.left="0px",ue.dom.style.zIndex="1000",document.body.appendChild(ue.dom);const L=e.projects.filter(z=>z.keyart).length+2+1;let de=0;const T=()=>{de++;const z=de/L*100,fe=ee.loadingProgress.value;w.value=(z+fe/L)/(1+1/L),de===L&&ee.isLoaded.value&&(g.value=!0)};await ee.initialize().then(()=>{T()}).catch(z=>{console.error("Font initialization failed:",z),T()}),await ce(e.projectGridFile).then(()=>T()).catch(()=>T()),await ce(e.projectGridFile2).then(()=>T()).catch(()=>T());for(const z of e.projects)z.keyart?await ce(z.keyart).then(()=>T()).catch(()=>T()):T();Oe=zn(_,{CUBE_SIZE:s,CUBE_SPACING:i,FIRST_CUBE_Z:n},e.projects,e.projectGridFile,e.projectGridFile2,u,D,ee.font);try{if(await Oe.getInitializedData().then(({maxZ:z,updateCubeColors:fe,projectCubes:Be})=>{if(X=z,X===void 0||isNaN(X))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:c}=Ln(_,ee.font,{CUBE_SIZE:s,FIRST_CUBE_Z:n},u);b=[...c,...Be],Y=fe}),u.showCars){const{cityGroup:z,updateParticles:fe,dispose:Be}=Bn(_,_,X,u);he=fe,Z=Be}if(u.showStarfield){const{dispose:z}=Fn(_,k,X);P=z}if(u.showChasers){const{dispose:z,updateChasers:fe}=Nn(_,X);W=z,v=fe}ae()}catch(z){console.error("Error initializing project cubes:",z),X=n-(e.projects.length+1)*i}},We=(G=0)=>{if(_e=requestAnimationFrame(We),I&&se){const Q=(G-ve)/1e3;ve=G,he(Q),v&&v(Q),Oe!=null&&Oe.updateClickHereParticles&&Oe.updateClickHereParticles(k,Q);const be=4e3,L=1e3,de=Math.abs(k.position.z-X);k.far=Math.max(be+L,de),k.updateProjectionMatrix();const T=Ws-$r;let z=0;k.position.z>=$r?z=0:k.position.z<=Ws?z=1:z=(k.position.z-$r)/T;const fe=.01,Be=1-Math.pow(1-z,2);let c;t.isMobile?c=Ye.lerp(1.3,fe,Be):c=Ye.lerp(1.6,fe,Be),E.strength=c,se.render()}ue.update()},Se=()=>{console.log("handleResize()"),ae(),xe.refresh()},ke=()=>{if(t.isMobile){const G=t.orientation;console.log("Resize: orientation",G,"lastOrientation",ne),G!==ne&&(ne=G,l&&clearTimeout(l),l=setTimeout(()=>{Se(),l=null},500))}else Se()};return js(()=>{Pe().then(()=>{if(g.value){_e=requestAnimationFrame(We);let G=null;const Q=Oe.getInitializedData().then(({projectCubes:L})=>{L.forEach(T=>{T.userData.isActive=!0});const de=n-(e.projects.length-1)*i;if(k.position.set(0,0,5e3),k.lookAt(0,0,de),k.updateProjectionMatrix(),Y(k),se.render(),xe.getAll().forEach(T=>T.kill()),b.length&&Y){const T=Hn(_,k,M,b,Y,{CUBE_SPACING:i,FIRST_CUBE_Z:n},{scrub:t.isMobile?.5:1},u,ue);G=T.setReverting,Le=T.isScrollTriggerActive}I&&Me===null&&(Me=Oe.setupInteractivity(k,I.domElement,I,T=>{G&&G(T)},Le)),o.value=!0,window.scrollTo({top:0,behavior:"auto"})}),be=()=>{Q.then(()=>{d.value=!1,k.position.set(0,0,5e3),k.updateProjectionMatrix(),ye.to(I.domElement,{opacity:1,duration:.5,ease:"power4.out"});const L={z:5e3};ye.to(L,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{k.position.z=L.z,k.updateProjectionMatrix()},onComplete:()=>{k.position.z=0,f.value=!0}})})};ye.delayedCall(.5,be)}}).catch(G=>{console.error("Initialization failed:",G)}),window.addEventListener("resize",ke)}),Ii(()=>{_e!==null&&cancelAnimationFrame(_e),Me&&Me(),window.removeEventListener("resize",ke),xe.getAll().forEach(G=>G.kill()),I.dispose(),se.dispose(),_.clear(),document.body.removeChild(ue.dom),P&&P(),W&&W(),Z&&Z()}),(G,Q)=>(At(),Ft("section",{ref_key:"wrapper",ref:M,class:qr(["wrapper",{ready:o.value}])},[ko(Li,{name:"fade"},{default:Vs(()=>[d.value?(At(),$s($n,{key:0,progress:w.value},null,8,["progress"])):Oi("",!0)]),_:1}),ot("div",{ref_key:"tunnelWrapper",ref:p,class:"tunnel-wrapper"},null,512)],2))}}),Qn=us(qn,[["__scopeId","data-v-75deab98"]]),Kn={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-32 md:pb-28"},Jn={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},ea={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},ta={key:2},oa={key:3},ra=Or({__name:"IntroMessage",setup(a){const e=Do(),r=Lr(),{progress:t}=zi(r),o=qt(null),s=Qr(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return js(()=>{const i=o.value.querySelector("svg path:nth-child(2)");i&&ye.to(i,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{i.position.y=0},repeat:-1})}),Bi(t,(i,n)=>{if(console.log(`Progress changed from ${n} to ${i}`),!o.value)return;const u=i>n,p=i<80,M=i>=80;(u&&M||!u&&p)&&(ye.killTweensOf(o.value),ye.to(o.value,{y:u?s.value:0,scale:u?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(i,n)=>(At(),Ft("div",Kn,[ot("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm"},[Kr(e).isMobile?(At(),Ft("svg",Jn,n[0]||(n[0]=[ot("g",null,[ot("g",null,[ot("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),ot("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):(At(),Ft("svg",ea,n[1]||(n[1]=[ot("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),ot("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),Kr(e).isMobile?(At(),Ft("div",ta,"SWIPE UP TO CONTINUE")):(At(),Ft("div",oa,"SCROLL TO CONTINUE"))],512)]))}}),sa=us(ra,[["__scopeId","data-v-354037bb"]]),ia={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},na={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},aa={class:"overflow-hidden"},la={class:"mt-16 px-4 md:px-16"},ca={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ua=["innerHTML"],fa={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},ma=Or({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(a){const e=a,r=Qr(()=>[...e.archived].sort((s,i)=>s.title.localeCompare(i.title))),t=Qr(()=>Object.values(lr.Enums.Classification)),o=s=>{switch(s){case lr.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case lr.Enums.Classification.ECOMMERCE:return"fill-green-500";case lr.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return(s,i)=>(At(),$s(ln,null,{default:Vs(()=>[ko(Kr(Hi),{title:"Welcome"}),ot("div",ia,[ot("nav",na,[ko(nn)]),ot("div",aa,[ko(Qn,{projects:s.projects,"project-grid-file":s.projectGridFile,"project-grid-file2":s.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file2"]),ko(sa)]),ot("div",la,[i[2]||(i[2]=ot("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),ot("ul",ca,[(At(!0),Ft(ws,null,xs(r.value,(n,u)=>(At(),Ft("li",{class:"text-xs text-white/80 flex items-center gap-2",key:u},[(At(),Ft("svg",{class:qr(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",o(n.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},i[0]||(i[0]=[ot("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),ot("span",{innerHTML:n.title},null,8,ua)]))),128))]),ot("ul",fa,[(At(!0),Ft(ws,null,xs(t.value,n=>(At(),Ft("li",{class:"flex items-center gap-2",key:n},[(At(),Ft("svg",{class:qr(["size-3",o(n)]),viewBox:"0 0 6 6","aria-hidden":"true"},i[1]||(i[1]=[ot("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Fi(" "+Zs(n),1)]))),128))])]),i[3]||(i[3]=ot("div",{class:"flex justify-center items-center"},null,-1)),i[4]||(i[4]=ot("div",{class:"flex justify-center items-center"},null,-1)),ko(an)])]),_:1}))}});export{ma as default};
