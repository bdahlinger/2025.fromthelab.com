import{I as No,d as Kt,D as Mi,x as Un,y as Wn,e as Lo,o as Jr,J as Ci,W as Ei,a as ur,t as Ai,b as ar,T as ki,w as Ri,c as Ii,f as Di,u as Oi,m as Ni,F as Li}from"./app-DtnJc-ym.js";import{M as Ne,O as jn,B as ln,F as Ur,C as gt,V as pe,W as xo,H as wo,U as Qo,S as Pr,a as rt,A as Ct,b as vt,N as Bi,c as zi,d as Yn,e as Vn,f as Eo,P as Yt,E as Fi,g as Xn,h as qn,i as xr,j as Hi,k as Gi,l as Ui,m as Fo,n as Wi,o as Jt,p as Xt,q as ji,D as Ft,r as Ht,s as Ye,t as je,u as _o,v as Vt,R as Yi,w as Vi,T as vr,x as Xi,y as qi,z as bn,Q as Zi,I as Vs,J as Xs,K as qs,X as Zs,Y as Qs,Z as Qi,_ as $i,$ as Ki,L as Ji,G as es}from"./GlobalFooter-01SoqfI2.js";import{_ as Zn}from"./_plugin-vue_export-helper-DlAUqK2U.js";class ro{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ts=new jn(-1,1,1,-1,0,1);class rs extends ln{constructor(){super(),this.setAttribute("position",new Ur([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Ur([0,2,0,0,2,0],2))}}const os=new rs;class Qn{constructor(e){this._mesh=new Ne(os,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ts)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const $n={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},ns={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new gt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class gr extends ro{constructor(e,o,t,r){super(),this.strength=o!==void 0?o:1,this.radius=t,this.threshold=r,this.resolution=e!==void 0?new pe(e.x,e.y):new pe(256,256),this.clearColor=new gt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let n=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);this.renderTargetBright=new xo(n,c,{type:wo}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let T=0;T<this.nMips;T++){const v=new xo(n,c,{type:wo});v.texture.name="UnrealBloomPass.h"+T,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);const b=new xo(n,c,{type:wo});b.texture.name="UnrealBloomPass.v"+T,b.texture.generateMipmaps=!1,this.renderTargetsVertical.push(b),n=Math.round(n/2),c=Math.round(c/2)}const f=ns;this.highPassUniforms=Qo.clone(f.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Pr({uniforms:this.highPassUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}),this.separableBlurMaterials=[];const _=[3,5,7,9,11];n=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);for(let T=0;T<this.nMips;T++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(_[T])),this.separableBlurMaterials[T].uniforms.invSize.value=new pe(1/n,1/c),n=Math.round(n/2),c=Math.round(c/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=o,this.compositeMaterial.uniforms.bloomRadius.value=.1;const R=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=R,this.bloomTintColors=[new rt(1,1,1),new rt(1,1,1),new rt(1,1,1),new rt(1,1,1),new rt(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const I=$n;this.copyUniforms=Qo.clone(I.uniforms),this.blendMaterial=new Pr({uniforms:this.copyUniforms,vertexShader:I.vertexShader,fragmentShader:I.fragmentShader,blending:Ct,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new gt,this.oldClearAlpha=1,this.basic=new vt,this.fsQuad=new Qn(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,o){let t=Math.round(e/2),r=Math.round(o/2);this.renderTargetBright.setSize(t,r);for(let n=0;n<this.nMips;n++)this.renderTargetsHorizontal[n].setSize(t,r),this.renderTargetsVertical[n].setSize(t,r),this.separableBlurMaterials[n].uniforms.invSize.value=new pe(1/t,1/r),t=Math.round(t/2),r=Math.round(r/2)}render(e,o,t,r,n){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const c=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),n&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let f=this.renderTargetBright;for(let _=0;_<this.nMips;_++)this.fsQuad.material=this.separableBlurMaterials[_],this.separableBlurMaterials[_].uniforms.colorTexture.value=f.texture,this.separableBlurMaterials[_].uniforms.direction.value=gr.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[_]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[_].uniforms.colorTexture.value=this.renderTargetsHorizontal[_].texture,this.separableBlurMaterials[_].uniforms.direction.value=gr.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[_]),e.clear(),this.fsQuad.render(e),f=this.renderTargetsVertical[_];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,n&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=c}getSeparableBlurMaterial(e){const o=[];for(let t=0;t<e;t++)o.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new Pr({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new pe(.5,.5)},direction:{value:new pe(.5,.5)},gaussianCoefficients:{value:o}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Pr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}gr.BlurDirectionX=new pe(1,0);gr.BlurDirectionY=new pe(0,1);class is extends ro{constructor(e,o){super(),this.textureID=o!==void 0?o:"tDiffuse",e instanceof Pr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Qo.clone(e.uniforms),this.material=new Pr({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Qn(this.material)}render(e,o,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(o),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class xn extends ro{constructor(e,o){super(),this.scene=e,this.camera=o,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,o,t){const r=e.getContext(),n=e.state;n.buffers.color.setMask(!1),n.buffers.depth.setMask(!1),n.buffers.color.setLocked(!0),n.buffers.depth.setLocked(!0);let c,f;this.inverse?(c=0,f=1):(c=1,f=0),n.buffers.stencil.setTest(!0),n.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),n.buffers.stencil.setFunc(r.ALWAYS,c,4294967295),n.buffers.stencil.setClear(f),n.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(o),this.clear&&e.clear(),e.render(this.scene,this.camera),n.buffers.color.setLocked(!1),n.buffers.depth.setLocked(!1),n.buffers.color.setMask(!0),n.buffers.depth.setMask(!0),n.buffers.stencil.setLocked(!1),n.buffers.stencil.setFunc(r.EQUAL,1,4294967295),n.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),n.buffers.stencil.setLocked(!0)}}class ss extends ro{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Kn{constructor(e,o){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),o===void 0){const t=e.getSize(new pe);this._width=t.width,this._height=t.height,o=new xo(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:wo}),o.texture.name="EffectComposer.rt1"}else this._width=o.width,this._height=o.height;this.renderTarget1=o,this.renderTarget2=o.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new is($n),this.copyPass.material.blending=Bi,this.clock=new zi}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,o){this.passes.splice(o,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const o=this.passes.indexOf(e);o!==-1&&this.passes.splice(o,1)}isLastEnabledPass(e){for(let o=e+1;o<this.passes.length;o++)if(this.passes[o].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const o=this.renderer.getRenderTarget();let t=!1;for(let r=0,n=this.passes.length;r<n;r++){const c=this.passes[r];if(c.enabled!==!1){if(c.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),c.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),c.needsSwap){if(t){const f=this.renderer.getContext(),_=this.renderer.state.buffers.stencil;_.setFunc(f.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),_.setFunc(f.EQUAL,1,4294967295)}this.swapBuffers()}xn!==void 0&&(c instanceof xn?t=!0:c instanceof ss&&(t=!1))}}this.renderer.setRenderTarget(o)}reset(e){if(e===void 0){const o=this.renderer.getSize(new pe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=o.width,this._height=o.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,o){this._width=e,this._height=o;const t=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(t,r),this.renderTarget2.setSize(t,r);for(let n=0;n<this.passes.length;n++)this.passes[n].setSize(t,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Jn extends ro{constructor(e,o,t=null,r=null,n=null){super(),this.scene=e,this.camera=o,this.overrideMaterial=t,this.clearColor=r,this.clearAlpha=n,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new gt}render(e,o,t){const r=e.autoClear;e.autoClear=!1;let n,c;this.overrideMaterial!==null&&(c=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(n=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(n),this.overrideMaterial!==null&&(this.scene.overrideMaterial=c),e.autoClear=r}}const sr=.01,wn=45/3,as=3,Ho=45,_n=No({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(d){const e=d,o=Kt(null);let t,r,n=null,c=null,f=null,_=[];const R=Mi({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),I=Ho/2+10;function T(g){const z=sr*R.particleWidth,Z=sr*R.particleHeight,H=R.useSquares?new Yt(z,Z):new Eo(z,Z,z),C=Math.floor(Math.random()*3);let W;switch(C){case 0:W=new gt(1,0,0);break;case 1:W=new gt(0,1,0);break;case 2:W=new gt(0,0,1);break;default:W=new gt(1,0,0)}const j=new vt({color:W,transparent:!0,opacity:.7}),L=new Ne(H,j),U=Ho+I*2;L.position.set(-45-I+g/(R.particleCount-1)*U,0,sr*(Math.random()-.5)*R.positionZRandomness*R.emitterDepth);const X=sr*(Math.random()*(R.maxSpeed-R.minSpeed)+R.minSpeed);return L.speed=X+sr*(Math.random()-.5)*R.speedRandomness,L.rotationSpeed=new rt(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*R.rotationRandomness+.5),L}function v(){t=new Yn;const g=as*1.5,z=g*wn;r=new jn(-67.5/2,z/2,g/2,-4.5/2,.1,1e3),r.position.z=150,n=new Vn({antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.domElement&&(n.domElement.style.width="100%",n.domElement.style.height="auto");const Z=new Jn(t,r);f=new gr(new pe(window.innerWidth,window.innerHeight),R.bloomStrength,R.bloomRadius,.1),c=new Kn(n),c.addPass(Z),c.addPass(f),O(),o.value&&o.value.appendChild(n.domElement),b(),A()}function b(){_.forEach(g=>t.remove(g)),_=[];for(let g=0;g<R.particleCount;g++){const z=T(g);_.push(z),t.add(z)}}function O(){if(!n||!c||!f)return;const g=window.innerWidth,z=g/wn;n.setSize(g,z),c.setSize(g,z),f.setSize(g,z),n.domElement&&(n.domElement.style.width="100%",n.domElement.style.height="auto")}function A(){requestAnimationFrame(A),_.forEach(g=>{g.position.x+=g.speed,!R.useSquares&&R.rotateParticles&&(g.rotation.x+=g.rotationSpeed.x*.016,g.rotation.y+=g.rotationSpeed.y*.016,g.rotation.z+=g.rotationSpeed.z*.016),g.position.x>Ho/2+I&&(_.indexOf(g),g.position.x=-45-I-sr*(g.geometry instanceof Eo,g.geometry.parameters.width),g.position.y=0,g.position.z=sr*(Math.random()-.5)*R.positionZRandomness*R.emitterDepth)}),c&&c.render()}return Un(()=>{v(),window.addEventListener("resize",O)}),Wn(()=>{window.removeEventListener("resize",O),n==null||n.dispose()}),(g,z)=>(Jr(),Lo("div",{ref_key:"container",ref:o,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}}),ei=Ci("tunnel",{state:()=>({isMobile:!1,activeProjectSlug:null,scrollPosition:0}),mutations:{storeIsMobile(d,e){d.isMobile=e}},actions:{setActiveProject(d){this.activeProjectSlug=d},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(d){this.scrollPosition=d,console.log("Scroll position stored:",d)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function ls(d,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(d,t.key,t)}}function cs(d,e,o){return e&&ls(d.prototype,e),d}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ot,vo,Mt,tr,rr,Cr,ti,lr,Wr,ri,Zt,Dt,oi,ni=function(){return ot||typeof window<"u"&&(ot=window.gsap)&&ot.registerPlugin&&ot},ii=1,Mr=[],me=[],Wt=[],jr=Date.now,$o=function(e,o){return o},us=function(){var e=Wr.core,o=e.bridge||{},t=e._scrollers,r=e._proxies;t.push.apply(t,me),r.push.apply(r,Wt),me=t,Wt=r,$o=function(c,f){return o[c](f)}},or=function(e,o){return~Wt.indexOf(e)&&Wt[Wt.indexOf(e)+1][o]},Yr=function(e){return!!~ri.indexOf(e)},ft=function(e,o,t,r,n){return e.addEventListener(o,t,{passive:r!==!1,capture:!!n})},ut=function(e,o,t,r){return e.removeEventListener(o,t,!!r)},io="scrollLeft",so="scrollTop",Ko=function(){return Zt&&Zt.isPressed||me.cache++},Ao=function(e,o){var t=function r(n){if(n||n===0){ii&&(Mt.history.scrollRestoration="manual");var c=Zt&&Zt.isPressed;n=r.v=Math.round(n)||(Zt&&Zt.iOS?1:0),e(n),r.cacheID=me.cache,c&&$o("ss",n)}else(o||me.cache!==r.cacheID||$o("ref"))&&(r.cacheID=me.cache,r.v=e());return r.v+r.offset};return t.offset=0,e&&t},mt={s:io,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ao(function(d){return arguments.length?Mt.scrollTo(d,Ve.sc()):Mt.pageXOffset||tr[io]||rr[io]||Cr[io]||0})},Ve={s:so,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:mt,sc:Ao(function(d){return arguments.length?Mt.scrollTo(mt.sc(),d):Mt.pageYOffset||tr[so]||rr[so]||Cr[so]||0})},xt=function(e,o){return(o&&o._ctx&&o._ctx.selector||ot.utils.toArray)(e)[0]||(typeof e=="string"&&ot.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},nr=function(e,o){var t=o.s,r=o.sc;Yr(e)&&(e=tr.scrollingElement||rr);var n=me.indexOf(e),c=r===Ve.sc?1:2;!~n&&(n=me.push(e)-1),me[n+c]||ft(e,"scroll",Ko);var f=me[n+c],_=f||(me[n+c]=Ao(or(e,t),!0)||(Yr(e)?r:Ao(function(R){return arguments.length?e[t]=R:e[t]})));return _.target=e,f||(_.smooth=ot.getProperty(e,"scrollBehavior")==="smooth"),_},Jo=function(e,o,t){var r=e,n=e,c=jr(),f=c,_=o||50,R=Math.max(500,_*3),I=function(O,A){var g=jr();A||g-c>_?(n=r,r=O,f=c,c=g):t?r+=O:r=n+(O-n)/(g-f)*(c-f)},T=function(){n=r=t?0:r,f=c=0},v=function(O){var A=f,g=n,z=jr();return(O||O===0)&&O!==r&&I(O),c===f||z-f>R?0:(r+(t?g:-g))/((t?z:c)-A)*1e3};return{update:I,reset:T,getVelocity:v}},Or=function(e,o){return o&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},vn=function(e){var o=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(o)>=Math.abs(t)?o:t},si=function(){Wr=ot.core.globals().ScrollTrigger,Wr&&Wr.core&&us()},ai=function(e){return ot=e||ni(),!vo&&ot&&typeof document<"u"&&document.body&&(Mt=window,tr=document,rr=tr.documentElement,Cr=tr.body,ri=[Mt,tr,rr,Cr],ot.utils.clamp,oi=ot.core.context||function(){},lr="onpointerenter"in Cr?"pointer":"mouse",ti=ze.isTouch=Mt.matchMedia&&Mt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Mt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Dt=ze.eventTypes=("ontouchstart"in rr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in rr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ii=0},500),si(),vo=1),vo};mt.op=Ve;me.cache=0;var ze=function(){function d(o){this.init(o)}var e=d.prototype;return e.init=function(t){vo||ai(ot)||console.warn("Please gsap.registerPlugin(Observer)"),Wr||si();var r=t.tolerance,n=t.dragMinimum,c=t.type,f=t.target,_=t.lineHeight,R=t.debounce,I=t.preventDefault,T=t.onStop,v=t.onStopDelay,b=t.ignore,O=t.wheelSpeed,A=t.event,g=t.onDragStart,z=t.onDragEnd,Z=t.onDrag,H=t.onPress,C=t.onRelease,W=t.onRight,j=t.onLeft,L=t.onUp,U=t.onDown,X=t.onChangeX,N=t.onChangeY,ee=t.onChange,k=t.onToggleX,J=t.onToggleY,K=t.onHover,ie=t.onHoverEnd,Y=t.onMove,B=t.ignoreCheck,M=t.isNormalizer,re=t.onGestureStart,h=t.onGestureEnd,ye=t.onWheel,xe=t.onEnable,Xe=t.onDisable,x=t.onClick,u=t.scrollSpeed,s=t.capture,i=t.allowClicks,y=t.lockAxis,D=t.onLockAxis;this.target=f=xt(f)||rr,this.vars=t,b&&(b=ot.utils.toArray(b)),r=r||1e-9,n=n||0,O=O||1,u=u||1,c=c||"wheel,touch,pointer",R=R!==!1,_||(_=parseFloat(Mt.getComputedStyle(Cr).lineHeight)||22);var w,E,F,S,m,P,G,l=this,p=0,a=0,V=t.passive||!I&&t.passive!==!1,Q=nr(f,mt),de=nr(f,Ve),ve=Q(),Te=de(),be=~c.indexOf("touch")&&!~c.indexOf("pointer")&&Dt[0]==="pointerdown",qe=Yr(f),Ce=f.ownerDocument||tr,Ze=[0,0,0],Ge=[0,0,0],ne=0,De=function(){return ne=jr()},we=function(te,Pe){return(l.event=te)&&b&&~b.indexOf(te.target)||Pe&&be&&te.pointerType!=="touch"||B&&B(te,Pe)},se=function(){l._vx.reset(),l._vy.reset(),E.pause(),T&&T(l)},Se=function(){var te=l.deltaX=vn(Ze),Pe=l.deltaY=vn(Ge),q=Math.abs(te)>=r,ce=Math.abs(Pe)>=r;ee&&(q||ce)&&ee(l,te,Pe,Ze,Ge),q&&(W&&l.deltaX>0&&W(l),j&&l.deltaX<0&&j(l),X&&X(l),k&&l.deltaX<0!=p<0&&k(l),p=l.deltaX,Ze[0]=Ze[1]=Ze[2]=0),ce&&(U&&l.deltaY>0&&U(l),L&&l.deltaY<0&&L(l),N&&N(l),J&&l.deltaY<0!=a<0&&J(l),a=l.deltaY,Ge[0]=Ge[1]=Ge[2]=0),(S||F)&&(Y&&Y(l),F&&(g&&F===1&&g(l),Z&&Z(l),F=0),S=!1),P&&!(P=!1)&&D&&D(l),m&&(ye(l),m=!1),w=0},ke=function(te,Pe,q){Ze[q]+=te,Ge[q]+=Pe,l._vx.update(te),l._vy.update(Pe),R?w||(w=requestAnimationFrame(Se)):Se()},$t=function(te,Pe){y&&!G&&(l.axis=G=Math.abs(te)>Math.abs(Pe)?"x":"y",P=!0),G!=="y"&&(Ze[2]+=te,l._vx.update(te,!0)),G!=="x"&&(Ge[2]+=Pe,l._vy.update(Pe,!0)),R?w||(w=requestAnimationFrame(Se)):Se()},Ot=function(te){if(!we(te,1)){te=Or(te,I);var Pe=te.clientX,q=te.clientY,ce=Pe-l.x,oe=q-l.y,ue=l.isDragging;l.x=Pe,l.y=q,(ue||(ce||oe)&&(Math.abs(l.startX-Pe)>=n||Math.abs(l.startY-q)>=n))&&(F=ue?2:1,ue||(l.isDragging=!0),$t(ce,oe))}},Fe=l.onPress=function(ae){we(ae,1)||ae&&ae.button||(l.axis=G=null,E.pause(),l.isPressed=!0,ae=Or(ae),p=a=0,l.startX=l.x=ae.clientX,l.startY=l.y=ae.clientY,l._vx.reset(),l._vy.reset(),ft(M?f:Ce,Dt[1],Ot,V,!0),l.deltaX=l.deltaY=0,H&&H(l))},le=l.onRelease=function(ae){if(!we(ae,1)){ut(M?f:Ce,Dt[1],Ot,!0);var te=!isNaN(l.y-l.startY),Pe=l.isDragging,q=Pe&&(Math.abs(l.x-l.startX)>3||Math.abs(l.y-l.startY)>3),ce=Or(ae);!q&&te&&(l._vx.reset(),l._vy.reset(),I&&i&&ot.delayedCall(.08,function(){if(jr()-ne>300&&!ae.defaultPrevented){if(ae.target.click)ae.target.click();else if(Ce.createEvent){var oe=Ce.createEvent("MouseEvents");oe.initMouseEvent("click",!0,!0,Mt,1,ce.screenX,ce.screenY,ce.clientX,ce.clientY,!1,!1,!1,!1,0,null),ae.target.dispatchEvent(oe)}}})),l.isDragging=l.isGesturing=l.isPressed=!1,T&&Pe&&!M&&E.restart(!0),F&&Se(),z&&Pe&&z(l),C&&C(l,q)}},jt=function(te){return te.touches&&te.touches.length>1&&(l.isGesturing=!0)&&re(te,l.isDragging)},yt=function(){return(l.isGesturing=!1)||h(l)},wt=function(te){if(!we(te)){var Pe=Q(),q=de();ke((Pe-ve)*u,(q-Te)*u,1),ve=Pe,Te=q,T&&E.restart(!0)}},bt=function(te){if(!we(te)){te=Or(te,I),ye&&(m=!0);var Pe=(te.deltaMode===1?_:te.deltaMode===2?Mt.innerHeight:1)*O;ke(te.deltaX*Pe,te.deltaY*Pe,0),T&&!M&&E.restart(!0)}},Le=function(te){if(!we(te)){var Pe=te.clientX,q=te.clientY,ce=Pe-l.x,oe=q-l.y;l.x=Pe,l.y=q,S=!0,T&&E.restart(!0),(ce||oe)&&$t(ce,oe)}},Nt=function(te){l.event=te,K(l)},Qe=function(te){l.event=te,ie(l)},Rt=function(te){return we(te)||Or(te,I)&&x(l)};E=l._dc=ot.delayedCall(v||.25,se).pause(),l.deltaX=l.deltaY=0,l._vx=Jo(0,50,!0),l._vy=Jo(0,50,!0),l.scrollX=Q,l.scrollY=de,l.isDragging=l.isGesturing=l.isPressed=!1,oi(this),l.enable=function(ae){return l.isEnabled||(ft(qe?Ce:f,"scroll",Ko),c.indexOf("scroll")>=0&&ft(qe?Ce:f,"scroll",wt,V,s),c.indexOf("wheel")>=0&&ft(f,"wheel",bt,V,s),(c.indexOf("touch")>=0&&ti||c.indexOf("pointer")>=0)&&(ft(f,Dt[0],Fe,V,s),ft(Ce,Dt[2],le),ft(Ce,Dt[3],le),i&&ft(f,"click",De,!0,!0),x&&ft(f,"click",Rt),re&&ft(Ce,"gesturestart",jt),h&&ft(Ce,"gestureend",yt),K&&ft(f,lr+"enter",Nt),ie&&ft(f,lr+"leave",Qe),Y&&ft(f,lr+"move",Le)),l.isEnabled=!0,l.isDragging=l.isGesturing=l.isPressed=S=F=!1,l._vx.reset(),l._vy.reset(),ve=Q(),Te=de(),ae&&ae.type&&Fe(ae),xe&&xe(l)),l},l.disable=function(){l.isEnabled&&(Mr.filter(function(ae){return ae!==l&&Yr(ae.target)}).length||ut(qe?Ce:f,"scroll",Ko),l.isPressed&&(l._vx.reset(),l._vy.reset(),ut(M?f:Ce,Dt[1],Ot,!0)),ut(qe?Ce:f,"scroll",wt,s),ut(f,"wheel",bt,s),ut(f,Dt[0],Fe,s),ut(Ce,Dt[2],le),ut(Ce,Dt[3],le),ut(f,"click",De,!0),ut(f,"click",Rt),ut(Ce,"gesturestart",jt),ut(Ce,"gestureend",yt),ut(f,lr+"enter",Nt),ut(f,lr+"leave",Qe),ut(f,lr+"move",Le),l.isEnabled=l.isPressed=l.isDragging=!1,Xe&&Xe(l))},l.kill=l.revert=function(){l.disable();var ae=Mr.indexOf(l);ae>=0&&Mr.splice(ae,1),Zt===l&&(Zt=0)},Mr.push(l),M&&Yr(f)&&(Zt=l),l.enable(A)},cs(d,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),d}();ze.version="3.12.7";ze.create=function(d){return new ze(d)};ze.register=ai;ze.getAll=function(){return Mr.slice()};ze.getById=function(d){return Mr.filter(function(e){return e.vars.id===d})[0]};ni()&&ot.registerPlugin(ze);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $,Sr,ge,Ae,Pt,Me,cn,ko,eo,Vr,Br,ao,at,Bo,en,pt,Sn,Tn,Tr,li,Go,ci,dt,tn,ui,fi,er,rn,un,Er,fn,Ro,on,Uo,lo=1,lt=Date.now,Wo=lt(),kt=0,zr=0,Pn=function(e,o,t){var r=Tt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+o+"Clamp"]=r,r?e.substr(6,e.length-7):e},Mn=function(e,o){return o&&(!Tt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},fs=function d(){return zr&&requestAnimationFrame(d)},Cn=function(){return Bo=1},En=function(){return Bo=0},Gt=function(e){return e},Fr=function(e){return Math.round(e*1e5)/1e5||0},di=function(){return typeof window<"u"},pi=function(){return $||di()&&($=window.gsap)&&$.registerPlugin&&$},mr=function(e){return!!~cn.indexOf(e)},hi=function(e){return(e==="Height"?fn:ge["inner"+e])||Pt["client"+e]||Me["client"+e]},gi=function(e){return or(e,"getBoundingClientRect")||(mr(e)?function(){return Co.width=ge.innerWidth,Co.height=fn,Co}:function(){return qt(e)})},ds=function(e,o,t){var r=t.d,n=t.d2,c=t.a;return(c=or(e,"getBoundingClientRect"))?function(){return c()[r]}:function(){return(o?hi(n):e["client"+n])||0}},ps=function(e,o){return!o||~Wt.indexOf(e)?gi(e):function(){return Co}},Ut=function(e,o){var t=o.s,r=o.d2,n=o.d,c=o.a;return Math.max(0,(t="scroll"+r)&&(c=or(e,t))?c()-gi(e)()[n]:mr(e)?(Pt[t]||Me[t])-hi(r):e[t]-e["offset"+r])},co=function(e,o){for(var t=0;t<Tr.length;t+=3)(!o||~o.indexOf(Tr[t+1]))&&e(Tr[t],Tr[t+1],Tr[t+2])},Tt=function(e){return typeof e=="string"},ct=function(e){return typeof e=="function"},Hr=function(e){return typeof e=="number"},cr=function(e){return typeof e=="object"},Nr=function(e,o,t){return e&&e.progress(o?0:1)&&t&&e.pause()},jo=function(e,o){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return o(e)}):o(e);t&&t.totalTime&&(e.callbackAnimation=t)}},wr=Math.abs,mi="left",yi="top",dn="right",pn="bottom",dr="width",pr="height",Xr="Right",qr="Left",Zr="Top",Qr="Bottom",He="padding",Et="margin",kr="Width",hn="Height",We="px",At=function(e){return ge.getComputedStyle(e)},hs=function(e){var o=At(e).position;e.style.position=o==="absolute"||o==="fixed"?o:"relative"},An=function(e,o){for(var t in o)t in e||(e[t]=o[t]);return e},qt=function(e,o){var t=o&&At(e)[en]!=="matrix(1, 0, 0, 1, 0, 0)"&&$.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return t&&t.progress(0).kill(),r},Io=function(e,o){var t=o.d2;return e["offset"+t]||e["client"+t]||0},bi=function(e){var o=[],t=e.labels,r=e.duration(),n;for(n in t)o.push(t[n]/r);return o},gs=function(e){return function(o){return $.utils.snap(bi(e),o)}},gn=function(e){var o=$.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(r,n){return r-n});return t?function(r,n,c){c===void 0&&(c=.001);var f;if(!n)return o(r);if(n>0){for(r-=c,f=0;f<t.length;f++)if(t[f]>=r)return t[f];return t[f-1]}else for(f=t.length,r+=c;f--;)if(t[f]<=r)return t[f];return t[0]}:function(r,n,c){c===void 0&&(c=.001);var f=o(r);return!n||Math.abs(f-r)<c||f-r<0==n<0?f:o(n<0?r-e:r+e)}},ms=function(e){return function(o,t){return gn(bi(e))(o,t.direction)}},uo=function(e,o,t,r){return t.split(",").forEach(function(n){return e(o,n,r)})},Je=function(e,o,t,r,n){return e.addEventListener(o,t,{passive:!r,capture:!!n})},Ke=function(e,o,t,r){return e.removeEventListener(o,t,!!r)},fo=function(e,o,t){t=t&&t.wheelHandler,t&&(e(o,"wheel",t),e(o,"touchmove",t))},kn={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},po={toggleActions:"play",anticipatePin:0},Do={top:0,left:0,center:.5,bottom:1,right:1},So=function(e,o){if(Tt(e)){var t=e.indexOf("="),r=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(r*=o/100),e=e.substr(0,t-1)),e=r+(e in Do?Do[e]*o:~e.indexOf("%")?parseFloat(e)*o/100:parseFloat(e)||0)}return e},ho=function(e,o,t,r,n,c,f,_){var R=n.startColor,I=n.endColor,T=n.fontSize,v=n.indent,b=n.fontWeight,O=Ae.createElement("div"),A=mr(t)||or(t,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,z=A?Me:t,Z=e.indexOf("start")!==-1,H=Z?R:I,C="border-color:"+H+";font-size:"+T+";color:"+H+";font-weight:"+b+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((g||_)&&A?"fixed;":"absolute;"),(g||_||!A)&&(C+=(r===Ve?dn:pn)+":"+(c+parseFloat(v))+"px;"),f&&(C+="box-sizing:border-box;text-align:left;width:"+f.offsetWidth+"px;"),O._isStart=Z,O.setAttribute("class","gsap-marker-"+e+(o?" marker-"+o:"")),O.style.cssText=C,O.innerText=o||o===0?e+"-"+o:e,z.children[0]?z.insertBefore(O,z.children[0]):z.appendChild(O),O._offset=O["offset"+r.op.d2],To(O,0,r,Z),O},To=function(e,o,t,r){var n={display:"block"},c=t[r?"os2":"p2"],f=t[r?"p2":"os2"];e._isFlipped=r,n[t.a+"Percent"]=r?-100:0,n[t.a]=r?"1px":0,n["border"+c+kr]=1,n["border"+f+kr]=0,n[t.p]=o+"px",$.set(e,n)},he=[],nn={},to,Rn=function(){return lt()-kt>34&&(to||(to=requestAnimationFrame(Qt)))},_r=function(){(!dt||!dt.isPressed||dt.startX>Me.clientWidth)&&(me.cache++,dt?to||(to=requestAnimationFrame(Qt)):Qt(),kt||br("scrollStart"),kt=lt())},Yo=function(){fi=ge.innerWidth,ui=ge.innerHeight},Gr=function(e){me.cache++,(e===!0||!at&&!ci&&!Ae.fullscreenElement&&!Ae.webkitFullscreenElement&&(!tn||fi!==ge.innerWidth||Math.abs(ge.innerHeight-ui)>ge.innerHeight*.25))&&ko.restart(!0)},yr={},ys=[],xi=function d(){return Ke(fe,"scrollEnd",d)||fr(!0)},br=function(e){return yr[e]&&yr[e].map(function(o){return o()})||ys},St=[],wi=function(e){for(var o=0;o<St.length;o+=5)(!e||St[o+4]&&St[o+4].query===e)&&(St[o].style.cssText=St[o+1],St[o].getBBox&&St[o].setAttribute("transform",St[o+2]||""),St[o+3].uncache=1)},mn=function(e,o){var t;for(pt=0;pt<he.length;pt++)t=he[pt],t&&(!o||t._ctx===o)&&(e?t.kill(1):t.revert(!0,!0));Ro=!0,o&&wi(o),o||br("revert")},_i=function(e,o){me.cache++,(o||!ht)&&me.forEach(function(t){return ct(t)&&t.cacheID++&&(t.rec=0)}),Tt(e)&&(ge.history.scrollRestoration=un=e)},ht,hr=0,In,bs=function(){if(In!==hr){var e=In=hr;requestAnimationFrame(function(){return e===hr&&fr(!0)})}},vi=function(){Me.appendChild(Er),fn=!dt&&Er.offsetHeight||ge.innerHeight,Me.removeChild(Er)},Dn=function(e){return eo(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(o){return o.style.display=e?"none":"block"})},fr=function(e,o){if(Pt=Ae.documentElement,Me=Ae.body,cn=[ge,Ae,Pt,Me],kt&&!e&&!Ro){Je(fe,"scrollEnd",xi);return}vi(),ht=fe.isRefreshing=!0,me.forEach(function(r){return ct(r)&&++r.cacheID&&(r.rec=r())});var t=br("refreshInit");li&&fe.sort(),o||mn(),me.forEach(function(r){ct(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),he.slice(0).forEach(function(r){return r.refresh()}),Ro=!1,he.forEach(function(r){if(r._subPinOffset&&r.pin){var n=r.vars.horizontal?"offsetWidth":"offsetHeight",c=r.pin[n];r.revert(!0,1),r.adjustPinSpacing(r.pin[n]-c),r.refresh()}}),on=1,Dn(!0),he.forEach(function(r){var n=Ut(r.scroller,r._dir),c=r.vars.end==="max"||r._endClamp&&r.end>n,f=r._startClamp&&r.start>=n;(c||f)&&r.setPositions(f?n-1:r.start,c?Math.max(f?n:r.start+1,n):r.end,!0)}),Dn(!1),on=0,t.forEach(function(r){return r&&r.render&&r.render(-1)}),me.forEach(function(r){ct(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),_i(un,1),ko.pause(),hr++,ht=2,Qt(2),he.forEach(function(r){return ct(r.vars.onRefresh)&&r.vars.onRefresh(r)}),ht=fe.isRefreshing=!1,br("refresh")},sn=0,Po=1,$r,Qt=function(e){if(e===2||!ht&&!Ro){fe.isUpdating=!0,$r&&$r.update(0);var o=he.length,t=lt(),r=t-Wo>=50,n=o&&he[0].scroll();if(Po=sn>n?-1:1,ht||(sn=n),r&&(kt&&!Bo&&t-kt>200&&(kt=0,br("scrollEnd")),Br=Wo,Wo=t),Po<0){for(pt=o;pt-- >0;)he[pt]&&he[pt].update(0,r);Po=1}else for(pt=0;pt<o;pt++)he[pt]&&he[pt].update(0,r);fe.isUpdating=!1}to=0},an=[mi,yi,pn,dn,Et+Qr,Et+Xr,Et+Zr,Et+qr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Mo=an.concat([dr,pr,"boxSizing","max"+kr,"max"+hn,"position",Et,He,He+Zr,He+Xr,He+Qr,He+qr]),xs=function(e,o,t){Ar(t);var r=e._gsap;if(r.spacerIsNative)Ar(r.spacerState);else if(e._gsap.swappedIn){var n=o.parentNode;n&&(n.insertBefore(e,o),n.removeChild(o))}e._gsap.swappedIn=!1},Vo=function(e,o,t,r){if(!e._gsap.swappedIn){for(var n=an.length,c=o.style,f=e.style,_;n--;)_=an[n],c[_]=t[_];c.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(c.display="inline-block"),f[pn]=f[dn]="auto",c.flexBasis=t.flexBasis||"auto",c.overflow="visible",c.boxSizing="border-box",c[dr]=Io(e,mt)+We,c[pr]=Io(e,Ve)+We,c[He]=f[Et]=f[yi]=f[mi]="0",Ar(r),f[dr]=f["max"+kr]=t[dr],f[pr]=f["max"+hn]=t[pr],f[He]=t[He],e.parentNode!==o&&(e.parentNode.insertBefore(o,e),o.appendChild(e)),e._gsap.swappedIn=!0}},ws=/([A-Z])/g,Ar=function(e){if(e){var o=e.t.style,t=e.length,r=0,n,c;for((e.t._gsap||$.core.getCache(e.t)).uncache=1;r<t;r+=2)c=e[r+1],n=e[r],c?o[n]=c:o[n]&&o.removeProperty(n.replace(ws,"-$1").toLowerCase())}},go=function(e){for(var o=Mo.length,t=e.style,r=[],n=0;n<o;n++)r.push(Mo[n],t[Mo[n]]);return r.t=e,r},_s=function(e,o,t){for(var r=[],n=e.length,c=t?8:0,f;c<n;c+=2)f=e[c],r.push(f,f in o?o[f]:e[c+1]);return r.t=e.t,r},Co={left:0,top:0},On=function(e,o,t,r,n,c,f,_,R,I,T,v,b,O){ct(e)&&(e=e(_)),Tt(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?So("0"+e.substr(3),t):0));var A=b?b.time():0,g,z,Z;if(b&&b.seek(0),isNaN(e)||(e=+e),Hr(e))b&&(e=$.utils.mapRange(b.scrollTrigger.start,b.scrollTrigger.end,0,v,e)),f&&To(f,t,r,!0);else{ct(o)&&(o=o(_));var H=(e||"0").split(" "),C,W,j,L;Z=xt(o,_)||Me,C=qt(Z)||{},(!C||!C.left&&!C.top)&&At(Z).display==="none"&&(L=Z.style.display,Z.style.display="block",C=qt(Z),L?Z.style.display=L:Z.style.removeProperty("display")),W=So(H[0],C[r.d]),j=So(H[1]||"0",t),e=C[r.p]-R[r.p]-I+W+n-j,f&&To(f,j,r,t-j<20||f._isStart&&j>20),t-=t-j}if(O&&(_[O]=e||-.001,e<0&&(e=0)),c){var U=e+t,X=c._isStart;g="scroll"+r.d2,To(c,U,r,X&&U>20||!X&&(T?Math.max(Me[g],Pt[g]):c.parentNode[g])<=U+1),T&&(R=qt(f),T&&(c.style[r.op.p]=R[r.op.p]-r.op.m-c._offset+We))}return b&&Z&&(g=qt(Z),b.seek(v),z=qt(Z),b._caScrollDist=g[r.p]-z[r.p],e=e/b._caScrollDist*v),b&&b.seek(A),b?e:Math.round(e)},vs=/(webkit|moz|length|cssText|inset)/i,Nn=function(e,o,t,r){if(e.parentNode!==o){var n=e.style,c,f;if(o===Me){e._stOrig=n.cssText,f=At(e);for(c in f)!+c&&!vs.test(c)&&f[c]&&typeof n[c]=="string"&&c!=="0"&&(n[c]=f[c]);n.top=t,n.left=r}else n.cssText=e._stOrig;$.core.getCache(e).uncache=1,o.appendChild(e)}},Si=function(e,o,t){var r=o,n=r;return function(c){var f=Math.round(e());return f!==r&&f!==n&&Math.abs(f-r)>3&&Math.abs(f-n)>3&&(c=f,t&&t()),n=r,r=Math.round(c),r}},mo=function(e,o,t){var r={};r[o.p]="+="+t,$.set(e,r)},Ln=function(e,o){var t=nr(e,o),r="_scroll"+o.p2,n=function c(f,_,R,I,T){var v=c.tween,b=_.onComplete,O={};R=R||t();var A=Si(t,R,function(){v.kill(),c.tween=0});return T=I&&T||0,I=I||f-R,v&&v.kill(),_[r]=f,_.inherit=!1,_.modifiers=O,O[r]=function(){return A(R+I*v.ratio+T*v.ratio*v.ratio)},_.onUpdate=function(){me.cache++,c.tween&&Qt()},_.onComplete=function(){c.tween=0,b&&b.call(v)},v=c.tween=$.to(e,_),v};return e[r]=t,t.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},Je(e,"wheel",t.wheelHandler),fe.isTouch&&Je(e,"touchmove",t.wheelHandler),n},fe=function(){function d(o,t){Sr||d.register($)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),rn(this),this.init(o,t)}var e=d.prototype;return e.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!zr){this.update=this.refresh=this.kill=Gt;return}t=An(Tt(t)||Hr(t)||t.nodeType?{trigger:t}:t,po);var n=t,c=n.onUpdate,f=n.toggleClass,_=n.id,R=n.onToggle,I=n.onRefresh,T=n.scrub,v=n.trigger,b=n.pin,O=n.pinSpacing,A=n.invalidateOnRefresh,g=n.anticipatePin,z=n.onScrubComplete,Z=n.onSnapComplete,H=n.once,C=n.snap,W=n.pinReparent,j=n.pinSpacer,L=n.containerAnimation,U=n.fastScrollEnd,X=n.preventOverlaps,N=t.horizontal||t.containerAnimation&&t.horizontal!==!1?mt:Ve,ee=!T&&T!==0,k=xt(t.scroller||ge),J=$.core.getCache(k),K=mr(k),ie=("pinType"in t?t.pinType:or(k,"pinType")||K&&"fixed")==="fixed",Y=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],B=ee&&t.toggleActions.split(" "),M="markers"in t?t.markers:po.markers,re=K?0:parseFloat(At(k)["border"+N.p2+kr])||0,h=this,ye=t.onRefreshInit&&function(){return t.onRefreshInit(h)},xe=ds(k,K,N),Xe=ps(k,K),x=0,u=0,s=0,i=nr(k,N),y,D,w,E,F,S,m,P,G,l,p,a,V,Q,de,ve,Te,be,qe,Ce,Ze,Ge,ne,De,we,se,Se,ke,$t,Ot,Fe,le,jt,yt,wt,bt,Le,Nt,Qe;if(h._startClamp=h._endClamp=!1,h._dir=N,g*=45,h.scroller=k,h.scroll=L?L.time.bind(L):i,E=i(),h.vars=t,r=r||t.animation,"refreshPriority"in t&&(li=1,t.refreshPriority===-9999&&($r=h)),J.tweenScroll=J.tweenScroll||{top:Ln(k,Ve),left:Ln(k,mt)},h.tweenTo=y=J.tweenScroll[N.p],h.scrubDuration=function(q){jt=Hr(q)&&q,jt?le?le.duration(q):le=$.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:jt,paused:!0,onComplete:function(){return z&&z(h)}}):(le&&le.progress(1).kill(),le=0)},r&&(r.vars.lazy=!1,r._initted&&!h.isReverted||r.vars.immediateRender!==!1&&t.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),h.animation=r.pause(),r.scrollTrigger=h,h.scrubDuration(T),Ot=0,_||(_=r.vars.id)),C&&((!cr(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in Me.style&&$.set(K?[Me,Pt]:k,{scrollBehavior:"auto"}),me.forEach(function(q){return ct(q)&&q.target===(K?Ae.scrollingElement||Pt:k)&&(q.smooth=!1)}),w=ct(C.snapTo)?C.snapTo:C.snapTo==="labels"?gs(r):C.snapTo==="labelsDirectional"?ms(r):C.directional!==!1?function(q,ce){return gn(C.snapTo)(q,lt()-u<500?0:ce.direction)}:$.utils.snap(C.snapTo),yt=C.duration||{min:.1,max:2},yt=cr(yt)?Vr(yt.min,yt.max):Vr(yt,yt),wt=$.delayedCall(C.delay||jt/2||.1,function(){var q=i(),ce=lt()-u<500,oe=y.tween;if((ce||Math.abs(h.getVelocity())<10)&&!oe&&!Bo&&x!==q){var ue=(q-S)/Q,$e=r&&!ee?r.totalProgress():ue,_e=ce?0:($e-Fe)/(lt()-Br)*1e3||0,Be=$.utils.clamp(-ue,1-ue,wr(_e/2)*_e/.185),nt=ue+(C.inertia===!1?0:Be),Oe,Re,Ee=C,It=Ee.onStart,Ie=Ee.onInterrupt,_t=Ee.onComplete;if(Oe=w(nt,h),Hr(Oe)||(Oe=nt),Re=Math.max(0,Math.round(S+Oe*Q)),q<=m&&q>=S&&Re!==q){if(oe&&!oe._initted&&oe.data<=wr(Re-q))return;C.inertia===!1&&(Be=Oe-ue),y(Re,{duration:yt(wr(Math.max(wr(nt-$e),wr(Oe-$e))*.185/_e/.05||0)),ease:C.ease||"power3",data:wr(Re-q),onInterrupt:function(){return wt.restart(!0)&&Ie&&Ie(h)},onComplete:function(){h.update(),x=i(),r&&!ee&&(le?le.resetTo("totalProgress",Oe,r._tTime/r._tDur):r.progress(Oe)),Ot=Fe=r&&!ee?r.totalProgress():h.progress,Z&&Z(h),_t&&_t(h)}},q,Be*Q,Re-q-Be*Q),It&&It(h,y.tween)}}else h.isActive&&x!==q&&wt.restart(!0)}).pause()),_&&(nn[_]=h),v=h.trigger=xt(v||b!==!0&&b),Qe=v&&v._gsap&&v._gsap.stRevert,Qe&&(Qe=Qe(h)),b=b===!0?v:xt(b),Tt(f)&&(f={targets:v,className:f}),b&&(O===!1||O===Et||(O=!O&&b.parentNode&&b.parentNode.style&&At(b.parentNode).display==="flex"?!1:He),h.pin=b,D=$.core.getCache(b),D.spacer?de=D.pinState:(j&&(j=xt(j),j&&!j.nodeType&&(j=j.current||j.nativeElement),D.spacerIsNative=!!j,j&&(D.spacerState=go(j))),D.spacer=be=j||Ae.createElement("div"),be.classList.add("pin-spacer"),_&&be.classList.add("pin-spacer-"+_),D.pinState=de=go(b)),t.force3D!==!1&&$.set(b,{force3D:!0}),h.spacer=be=D.spacer,$t=At(b),De=$t[O+N.os2],Ce=$.getProperty(b),Ze=$.quickSetter(b,N.a,We),Vo(b,be,$t),Te=go(b)),M){a=cr(M)?An(M,kn):kn,l=ho("scroller-start",_,k,N,a,0),p=ho("scroller-end",_,k,N,a,0,l),qe=l["offset"+N.op.d2];var Rt=xt(or(k,"content")||k);P=this.markerStart=ho("start",_,Rt,N,a,qe,0,L),G=this.markerEnd=ho("end",_,Rt,N,a,qe,0,L),L&&(Nt=$.quickSetter([P,G],N.a,We)),!ie&&!(Wt.length&&or(k,"fixedMarkers")===!0)&&(hs(K?Me:k),$.set([l,p],{force3D:!0}),se=$.quickSetter(l,N.a,We),ke=$.quickSetter(p,N.a,We))}if(L){var ae=L.vars.onUpdate,te=L.vars.onUpdateParams;L.eventCallback("onUpdate",function(){h.update(0,0,1),ae&&ae.apply(L,te||[])})}if(h.previous=function(){return he[he.indexOf(h)-1]},h.next=function(){return he[he.indexOf(h)+1]},h.revert=function(q,ce){if(!ce)return h.kill(!0);var oe=q!==!1||!h.enabled,ue=at;oe!==h.isReverted&&(oe&&(bt=Math.max(i(),h.scroll.rec||0),s=h.progress,Le=r&&r.progress()),P&&[P,G,l,p].forEach(function($e){return $e.style.display=oe?"none":"block"}),oe&&(at=h,h.update(oe)),b&&(!W||!h.isActive)&&(oe?xs(b,be,de):Vo(b,be,At(b),we)),oe||h.update(oe),at=ue,h.isReverted=oe)},h.refresh=function(q,ce,oe,ue){if(!((at||!h.enabled)&&!ce)){if(b&&q&&kt){Je(d,"scrollEnd",xi);return}!ht&&ye&&ye(h),at=h,y.tween&&!oe&&(y.tween.kill(),y.tween=0),le&&le.pause(),A&&r&&r.revert({kill:!1}).invalidate(),h.isReverted||h.revert(!0,!0),h._subPinOffset=!1;var $e=xe(),_e=Xe(),Be=L?L.duration():Ut(k,N),nt=Q<=.01,Oe=0,Re=ue||0,Ee=cr(oe)?oe.end:t.end,It=t.endTrigger||v,Ie=cr(oe)?oe.start:t.start||(t.start===0||!v?0:b?"0 0":"0 100%"),_t=h.pinnedContainer=t.pinnedContainer&&xt(t.pinnedContainer,h),Lt=v&&Math.max(0,he.indexOf(h))||0,et=Lt,tt,it,ir,oo,st,Ue,Bt,zo,yn,Rr,zt,Ir,no;for(M&&cr(oe)&&(Ir=$.getProperty(l,N.p),no=$.getProperty(p,N.p));et-- >0;)Ue=he[et],Ue.end||Ue.refresh(0,1)||(at=h),Bt=Ue.pin,Bt&&(Bt===v||Bt===b||Bt===_t)&&!Ue.isReverted&&(Rr||(Rr=[]),Rr.unshift(Ue),Ue.revert(!0,!0)),Ue!==he[et]&&(Lt--,et--);for(ct(Ie)&&(Ie=Ie(h)),Ie=Pn(Ie,"start",h),S=On(Ie,v,$e,N,i(),P,l,h,_e,re,ie,Be,L,h._startClamp&&"_startClamp")||(b?-.001:0),ct(Ee)&&(Ee=Ee(h)),Tt(Ee)&&!Ee.indexOf("+=")&&(~Ee.indexOf(" ")?Ee=(Tt(Ie)?Ie.split(" ")[0]:"")+Ee:(Oe=So(Ee.substr(2),$e),Ee=Tt(Ie)?Ie:(L?$.utils.mapRange(0,L.duration(),L.scrollTrigger.start,L.scrollTrigger.end,S):S)+Oe,It=v)),Ee=Pn(Ee,"end",h),m=Math.max(S,On(Ee||(It?"100% 0":Be),It,$e,N,i()+Oe,G,p,h,_e,re,ie,Be,L,h._endClamp&&"_endClamp"))||-.001,Oe=0,et=Lt;et--;)Ue=he[et],Bt=Ue.pin,Bt&&Ue.start-Ue._pinPush<=S&&!L&&Ue.end>0&&(tt=Ue.end-(h._startClamp?Math.max(0,Ue.start):Ue.start),(Bt===v&&Ue.start-Ue._pinPush<S||Bt===_t)&&isNaN(Ie)&&(Oe+=tt*(1-Ue.progress)),Bt===b&&(Re+=tt));if(S+=Oe,m+=Oe,h._startClamp&&(h._startClamp+=Oe),h._endClamp&&!ht&&(h._endClamp=m||-.001,m=Math.min(m,Ut(k,N))),Q=m-S||(S-=.01)&&.001,nt&&(s=$.utils.clamp(0,1,$.utils.normalize(S,m,bt))),h._pinPush=Re,P&&Oe&&(tt={},tt[N.a]="+="+Oe,_t&&(tt[N.p]="-="+i()),$.set([P,G],tt)),b&&!(on&&h.end>=Ut(k,N)))tt=At(b),oo=N===Ve,ir=i(),Ge=parseFloat(Ce(N.a))+Re,!Be&&m>1&&(zt=(K?Ae.scrollingElement||Pt:k).style,zt={style:zt,value:zt["overflow"+N.a.toUpperCase()]},K&&At(Me)["overflow"+N.a.toUpperCase()]!=="scroll"&&(zt.style["overflow"+N.a.toUpperCase()]="scroll")),Vo(b,be,tt),Te=go(b),it=qt(b,!0),zo=ie&&nr(k,oo?mt:Ve)(),O?(we=[O+N.os2,Q+Re+We],we.t=be,et=O===He?Io(b,N)+Q+Re:0,et&&(we.push(N.d,et+We),be.style.flexBasis!=="auto"&&(be.style.flexBasis=et+We)),Ar(we),_t&&he.forEach(function(Dr){Dr.pin===_t&&Dr.vars.pinSpacing!==!1&&(Dr._subPinOffset=!0)}),ie&&i(bt)):(et=Io(b,N),et&&be.style.flexBasis!=="auto"&&(be.style.flexBasis=et+We)),ie&&(st={top:it.top+(oo?ir-S:zo)+We,left:it.left+(oo?zo:ir-S)+We,boxSizing:"border-box",position:"fixed"},st[dr]=st["max"+kr]=Math.ceil(it.width)+We,st[pr]=st["max"+hn]=Math.ceil(it.height)+We,st[Et]=st[Et+Zr]=st[Et+Xr]=st[Et+Qr]=st[Et+qr]="0",st[He]=tt[He],st[He+Zr]=tt[He+Zr],st[He+Xr]=tt[He+Xr],st[He+Qr]=tt[He+Qr],st[He+qr]=tt[He+qr],ve=_s(de,st,W),ht&&i(0)),r?(yn=r._initted,Go(1),r.render(r.duration(),!0,!0),ne=Ce(N.a)-Ge+Q+Re,Se=Math.abs(Q-ne)>1,ie&&Se&&ve.splice(ve.length-2,2),r.render(0,!0,!0),yn||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Go(0)):ne=Q,zt&&(zt.value?zt.style["overflow"+N.a.toUpperCase()]=zt.value:zt.style.removeProperty("overflow-"+N.a));else if(v&&i()&&!L)for(it=v.parentNode;it&&it!==Me;)it._pinOffset&&(S-=it._pinOffset,m-=it._pinOffset),it=it.parentNode;Rr&&Rr.forEach(function(Dr){return Dr.revert(!1,!0)}),h.start=S,h.end=m,E=F=ht?bt:i(),!L&&!ht&&(E<bt&&i(bt),h.scroll.rec=0),h.revert(!1,!0),u=lt(),wt&&(x=-1,wt.restart(!0)),at=0,r&&ee&&(r._initted||Le)&&r.progress()!==Le&&r.progress(Le||0,!0).render(r.time(),!0,!0),(nt||s!==h.progress||L||A||r&&!r._initted)&&(r&&!ee&&r.totalProgress(L&&S<-.001&&!s?$.utils.normalize(S,m,0):s,!0),h.progress=nt||(E-S)/Q===s?0:s),b&&O&&(be._pinOffset=Math.round(h.progress*ne)),le&&le.invalidate(),isNaN(Ir)||(Ir-=$.getProperty(l,N.p),no-=$.getProperty(p,N.p),mo(l,N,Ir),mo(P,N,Ir-(ue||0)),mo(p,N,no),mo(G,N,no-(ue||0))),nt&&!ht&&h.update(),I&&!ht&&!V&&(V=!0,I(h),V=!1)}},h.getVelocity=function(){return(i()-F)/(lt()-Br)*1e3||0},h.endAnimation=function(){Nr(h.callbackAnimation),r&&(le?le.progress(1):r.paused()?ee||Nr(r,h.direction<0,1):Nr(r,r.reversed()))},h.labelToScroll=function(q){return r&&r.labels&&(S||h.refresh()||S)+r.labels[q]/r.duration()*Q||0},h.getTrailing=function(q){var ce=he.indexOf(h),oe=h.direction>0?he.slice(0,ce).reverse():he.slice(ce+1);return(Tt(q)?oe.filter(function(ue){return ue.vars.preventOverlaps===q}):oe).filter(function(ue){return h.direction>0?ue.end<=S:ue.start>=m})},h.update=function(q,ce,oe){if(!(L&&!oe&&!q)){var ue=ht===!0?bt:h.scroll(),$e=q?0:(ue-S)/Q,_e=$e<0?0:$e>1?1:$e||0,Be=h.progress,nt,Oe,Re,Ee,It,Ie,_t,Lt;if(ce&&(F=E,E=L?i():ue,C&&(Fe=Ot,Ot=r&&!ee?r.totalProgress():_e)),g&&b&&!at&&!lo&&kt&&(!_e&&S<ue+(ue-F)/(lt()-Br)*g?_e=1e-4:_e===1&&m>ue+(ue-F)/(lt()-Br)*g&&(_e=.9999)),_e!==Be&&h.enabled){if(nt=h.isActive=!!_e&&_e<1,Oe=!!Be&&Be<1,Ie=nt!==Oe,It=Ie||!!_e!=!!Be,h.direction=_e>Be?1:-1,h.progress=_e,It&&!at&&(Re=_e&&!Be?0:_e===1?1:Be===1?2:3,ee&&(Ee=!Ie&&B[Re+1]!=="none"&&B[Re+1]||B[Re],Lt=r&&(Ee==="complete"||Ee==="reset"||Ee in r))),X&&(Ie||Lt)&&(Lt||T||!r)&&(ct(X)?X(h):h.getTrailing(X).forEach(function(ir){return ir.endAnimation()})),ee||(le&&!at&&!lo?(le._dp._time-le._start!==le._time&&le.render(le._dp._time-le._start),le.resetTo?le.resetTo("totalProgress",_e,r._tTime/r._tDur):(le.vars.totalProgress=_e,le.invalidate().restart())):r&&r.totalProgress(_e,!!(at&&(u||q)))),b){if(q&&O&&(be.style[O+N.os2]=De),!ie)Ze(Fr(Ge+ne*_e));else if(It){if(_t=!q&&_e>Be&&m+1>ue&&ue+1>=Ut(k,N),W)if(!q&&(nt||_t)){var et=qt(b,!0),tt=ue-S;Nn(b,Me,et.top+(N===Ve?tt:0)+We,et.left+(N===Ve?0:tt)+We)}else Nn(b,be);Ar(nt||_t?ve:Te),Se&&_e<1&&nt||Ze(Ge+(_e===1&&!_t?ne:0))}}C&&!y.tween&&!at&&!lo&&wt.restart(!0),f&&(Ie||H&&_e&&(_e<1||!Uo))&&eo(f.targets).forEach(function(ir){return ir.classList[nt||H?"add":"remove"](f.className)}),c&&!ee&&!q&&c(h),It&&!at?(ee&&(Lt&&(Ee==="complete"?r.pause().totalProgress(1):Ee==="reset"?r.restart(!0).pause():Ee==="restart"?r.restart(!0):r[Ee]()),c&&c(h)),(Ie||!Uo)&&(R&&Ie&&jo(h,R),Y[Re]&&jo(h,Y[Re]),H&&(_e===1?h.kill(!1,1):Y[Re]=0),Ie||(Re=_e===1?1:3,Y[Re]&&jo(h,Y[Re]))),U&&!nt&&Math.abs(h.getVelocity())>(Hr(U)?U:2500)&&(Nr(h.callbackAnimation),le?le.progress(1):Nr(r,Ee==="reverse"?1:!_e,1))):ee&&c&&!at&&c(h)}if(ke){var it=L?ue/L.duration()*(L._caScrollDist||0):ue;se(it+(l._isFlipped?1:0)),ke(it)}Nt&&Nt(-ue/L.duration()*(L._caScrollDist||0))}},h.enable=function(q,ce){h.enabled||(h.enabled=!0,Je(k,"resize",Gr),K||Je(k,"scroll",_r),ye&&Je(d,"refreshInit",ye),q!==!1&&(h.progress=s=0,E=F=x=i()),ce!==!1&&h.refresh())},h.getTween=function(q){return q&&y?y.tween:le},h.setPositions=function(q,ce,oe,ue){if(L){var $e=L.scrollTrigger,_e=L.duration(),Be=$e.end-$e.start;q=$e.start+Be*q/_e,ce=$e.start+Be*ce/_e}h.refresh(!1,!1,{start:Mn(q,oe&&!!h._startClamp),end:Mn(ce,oe&&!!h._endClamp)},ue),h.update()},h.adjustPinSpacing=function(q){if(we&&q){var ce=we.indexOf(N.d)+1;we[ce]=parseFloat(we[ce])+q+We,we[1]=parseFloat(we[1])+q+We,Ar(we)}},h.disable=function(q,ce){if(h.enabled&&(q!==!1&&h.revert(!0,!0),h.enabled=h.isActive=!1,ce||le&&le.pause(),bt=0,D&&(D.uncache=1),ye&&Ke(d,"refreshInit",ye),wt&&(wt.pause(),y.tween&&y.tween.kill()&&(y.tween=0)),!K)){for(var oe=he.length;oe--;)if(he[oe].scroller===k&&he[oe]!==h)return;Ke(k,"resize",Gr),K||Ke(k,"scroll",_r)}},h.kill=function(q,ce){h.disable(q,ce),le&&!ce&&le.kill(),_&&delete nn[_];var oe=he.indexOf(h);oe>=0&&he.splice(oe,1),oe===pt&&Po>0&&pt--,oe=0,he.forEach(function(ue){return ue.scroller===h.scroller&&(oe=1)}),oe||ht||(h.scroll.rec=0),r&&(r.scrollTrigger=null,q&&r.revert({kill:!1}),ce||r.kill()),P&&[P,G,l,p].forEach(function(ue){return ue.parentNode&&ue.parentNode.removeChild(ue)}),$r===h&&($r=0),b&&(D&&(D.uncache=1),oe=0,he.forEach(function(ue){return ue.pin===b&&oe++}),oe||(D.spacer=0)),t.onKill&&t.onKill(h)},he.push(h),h.enable(!1,!1),Qe&&Qe(h),r&&r.add&&!Q){var Pe=h.update;h.update=function(){h.update=Pe,me.cache++,S||m||h.refresh()},$.delayedCall(.01,h.update),Q=.01,S=m=0}else h.refresh();b&&bs()},d.register=function(t){return Sr||($=t||pi(),di()&&window.document&&d.enable(),Sr=zr),Sr},d.defaults=function(t){if(t)for(var r in t)po[r]=t[r];return po},d.disable=function(t,r){zr=0,he.forEach(function(c){return c[r?"kill":"disable"](t)}),Ke(ge,"wheel",_r),Ke(Ae,"scroll",_r),clearInterval(ao),Ke(Ae,"touchcancel",Gt),Ke(Me,"touchstart",Gt),uo(Ke,Ae,"pointerdown,touchstart,mousedown",Cn),uo(Ke,Ae,"pointerup,touchend,mouseup",En),ko.kill(),co(Ke);for(var n=0;n<me.length;n+=3)fo(Ke,me[n],me[n+1]),fo(Ke,me[n],me[n+2])},d.enable=function(){if(ge=window,Ae=document,Pt=Ae.documentElement,Me=Ae.body,$&&(eo=$.utils.toArray,Vr=$.utils.clamp,rn=$.core.context||Gt,Go=$.core.suppressOverwrites||Gt,un=ge.history.scrollRestoration||"auto",sn=ge.pageYOffset||0,$.core.globals("ScrollTrigger",d),Me)){zr=1,Er=document.createElement("div"),Er.style.height="100vh",Er.style.position="absolute",vi(),fs(),ze.register($),d.isTouch=ze.isTouch,er=ze.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),tn=ze.isTouch===1,Je(ge,"wheel",_r),cn=[ge,Ae,Pt,Me],$.matchMedia?(d.matchMedia=function(R){var I=$.matchMedia(),T;for(T in R)I.add(T,R[T]);return I},$.addEventListener("matchMediaInit",function(){return mn()}),$.addEventListener("matchMediaRevert",function(){return wi()}),$.addEventListener("matchMedia",function(){fr(0,1),br("matchMedia")}),$.matchMedia().add("(orientation: portrait)",function(){return Yo(),Yo})):console.warn("Requires GSAP 3.11.0 or later"),Yo(),Je(Ae,"scroll",_r);var t=Me.hasAttribute("style"),r=Me.style,n=r.borderTopStyle,c=$.core.Animation.prototype,f,_;for(c.revert||Object.defineProperty(c,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",f=qt(Me),Ve.m=Math.round(f.top+Ve.sc())||0,mt.m=Math.round(f.left+mt.sc())||0,n?r.borderTopStyle=n:r.removeProperty("border-top-style"),t||(Me.setAttribute("style",""),Me.removeAttribute("style")),ao=setInterval(Rn,250),$.delayedCall(.5,function(){return lo=0}),Je(Ae,"touchcancel",Gt),Je(Me,"touchstart",Gt),uo(Je,Ae,"pointerdown,touchstart,mousedown",Cn),uo(Je,Ae,"pointerup,touchend,mouseup",En),en=$.utils.checkPrefix("transform"),Mo.push(en),Sr=lt(),ko=$.delayedCall(.2,fr).pause(),Tr=[Ae,"visibilitychange",function(){var R=ge.innerWidth,I=ge.innerHeight;Ae.hidden?(Sn=R,Tn=I):(Sn!==R||Tn!==I)&&Gr()},Ae,"DOMContentLoaded",fr,ge,"load",fr,ge,"resize",Gr],co(Je),he.forEach(function(R){return R.enable(0,1)}),_=0;_<me.length;_+=3)fo(Ke,me[_],me[_+1]),fo(Ke,me[_],me[_+2])}},d.config=function(t){"limitCallbacks"in t&&(Uo=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(ao)||(ao=r)&&setInterval(Rn,r),"ignoreMobileResize"in t&&(tn=d.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(co(Ke)||co(Je,t.autoRefreshEvents||"none"),ci=(t.autoRefreshEvents+"").indexOf("resize")===-1)},d.scrollerProxy=function(t,r){var n=xt(t),c=me.indexOf(n),f=mr(n);~c&&me.splice(c,f?6:2),r&&(f?Wt.unshift(ge,r,Me,r,Pt,r):Wt.unshift(n,r))},d.clearMatchMedia=function(t){he.forEach(function(r){return r._ctx&&r._ctx.query===t&&r._ctx.kill(!0,!0)})},d.isInViewport=function(t,r,n){var c=(Tt(t)?xt(t):t).getBoundingClientRect(),f=c[n?dr:pr]*r||0;return n?c.right-f>0&&c.left+f<ge.innerWidth:c.bottom-f>0&&c.top+f<ge.innerHeight},d.positionInViewport=function(t,r,n){Tt(t)&&(t=xt(t));var c=t.getBoundingClientRect(),f=c[n?dr:pr],_=r==null?f/2:r in Do?Do[r]*f:~r.indexOf("%")?parseFloat(r)*f/100:parseFloat(r)||0;return n?(c.left+_)/ge.innerWidth:(c.top+_)/ge.innerHeight},d.killAll=function(t){if(he.slice(0).forEach(function(n){return n.vars.id!=="ScrollSmoother"&&n.kill()}),t!==!0){var r=yr.killAll||[];yr={},r.forEach(function(n){return n()})}},d}();fe.version="3.12.7";fe.saveStyles=function(d){return d?eo(d).forEach(function(e){if(e&&e.style){var o=St.indexOf(e);o>=0&&St.splice(o,5),St.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$.core.getCache(e),rn())}}):St};fe.revert=function(d,e){return mn(!d,e)};fe.create=function(d,e){return new fe(d,e)};fe.refresh=function(d){return d?Gr(!0):(Sr||fe.register())&&fr(!0)};fe.update=function(d){return++me.cache&&Qt(d===!0?2:0)};fe.clearScrollMemory=_i;fe.maxScroll=function(d,e){return Ut(d,e?mt:Ve)};fe.getScrollFunc=function(d,e){return nr(xt(d),e?mt:Ve)};fe.getById=function(d){return nn[d]};fe.getAll=function(){return he.filter(function(d){return d.vars.id!=="ScrollSmoother"})};fe.isScrolling=function(){return!!kt};fe.snapDirectional=gn;fe.addEventListener=function(d,e){var o=yr[d]||(yr[d]=[]);~o.indexOf(e)||o.push(e)};fe.removeEventListener=function(d,e){var o=yr[d],t=o&&o.indexOf(e);t>=0&&o.splice(t,1)};fe.batch=function(d,e){var o=[],t={},r=e.interval||.016,n=e.batchMax||1e9,c=function(R,I){var T=[],v=[],b=$.delayedCall(r,function(){I(T,v),T=[],v=[]}).pause();return function(O){T.length||b.restart(!0),T.push(O.trigger),v.push(O),n<=T.length&&b.progress(1)}},f;for(f in e)t[f]=f.substr(0,2)==="on"&&ct(e[f])&&f!=="onRefreshInit"?c(f,e[f]):e[f];return ct(n)&&(n=n(),Je(fe,"refresh",function(){return n=e.batchMax()})),eo(d).forEach(function(_){var R={};for(f in t)R[f]=t[f];R.trigger=_,o.push(fe.create(R))}),o};var Bn=function(e,o,t,r){return o>r?e(r):o<0&&e(0),t>r?(r-o)/(t-o):t<0?o/(o-t):1},Xo=function d(e,o){o===!0?e.style.removeProperty("touch-action"):e.style.touchAction=o===!0?"auto":o?"pan-"+o+(ze.isTouch?" pinch-zoom":""):"none",e===Pt&&d(Me,o)},yo={auto:1,scroll:1},Ss=function(e){var o=e.event,t=e.target,r=e.axis,n=(o.changedTouches?o.changedTouches[0]:o).target,c=n._gsap||$.core.getCache(n),f=lt(),_;if(!c._isScrollT||f-c._isScrollT>2e3){for(;n&&n!==Me&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!(yo[(_=At(n)).overflowY]||yo[_.overflowX]));)n=n.parentNode;c._isScroll=n&&n!==t&&!mr(n)&&(yo[(_=At(n)).overflowY]||yo[_.overflowX]),c._isScrollT=f}(c._isScroll||r==="x")&&(o.stopPropagation(),o._gsapAllow=!0)},Ti=function(e,o,t,r){return ze.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:o,onWheel:r=r&&Ss,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return t&&Je(Ae,ze.eventTypes[0],Fn,!1,!0)},onDisable:function(){return Ke(Ae,ze.eventTypes[0],Fn,!0)}})},Ts=/(input|label|select|textarea)/i,zn,Fn=function(e){var o=Ts.test(e.target.tagName);(o||zn)&&(e._gsapAllow=!0,zn=o)},Ps=function(e){cr(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o=e,t=o.normalizeScrollX,r=o.momentum,n=o.allowNestedScroll,c=o.onRelease,f,_,R=xt(e.target)||Pt,I=$.core.globals().ScrollSmoother,T=I&&I.get(),v=er&&(e.content&&xt(e.content)||T&&e.content!==!1&&!T.smooth()&&T.content()),b=nr(R,Ve),O=nr(R,mt),A=1,g=(ze.isTouch&&ge.visualViewport?ge.visualViewport.scale*ge.visualViewport.width:ge.outerWidth)/ge.innerWidth,z=0,Z=ct(r)?function(){return r(f)}:function(){return r||2.8},H,C,W=Ti(R,e.type,!0,n),j=function(){return C=!1},L=Gt,U=Gt,X=function(){_=Ut(R,Ve),U=Vr(er?1:0,_),t&&(L=Vr(0,Ut(R,mt))),H=hr},N=function(){v._gsap.y=Fr(parseFloat(v._gsap.y)+b.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},ee=function(){if(C){requestAnimationFrame(j);var M=Fr(f.deltaY/2),re=U(b.v-M);if(v&&re!==b.v+b.offset){b.offset=re-b.v;var h=Fr((parseFloat(v&&v._gsap.y)||0)-b.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+h+", 0, 1)",v._gsap.y=h+"px",b.cacheID=me.cache,Qt()}return!0}b.offset&&N(),C=!0},k,J,K,ie,Y=function(){X(),k.isActive()&&k.vars.scrollY>_&&(b()>_?k.progress(1)&&b(_):k.resetTo("scrollY",_))};return v&&$.set(v,{y:"+=0"}),e.ignoreCheck=function(B){return er&&B.type==="touchmove"&&ee()||A>1.05&&B.type!=="touchstart"||f.isGesturing||B.touches&&B.touches.length>1},e.onPress=function(){C=!1;var B=A;A=Fr((ge.visualViewport&&ge.visualViewport.scale||1)/g),k.pause(),B!==A&&Xo(R,A>1.01?!0:t?!1:"x"),J=O(),K=b(),X(),H=hr},e.onRelease=e.onGestureStart=function(B,M){if(b.offset&&N(),!M)ie.restart(!0);else{me.cache++;var re=Z(),h,ye;t&&(h=O(),ye=h+re*.05*-B.velocityX/.227,re*=Bn(O,h,ye,Ut(R,mt)),k.vars.scrollX=L(ye)),h=b(),ye=h+re*.05*-B.velocityY/.227,re*=Bn(b,h,ye,Ut(R,Ve)),k.vars.scrollY=U(ye),k.invalidate().duration(re).play(.01),(er&&k.vars.scrollY>=_||h>=_-1)&&$.to({},{onUpdate:Y,duration:re})}c&&c(B)},e.onWheel=function(){k._ts&&k.pause(),lt()-z>1e3&&(H=0,z=lt())},e.onChange=function(B,M,re,h,ye){if(hr!==H&&X(),M&&t&&O(L(h[2]===M?J+(B.startX-B.x):O()+M-h[1])),re){b.offset&&N();var xe=ye[2]===re,Xe=xe?K+B.startY-B.y:b()+re-ye[1],x=U(Xe);xe&&Xe!==x&&(K+=x-Xe),b(x)}(re||M)&&Qt()},e.onEnable=function(){Xo(R,t?!1:"x"),fe.addEventListener("refresh",Y),Je(ge,"resize",Y),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=O.smooth=!1),W.enable()},e.onDisable=function(){Xo(R,!0),Ke(ge,"resize",Y),fe.removeEventListener("refresh",Y),W.kill()},e.lockAxis=e.lockAxis!==!1,f=new ze(e),f.iOS=er,er&&!b()&&b(1),er&&$.ticker.add(Gt),ie=f._dc,k=$.to(f,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Si(b,b(),function(){return k.pause()})},onUpdate:Qt,onComplete:ie.vars.onComplete}),f};fe.sort=function(d){if(ct(d))return he.sort(d);var e=ge.pageYOffset||0;return fe.getAll().forEach(function(o){return o._sortY=o.trigger?e+o.trigger.getBoundingClientRect().top:o.start+ge.innerHeight}),he.sort(d||function(o,t){return(o.vars.refreshPriority||0)*-1e6+(o.vars.containerAnimation?1e6:o._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};fe.observe=function(d){return new ze(d)};fe.normalizeScroll=function(d){if(typeof d>"u")return dt;if(d===!0&&dt)return dt.enable();if(d===!1){dt&&dt.kill(),dt=d;return}var e=d instanceof ze?d:Ps(d);return dt&&dt.target===e.target&&dt.kill(),mr(e.target)&&(dt=e),e};fe.core={_getVelocityProp:Jo,_inputObserver:Ti,_scrollers:me,_proxies:Wt,bridge:{ss:function(){kt||br("scrollStart"),kt=lt()},ref:function(){return at}}};pi()&&$.registerPlugin(fe);var Kr=function(){var d=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(I){I.preventDefault(),t(++d%e.children.length)},!1);function o(I){return e.appendChild(I.dom),I}function t(I){for(var T=0;T<e.children.length;T++)e.children[T].style.display=T===I?"block":"none";d=I}var r=(performance||Date).now(),n=r,c=0,f=o(new Kr.Panel("FPS","#0ff","#002")),_=o(new Kr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var R=o(new Kr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:o,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){c++;var I=(performance||Date).now();if(_.update(I-r,200),I>=n+1e3&&(f.update(c*1e3/(I-n),100),n=I,c=0,R)){var T=performance.memory;R.update(T.usedJSHeapSize/1048576,T.jsHeapSizeLimit/1048576)}return I},update:function(){r=this.end()},domElement:e,setMode:t}};Kr.Panel=function(d,e,o){var t=1/0,r=0,n=Math.round,c=n(window.devicePixelRatio||1),f=80*c,_=48*c,R=3*c,I=2*c,T=3*c,v=15*c,b=74*c,O=30*c,A=document.createElement("canvas");A.width=f,A.height=_,A.style.cssText="width:80px;height:48px";var g=A.getContext("2d");return g.font="bold "+9*c+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=o,g.fillRect(0,0,f,_),g.fillStyle=e,g.fillText(d,R,I),g.fillRect(T,v,b,O),g.fillStyle=o,g.globalAlpha=.9,g.fillRect(T,v,b,O),{dom:A,update:function(z,Z){t=Math.min(t,z),r=Math.max(r,z),g.fillStyle=o,g.globalAlpha=1,g.fillRect(0,0,f,v),g.fillStyle=e,g.fillText(n(z)+" "+d+" ("+n(t)+"-"+n(r)+")",R,I),g.drawImage(A,T+c,v,b-c,O,T,v,b-c,O),g.fillRect(T+b-c,v,c,O),g.fillStyle=o,g.globalAlpha=.9,g.fillRect(T+b-c,v,c,n((1-z/Z)*O))}}};class Pi extends Fi{constructor(e,o={}){const t=o.font;if(t===void 0)super();else{const r=t.generateShapes(e,o.size);o.depth===void 0&&(o.depth=50),o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),super(r,o)}this.type="TextGeometry"}}const Ms=Wi;class Oo extends Xn{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,o,t,r){const n=this,c=new qn(n.manager);c.setPath(n.path),c.setRequestHeader(n.requestHeader),c.setWithCredentials(n.withCredentials),c.load(e,function(f){try{o(n.parse(f))}catch(_){r?r(_):console.error(_),n.manager.itemError(e)}},t,r)}parse(e){const o=this;function t(x,u){if(x.nodeType!==1)return;const s=C(x);let i=!1,y=null;switch(x.nodeName){case"svg":u=O(x,u);break;case"style":n(x);break;case"g":u=O(x,u);break;case"path":u=O(x,u),x.hasAttribute("d")&&(y=r(x));break;case"rect":u=O(x,u),y=_(x);break;case"polygon":u=O(x,u),y=R(x);break;case"polyline":u=O(x,u),y=I(x);break;case"circle":u=O(x,u),y=T(x);break;case"ellipse":u=O(x,u),y=v(x);break;case"line":u=O(x,u),y=b(x);break;case"defs":i=!0;break;case"use":u=O(x,u);const E=(x.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),F=x.viewportElement.getElementById(E);F?t(F,u):console.warn("SVGLoader: 'use node' references non-existent node id: "+E);break}y&&(u.fill!==void 0&&u.fill!=="none"&&y.color.setStyle(u.fill,Ms),j(y,ye),k.push(y),y.userData={node:x,style:u});const D=x.childNodes;for(let w=0;w<D.length;w++){const E=D[w];i&&E.nodeName!=="style"&&E.nodeName!=="defs"||t(E,u)}s&&(K.pop(),K.length>0?ye.copy(K[K.length-1]):ye.identity())}function r(x){const u=new Jt,s=new pe,i=new pe,y=new pe;let D=!0,w=!1;const E=x.getAttribute("d");if(E===""||E==="none")return null;const F=E.match(/[a-df-z][^a-df-z]*/ig);for(let S=0,m=F.length;S<m;S++){const P=F[S],G=P.charAt(0),l=P.slice(1).trim();D===!0&&(w=!0,D=!1);let p;switch(G){case"M":p=g(l);for(let a=0,V=p.length;a<V;a+=2)s.x=p[a+0],s.y=p[a+1],i.x=s.x,i.y=s.y,a===0?u.moveTo(s.x,s.y):u.lineTo(s.x,s.y),a===0&&y.copy(s);break;case"H":p=g(l);for(let a=0,V=p.length;a<V;a++)s.x=p[a],i.x=s.x,i.y=s.y,u.lineTo(s.x,s.y),a===0&&w===!0&&y.copy(s);break;case"V":p=g(l);for(let a=0,V=p.length;a<V;a++)s.y=p[a],i.x=s.x,i.y=s.y,u.lineTo(s.x,s.y),a===0&&w===!0&&y.copy(s);break;case"L":p=g(l);for(let a=0,V=p.length;a<V;a+=2)s.x=p[a+0],s.y=p[a+1],i.x=s.x,i.y=s.y,u.lineTo(s.x,s.y),a===0&&w===!0&&y.copy(s);break;case"C":p=g(l);for(let a=0,V=p.length;a<V;a+=6)u.bezierCurveTo(p[a+0],p[a+1],p[a+2],p[a+3],p[a+4],p[a+5]),i.x=p[a+2],i.y=p[a+3],s.x=p[a+4],s.y=p[a+5],a===0&&w===!0&&y.copy(s);break;case"S":p=g(l);for(let a=0,V=p.length;a<V;a+=4)u.bezierCurveTo(A(s.x,i.x),A(s.y,i.y),p[a+0],p[a+1],p[a+2],p[a+3]),i.x=p[a+0],i.y=p[a+1],s.x=p[a+2],s.y=p[a+3],a===0&&w===!0&&y.copy(s);break;case"Q":p=g(l);for(let a=0,V=p.length;a<V;a+=4)u.quadraticCurveTo(p[a+0],p[a+1],p[a+2],p[a+3]),i.x=p[a+0],i.y=p[a+1],s.x=p[a+2],s.y=p[a+3],a===0&&w===!0&&y.copy(s);break;case"T":p=g(l);for(let a=0,V=p.length;a<V;a+=2){const Q=A(s.x,i.x),de=A(s.y,i.y);u.quadraticCurveTo(Q,de,p[a+0],p[a+1]),i.x=Q,i.y=de,s.x=p[a+0],s.y=p[a+1],a===0&&w===!0&&y.copy(s)}break;case"A":p=g(l,[3,4],7);for(let a=0,V=p.length;a<V;a+=7){if(p[a+5]==s.x&&p[a+6]==s.y)continue;const Q=s.clone();s.x=p[a+5],s.y=p[a+6],i.x=s.x,i.y=s.y,c(u,p[a],p[a+1],p[a+2],p[a+3],p[a+4],Q,s),a===0&&w===!0&&y.copy(s)}break;case"m":p=g(l);for(let a=0,V=p.length;a<V;a+=2)s.x+=p[a+0],s.y+=p[a+1],i.x=s.x,i.y=s.y,a===0?u.moveTo(s.x,s.y):u.lineTo(s.x,s.y),a===0&&y.copy(s);break;case"h":p=g(l);for(let a=0,V=p.length;a<V;a++)s.x+=p[a],i.x=s.x,i.y=s.y,u.lineTo(s.x,s.y),a===0&&w===!0&&y.copy(s);break;case"v":p=g(l);for(let a=0,V=p.length;a<V;a++)s.y+=p[a],i.x=s.x,i.y=s.y,u.lineTo(s.x,s.y),a===0&&w===!0&&y.copy(s);break;case"l":p=g(l);for(let a=0,V=p.length;a<V;a+=2)s.x+=p[a+0],s.y+=p[a+1],i.x=s.x,i.y=s.y,u.lineTo(s.x,s.y),a===0&&w===!0&&y.copy(s);break;case"c":p=g(l);for(let a=0,V=p.length;a<V;a+=6)u.bezierCurveTo(s.x+p[a+0],s.y+p[a+1],s.x+p[a+2],s.y+p[a+3],s.x+p[a+4],s.y+p[a+5]),i.x=s.x+p[a+2],i.y=s.y+p[a+3],s.x+=p[a+4],s.y+=p[a+5],a===0&&w===!0&&y.copy(s);break;case"s":p=g(l);for(let a=0,V=p.length;a<V;a+=4)u.bezierCurveTo(A(s.x,i.x),A(s.y,i.y),s.x+p[a+0],s.y+p[a+1],s.x+p[a+2],s.y+p[a+3]),i.x=s.x+p[a+0],i.y=s.y+p[a+1],s.x+=p[a+2],s.y+=p[a+3],a===0&&w===!0&&y.copy(s);break;case"q":p=g(l);for(let a=0,V=p.length;a<V;a+=4)u.quadraticCurveTo(s.x+p[a+0],s.y+p[a+1],s.x+p[a+2],s.y+p[a+3]),i.x=s.x+p[a+0],i.y=s.y+p[a+1],s.x+=p[a+2],s.y+=p[a+3],a===0&&w===!0&&y.copy(s);break;case"t":p=g(l);for(let a=0,V=p.length;a<V;a+=2){const Q=A(s.x,i.x),de=A(s.y,i.y);u.quadraticCurveTo(Q,de,s.x+p[a+0],s.y+p[a+1]),i.x=Q,i.y=de,s.x=s.x+p[a+0],s.y=s.y+p[a+1],a===0&&w===!0&&y.copy(s)}break;case"a":p=g(l,[3,4],7);for(let a=0,V=p.length;a<V;a+=7){if(p[a+5]==0&&p[a+6]==0)continue;const Q=s.clone();s.x+=p[a+5],s.y+=p[a+6],i.x=s.x,i.y=s.y,c(u,p[a],p[a+1],p[a+2],p[a+3],p[a+4],Q,s),a===0&&w===!0&&y.copy(s)}break;case"Z":case"z":u.currentPath.autoClose=!0,u.currentPath.curves.length>0&&(s.copy(y),u.currentPath.currentPoint.copy(s),D=!0);break;default:console.warn(P)}w=!1}return u}function n(x){if(!(!x.sheet||!x.sheet.cssRules||!x.sheet.cssRules.length))for(let u=0;u<x.sheet.cssRules.length;u++){const s=x.sheet.cssRules[u];if(s.type!==1)continue;const i=s.selectorText.split(/,/gm).filter(Boolean).map(y=>y.trim());for(let y=0;y<i.length;y++){const D=Object.fromEntries(Object.entries(s.style).filter(([,w])=>w!==""));J[i[y]]=Object.assign(J[i[y]]||{},D)}}}function c(x,u,s,i,y,D,w,E){if(u==0||s==0){x.lineTo(E.x,E.y);return}i=i*Math.PI/180,u=Math.abs(u),s=Math.abs(s);const F=(w.x-E.x)/2,S=(w.y-E.y)/2,m=Math.cos(i)*F+Math.sin(i)*S,P=-Math.sin(i)*F+Math.cos(i)*S;let G=u*u,l=s*s;const p=m*m,a=P*P,V=p/G+a/l;if(V>1){const ne=Math.sqrt(V);u=ne*u,s=ne*s,G=u*u,l=s*s}const Q=G*a+l*p,de=(G*l-Q)/Q;let ve=Math.sqrt(Math.max(0,de));y===D&&(ve=-ve);const Te=ve*u*P/s,be=-ve*s*m/u,qe=Math.cos(i)*Te-Math.sin(i)*be+(w.x+E.x)/2,Ce=Math.sin(i)*Te+Math.cos(i)*be+(w.y+E.y)/2,Ze=f(1,0,(m-Te)/u,(P-be)/s),Ge=f((m-Te)/u,(P-be)/s,(-m-Te)/u,(-P-be)/s)%(Math.PI*2);x.currentPath.absellipse(qe,Ce,u,s,Ze,Ze+Ge,D===0,i)}function f(x,u,s,i){const y=x*s+u*i,D=Math.sqrt(x*x+u*u)*Math.sqrt(s*s+i*i);let w=Math.acos(Math.max(-1,Math.min(1,y/D)));return x*i-u*s<0&&(w=-w),w}function _(x){const u=H(x.getAttribute("x")||0),s=H(x.getAttribute("y")||0),i=H(x.getAttribute("rx")||x.getAttribute("ry")||0),y=H(x.getAttribute("ry")||x.getAttribute("rx")||0),D=H(x.getAttribute("width")),w=H(x.getAttribute("height")),E=1-.551915024494,F=new Jt;return F.moveTo(u+i,s),F.lineTo(u+D-i,s),(i!==0||y!==0)&&F.bezierCurveTo(u+D-i*E,s,u+D,s+y*E,u+D,s+y),F.lineTo(u+D,s+w-y),(i!==0||y!==0)&&F.bezierCurveTo(u+D,s+w-y*E,u+D-i*E,s+w,u+D-i,s+w),F.lineTo(u+i,s+w),(i!==0||y!==0)&&F.bezierCurveTo(u+i*E,s+w,u,s+w-y*E,u,s+w-y),F.lineTo(u,s+y),(i!==0||y!==0)&&F.bezierCurveTo(u,s+y*E,u+i*E,s,u+i,s),F}function R(x){function u(D,w,E){const F=H(w),S=H(E);y===0?i.moveTo(F,S):i.lineTo(F,S),y++}const s=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,i=new Jt;let y=0;return x.getAttribute("points").replace(s,u),i.currentPath.autoClose=!0,i}function I(x){function u(D,w,E){const F=H(w),S=H(E);y===0?i.moveTo(F,S):i.lineTo(F,S),y++}const s=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,i=new Jt;let y=0;return x.getAttribute("points").replace(s,u),i.currentPath.autoClose=!1,i}function T(x){const u=H(x.getAttribute("cx")||0),s=H(x.getAttribute("cy")||0),i=H(x.getAttribute("r")||0),y=new Fo;y.absarc(u,s,i,0,Math.PI*2);const D=new Jt;return D.subPaths.push(y),D}function v(x){const u=H(x.getAttribute("cx")||0),s=H(x.getAttribute("cy")||0),i=H(x.getAttribute("rx")||0),y=H(x.getAttribute("ry")||0),D=new Fo;D.absellipse(u,s,i,y,0,Math.PI*2);const w=new Jt;return w.subPaths.push(D),w}function b(x){const u=H(x.getAttribute("x1")||0),s=H(x.getAttribute("y1")||0),i=H(x.getAttribute("x2")||0),y=H(x.getAttribute("y2")||0),D=new Jt;return D.moveTo(u,s),D.lineTo(i,y),D.currentPath.autoClose=!1,D}function O(x,u){u=Object.assign({},u);let s={};if(x.hasAttribute("class")){const w=x.getAttribute("class").split(/\s/).filter(Boolean).map(E=>E.trim());for(let E=0;E<w.length;E++)s=Object.assign(s,J["."+w[E]])}x.hasAttribute("id")&&(s=Object.assign(s,J["#"+x.getAttribute("id")]));function i(w,E,F){F===void 0&&(F=function(m){return m.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),m}),x.hasAttribute(w)&&(u[E]=F(x.getAttribute(w))),s[w]&&(u[E]=F(s[w])),x.style&&x.style[w]!==""&&(u[E]=F(x.style[w]))}function y(w){return Math.max(0,Math.min(1,H(w)))}function D(w){return Math.max(0,H(w))}return i("fill","fill"),i("fill-opacity","fillOpacity",y),i("fill-rule","fillRule"),i("opacity","opacity",y),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",y),i("stroke-width","strokeWidth",D),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",D),i("visibility","visibility"),u}function A(x,u){return x-(u-x)}function g(x,u,s){if(typeof x!="string")throw new TypeError("Invalid input: "+typeof x);const i={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},y=0,D=1,w=2,E=3;let F=y,S=!0,m="",P="";const G=[];function l(Q,de,ve){const Te=new SyntaxError('Unexpected character "'+Q+'" at index '+de+".");throw Te.partial=ve,Te}function p(){m!==""&&(P===""?G.push(Number(m)):G.push(Number(m)*Math.pow(10,Number(P)))),m="",P=""}let a;const V=x.length;for(let Q=0;Q<V;Q++){if(a=x[Q],Array.isArray(u)&&u.includes(G.length%s)&&i.FLAGS.test(a)){F=D,m=a,p();continue}if(F===y){if(i.WHITESPACE.test(a))continue;if(i.DIGIT.test(a)||i.SIGN.test(a)){F=D,m=a;continue}if(i.POINT.test(a)){F=w,m=a;continue}i.COMMA.test(a)&&(S&&l(a,Q,G),S=!0)}if(F===D){if(i.DIGIT.test(a)){m+=a;continue}if(i.POINT.test(a)){m+=a,F=w;continue}if(i.EXP.test(a)){F=E;continue}i.SIGN.test(a)&&m.length===1&&i.SIGN.test(m[0])&&l(a,Q,G)}if(F===w){if(i.DIGIT.test(a)){m+=a;continue}if(i.EXP.test(a)){F=E;continue}i.POINT.test(a)&&m[m.length-1]==="."&&l(a,Q,G)}if(F===E){if(i.DIGIT.test(a)){P+=a;continue}if(i.SIGN.test(a)){if(P===""){P+=a;continue}P.length===1&&i.SIGN.test(P)&&l(a,Q,G)}}i.WHITESPACE.test(a)?(p(),F=y,S=!1):i.COMMA.test(a)?(p(),F=y,S=!0):i.SIGN.test(a)?(p(),F=D,m=a):i.POINT.test(a)?(p(),F=w,m=a):l(a,Q,G)}return p(),G}const z=["mm","cm","in","pt","pc","px"],Z={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function H(x){let u="px";if(typeof x=="string"||x instanceof String)for(let i=0,y=z.length;i<y;i++){const D=z[i];if(x.endsWith(D)){u=D,x=x.substring(0,x.length-D.length);break}}let s;return u==="px"&&o.defaultUnit!=="px"?s=Z.in[o.defaultUnit]/o.defaultDPI:(s=Z[u][o.defaultUnit],s<0&&(s=Z[u].in*o.defaultDPI)),s*parseFloat(x)}function C(x){if(!(x.hasAttribute("transform")||x.nodeName==="use"&&(x.hasAttribute("x")||x.hasAttribute("y"))))return null;const u=W(x);return K.length>0&&u.premultiply(K[K.length-1]),ye.copy(u),K.push(u),u}function W(x){const u=new xr,s=ie;if(x.nodeName==="use"&&(x.hasAttribute("x")||x.hasAttribute("y"))){const i=H(x.getAttribute("x")),y=H(x.getAttribute("y"));u.translate(i,y)}if(x.hasAttribute("transform")){const i=x.getAttribute("transform").split(")");for(let y=i.length-1;y>=0;y--){const D=i[y].trim();if(D==="")continue;const w=D.indexOf("("),E=D.length;if(w>0&&w<E){const F=D.slice(0,w),S=g(D.slice(w+1));switch(s.identity(),F){case"translate":if(S.length>=1){const m=S[0];let P=0;S.length>=2&&(P=S[1]),s.translate(m,P)}break;case"rotate":if(S.length>=1){let m=0,P=0,G=0;m=S[0]*Math.PI/180,S.length>=3&&(P=S[1],G=S[2]),Y.makeTranslation(-P,-G),B.makeRotation(m),M.multiplyMatrices(B,Y),Y.makeTranslation(P,G),s.multiplyMatrices(Y,M)}break;case"scale":if(S.length>=1){const m=S[0];let P=m;S.length>=2&&(P=S[1]),s.scale(m,P)}break;case"skewX":S.length===1&&s.set(1,Math.tan(S[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":S.length===1&&s.set(1,0,0,Math.tan(S[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":S.length===6&&s.set(S[0],S[2],S[4],S[1],S[3],S[5],0,0,1);break}}u.premultiply(s)}}return u}function j(x,u){function s(w){h.set(w.x,w.y,1).applyMatrix3(u),w.set(h.x,h.y)}function i(w){const E=w.xRadius,F=w.yRadius,S=Math.cos(w.aRotation),m=Math.sin(w.aRotation),P=new rt(E*S,E*m,0),G=new rt(-F*m,F*S,0),l=P.applyMatrix3(u),p=G.applyMatrix3(u),a=ie.set(l.x,p.x,0,l.y,p.y,0,0,0,1),V=Y.copy(a).invert(),ve=B.copy(V).transpose().multiply(V).elements,Te=ee(ve[0],ve[1],ve[4]),be=Math.sqrt(Te.rt1),qe=Math.sqrt(Te.rt2);if(w.xRadius=1/be,w.yRadius=1/qe,w.aRotation=Math.atan2(Te.sn,Te.cs),!((w.aEndAngle-w.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Ze=Y.set(be,0,0,0,qe,0,0,0,1),Ge=B.set(Te.cs,Te.sn,0,-Te.sn,Te.cs,0,0,0,1),ne=Ze.multiply(Ge).multiply(a),De=we=>{const{x:se,y:Se}=new rt(Math.cos(we),Math.sin(we),0).applyMatrix3(ne);return Math.atan2(Se,se)};w.aStartAngle=De(w.aStartAngle),w.aEndAngle=De(w.aEndAngle),L(u)&&(w.aClockwise=!w.aClockwise)}}function y(w){const E=X(u),F=N(u);w.xRadius*=E,w.yRadius*=F;const S=E>Number.EPSILON?Math.atan2(u.elements[1],u.elements[0]):Math.atan2(-u.elements[3],u.elements[4]);w.aRotation+=S,L(u)&&(w.aStartAngle*=-1,w.aEndAngle*=-1,w.aClockwise=!w.aClockwise)}const D=x.subPaths;for(let w=0,E=D.length;w<E;w++){const S=D[w].curves;for(let m=0;m<S.length;m++){const P=S[m];P.isLineCurve?(s(P.v1),s(P.v2)):P.isCubicBezierCurve?(s(P.v0),s(P.v1),s(P.v2),s(P.v3)):P.isQuadraticBezierCurve?(s(P.v0),s(P.v1),s(P.v2)):P.isEllipseCurve&&(re.set(P.aX,P.aY),s(re),P.aX=re.x,P.aY=re.y,U(u)?i(P):y(P))}}}function L(x){const u=x.elements;return u[0]*u[4]-u[1]*u[3]<0}function U(x){const u=x.elements,s=u[0]*u[3]+u[1]*u[4];if(s===0)return!1;const i=X(x),y=N(x);return Math.abs(s/(i*y))>Number.EPSILON}function X(x){const u=x.elements;return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function N(x){const u=x.elements;return Math.sqrt(u[3]*u[3]+u[4]*u[4])}function ee(x,u,s){let i,y,D,w,E;const F=x+s,S=x-s,m=Math.sqrt(S*S+4*u*u);return F>0?(i=.5*(F+m),E=1/i,y=x*E*s-u*E*u):F<0?y=.5*(F-m):(i=.5*m,y=-.5*m),S>0?D=S+m:D=S-m,Math.abs(D)>2*Math.abs(u)?(E=-2*u/D,w=1/Math.sqrt(1+E*E),D=E*w):Math.abs(u)===0?(D=1,w=0):(E=-.5*D/u,D=1/Math.sqrt(1+E*E),w=E*D),S>0&&(E=D,D=-w,w=E),{rt1:i,rt2:y,cs:D,sn:w}}const k=[],J={},K=[],ie=new xr,Y=new xr,B=new xr,M=new xr,re=new pe,h=new rt,ye=new xr,xe=new DOMParser().parseFromString(e,"image/svg+xml");return t(xe.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:k,xml:xe.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},r={loc:t.ORIGIN,t:0};function n(A,g,z,Z){const H=A.x,C=g.x,W=z.x,j=Z.x,L=A.y,U=g.y,X=z.y,N=Z.y,ee=(j-W)*(L-X)-(N-X)*(H-W),k=(C-H)*(L-X)-(U-L)*(H-W),J=(N-X)*(C-H)-(j-W)*(U-L),K=ee/J,ie=k/J;if(J===0&&ee!==0||K<=0||K>=1||ie<0||ie>1)return null;if(ee===0&&J===0){for(let Y=0;Y<2;Y++)if(c(Y===0?z:Z,A,g),r.loc==t.ORIGIN){const B=Y===0?z:Z;return{x:B.x,y:B.y,t:r.t}}else if(r.loc==t.BETWEEN){const B=+(H+r.t*(C-H)).toPrecision(10),M=+(L+r.t*(U-L)).toPrecision(10);return{x:B,y:M,t:r.t}}return null}else{for(let M=0;M<2;M++)if(c(M===0?z:Z,A,g),r.loc==t.ORIGIN){const re=M===0?z:Z;return{x:re.x,y:re.y,t:r.t}}const Y=+(H+K*(C-H)).toPrecision(10),B=+(L+K*(U-L)).toPrecision(10);return{x:Y,y:B,t:K}}}function c(A,g,z){const Z=z.x-g.x,H=z.y-g.y,C=A.x-g.x,W=A.y-g.y,j=Z*W-C*H;if(A.x===g.x&&A.y===g.y){r.loc=t.ORIGIN,r.t=0;return}if(A.x===z.x&&A.y===z.y){r.loc=t.DESTINATION,r.t=1;return}if(j<-Number.EPSILON){r.loc=t.LEFT;return}if(j>Number.EPSILON){r.loc=t.RIGHT;return}if(Z*C<0||H*W<0){r.loc=t.BEHIND;return}if(Math.sqrt(Z*Z+H*H)<Math.sqrt(C*C+W*W)){r.loc=t.BEYOND;return}let L;Z!==0?L=C/Z:L=W/H,r.loc=t.BETWEEN,r.t=L}function f(A,g){const z=[],Z=[];for(let H=1;H<A.length;H++){const C=A[H-1],W=A[H];for(let j=1;j<g.length;j++){const L=g[j-1],U=g[j],X=n(C,W,L,U);X!==null&&z.find(N=>N.t<=X.t+Number.EPSILON&&N.t>=X.t-Number.EPSILON)===void 0&&(z.push(X),Z.push(new pe(X.x,X.y)))}}return Z}function _(A,g,z){const Z=new pe;g.getCenter(Z);const H=[];return z.forEach(C=>{C.boundingBox.containsPoint(Z)&&f(A,C.points).forEach(j=>{H.push({identifier:C.identifier,isCW:C.isCW,point:j})})}),H.sort((C,W)=>C.point.x-W.point.x),H}function R(A,g,z,Z,H){(H==null||H==="")&&(H="nonzero");const C=new pe;A.boundingBox.getCenter(C);const W=[new pe(z,C.y),new pe(Z,C.y)],j=_(W,A.boundingBox,g);j.sort((k,J)=>k.point.x-J.point.x);const L=[],U=[];j.forEach(k=>{k.identifier===A.identifier?L.push(k):U.push(k)});const X=L[0].point.x,N=[];let ee=0;for(;ee<U.length&&U[ee].point.x<X;)N.length>0&&N[N.length-1]===U[ee].identifier?N.pop():N.push(U[ee].identifier),ee++;if(N.push(A.identifier),H==="evenodd"){const k=N.length%2===0,J=N[N.length-2];return{identifier:A.identifier,isHole:k,for:J}}else if(H==="nonzero"){let k=!0,J=null,K=null;for(let ie=0;ie<N.length;ie++){const Y=N[ie];k?(K=g[Y].isCW,k=!1,J=Y):K!==g[Y].isCW&&(K=g[Y].isCW,k=!0)}return{identifier:A.identifier,isHole:k,for:J}}else console.warn('fill-rule: "'+H+'" is currently not implemented.')}let I=999999999,T=-999999999,v=e.subPaths.map(A=>{const g=A.getPoints();let z=-999999999,Z=999999999,H=-999999999,C=999999999;for(let W=0;W<g.length;W++){const j=g[W];j.y>z&&(z=j.y),j.y<Z&&(Z=j.y),j.x>H&&(H=j.x),j.x<C&&(C=j.x)}return T<=H&&(T=H+1),I>=C&&(I=C-1),{curves:A.curves,points:g,isCW:Gi.isClockWise(g),identifier:-1,boundingBox:new Hi(new pe(C,Z),new pe(H,z))}});v=v.filter(A=>A.points.length>1);for(let A=0;A<v.length;A++)v[A].identifier=A;const b=v.map(A=>R(A,v,I,T,e.userData?e.userData.style.fillRule:void 0)),O=[];return v.forEach(A=>{if(!b[A.identifier].isHole){const z=new Ui;z.curves=A.curves,b.filter(H=>H.isHole&&H.for===A.identifier).forEach(H=>{const C=v[H.identifier],W=new Fo;W.curves=C.curves,z.holes.push(W)}),O.push(z)}}),O}static getStrokeStyle(e,o,t,r,n){return e=e!==void 0?e:1,o=o!==void 0?o:"#000",t=t!==void 0?t:"miter",r=r!==void 0?r:"butt",n=n!==void 0?n:4,{strokeColor:o,strokeWidth:e,strokeLineJoin:t,strokeLineCap:r,strokeMiterLimit:n}}static pointsToStroke(e,o,t,r){const n=[],c=[],f=[];if(Oo.pointsToStrokeWithBuffers(e,o,t,r,n,c,f)===0)return null;const _=new ln;return _.setAttribute("position",new Ur(n,3)),_.setAttribute("normal",new Ur(c,3)),_.setAttribute("uv",new Ur(f,2)),_}static pointsToStrokeWithBuffers(e,o,t,r,n,c,f,_){const R=new pe,I=new pe,T=new pe,v=new pe,b=new pe,O=new pe,A=new pe,g=new pe,z=new pe,Z=new pe,H=new pe,C=new pe,W=new pe,j=new pe,L=new pe,U=new pe,X=new pe;t=t!==void 0?t:12,r=r!==void 0?r:.001,_=_!==void 0?_:0,e=S(e);const N=e.length;if(N<2)return 0;const ee=e[0].equals(e[N-1]);let k,J=e[0],K;const ie=o.strokeWidth/2,Y=1/(N-1);let B=0,M,re,h,ye,xe=!1,Xe=0,x=_*3,u=_*2;s(e[0],e[1],R).multiplyScalar(ie),g.copy(e[0]).sub(R),z.copy(e[0]).add(R),Z.copy(g),H.copy(z);for(let m=1;m<N;m++){k=e[m],m===N-1?ee?K=e[1]:K=void 0:K=e[m+1];const P=R;if(s(J,k,P),T.copy(P).multiplyScalar(ie),C.copy(k).sub(T),W.copy(k).add(T),M=B+Y,re=!1,K!==void 0){s(k,K,I),T.copy(I).multiplyScalar(ie),j.copy(k).sub(T),L.copy(k).add(T),h=!0,T.subVectors(K,J),P.dot(T)<0&&(h=!1),m===1&&(xe=h),T.subVectors(K,k),T.normalize();const G=Math.abs(P.dot(T));if(G>Number.EPSILON){const l=ie/G;T.multiplyScalar(-l),v.subVectors(k,J),b.copy(v).setLength(l).add(T),U.copy(b).negate();const p=b.length(),a=v.length();v.divideScalar(a),O.subVectors(K,k);const V=O.length();switch(O.divideScalar(V),v.dot(U)<a&&O.dot(U)<V&&(re=!0),X.copy(b).add(k),U.add(k),ye=!1,re?h?(L.copy(U),W.copy(U)):(j.copy(U),C.copy(U)):D(),o.strokeLineJoin){case"bevel":w(h,re,M);break;case"round":E(h,re),h?y(k,C,j,M,0):y(k,L,W,M,1);break;case"miter":case"miter-clip":default:const Q=ie*o.strokeMiterLimit/p;if(Q<1)if(o.strokeLineJoin!=="miter-clip"){w(h,re,M);break}else E(h,re),h?(O.subVectors(X,C).multiplyScalar(Q).add(C),A.subVectors(X,j).multiplyScalar(Q).add(j),i(C,M,0),i(O,M,0),i(k,M,.5),i(k,M,.5),i(O,M,0),i(A,M,0),i(k,M,.5),i(A,M,0),i(j,M,0)):(O.subVectors(X,W).multiplyScalar(Q).add(W),A.subVectors(X,L).multiplyScalar(Q).add(L),i(W,M,1),i(O,M,1),i(k,M,.5),i(k,M,.5),i(O,M,1),i(A,M,1),i(k,M,.5),i(A,M,1),i(L,M,1));else re?(h?(i(z,B,1),i(g,B,0),i(X,M,0),i(z,B,1),i(X,M,0),i(U,M,1)):(i(z,B,1),i(g,B,0),i(X,M,1),i(g,B,0),i(U,M,0),i(X,M,1)),h?j.copy(X):L.copy(X)):h?(i(C,M,0),i(X,M,0),i(k,M,.5),i(k,M,.5),i(X,M,0),i(j,M,0)):(i(W,M,1),i(X,M,1),i(k,M,.5),i(k,M,.5),i(X,M,1),i(L,M,1)),ye=!0;break}}else D()}else D();!ee&&m===N-1&&F(e[0],Z,H,h,!0,B),B=M,J=k,g.copy(j),z.copy(L)}if(!ee)F(k,C,W,h,!1,M);else if(re&&n){let m=X,P=U;xe!==h&&(m=U,P=X),h?(ye||xe)&&(P.toArray(n,0*3),P.toArray(n,3*3),ye&&m.toArray(n,1*3)):(ye||!xe)&&(P.toArray(n,1*3),P.toArray(n,3*3),ye&&m.toArray(n,0*3))}return Xe;function s(m,P,G){return G.subVectors(P,m),G.set(-G.y,G.x).normalize()}function i(m,P,G){n&&(n[x]=m.x,n[x+1]=m.y,n[x+2]=0,c&&(c[x]=0,c[x+1]=0,c[x+2]=1),x+=3,f&&(f[u]=P,f[u+1]=G,u+=2)),Xe+=3}function y(m,P,G,l,p){R.copy(P).sub(m).normalize(),I.copy(G).sub(m).normalize();let a=Math.PI;const V=R.dot(I);Math.abs(V)<1&&(a=Math.abs(Math.acos(V))),a/=t,T.copy(P);for(let Q=0,de=t-1;Q<de;Q++)v.copy(T).rotateAround(m,a),i(T,l,p),i(v,l,p),i(m,l,.5),T.copy(v);i(v,l,p),i(G,l,p),i(m,l,.5)}function D(){i(z,B,1),i(g,B,0),i(C,M,0),i(z,B,1),i(C,M,0),i(W,M,1)}function w(m,P,G){P?m?(i(z,B,1),i(g,B,0),i(C,M,0),i(z,B,1),i(C,M,0),i(U,M,1),i(C,G,0),i(j,G,0),i(U,G,.5)):(i(z,B,1),i(g,B,0),i(W,M,1),i(g,B,0),i(U,M,0),i(W,M,1),i(W,G,1),i(U,G,0),i(L,G,1)):m?(i(C,G,0),i(j,G,0),i(k,G,.5)):(i(W,G,1),i(L,G,0),i(k,G,.5))}function E(m,P){P&&(m?(i(z,B,1),i(g,B,0),i(C,M,0),i(z,B,1),i(C,M,0),i(U,M,1),i(C,B,0),i(k,M,.5),i(U,M,1),i(k,M,.5),i(j,B,0),i(U,M,1)):(i(z,B,1),i(g,B,0),i(W,M,1),i(g,B,0),i(U,M,0),i(W,M,1),i(W,B,1),i(U,M,0),i(k,M,.5),i(k,M,.5),i(U,M,0),i(L,B,1)))}function F(m,P,G,l,p,a){switch(o.strokeLineCap){case"round":p?y(m,G,P,a,.5):y(m,P,G,a,.5);break;case"square":if(p)R.subVectors(P,m),I.set(R.y,-R.x),T.addVectors(R,I).add(m),v.subVectors(I,R).add(m),l?(T.toArray(n,1*3),v.toArray(n,0*3),v.toArray(n,3*3)):(T.toArray(n,1*3),f[3*2+1]===1?v.toArray(n,3*3):T.toArray(n,3*3),v.toArray(n,0*3));else{R.subVectors(G,m),I.set(R.y,-R.x),T.addVectors(R,I).add(m),v.subVectors(I,R).add(m);const V=n.length;l?(T.toArray(n,V-1*3),v.toArray(n,V-2*3),v.toArray(n,V-4*3)):(v.toArray(n,V-2*3),T.toArray(n,V-1*3),v.toArray(n,V-4*3))}break}}function S(m){let P=!1;for(let l=1,p=m.length-1;l<p;l++)if(m[l].distanceTo(m[l+1])<r){P=!0;break}if(!P)return m;const G=[];G.push(m[0]);for(let l=1,p=m.length-1;l<p;l++)m[l].distanceTo(m[l+1])>=r&&G.push(m[l]);return G.push(m[m.length-1]),G}}}function Cs(d,e,o,t){const{CUBE_SIZE:r,FIRST_CUBE_Z:n}=t,c=8,f=24,_=.075,R=200;let I,T=[],v=[],b=[],O=[];const A=(C,W,j,L)=>{const U=new Eo(C,C,C),X=new _o(U),N=[new Ht({color:16711680,transparent:!0,opacity:L.opacity,blending:Ct}),new Ht({color:65280,transparent:!0,opacity:L.opacity,blending:Ct}),new Ht({color:255,transparent:!0,opacity:L.opacity,blending:Ct}),new Ht({color:65535,transparent:!0,opacity:L.opacity,blending:Ct}),new Ht({color:16711935,transparent:!0,opacity:L.opacity,blending:Ct}),new Ht({color:16776960,transparent:!0,opacity:L.opacity,blending:Ct})],ee=new Xt,k=X.getAttribute("position").array,J=[];for(let Y=0;Y<k.length/3;Y+=2)J.push(Y,Y+1);const K=Array(6).fill(null).map(()=>new ln),ie=Array(6).fill(null).map(()=>[]);for(let Y=0;Y<J.length/2;Y++){const B=Y%6;ie[B].push(J[Y*2],J[Y*2+1])}return K.forEach((Y,B)=>{Y.setIndex(ie[B]),Y.setAttribute("position",X.getAttribute("position"));const M=new Vt(Y,N[B]);ee.add(M)}),ee.position.z=W,ee.rotation.z=j,ee};return(()=>{const j=.9/(f-1);for(let J=0;J<f;J++)v[J]=new Ht({transparent:!0,opacity:1-J*j});if(I=new Xt,!I){console.error("introGroup failed to initialize");return}for(let J=0;J<f;J++){const K=r-J*c,ie=A(K,0,0,v[J]),Y=ie.children.map(B=>B.material);O.push(Y.map(B=>({material:B,originalColor:B.color.clone()}))),I.add(ie)}I.position.z=n,e.add(I),T.push(I),b=v.map(J=>J.opacity);const L=Ye.timeline({repeat:-1});L.to(I.rotation,{x:je.degToRad(360),duration:12,ease:"none"},0),L.to(I.rotation,{y:je.degToRad(360),duration:10,ease:"none"},0),L.to(I.rotation,{z:je.degToRad(360),duration:14,ease:"none"},0);let U=-1,X=0;const N=_*1e3,ee=f*N,k=J=>{const K=J%ee/N,ie=Math.floor(K)%f;U!==-1&&J-X>=N&&(O[U].forEach(M=>{M.material.opacity=b[U],M.material.color.copy(M.originalColor)}),U=-1),U===-1&&ie!==U&&(U=ie,X=J,O[U].forEach(B=>{B.material.opacity=1,B.material.color.set(1,1,1)})),requestAnimationFrame(k)};requestAnimationFrame(k)})(),o.then(C=>{if(C){const W=z(C);d.add(W)}}),{introCubes:T};function z(C){const W=new Xt,j=Z(C);j.position.set(0,-36,0),W.add(j),H(U=>{W.add(U),Ye.fromTo(j.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const X=U.children.find(N=>N instanceof Ne&&N!==U.children[0]);if(X){const N=X.position.y;Ye.to(X.position,{y:N+3,duration:1,ease:"easeOut",onComplete:()=>{X.position.y=N},repeat:-1})}}),W.position.x=0,W.position.y=-240;const L=n-f*c;return W.position.z=L+R,W}function Z(C){const W=new Pi("SCROLL TO CONTINUE",{font:C,size:8,depth:0,curveSegments:12,bevelEnabled:!1});W.computeBoundingBox(),W.center();const j=new vt({color:16777215,transparent:!0,opacity:1});return new Ne(W,j)}function H(C){new Oo().load("/3D/mouse.svg",j=>{const L=j.paths;let U=null,X=null,N=new Xt;if(L.forEach((ee,k)=>{Oo.createShapes(ee).forEach(K=>{const ie=new ji(K);ie.computeBoundingBox();const Y=new vt({color:16777215,transparent:!0,opacity:1,side:Ft}),B=new Ne(ie,Y);B.scale.set(.05,.05,1),k===0?U=B:k===1&&(X=B)})}),U&&X){N.add(U),N.add(X);const k=(U.geometry.boundingBox.max.x-U.geometry.boundingBox.min.x)*U.scale.x/2;N.position.x=-k,N.rotation.x=Math.PI,C(N)}})}}class Es extends Xn{constructor(e){super(e)}load(e,o,t,r){const n=this,c=new qn(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){const _=n.parse(JSON.parse(f));o&&o(_)},t,r)}parse(e){return new As(e)}}class As{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,o=100){const t=[],r=ks(e,o,this.data);for(let n=0,c=r.length;n<c;n++)t.push(...r[n].toShapes());return t}}function ks(d,e,o){const t=Array.from(d),r=e/o.resolution,n=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,c=[];let f=0,_=0;for(let R=0;R<t.length;R++){const I=t[R];if(I===`
`)f=0,_-=n;else{const T=Rs(I,r,f,_,o);f+=T.offsetX,c.push(T.path)}}return c}function Rs(d,e,o,t,r){const n=r.glyphs[d]||r.glyphs["?"];if(!n){console.error('THREE.Font: character "'+d+'" does not exists in font family '+r.familyName+".");return}const c=new Jt;let f,_,R,I,T,v,b,O;if(n.o){const A=n._cachedOutline||(n._cachedOutline=n.o.split(" "));for(let g=0,z=A.length;g<z;)switch(A[g++]){case"m":f=A[g++]*e+o,_=A[g++]*e+t,c.moveTo(f,_);break;case"l":f=A[g++]*e+o,_=A[g++]*e+t,c.lineTo(f,_);break;case"q":R=A[g++]*e+o,I=A[g++]*e+t,T=A[g++]*e+o,v=A[g++]*e+t,c.quadraticCurveTo(T,v,R,I);break;case"b":R=A[g++]*e+o,I=A[g++]*e+t,T=A[g++]*e+o,v=A[g++]*e+t,b=A[g++]*e+o,O=A[g++]*e+t,c.bezierCurveTo(T,v,b,O,R,I);break}}return{offsetX:n.ha*e,path:c}}function Hn(d,e,o,t,r,n){const{CUBE_SIZE:c,CUBE_SPACING:f,FIRST_CUBE_Z:_}=e,R=_-(o.length+1)*f,I=65535,T=16711935,v=16711680,b=je.degToRad(15),O=1e3,A=.5,g=80,z=1,Z=15,H=.1;let C=[],W=null,j=null,L=!1,U=!1,X=new Yi,N=new pe,ee=null,k=null,J=null,K=!1,ie=null;const Y=ei(),B=(u,s,i,y,D,w)=>{const E=new Xt;E.position.z=i,E.rotation.z=y,E.userData.isActive=!1;const F=new Eo(s,s,s),S=new _o(F),m=new Ht({color:new gt(I),transparent:!0,opacity:0}),P=new Vt(S,m);P.geometry.computeBoundingSphere(),E.add(P);let G="right";const l=s/2;if(D)switch(["left","top","right","bottom"].includes(w)?w:"left"){case"left":G="right";break;case"top":G="bottom";break;case"right":G="left";break;case"bottom":G="top";break}const p=()=>{const we=new bn(40,24),se=new _o(we),Se=new Ht({color:new gt(I),transparent:!0,opacity:0,visible:!0}),ke=new Vt(se,Se);ke.userData.isPortal=!0,ke.userData.isAnimating=!1,ke.geometry.computeBoundingSphere();const $t=new Yt(120,120),Ot=new vt({visible:!1,side:Ft}),Fe=new Ne($t,Ot);Fe.userData.isPortalHitbox=!0,Fe.userData.portal=ke,Fe.geometry.computeBoundingSphere();const le=new Xt,jt=new Yt(z,Z),yt=65/2;for(let Le=0;Le<g;Le++){const Nt=new vt({color:new gt(T),transparent:!0,opacity:0,visible:!1,side:Ft}),Qe=new Ne(jt,Nt),Rt=Le/g*Math.PI*2;Qe.position.set(Math.cos(Rt)*yt,Math.sin(Rt)*yt,0),Qe.rotation.z=Rt+Math.PI/2,Qe.userData.baseOpacity=.01,Qe.userData.index=Le,Qe.geometry.computeBoundingSphere(),le.add(Qe)}const wt=2,bt=25;for(let Le=1;Le<bt;Le++){const Nt=new bn(40,24),Qe=new _o(Nt),Rt=je.lerp(1,.1,Le/(bt-1)),ae=new Ht({color:new gt(I),transparent:!0,opacity:0}),te=new Vt(Qe,ae);te.userData.isPortal=!0,te.userData.maxOpacity=Rt,te.position.z=-Le*wt,te.geometry.computeBoundingSphere(),ke.add(te)}switch(ke.userData.maxOpacity=1,G){case"left":case"right":le.children.forEach(Le=>Le.position.x+=H);break;case"top":case"bottom":le.children.forEach(Le=>Le.position.y+=H);break}switch(ke.add(le),E.add(ke),E.add(Fe),ke.updateMatrixWorld(!0),le.updateMatrixWorld(!0),G){case"left":ke.position.set(-l,0,0),ke.rotation.y=Math.PI/2,Fe.position.set(-l,0,0),Fe.rotation.y=Math.PI/2;break;case"top":ke.position.set(0,l,0),ke.rotation.x=-Math.PI/2,Fe.position.set(0,l,0),Fe.rotation.x=Math.PI/2;break;case"right":ke.position.set(l,0,0),ke.rotation.y=-Math.PI/2,Fe.position.set(l,0,0),Fe.rotation.y=-Math.PI/2;break;case"bottom":ke.position.set(0,-l,0),ke.rotation.x=Math.PI/2,Fe.position.set(0,-l,0),Fe.rotation.x=Math.PI/2;break}},a=ne=>{(ne instanceof Vt||ne instanceof Ne)&&ne.geometry&&ne.geometry.computeBoundingSphere(),E.add(ne)};D?new vr().load(D,De=>{De.encoding=void 0;const we=new Yt(s-1,s-1),se=new vt({map:De,transparent:!0,opacity:0,blending:Ct,side:Ft}),Se=new Ne(we,se);switch(w){case"left":Se.position.set(-l,0,0),y>=je.degToRad(120)?(Se.rotation.y=Math.PI/2,Se.rotation.z=-Math.PI):Se.rotation.y=Math.PI/2;break;case"top":Se.position.set(0,l,0),Se.rotation.x=Math.PI/2,Se.rotation.z=-Math.PI/2;break;case"right":Se.position.set(l,0,0),y>=je.degToRad(120)?(Se.rotation.y=-Math.PI/2,Se.rotation.z=-Math.PI):Se.rotation.y=-Math.PI/2;break;case"bottom":Se.position.set(0,-l,0),y>=je.degToRad(120)?(Se.rotation.x=-Math.PI/2,Se.rotation.z=Math.PI/2):(Se.rotation.x=-Math.PI/2,Se.rotation.z=-Math.PI/2);break}Se.geometry.computeBoundingSphere(),a(Se),p()},void 0,De=>{console.error("Error loading keyart:",De),p()}):p(),new vr().load(t,ne=>{ne.encoding=void 0;const De=new Yt(s-1,s-1),we=new vt({map:ne,transparent:!0,opacity:0,blending:Ct,side:Ft,depthWrite:!1}),se=new Ne(De,we);se.position.set(0,0,-s/2-1),se.rotation.y=0,se.userData.isGridPlane=!0,se.geometry.computeBoundingSphere(),a(se)},void 0,ne=>{console.error("Error loading projectGridFile:",ne)}),new vr().load(t,ne=>{ne.encoding=void 0;const De=new Yt(s-1,s-1),we=new vt({map:ne,transparent:!0,opacity:0,blending:Ct,side:Ft,depthWrite:!1,color:new gt(16744448)}),se=new Ne(De,we);se.position.set(0,0,s/2+1),se.rotation.y=0,se.userData.isGridPlane=!0,se.geometry.computeBoundingSphere(),a(se)},void 0,ne=>{console.error("Error loading projectGridFile:",ne)});const de=["left","top","right","bottom"],Te=[D?w||"left":null,G].filter(Boolean),be=de.filter(ne=>!Te.includes(ne));new vr().load(t,ne=>{ne.encoding=void 0;const De=new Yt(s-1,s-1),we=new vt({map:ne,transparent:!0,opacity:0,blending:Ct,side:Ft,depthWrite:!1,color:new gt(255)}),se=new Ne(De,we);switch(be[0]){case"left":se.position.set(-l,0,0),se.rotation.y=-Math.PI/2;break;case"top":se.position.set(0,l,0),se.rotation.x=Math.PI/2;break;case"right":se.position.set(l,0,0),se.rotation.y=Math.PI/2;break;case"bottom":se.position.set(0,-l,0),se.rotation.x=-Math.PI/2;break}se.userData.isGridPlane=!0,se.geometry.computeBoundingSphere(),a(se)},void 0,ne=>{console.error("Error loading projectGridFile:",ne)}),new vr().load(r,ne=>{ne.encoding=void 0;const De=new Yt(s-1,s-1),we=new vt({map:ne,transparent:!0,opacity:0,blending:Ct,side:Ft,depthWrite:!1}),se=new Ne(De,we);switch(be[1]){case"left":se.position.set(-l,0,0),se.rotation.y=-Math.PI/2;break;case"top":se.position.set(0,l,0),se.rotation.x=Math.PI/2;break;case"right":se.position.set(l,0,0),se.rotation.y=Math.PI/2;break;case"bottom":se.position.set(0,-l,0),se.rotation.x=-Math.PI/2;break}se.userData.isGridPlane=!0,se.geometry.computeBoundingSphere(),a(se)},void 0,ne=>{console.error("Error loading projectGridFile2:",ne)}),E.children.forEach(ne=>{(ne instanceof Vt||ne instanceof Ne)&&ne.geometry&&!ne.geometry.boundingSphere&&ne.geometry.computeBoundingSphere()}),E.updateMatrixWorld(!0);const Ze=new Xi().setFromObject(E),Ge=new qi;return Ze.getBoundingSphere(Ge),E.boundingSphere=Ge,E},M=(u,s,i,y,D,w)=>{const E=new Pi(u,{font:w,size:D,depth:0,curveSegments:12,bevelEnabled:!1});E.computeBoundingBox(),E.center();const F=new vt({color:16777215,transparent:!0,opacity:0,side:Ft}),S=new Ne(E,F);S.position.set(s,i,y);const m=E.boundingBox,P=m.max.x-m.min.x,G=m.max.y-m.min.y,l=P+8,p=G+4,a=new Yt(l,p),V=new vt({color:0,transparent:!0,opacity:0,side:Ft}),Q=new Ne(a,V);return Q.position.set(s,i,y-1),d.add(Q),d.add(S),S.userData.backgroundPlane=Q,S},re=()=>new Promise(u=>{W=new Es,W.load("/fonts/Poppins_Regular.json",s=>{j=s;const i=Array.isArray(o)?o:[];Array.isArray(o)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",o),i.forEach((y,D)=>{const w=_-(D+1)*f,E=(D+1)*b,F=B(y,c,w,E,y.keyart,y.keyartLocation);d.add(F),C.push(F),M(y.title,0,y.size-15,_+90-(D+1)*f,y.size,s)}),u()},void 0,s=>console.error("Error loading font:",s))}),h=()=>L?Promise.resolve({projectCubes:C,updateCubeColors:Xe,loadedFont:j,maxZ:R}):re().then(()=>(L=!0,{projectCubes:C,updateCubeColors:Xe,loadedFont:j,maxZ:R})).catch(u=>{throw console.error("Error in loadFontAndText:",u),u}),ye=u=>{if(!u.userData.isAnimating)return;u.userData.isAnimating=!1;const s=u.children.find(i=>i instanceof Xt);s&&(u.userData.animationTimeline&&(u.userData.animationTimeline.kill(),delete u.userData.animationTimeline),s.children.forEach(i=>{const y=i.material;y.opacity=0}))},xe=new Vi,Xe=u=>{xe.setFromProjectionMatrix(u.projectionMatrix.clone().multiply(u.matrixWorldInverse));const s=u.position.z;let i=[];d.traverse(y=>{y instanceof Ne&&y.geometry&&y.geometry.type==="TextGeometry"&&i.push(y)}),U||(U=!0),C.forEach((y,D)=>{if(!y.geometry&&!y.children.length){console.warn(`Cube ${D} has no geometry or children`,y);return}try{if(!xe.intersectsObject(y))return}catch(S){console.error(`Error with cube ${D}`,y,S);return}const w=y.position.z,E=Math.abs(s-w);let F=0;E<=O&&(F=1-E/O),y.userData.isActive=F>=A,y.children.forEach(S=>{if(S instanceof Vt&&!S.userData.isPortal&&!S.userData.isPortalHitbox){const m=S.material;if(E<=O){const P=je.lerp((I>>16&255)/255,(T>>16&255)/255,F),G=je.lerp((I>>8&255)/255,(T>>8&255)/255,F),l=je.lerp((I&255)/255,(T&255)/255,F);m.color.set(P,G,l),m.opacity=Math.min(1,F*2)}else m.opacity=0}else if(S instanceof Vt&&S.userData.isPortal)U&&(F>.1?S.children.forEach(m=>{m instanceof Xt&&m.children.forEach(P=>{P instanceof Ne&&(P.material.visible=!0,!S.userData.animationStarted&&n.showPortalPulses)})}):F<=.1&&S.userData.animationStarted&&(S.children.forEach(m=>{m instanceof Xt&&m.children.forEach(P=>{P instanceof Ne&&(P.material.visible=!1)})}),ye(S),delete S.userData.animationStarted));else if(S instanceof Ne&&!S.userData.isPortalHitbox){const m=S.material;if(E<=O){const P=1-E/O;m.opacity=Math.min(.8,P*2)}else m.opacity=0}})}),i.forEach(y=>{const D=y.material,w=y.userData.backgroundPlane,E=w==null?void 0:w.material,F=y.position.z,S=Math.abs(s-F+120);if(S<=O){const m=1-S/O,P=Math.min(1,m*2);D.opacity=P,E&&(E.opacity=P*.8)}else D.opacity=0,E&&(E.opacity=0)})};return{getInitializedData:h,updateCubeColors:Xe,setupInteractivity:(u,s,i)=>{ie=i;let y=null,D=null;const w=(m,P=!0)=>{const G=[m,...m.children.filter(p=>p instanceof Vt&&p.userData.isPortal)],l=P?25:2;G.forEach((p,a)=>{let V=-a*l;(m.position.y>0&&m.rotation.x===-Math.PI/2||m.position.y<0&&m.rotation.x===Math.PI/2)&&(V=a*l);const Q=P?p.userData.maxOpacity:0;Ye.to(p.position,{z:V,duration:1,ease:"power3.out",delay:.5}),Ye.to(p.material,{opacity:Q,duration:1,ease:"power3.out",delay:.5})})},E=m=>{N.x=m.clientX/window.innerWidth*2-1,N.y=-(m.clientY/window.innerHeight)*2+1,X.setFromCamera(N,u);const P=C.flatMap(l=>l.userData.isActive?l.children.filter(p=>p instanceof Ne&&p.userData.isPortalHitbox):[]),G=X.intersectObjects(P);if(G.length>0){const p=G[0].object.userData.portal;if(ee!==p){if(ee){const V=ee.material;Ye.to(V.color,{r:(I>>16&255)/255,g:(I>>8&255)/255,b:(I&255)/255,duration:.5})}ee=p;const a=ee.material;Ye.to(a.color,{r:(v>>16&255)/255,g:(v>>8&255)/255,b:(v&255)/255,duration:.5})}s.style.cursor="pointer"}else{if(ee){const l=ee.material;Ye.to(l.color,{r:(I>>16&255)/255,g:(I>>8&255)/255,b:(I&255)/255,duration:.5}),ee=null}s.style.cursor="auto"}},F=m=>{N.x=m.clientX/window.innerWidth*2-1,N.y=-(m.clientY/window.innerHeight)*2+1,X.setFromCamera(N,u);const P=C.flatMap(de=>de.userData.isActive?de.children.filter(ve=>ve instanceof Ne&&ve.userData.isPortalHitbox):[]),G=X.intersectObjects(P);if(G.length===0)return;const l=G[0].object,p=l.userData.portal,a=l.parent,V=C.indexOf(a),Q=o[V];if(K&&p===D){p.getWorldPosition(new rt);let de=new rt;const ve=e.CUBE_SIZE/2;p.position.x===ve?de.set(-1,0,0):p.position.x===-ve?de.set(1,0,0):p.position.y===ve?de.set(0,-1,0):p.position.y===-ve&&de.set(0,1,0),de.applyQuaternion(a.getWorldQuaternion(new Zi)).normalize();const be=u.position.clone().clone().add(de.clone().multiplyScalar(-675)),qe=de.clone().multiplyScalar(-1e3),Ce=be.clone().add(qe);Ye.to(u.position,{x:be.x,y:be.y,z:be.z,duration:1,ease:"power2.in",onUpdate:()=>u.lookAt(Ce),onComplete:()=>{Q!=null&&Q.slug&&(Y.setScrollPosition(window.scrollY),Ei.visit(route("project.show",{project:Q.slug}),{preserveScroll:!1}))}})}else if(!K){k||(k=u.position.clone(),J=new rt(0,0,R)),ie&&i(!0,k,J);const de=p.getWorldPosition(new rt);Ye.to(u.position,{x:0,y:0,z:a.getWorldPosition(new rt).z,duration:2,ease:"power3.out"}),Ye.to({},{duration:2,ease:"power3.out",onUpdate:function(){const ve=this.progress(),Te=u.getWorldDirection(new rt).multiplyScalar(1e3).add(u.position),be=je.lerp(Te.x,de.x,ve),qe=je.lerp(Te.y,de.y,ve),Ce=je.lerp(Te.z,de.z,ve);u.lookAt(be,qe,Ce)},onStart:()=>{K=!0,y=window.scrollY,document.body.classList.add("no-scrollbar"),D=p,w(p,!0)}})}},S=m=>{if(!K||!D||!k||!J)return;let P=0;if(m instanceof WheelEvent?P=m.deltaY:P=window.scrollY-(y||0),m.preventDefault(),m.stopPropagation(),P>0){window.scrollTo(0,y);return}if(P<0){const G=D,l=J.clone(),p=k.z;Ye.to(u.position,{x:k.x,y:k.y,z:p,duration:1,ease:"power3.out"}),Ye.to({},{duration:1,ease:"power3.out",onUpdate:function(){const a=this.progress(),V=u.getWorldDirection(new rt).multiplyScalar(1e3).add(u.position),Q=je.lerp(V.x,l.x,a),de=je.lerp(V.y,l.y,a),ve=je.lerp(V.z,l.z,a);u.lookAt(Q,de,ve)},onComplete:()=>{u.lookAt(l),K=!1,D=null,document.body.classList.remove("no-scrollbar"),ie&&i(!1),w(G,!1),y=null,k=null,J=null}})}};return s.addEventListener("mousemove",E),s.addEventListener("click",F),window.addEventListener("wheel",S,{passive:!1}),window.addEventListener("scroll",S,{passive:!1}),()=>{s.removeEventListener("mousemove",E),s.removeEventListener("click",F),window.removeEventListener("wheel",S),window.removeEventListener("scroll",S)}}}}Ye.registerPlugin(fe);function Is(d,e,o,t,r,n,c={}){fe.config({syncTouch:!0});const{CUBE_SPACING:f,FIRST_CUBE_Z:_}=n,R=(t==null?void 0:t.length)||0,I=_-(R+1)*f;let T=!1;const v=Math.abs(I)+(R-1)*f,b=Ye.timeline({scrollTrigger:{trigger:o.value,start:"top top",end:`+=${v}`,scrub:c.scrub||.5,pin:!0,onUpdate:A=>{if(!T){const g=A.progress,z=je.lerp(0,I,g);e.position.set(0,0,z),e.lookAt(0,0,I)}r(e)}}});return b.fromTo(e.position,{z:0},{z:I,duration:1,ease:"none"}),{setReverting:A=>{T=A},timeline:b}}const Ds={class:"preloader"},Os={class:"progress-label"},Ns=No({__name:"Preloader",props:{progress:{}},setup(d){return(e,o)=>(Jr(),Lo("div",Ds,[ur("div",Os,Ai(Math.round(e.progress))+"%",1)]))}}),Ls=Zn(Ns,[["__scopeId","data-v-e5eadefa"]]),qo=250,bo=500,Lr=-500,Zo=-520,Gn=-720,Bs=No({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(d){Ye.registerPlugin(fe);const e=ei();e.isMobile=/iPhone|iPad|Android/i.test(navigator.userAgent);const o=d,t={showChasers:!1,showStarfield:!1,showCars:!1,showBuildings:!1,showPortalPulses:!1},r=Kt(null),n=Kt(null),c=Kt(!1),f=Kt(0),_=Kt(!1),R=Kt(!0),I=new Map;Kt(null);let T,v,b,O,A,g,z,Z,H=null,C=null,W=null,j=null,L=null,U=[],X=null;const N=()=>{const Y=r.value?r.value.getBoundingClientRect().width:window.innerWidth,B=window.innerHeight,M=e.isMobile?.75:1;b.setSize(Y*M,B*M),O.setSize(Y*M,B*M),v.aspect=Y/B,v.far=6e4,v.updateProjectionMatrix(),b.domElement.style.width=`${Y}px`,b.domElement.style.height=`${B}px`},ee=Y=>I.has(Y)?Promise.resolve(I.get(Y)):new Promise((B,M)=>{new vr().load(Y,h=>{h.encoding=void 0,I.set(Y,h),B(h)},void 0,h=>M(h))}),k=async()=>{T=new Yn,T.background=new gt(0),T.fog=new Qi(0,700,4e3),v=new $i(75,window.innerWidth/window.innerHeight,1,6e4),v.position.set(0,0,0),v.lookAt(0,0,1e3),b=new Vn({antialias:!0}),e.isMobile?b.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):b.setPixelRatio(window.devicePixelRatio),b.toneMapping=Ki,b.toneMappingExposure=1,b.outputEncoding=void 0,O=new Kn(b);const Y=new Jn(T,v);if(O.addPass(Y),A=new gr(new pe(window.innerWidth,window.innerHeight),6,.4,0),A.renderToScreen=!0,e.isMobile||O.addPass(A),r.value)r.value.appendChild(b.domElement),b.domElement.style.opacity="0";else return;z=new Kr,z.dom.style.position="fixed",z.dom.style.top="0px",z.dom.style.left="0px",z.dom.style.zIndex="1000",document.body.appendChild(z.dom);const B=o.projects.length+2+1;let M=0;const re=()=>{M++,f.value=M/B*100,M===B&&(c.value=!0)};await ee(o.projectGridFile).then(()=>re()).catch(()=>re()),await ee(o.projectGridFile2).then(()=>re()).catch(()=>re());for(const xe of o.projects)xe.keyart?await ee(xe.keyart).then(()=>re()).catch(()=>re()):re();const h=Hn(T,{CUBE_SIZE:qo,CUBE_SPACING:bo,FIRST_CUBE_Z:Lr},o.projects,o.projectGridFile,o.projectGridFile2,t);let ye=-8500;try{const xe=await h.getInitializedData();ye=xe.maxZ!==void 0&&!isNaN(xe.maxZ)?xe.maxZ:-8500,re();const{introCubes:Xe}=Cs(T,T,Promise.resolve(xe.loadedFont),{CUBE_SIZE:qo,FIRST_CUBE_Z:Lr});U=[...Xe,...xe.projectCubes],X=xe.updateCubeColors,t.showCars,t.showStarfield,t.showChasers,N()}catch(xe){console.error("Error initializing project cubes:",xe)}};let J=0;const K=(Y=0)=>{if(g=requestAnimationFrame(K),!(e.isMobile&&(J++,J%2===0))){if(b&&O){if(!e.isMobile){const B=Gn-Zo;let M=0;v.position.z>=Zo?M=0:v.position.z<=Gn?M=1:M=(v.position.z-Zo)/B,A.strength=je.lerp(1,.125,M)}_.value&&(X(v),fe.update()),O.render()}z.update()}};Un(()=>{k().then(()=>{if(c.value){g=requestAnimationFrame(K);const Y=Hn(T,{CUBE_SIZE:qo,CUBE_SPACING:bo,FIRST_CUBE_Z:Lr},o.projects,o.projectGridFile,o.projectGridFile2,t);let B=null;const M=Y.getInitializedData().then(({projectCubes:h})=>{h.forEach(xe=>{xe.userData.isActive=!0});const ye=Lr-(o.projects.length-1)*bo;v.position.set(0,0,5e3),v.lookAt(0,0,ye),v.updateProjectionMatrix(),X(v),O.render(),U.length&&X&&(B=Is(T,v,n,U,X,{CUBE_SPACING:bo,FIRST_CUBE_Z:Lr},{scrub:1}).setReverting),b&&C===null&&(C=Y.setupInteractivity(v,b.domElement,xe=>{B&&B(xe)})),window.scrollTo({top:0,behavior:"auto"})}),re=()=>{M.then(()=>{R.value=!1,v.position.set(0,0,5e3),v.updateProjectionMatrix(),Ye.to(b.domElement,{opacity:1,duration:.5,ease:"power4.out"});const h={z:5e3};Ye.to(h,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{v.position.z=h.z,v.updateProjectionMatrix()},onComplete:()=>{v.position.z=0,_.value=!0}})})};Ye.delayedCall(.1,re)}}).catch(Y=>{console.error("Initialization failed:",Y)}),window.addEventListener("resize",ie)}),Wn(()=>{g&&cancelAnimationFrame(g),C&&C(),window.removeEventListener("resize",ie),fe.getAll().forEach(Y=>Y.kill()),b.dispose(),O.dispose(),T.clear(),document.body.removeChild(z.dom),L&&L()});const ie=()=>{N(),fe.refresh()};return(Y,B)=>(Jr(),Lo("section",{ref_key:"wrapper",ref:n,class:"wrapper"},[ar(ki,{name:"fade"},{default:Ri(()=>[R.value?(Jr(),Ii(Ls,{key:0,progress:f.value},null,8,["progress"])):Di("",!0)]),_:1}),ur("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),zs=Zn(Bs,[["__scopeId","data-v-6278f674"]]),Fs={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},Hs={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Gs={class:"overflow-hidden"},Us={class:"flex justify-center items-center"},Ws={class:"flex justify-center items-center -mt-24 mix-blend-screen"},Ks=No({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(d){return(e,o)=>(Jr(),Lo(Li,null,[ar(Oi(Ni),{title:"Welcome"}),ur("div",Fs,[ur("nav",Hs,[ar(Ji)]),ur("div",Gs,[ar(zs,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),ur("div",Us,[ar(_n,{"particle-width":20,"particle-height":20})]),ur("div",Ws,[ar(_n,{"particle-width":15,"particle-height":160})]),ar(es)])],64))}});export{Ks as default};
