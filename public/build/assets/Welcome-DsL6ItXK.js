import{W as tn,d as Je,I as $o,e as Ke,o as Ze,a as be,t as Fo,x as Wr,y as xs,b as go,w as on,c as rn,f as is,T as Un,n as Wo,M as as,j as Kt,E as pr,u as dr,G as fo,F as hr,h as gr,p as Gn,g as ls,m as Yn}from"./app-Cxy9aqxZ.js";import{c as He,O as Wn,h as Po,F as Ds,l as Co,U as cs,V as jt,m as Ar,H as Rr,N as Xn,C as jn,n as Pt,f as We,b as oo,o as vt,e as Ht,G as Jt,g as ve,p as je,B as Xo,E as tr,L as gt,q as $n,u as Oo,R as Zn,r as sn,s as Vn,P as po,a as qt,t as nn,v as an,w as ks,Q as qn,I as Qn,x as Zr,y as As,z as Kn,J as Vr,K as qr,T as Jn,X as ei,Y as ti,Z as oi,S as ri,_ as si,$ as ni,W as ii,a0 as ai,a1 as Rs,a2 as li,d as Ft,j as ci,k as ui}from"./GlobalFooter-DHRo2Lqr.js";import{u as co,_ as fi}from"./App.vue_vue_type_script_setup_true_lang-Bu39zpZH.js";import{_ as Xr}from"./_plugin-vue_export-helper-DlAUqK2U.js";function pi(a,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function di(a,e,r){return e&&pi(a.prototype,e),a}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xt,Ir,Yt,mo,vo,Uo,ln,yo,or,cn,ao,Qt,un,fn=function(){return xt||typeof window<"u"&&(xt=window.gsap)&&xt.registerPlugin&&xt},pn=1,No=[],Oe=[],so=[],rr=Date.now,us=function(e,r){return r},hi=function(){var e=or.core,r=e.bridge||{},t=e._scrollers,o=e._proxies;t.push.apply(t,Oe),o.push.apply(o,so),Oe=t,so=o,us=function(n,i){return r[n](i)}},wo=function(e,r){return~so.indexOf(e)&&so[so.indexOf(e)+1][r]},sr=function(e){return!!~cn.indexOf(e)},kt=function(e,r,t,o,s){return e.addEventListener(r,t,{passive:o!==!1,capture:!!s})},Dt=function(e,r,t,o){return e.removeEventListener(r,t,!!o)},_r="scrollLeft",xr="scrollTop",fs=function(){return ao&&ao.isPressed||Oe.cache++},Fr=function(e,r){var t=function o(s){if(s||s===0){pn&&(Yt.history.scrollRestoration="manual");var n=ao&&ao.isPressed;s=o.v=Math.round(s)||(ao&&ao.iOS?1:0),e(s),o.cacheID=Oe.cache,n&&us("ss",s)}else(r||Oe.cache!==o.cacheID||us("ref"))&&(o.cacheID=Oe.cache,o.v=e());return o.v+o.offset};return t.offset=0,e&&t},Ot={s:_r,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Fr(function(a){return arguments.length?Yt.scrollTo(a,dt.sc()):Yt.pageXOffset||mo[_r]||vo[_r]||Uo[_r]||0})},dt={s:xr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ot,sc:Fr(function(a){return arguments.length?Yt.scrollTo(Ot.sc(),a):Yt.pageYOffset||mo[xr]||vo[xr]||Uo[xr]||0})},Bt=function(e,r){return(r&&r._ctx&&r._ctx.selector||xt.utils.toArray)(e)[0]||(typeof e=="string"&&xt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},_o=function(e,r){var t=r.s,o=r.sc;sr(e)&&(e=mo.scrollingElement||vo);var s=Oe.indexOf(e),n=o===dt.sc?1:2;!~s&&(s=Oe.push(e)-1),Oe[s+n]||kt(e,"scroll",fs);var i=Oe[s+n],c=i||(Oe[s+n]=Fr(wo(e,t),!0)||(sr(e)?o:Fr(function(p){return arguments.length?e[t]=p:e[t]})));return c.target=e,i||(c.smooth=xt.getProperty(e,"scrollBehavior")==="smooth"),c},ps=function(e,r,t){var o=e,s=e,n=rr(),i=n,c=r||50,p=Math.max(500,c*3),T=function(g,S){var y=rr();S||y-n>c?(s=o,o=g,i=n,n=y):t?o+=g:o=s+(g-s)/(y-i)*(n-i)},m=function(){s=o=t?0:o,i=n=0},v=function(g){var S=i,y=s,Q=rr();return(g||g===0)&&g!==o&&T(g),n===i||Q-i>p?0:(o+(t?y:-y))/((t?Q:n)-S)*1e3};return{update:T,reset:m,getVelocity:v}},Zo=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Is=function(e){var r=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(t)?r:t},dn=function(){or=xt.core.globals().ScrollTrigger,or&&or.core&&hi()},hn=function(e){return xt=e||fn(),!Ir&&xt&&typeof document<"u"&&document.body&&(Yt=window,mo=document,vo=mo.documentElement,Uo=mo.body,cn=[Yt,mo,vo,Uo],xt.utils.clamp,un=xt.core.context||function(){},yo="onpointerenter"in Uo?"pointer":"mouse",ln=it.isTouch=Yt.matchMedia&&Yt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Yt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Qt=it.eventTypes=("ontouchstart"in vo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in vo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return pn=0},500),dn(),Ir=1),Ir};Ot.op=dt;Oe.cache=0;var it=function(){function a(r){this.init(r)}var e=a.prototype;return e.init=function(t){Ir||hn(xt)||console.warn("Please gsap.registerPlugin(Observer)"),or||dn();var o=t.tolerance,s=t.dragMinimum,n=t.type,i=t.target,c=t.lineHeight,p=t.debounce,T=t.preventDefault,m=t.onStop,v=t.onStopDelay,f=t.ignore,g=t.wheelSpeed,S=t.event,y=t.onDragStart,Q=t.onDragEnd,k=t.onDrag,P=t.onPress,d=t.onRelease,j=t.onRight,X=t.onLeft,x=t.onUp,ge=t.onDown,A=t.onChangeX,h=t.onChangeY,B=t.onChange,b=t.onToggleX,N=t.onToggleY,me=t.onHover,he=t.onHoverEnd,Ne=t.onMove,ae=t.ignoreCheck,Te=t.isNormalizer,K=t.onGestureStart,l=t.onGestureEnd,le=t.onWheel,ne=t.onEnable,ue=t.onDisable,Pe=t.onClick,$e=t.scrollSpeed,Ae=t.capture,Le=t.allowClicks,Re=t.lockAxis,Ce=t.onLockAxis;this.target=i=Bt(i)||vo,this.vars=t,f&&(f=xt.utils.toArray(f)),o=o||1e-9,s=s||0,g=g||1,$e=$e||1,n=n||"wheel,touch,pointer",p=p!==!1,c||(c=parseFloat(Yt.getComputedStyle(Uo).lineHeight)||22);var U,O,we,R,$,Z,pe,u=this,Ue=0,Ge=0,et=t.passive||!T&&t.passive!==!1,Be=_o(i,Ot),ot=_o(i,dt),rt=Be(),at=ot(),Ve=~n.indexOf("touch")&&!~n.indexOf("pointer")&&Qt[0]==="pointerdown",Wt=sr(i),Qe=i.ownerDocument||mo,_t=[0,0,0],bt=[0,0,0],C=0,J=function(){return C=rr()},M=function(G,de){return(u.event=G)&&f&&~f.indexOf(G.target)||de&&Ve&&G.pointerType!=="touch"||ae&&ae(G,de)},fe=function(){u._vx.reset(),u._vy.reset(),O.pause(),m&&m(u)},V=function(){var G=u.deltaX=Is(_t),de=u.deltaY=Is(bt),E=Math.abs(G)>=o,F=Math.abs(de)>=o;B&&(E||F)&&B(u,G,de,_t,bt),E&&(j&&u.deltaX>0&&j(u),X&&u.deltaX<0&&X(u),A&&A(u),b&&u.deltaX<0!=Ue<0&&b(u),Ue=u.deltaX,_t[0]=_t[1]=_t[2]=0),F&&(ge&&u.deltaY>0&&ge(u),x&&u.deltaY<0&&x(u),h&&h(u),N&&u.deltaY<0!=Ge<0&&N(u),Ge=u.deltaY,bt[0]=bt[1]=bt[2]=0),(R||we)&&(Ne&&Ne(u),we&&(y&&we===1&&y(u),k&&k(u),we=0),R=!1),Z&&!(Z=!1)&&Ce&&Ce(u),$&&(le(u),$=!1),U=0},ee=function(G,de,E){_t[E]+=G,bt[E]+=de,u._vx.update(G),u._vy.update(de),p?U||(U=requestAnimationFrame(V)):V()},_e=function(G,de){Re&&!pe&&(u.axis=pe=Math.abs(G)>Math.abs(de)?"x":"y",Z=!0),pe!=="y"&&(_t[2]+=G,u._vx.update(G,!0)),pe!=="x"&&(bt[2]+=de,u._vy.update(de,!0)),p?U||(U=requestAnimationFrame(V)):V()},I=function(G){if(!M(G,1)){G=Zo(G,T);var de=G.clientX,E=G.clientY,F=de-u.x,_=E-u.y,w=u.isDragging;u.x=de,u.y=E,(w||(F||_)&&(Math.abs(u.startX-de)>=s||Math.abs(u.startY-E)>=s))&&(we=w?2:1,w||(u.isDragging=!0),_e(F,_))}},te=u.onPress=function(D){M(D,1)||D&&D.button||(u.axis=pe=null,O.pause(),u.isPressed=!0,D=Zo(D),Ue=Ge=0,u.startX=u.x=D.clientX,u.startY=u.y=D.clientY,u._vx.reset(),u._vy.reset(),kt(Te?i:Qe,Qt[1],I,et,!0),u.deltaX=u.deltaY=0,P&&P(u))},H=u.onRelease=function(D){if(!M(D,1)){Dt(Te?i:Qe,Qt[1],I,!0);var G=!isNaN(u.y-u.startY),de=u.isDragging,E=de&&(Math.abs(u.x-u.startX)>3||Math.abs(u.y-u.startY)>3),F=Zo(D);!E&&G&&(u._vx.reset(),u._vy.reset(),T&&Le&&xt.delayedCall(.08,function(){if(rr()-C>300&&!D.defaultPrevented){if(D.target.click)D.target.click();else if(Qe.createEvent){var _=Qe.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,Yt,1,F.screenX,F.screenY,F.clientX,F.clientY,!1,!1,!1,!1,0,null),D.target.dispatchEvent(_)}}})),u.isDragging=u.isGesturing=u.isPressed=!1,m&&de&&!Te&&O.restart(!0),we&&V(),Q&&de&&Q(u),d&&d(u,E)}},re=function(G){return G.touches&&G.touches.length>1&&(u.isGesturing=!0)&&K(G,u.isDragging)},ze=function(){return(u.isGesturing=!1)||l(u)},Ye=function(G){if(!M(G)){var de=Be(),E=ot();ee((de-rt)*$e,(E-at)*$e,1),rt=de,at=E,m&&O.restart(!0)}},De=function(G){if(!M(G)){G=Zo(G,T),le&&($=!0);var de=(G.deltaMode===1?c:G.deltaMode===2?Yt.innerHeight:1)*g;ee(G.deltaX*de,G.deltaY*de,0),m&&!Te&&O.restart(!0)}},yt=function(G){if(!M(G)){var de=G.clientX,E=G.clientY,F=de-u.x,_=E-u.y;u.x=de,u.y=E,R=!0,m&&O.restart(!0),(F||_)&&_e(F,_)}},Tt=function(G){u.event=G,me(u)},ht=function(G){u.event=G,he(u)},Lt=function(G){return M(G)||Zo(G,T)&&Pe(u)};O=u._dc=xt.delayedCall(v||.25,fe).pause(),u.deltaX=u.deltaY=0,u._vx=ps(0,50,!0),u._vy=ps(0,50,!0),u.scrollX=Be,u.scrollY=ot,u.isDragging=u.isGesturing=u.isPressed=!1,un(this),u.enable=function(D){return u.isEnabled||(kt(Wt?Qe:i,"scroll",fs),n.indexOf("scroll")>=0&&kt(Wt?Qe:i,"scroll",Ye,et,Ae),n.indexOf("wheel")>=0&&kt(i,"wheel",De,et,Ae),(n.indexOf("touch")>=0&&ln||n.indexOf("pointer")>=0)&&(kt(i,Qt[0],te,et,Ae),kt(Qe,Qt[2],H),kt(Qe,Qt[3],H),Le&&kt(i,"click",J,!0,!0),Pe&&kt(i,"click",Lt),K&&kt(Qe,"gesturestart",re),l&&kt(Qe,"gestureend",ze),me&&kt(i,yo+"enter",Tt),he&&kt(i,yo+"leave",ht),Ne&&kt(i,yo+"move",yt)),u.isEnabled=!0,u.isDragging=u.isGesturing=u.isPressed=R=we=!1,u._vx.reset(),u._vy.reset(),rt=Be(),at=ot(),D&&D.type&&te(D),ne&&ne(u)),u},u.disable=function(){u.isEnabled&&(No.filter(function(D){return D!==u&&sr(D.target)}).length||Dt(Wt?Qe:i,"scroll",fs),u.isPressed&&(u._vx.reset(),u._vy.reset(),Dt(Te?i:Qe,Qt[1],I,!0)),Dt(Wt?Qe:i,"scroll",Ye,Ae),Dt(i,"wheel",De,Ae),Dt(i,Qt[0],te,Ae),Dt(Qe,Qt[2],H),Dt(Qe,Qt[3],H),Dt(i,"click",J,!0),Dt(i,"click",Lt),Dt(Qe,"gesturestart",re),Dt(Qe,"gestureend",ze),Dt(i,yo+"enter",Tt),Dt(i,yo+"leave",ht),Dt(i,yo+"move",yt),u.isEnabled=u.isPressed=u.isDragging=!1,ue&&ue(u))},u.kill=u.revert=function(){u.disable();var D=No.indexOf(u);D>=0&&No.splice(D,1),ao===u&&(ao=0)},No.push(u),Te&&sr(i)&&(ao=u),u.enable(S)},di(a,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),a}();it.version="3.12.7";it.create=function(a){return new it(a)};it.register=hn;it.getAll=function(){return No.slice()};it.getById=function(a){return No.filter(function(e){return e.vars.id===a})[0]};fn()&&xt.registerPlugin(it);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var W,Bo,Ie,qe,Gt,Xe,bs,Nr,mr,nr,qo,br,Mt,jr,ds,Rt,Os,Ls,Ho,gn,Qr,mn,At,hs,vn,wn,ho,gs,ys,Go,Ts,Ur,ms,Kr,yr=1,St=Date.now,Jr=St(),Vt=0,Qo=0,zs=function(e,r,t){var o=Ut(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=o,o?e.substr(6,e.length-7):e},Bs=function(e,r){return r&&(!Ut(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},gi=function a(){return Qo&&requestAnimationFrame(a)},Hs=function(){return jr=1},Fs=function(){return jr=0},to=function(e){return e},Ko=function(e){return Math.round(e*1e5)/1e5||0},_n=function(){return typeof window<"u"},xn=function(){return W||_n()&&(W=window.gsap)&&W.registerPlugin&&W},ko=function(e){return!!~bs.indexOf(e)},bn=function(e){return(e==="Height"?Ts:Ie["inner"+e])||Gt["client"+e]||Xe["client"+e]},yn=function(e){return wo(e,"getBoundingClientRect")||(ko(e)?function(){return Hr.width=Ie.innerWidth,Hr.height=Ts,Hr}:function(){return io(e)})},mi=function(e,r,t){var o=t.d,s=t.d2,n=t.a;return(n=wo(e,"getBoundingClientRect"))?function(){return n()[o]}:function(){return(r?bn(s):e["client"+s])||0}},vi=function(e,r){return!r||~so.indexOf(e)?yn(e):function(){return Hr}},ro=function(e,r){var t=r.s,o=r.d2,s=r.d,n=r.a;return Math.max(0,(t="scroll"+o)&&(n=wo(e,t))?n()-yn(e)()[s]:ko(e)?(Gt[t]||Xe[t])-bn(o):e[t]-e["offset"+o])},Tr=function(e,r){for(var t=0;t<Ho.length;t+=3)(!r||~r.indexOf(Ho[t+1]))&&e(Ho[t],Ho[t+1],Ho[t+2])},Ut=function(e){return typeof e=="string"},Et=function(e){return typeof e=="function"},Jo=function(e){return typeof e=="number"},To=function(e){return typeof e=="object"},Vo=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},es=function(e,r){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return r(e)}):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},Lo=Math.abs,Tn="left",Cn="top",Cs="right",Ms="bottom",So="width",Eo="height",ir="Right",ar="Left",lr="Top",cr="Bottom",ct="padding",$t="margin",jo="Width",Ps="Height",pt="px",Zt=function(e){return Ie.getComputedStyle(e)},wi=function(e){var r=Zt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Ns=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},io=function(e,r){var t=r&&Zt(e)[ds]!=="matrix(1, 0, 0, 1, 0, 0)"&&W.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return t&&t.progress(0).kill(),o},Gr=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},Mn=function(e){var r=[],t=e.labels,o=e.duration(),s;for(s in t)r.push(t[s]/o);return r},_i=function(e){return function(r){return W.utils.snap(Mn(e),r)}},Ss=function(e){var r=W.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(o,s){return o-s});return t?function(o,s,n){n===void 0&&(n=.001);var i;if(!s)return r(o);if(s>0){for(o-=n,i=0;i<t.length;i++)if(t[i]>=o)return t[i];return t[i-1]}else for(i=t.length,o+=n;i--;)if(t[i]<=o)return t[i];return t[0]}:function(o,s,n){n===void 0&&(n=.001);var i=r(o);return!s||Math.abs(i-o)<n||i-o<0==s<0?i:r(s<0?o-e:o+e)}},xi=function(e){return function(r,t){return Ss(Mn(e))(r,t.direction)}},Cr=function(e,r,t,o){return t.split(",").forEach(function(s){return e(r,s,o)})},wt=function(e,r,t,o,s){return e.addEventListener(r,t,{passive:!o,capture:!!s})},mt=function(e,r,t,o){return e.removeEventListener(r,t,!!o)},Mr=function(e,r,t){t=t&&t.wheelHandler,t&&(e(r,"wheel",t),e(r,"touchmove",t))},Us={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Pr={toggleActions:"play",anticipatePin:0},Yr={top:0,left:0,center:.5,bottom:1,right:1},Or=function(e,r){if(Ut(e)){var t=e.indexOf("="),o=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(o*=r/100),e=e.substr(0,t-1)),e=o+(e in Yr?Yr[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},Sr=function(e,r,t,o,s,n,i,c){var p=s.startColor,T=s.endColor,m=s.fontSize,v=s.indent,f=s.fontWeight,g=qe.createElement("div"),S=ko(t)||wo(t,"pinType")==="fixed",y=e.indexOf("scroller")!==-1,Q=S?Xe:t,k=e.indexOf("start")!==-1,P=k?p:T,d="border-color:"+P+";font-size:"+m+";color:"+P+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return d+="position:"+((y||c)&&S?"fixed;":"absolute;"),(y||c||!S)&&(d+=(o===dt?Cs:Ms)+":"+(n+parseFloat(v))+"px;"),i&&(d+="box-sizing:border-box;text-align:left;width:"+i.offsetWidth+"px;"),g._isStart=k,g.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),g.style.cssText=d,g.innerText=r||r===0?e+"-"+r:e,Q.children[0]?Q.insertBefore(g,Q.children[0]):Q.appendChild(g),g._offset=g["offset"+o.op.d2],Lr(g,0,o,k),g},Lr=function(e,r,t,o){var s={display:"block"},n=t[o?"os2":"p2"],i=t[o?"p2":"os2"];e._isFlipped=o,s[t.a+"Percent"]=o?-100:0,s[t.a]=o?"1px":0,s["border"+n+jo]=1,s["border"+i+jo]=0,s[t.p]=r+"px",W.set(e,s)},ke=[],vs={},vr,Gs=function(){return St()-Vt>34&&(vr||(vr=requestAnimationFrame(lo)))},zo=function(){(!At||!At.isPressed||At.startX>Xe.clientWidth)&&(Oe.cache++,At?vr||(vr=requestAnimationFrame(lo)):lo(),Vt||Ro("scrollStart"),Vt=St())},ts=function(){wn=Ie.innerWidth,vn=Ie.innerHeight},er=function(e){Oe.cache++,(e===!0||!Mt&&!mn&&!qe.fullscreenElement&&!qe.webkitFullscreenElement&&(!hs||wn!==Ie.innerWidth||Math.abs(Ie.innerHeight-vn)>Ie.innerHeight*.25))&&Nr.restart(!0)},Ao={},bi=[],Pn=function a(){return mt(Me,"scrollEnd",a)||Mo(!0)},Ro=function(e){return Ao[e]&&Ao[e].map(function(r){return r()})||bi},Nt=[],Sn=function(e){for(var r=0;r<Nt.length;r+=5)(!e||Nt[r+4]&&Nt[r+4].query===e)&&(Nt[r].style.cssText=Nt[r+1],Nt[r].getBBox&&Nt[r].setAttribute("transform",Nt[r+2]||""),Nt[r+3].uncache=1)},Es=function(e,r){var t;for(Rt=0;Rt<ke.length;Rt++)t=ke[Rt],t&&(!r||t._ctx===r)&&(e?t.kill(1):t.revert(!0,!0));Ur=!0,r&&Sn(r),r||Ro("revert")},En=function(e,r){Oe.cache++,(r||!It)&&Oe.forEach(function(t){return Et(t)&&t.cacheID++&&(t.rec=0)}),Ut(e)&&(Ie.history.scrollRestoration=ys=e)},It,Do=0,Ys,yi=function(){if(Ys!==Do){var e=Ys=Do;requestAnimationFrame(function(){return e===Do&&Mo(!0)})}},Dn=function(){Xe.appendChild(Go),Ts=!At&&Go.offsetHeight||Ie.innerHeight,Xe.removeChild(Go)},Ws=function(e){return mr(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},Mo=function(e,r){if(Gt=qe.documentElement,Xe=qe.body,bs=[Ie,qe,Gt,Xe],Vt&&!e&&!Ur){wt(Me,"scrollEnd",Pn);return}Dn(),It=Me.isRefreshing=!0,Oe.forEach(function(o){return Et(o)&&++o.cacheID&&(o.rec=o())});var t=Ro("refreshInit");gn&&Me.sort(),r||Es(),Oe.forEach(function(o){Et(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),ke.slice(0).forEach(function(o){return o.refresh()}),Ur=!1,ke.forEach(function(o){if(o._subPinOffset&&o.pin){var s=o.vars.horizontal?"offsetWidth":"offsetHeight",n=o.pin[s];o.revert(!0,1),o.adjustPinSpacing(o.pin[s]-n),o.refresh()}}),ms=1,Ws(!0),ke.forEach(function(o){var s=ro(o.scroller,o._dir),n=o.vars.end==="max"||o._endClamp&&o.end>s,i=o._startClamp&&o.start>=s;(n||i)&&o.setPositions(i?s-1:o.start,n?Math.max(i?s:o.start+1,s):o.end,!0)}),Ws(!1),ms=0,t.forEach(function(o){return o&&o.render&&o.render(-1)}),Oe.forEach(function(o){Et(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),En(ys,1),Nr.pause(),Do++,It=2,lo(2),ke.forEach(function(o){return Et(o.vars.onRefresh)&&o.vars.onRefresh(o)}),It=Me.isRefreshing=!1,Ro("refresh")},ws=0,zr=1,ur,lo=function(e){if(e===2||!It&&!Ur){Me.isUpdating=!0,ur&&ur.update(0);var r=ke.length,t=St(),o=t-Jr>=50,s=r&&ke[0].scroll();if(zr=ws>s?-1:1,It||(ws=s),o&&(Vt&&!jr&&t-Vt>200&&(Vt=0,Ro("scrollEnd")),qo=Jr,Jr=t),zr<0){for(Rt=r;Rt-- >0;)ke[Rt]&&ke[Rt].update(0,o);zr=1}else for(Rt=0;Rt<r;Rt++)ke[Rt]&&ke[Rt].update(0,o);Me.isUpdating=!1}vr=0},_s=[Tn,Cn,Ms,Cs,$t+cr,$t+ir,$t+lr,$t+ar,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Br=_s.concat([So,Eo,"boxSizing","max"+jo,"max"+Ps,"position",$t,ct,ct+lr,ct+ir,ct+cr,ct+ar]),Ti=function(e,r,t){Yo(t);var o=e._gsap;if(o.spacerIsNative)Yo(o.spacerState);else if(e._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(e,r),s.removeChild(r))}e._gsap.swappedIn=!1},os=function(e,r,t,o){if(!e._gsap.swappedIn){for(var s=_s.length,n=r.style,i=e.style,c;s--;)c=_s[s],n[c]=t[c];n.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(n.display="inline-block"),i[Ms]=i[Cs]="auto",n.flexBasis=t.flexBasis||"auto",n.overflow="visible",n.boxSizing="border-box",n[So]=Gr(e,Ot)+pt,n[Eo]=Gr(e,dt)+pt,n[ct]=i[$t]=i[Cn]=i[Tn]="0",Yo(o),i[So]=i["max"+jo]=t[So],i[Eo]=i["max"+Ps]=t[Eo],i[ct]=t[ct],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},Ci=/([A-Z])/g,Yo=function(e){if(e){var r=e.t.style,t=e.length,o=0,s,n;for((e.t._gsap||W.core.getCache(e.t)).uncache=1;o<t;o+=2)n=e[o+1],s=e[o],n?r[s]=n:r[s]&&r.removeProperty(s.replace(Ci,"-$1").toLowerCase())}},Er=function(e){for(var r=Br.length,t=e.style,o=[],s=0;s<r;s++)o.push(Br[s],t[Br[s]]);return o.t=e,o},Mi=function(e,r,t){for(var o=[],s=e.length,n=t?8:0,i;n<s;n+=2)i=e[n],o.push(i,i in r?r[i]:e[n+1]);return o.t=e.t,o},Hr={left:0,top:0},Xs=function(e,r,t,o,s,n,i,c,p,T,m,v,f,g){Et(e)&&(e=e(c)),Ut(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?Or("0"+e.substr(3),t):0));var S=f?f.time():0,y,Q,k;if(f&&f.seek(0),isNaN(e)||(e=+e),Jo(e))f&&(e=W.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,v,e)),i&&Lr(i,t,o,!0);else{Et(r)&&(r=r(c));var P=(e||"0").split(" "),d,j,X,x;k=Bt(r,c)||Xe,d=io(k)||{},(!d||!d.left&&!d.top)&&Zt(k).display==="none"&&(x=k.style.display,k.style.display="block",d=io(k),x?k.style.display=x:k.style.removeProperty("display")),j=Or(P[0],d[o.d]),X=Or(P[1]||"0",t),e=d[o.p]-p[o.p]-T+j+s-X,i&&Lr(i,X,o,t-X<20||i._isStart&&X>20),t-=t-X}if(g&&(c[g]=e||-.001,e<0&&(e=0)),n){var ge=e+t,A=n._isStart;y="scroll"+o.d2,Lr(n,ge,o,A&&ge>20||!A&&(m?Math.max(Xe[y],Gt[y]):n.parentNode[y])<=ge+1),m&&(p=io(i),m&&(n.style[o.op.p]=p[o.op.p]-o.op.m-n._offset+pt))}return f&&k&&(y=io(k),f.seek(v),Q=io(k),f._caScrollDist=y[o.p]-Q[o.p],e=e/f._caScrollDist*v),f&&f.seek(S),f?e:Math.round(e)},Pi=/(webkit|moz|length|cssText|inset)/i,js=function(e,r,t,o){if(e.parentNode!==r){var s=e.style,n,i;if(r===Xe){e._stOrig=s.cssText,i=Zt(e);for(n in i)!+n&&!Pi.test(n)&&i[n]&&typeof s[n]=="string"&&n!=="0"&&(s[n]=i[n]);s.top=t,s.left=o}else s.cssText=e._stOrig;W.core.getCache(e).uncache=1,r.appendChild(e)}},kn=function(e,r,t){var o=r,s=o;return function(n){var i=Math.round(e());return i!==o&&i!==s&&Math.abs(i-o)>3&&Math.abs(i-s)>3&&(n=i,t&&t()),s=o,o=Math.round(n),o}},Dr=function(e,r,t){var o={};o[r.p]="+="+t,W.set(e,o)},$s=function(e,r){var t=_o(e,r),o="_scroll"+r.p2,s=function n(i,c,p,T,m){var v=n.tween,f=c.onComplete,g={};p=p||t();var S=kn(t,p,function(){v.kill(),n.tween=0});return m=T&&m||0,T=T||i-p,v&&v.kill(),c[o]=i,c.inherit=!1,c.modifiers=g,g[o]=function(){return S(p+T*v.ratio+m*v.ratio*v.ratio)},c.onUpdate=function(){Oe.cache++,n.tween&&lo()},c.onComplete=function(){n.tween=0,f&&f.call(v)},v=n.tween=W.to(e,c),v};return e[o]=t,t.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},wt(e,"wheel",t.wheelHandler),Me.isTouch&&wt(e,"touchmove",t.wheelHandler),s},Me=function(){function a(r,t){Bo||a.register(W)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),gs(this),this.init(r,t)}var e=a.prototype;return e.init=function(t,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Qo){this.update=this.refresh=this.kill=to;return}t=Ns(Ut(t)||Jo(t)||t.nodeType?{trigger:t}:t,Pr);var s=t,n=s.onUpdate,i=s.toggleClass,c=s.id,p=s.onToggle,T=s.onRefresh,m=s.scrub,v=s.trigger,f=s.pin,g=s.pinSpacing,S=s.invalidateOnRefresh,y=s.anticipatePin,Q=s.onScrubComplete,k=s.onSnapComplete,P=s.once,d=s.snap,j=s.pinReparent,X=s.pinSpacer,x=s.containerAnimation,ge=s.fastScrollEnd,A=s.preventOverlaps,h=t.horizontal||t.containerAnimation&&t.horizontal!==!1?Ot:dt,B=!m&&m!==0,b=Bt(t.scroller||Ie),N=W.core.getCache(b),me=ko(b),he=("pinType"in t?t.pinType:wo(b,"pinType")||me&&"fixed")==="fixed",Ne=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ae=B&&t.toggleActions.split(" "),Te="markers"in t?t.markers:Pr.markers,K=me?0:parseFloat(Zt(b)["border"+h.p2+jo])||0,l=this,le=t.onRefreshInit&&function(){return t.onRefreshInit(l)},ne=mi(b,me,h),ue=vi(b,me),Pe=0,$e=0,Ae=0,Le=_o(b,h),Re,Ce,U,O,we,R,$,Z,pe,u,Ue,Ge,et,Be,ot,rt,at,Ve,Wt,Qe,_t,bt,C,J,M,fe,V,ee,_e,I,te,H,re,ze,Ye,De,yt,Tt,ht;if(l._startClamp=l._endClamp=!1,l._dir=h,y*=45,l.scroller=b,l.scroll=x?x.time.bind(x):Le,O=Le(),l.vars=t,o=o||t.animation,"refreshPriority"in t&&(gn=1,t.refreshPriority===-9999&&(ur=l)),N.tweenScroll=N.tweenScroll||{top:$s(b,dt),left:$s(b,Ot)},l.tweenTo=Re=N.tweenScroll[h.p],l.scrubDuration=function(E){re=Jo(E)&&E,re?H?H.duration(E):H=W.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:re,paused:!0,onComplete:function(){return Q&&Q(l)}}):(H&&H.progress(1).kill(),H=0)},o&&(o.vars.lazy=!1,o._initted&&!l.isReverted||o.vars.immediateRender!==!1&&t.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),l.animation=o.pause(),o.scrollTrigger=l,l.scrubDuration(m),I=0,c||(c=o.vars.id)),d&&((!To(d)||d.push)&&(d={snapTo:d}),"scrollBehavior"in Xe.style&&W.set(me?[Xe,Gt]:b,{scrollBehavior:"auto"}),Oe.forEach(function(E){return Et(E)&&E.target===(me?qe.scrollingElement||Gt:b)&&(E.smooth=!1)}),U=Et(d.snapTo)?d.snapTo:d.snapTo==="labels"?_i(o):d.snapTo==="labelsDirectional"?xi(o):d.directional!==!1?function(E,F){return Ss(d.snapTo)(E,St()-$e<500?0:F.direction)}:W.utils.snap(d.snapTo),ze=d.duration||{min:.1,max:2},ze=To(ze)?nr(ze.min,ze.max):nr(ze,ze),Ye=W.delayedCall(d.delay||re/2||.1,function(){var E=Le(),F=St()-$e<500,_=Re.tween;if((F||Math.abs(l.getVelocity())<10)&&!_&&!jr&&Pe!==E){var w=(E-R)/Be,xe=o&&!B?o.totalProgress():w,L=F?0:(xe-te)/(St()-qo)*1e3||0,se=W.utils.clamp(-w,1-w,Lo(L/2)*L/.185),z=w+(d.inertia===!1?0:se),oe,Y,ce=d,ie=ce.onStart,q=ce.onInterrupt,ye=ce.onComplete;if(oe=U(z,l),Jo(oe)||(oe=z),Y=Math.max(0,Math.round(R+oe*Be)),E<=$&&E>=R&&Y!==E){if(_&&!_._initted&&_.data<=Lo(Y-E))return;d.inertia===!1&&(se=oe-w),Re(Y,{duration:ze(Lo(Math.max(Lo(z-xe),Lo(oe-xe))*.185/L/.05||0)),ease:d.ease||"power3",data:Lo(Y-E),onInterrupt:function(){return Ye.restart(!0)&&q&&q(l)},onComplete:function(){l.update(),Pe=Le(),o&&!B&&(H?H.resetTo("totalProgress",oe,o._tTime/o._tDur):o.progress(oe)),I=te=o&&!B?o.totalProgress():l.progress,k&&k(l),ye&&ye(l)}},E,se*Be,Y-E-se*Be),ie&&ie(l,Re.tween)}}else l.isActive&&Pe!==E&&Ye.restart(!0)}).pause()),c&&(vs[c]=l),v=l.trigger=Bt(v||f!==!0&&f),ht=v&&v._gsap&&v._gsap.stRevert,ht&&(ht=ht(l)),f=f===!0?v:Bt(f),Ut(i)&&(i={targets:v,className:i}),f&&(g===!1||g===$t||(g=!g&&f.parentNode&&f.parentNode.style&&Zt(f.parentNode).display==="flex"?!1:ct),l.pin=f,Ce=W.core.getCache(f),Ce.spacer?ot=Ce.pinState:(X&&(X=Bt(X),X&&!X.nodeType&&(X=X.current||X.nativeElement),Ce.spacerIsNative=!!X,X&&(Ce.spacerState=Er(X))),Ce.spacer=Ve=X||qe.createElement("div"),Ve.classList.add("pin-spacer"),c&&Ve.classList.add("pin-spacer-"+c),Ce.pinState=ot=Er(f)),t.force3D!==!1&&W.set(f,{force3D:!0}),l.spacer=Ve=Ce.spacer,_e=Zt(f),J=_e[g+h.os2],Qe=W.getProperty(f),_t=W.quickSetter(f,h.a,pt),os(f,Ve,_e),at=Er(f)),Te){Ge=To(Te)?Ns(Te,Us):Us,u=Sr("scroller-start",c,b,h,Ge,0),Ue=Sr("scroller-end",c,b,h,Ge,0,u),Wt=u["offset"+h.op.d2];var Lt=Bt(wo(b,"content")||b);Z=this.markerStart=Sr("start",c,Lt,h,Ge,Wt,0,x),pe=this.markerEnd=Sr("end",c,Lt,h,Ge,Wt,0,x),x&&(Tt=W.quickSetter([Z,pe],h.a,pt)),!he&&!(so.length&&wo(b,"fixedMarkers")===!0)&&(wi(me?Xe:b),W.set([u,Ue],{force3D:!0}),fe=W.quickSetter(u,h.a,pt),ee=W.quickSetter(Ue,h.a,pt))}if(x){var D=x.vars.onUpdate,G=x.vars.onUpdateParams;x.eventCallback("onUpdate",function(){l.update(0,0,1),D&&D.apply(x,G||[])})}if(l.previous=function(){return ke[ke.indexOf(l)-1]},l.next=function(){return ke[ke.indexOf(l)+1]},l.revert=function(E,F){if(!F)return l.kill(!0);var _=E!==!1||!l.enabled,w=Mt;_!==l.isReverted&&(_&&(De=Math.max(Le(),l.scroll.rec||0),Ae=l.progress,yt=o&&o.progress()),Z&&[Z,pe,u,Ue].forEach(function(xe){return xe.style.display=_?"none":"block"}),_&&(Mt=l,l.update(_)),f&&(!j||!l.isActive)&&(_?Ti(f,Ve,ot):os(f,Ve,Zt(f),M)),_||l.update(_),Mt=w,l.isReverted=_)},l.refresh=function(E,F,_,w){if(!((Mt||!l.enabled)&&!F)){if(f&&E&&Vt){wt(a,"scrollEnd",Pn);return}!It&&le&&le(l),Mt=l,Re.tween&&!_&&(Re.tween.kill(),Re.tween=0),H&&H.pause(),S&&o&&o.revert({kill:!1}).invalidate(),l.isReverted||l.revert(!0,!0),l._subPinOffset=!1;var xe=ne(),L=ue(),se=x?x.duration():ro(b,h),z=Be<=.01,oe=0,Y=w||0,ce=To(_)?_.end:t.end,ie=t.endTrigger||v,q=To(_)?_.start:t.start||(t.start===0||!v?0:f?"0 0":"0 100%"),ye=l.pinnedContainer=t.pinnedContainer&&Bt(t.pinnedContainer,l),Fe=v&&Math.max(0,ke.indexOf(l))||0,Se=Fe,Ee,ut,eo,xo,ft,st,Xt,uo,tt,zt,nt,lt,no;for(Te&&To(_)&&(lt=W.getProperty(u,h.p),no=W.getProperty(Ue,h.p));Se-- >0;)st=ke[Se],st.end||st.refresh(0,1)||(Mt=l),Xt=st.pin,Xt&&(Xt===v||Xt===f||Xt===ye)&&!st.isReverted&&(zt||(zt=[]),zt.unshift(st),st.revert(!0,!0)),st!==ke[Se]&&(Fe--,Se--);for(Et(q)&&(q=q(l)),q=zs(q,"start",l),R=Xs(q,v,xe,h,Le(),Z,u,l,L,K,he,se,x,l._startClamp&&"_startClamp")||(f?-.001:0),Et(ce)&&(ce=ce(l)),Ut(ce)&&!ce.indexOf("+=")&&(~ce.indexOf(" ")?ce=(Ut(q)?q.split(" ")[0]:"")+ce:(oe=Or(ce.substr(2),xe),ce=Ut(q)?q:(x?W.utils.mapRange(0,x.duration(),x.scrollTrigger.start,x.scrollTrigger.end,R):R)+oe,ie=v)),ce=zs(ce,"end",l),$=Math.max(R,Xs(ce||(ie?"100% 0":se),ie,xe,h,Le()+oe,pe,Ue,l,L,K,he,se,x,l._endClamp&&"_endClamp"))||-.001,oe=0,Se=Fe;Se--;)st=ke[Se],Xt=st.pin,Xt&&st.start-st._pinPush<=R&&!x&&st.end>0&&(Ee=st.end-(l._startClamp?Math.max(0,st.start):st.start),(Xt===v&&st.start-st._pinPush<R||Xt===ye)&&isNaN(q)&&(oe+=Ee*(1-st.progress)),Xt===f&&(Y+=Ee));if(R+=oe,$+=oe,l._startClamp&&(l._startClamp+=oe),l._endClamp&&!It&&(l._endClamp=$||-.001,$=Math.min($,ro(b,h))),Be=$-R||(R-=.01)&&.001,z&&(Ae=W.utils.clamp(0,1,W.utils.normalize(R,$,De))),l._pinPush=Y,Z&&oe&&(Ee={},Ee[h.a]="+="+oe,ye&&(Ee[h.p]="-="+Le()),W.set([Z,pe],Ee)),f&&!(ms&&l.end>=ro(b,h)))Ee=Zt(f),xo=h===dt,eo=Le(),bt=parseFloat(Qe(h.a))+Y,!se&&$>1&&(nt=(me?qe.scrollingElement||Gt:b).style,nt={style:nt,value:nt["overflow"+h.a.toUpperCase()]},me&&Zt(Xe)["overflow"+h.a.toUpperCase()]!=="scroll"&&(nt.style["overflow"+h.a.toUpperCase()]="scroll")),os(f,Ve,Ee),at=Er(f),ut=io(f,!0),uo=he&&_o(b,xo?Ot:dt)(),g?(M=[g+h.os2,Be+Y+pt],M.t=Ve,Se=g===ct?Gr(f,h)+Be+Y:0,Se&&(M.push(h.d,Se+pt),Ve.style.flexBasis!=="auto"&&(Ve.style.flexBasis=Se+pt)),Yo(M),ye&&ke.forEach(function(Ct){Ct.pin===ye&&Ct.vars.pinSpacing!==!1&&(Ct._subPinOffset=!0)}),he&&Le(De)):(Se=Gr(f,h),Se&&Ve.style.flexBasis!=="auto"&&(Ve.style.flexBasis=Se+pt)),he&&(ft={top:ut.top+(xo?eo-R:uo)+pt,left:ut.left+(xo?uo:eo-R)+pt,boxSizing:"border-box",position:"fixed"},ft[So]=ft["max"+jo]=Math.ceil(ut.width)+pt,ft[Eo]=ft["max"+Ps]=Math.ceil(ut.height)+pt,ft[$t]=ft[$t+lr]=ft[$t+ir]=ft[$t+cr]=ft[$t+ar]="0",ft[ct]=Ee[ct],ft[ct+lr]=Ee[ct+lr],ft[ct+ir]=Ee[ct+ir],ft[ct+cr]=Ee[ct+cr],ft[ct+ar]=Ee[ct+ar],rt=Mi(ot,ft,j),It&&Le(0)),o?(tt=o._initted,Qr(1),o.render(o.duration(),!0,!0),C=Qe(h.a)-bt+Be+Y,V=Math.abs(Be-C)>1,he&&V&&rt.splice(rt.length-2,2),o.render(0,!0,!0),tt||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),Qr(0)):C=Be,nt&&(nt.value?nt.style["overflow"+h.a.toUpperCase()]=nt.value:nt.style.removeProperty("overflow-"+h.a));else if(v&&Le()&&!x)for(ut=v.parentNode;ut&&ut!==Xe;)ut._pinOffset&&(R-=ut._pinOffset,$-=ut._pinOffset),ut=ut.parentNode;zt&&zt.forEach(function(Ct){return Ct.revert(!1,!0)}),l.start=R,l.end=$,O=we=It?De:Le(),!x&&!It&&(O<De&&Le(De),l.scroll.rec=0),l.revert(!1,!0),$e=St(),Ye&&(Pe=-1,Ye.restart(!0)),Mt=0,o&&B&&(o._initted||yt)&&o.progress()!==yt&&o.progress(yt||0,!0).render(o.time(),!0,!0),(z||Ae!==l.progress||x||S||o&&!o._initted)&&(o&&!B&&o.totalProgress(x&&R<-.001&&!Ae?W.utils.normalize(R,$,0):Ae,!0),l.progress=z||(O-R)/Be===Ae?0:Ae),f&&g&&(Ve._pinOffset=Math.round(l.progress*C)),H&&H.invalidate(),isNaN(lt)||(lt-=W.getProperty(u,h.p),no-=W.getProperty(Ue,h.p),Dr(u,h,lt),Dr(Z,h,lt-(w||0)),Dr(Ue,h,no),Dr(pe,h,no-(w||0))),z&&!It&&l.update(),T&&!It&&!et&&(et=!0,T(l),et=!1)}},l.getVelocity=function(){return(Le()-we)/(St()-qo)*1e3||0},l.endAnimation=function(){Vo(l.callbackAnimation),o&&(H?H.progress(1):o.paused()?B||Vo(o,l.direction<0,1):Vo(o,o.reversed()))},l.labelToScroll=function(E){return o&&o.labels&&(R||l.refresh()||R)+o.labels[E]/o.duration()*Be||0},l.getTrailing=function(E){var F=ke.indexOf(l),_=l.direction>0?ke.slice(0,F).reverse():ke.slice(F+1);return(Ut(E)?_.filter(function(w){return w.vars.preventOverlaps===E}):_).filter(function(w){return l.direction>0?w.end<=R:w.start>=$})},l.update=function(E,F,_){if(!(x&&!_&&!E)){var w=It===!0?De:l.scroll(),xe=E?0:(w-R)/Be,L=xe<0?0:xe>1?1:xe||0,se=l.progress,z,oe,Y,ce,ie,q,ye,Fe;if(F&&(we=O,O=x?Le():w,d&&(te=I,I=o&&!B?o.totalProgress():L)),y&&f&&!Mt&&!yr&&Vt&&(!L&&R<w+(w-we)/(St()-qo)*y?L=1e-4:L===1&&$>w+(w-we)/(St()-qo)*y&&(L=.9999)),L!==se&&l.enabled){if(z=l.isActive=!!L&&L<1,oe=!!se&&se<1,q=z!==oe,ie=q||!!L!=!!se,l.direction=L>se?1:-1,l.progress=L,ie&&!Mt&&(Y=L&&!se?0:L===1?1:se===1?2:3,B&&(ce=!q&&ae[Y+1]!=="none"&&ae[Y+1]||ae[Y],Fe=o&&(ce==="complete"||ce==="reset"||ce in o))),A&&(q||Fe)&&(Fe||m||!o)&&(Et(A)?A(l):l.getTrailing(A).forEach(function(eo){return eo.endAnimation()})),B||(H&&!Mt&&!yr?(H._dp._time-H._start!==H._time&&H.render(H._dp._time-H._start),H.resetTo?H.resetTo("totalProgress",L,o._tTime/o._tDur):(H.vars.totalProgress=L,H.invalidate().restart())):o&&o.totalProgress(L,!!(Mt&&($e||E)))),f){if(E&&g&&(Ve.style[g+h.os2]=J),!he)_t(Ko(bt+C*L));else if(ie){if(ye=!E&&L>se&&$+1>w&&w+1>=ro(b,h),j)if(!E&&(z||ye)){var Se=io(f,!0),Ee=w-R;js(f,Xe,Se.top+(h===dt?Ee:0)+pt,Se.left+(h===dt?0:Ee)+pt)}else js(f,Ve);Yo(z||ye?rt:at),V&&L<1&&z||_t(bt+(L===1&&!ye?C:0))}}d&&!Re.tween&&!Mt&&!yr&&Ye.restart(!0),i&&(q||P&&L&&(L<1||!Kr))&&mr(i.targets).forEach(function(eo){return eo.classList[z||P?"add":"remove"](i.className)}),n&&!B&&!E&&n(l),ie&&!Mt?(B&&(Fe&&(ce==="complete"?o.pause().totalProgress(1):ce==="reset"?o.restart(!0).pause():ce==="restart"?o.restart(!0):o[ce]()),n&&n(l)),(q||!Kr)&&(p&&q&&es(l,p),Ne[Y]&&es(l,Ne[Y]),P&&(L===1?l.kill(!1,1):Ne[Y]=0),q||(Y=L===1?1:3,Ne[Y]&&es(l,Ne[Y]))),ge&&!z&&Math.abs(l.getVelocity())>(Jo(ge)?ge:2500)&&(Vo(l.callbackAnimation),H?H.progress(1):Vo(o,ce==="reverse"?1:!L,1))):B&&n&&!Mt&&n(l)}if(ee){var ut=x?w/x.duration()*(x._caScrollDist||0):w;fe(ut+(u._isFlipped?1:0)),ee(ut)}Tt&&Tt(-w/x.duration()*(x._caScrollDist||0))}},l.enable=function(E,F){l.enabled||(l.enabled=!0,wt(b,"resize",er),me||wt(b,"scroll",zo),le&&wt(a,"refreshInit",le),E!==!1&&(l.progress=Ae=0,O=we=Pe=Le()),F!==!1&&l.refresh())},l.getTween=function(E){return E&&Re?Re.tween:H},l.setPositions=function(E,F,_,w){if(x){var xe=x.scrollTrigger,L=x.duration(),se=xe.end-xe.start;E=xe.start+se*E/L,F=xe.start+se*F/L}l.refresh(!1,!1,{start:Bs(E,_&&!!l._startClamp),end:Bs(F,_&&!!l._endClamp)},w),l.update()},l.adjustPinSpacing=function(E){if(M&&E){var F=M.indexOf(h.d)+1;M[F]=parseFloat(M[F])+E+pt,M[1]=parseFloat(M[1])+E+pt,Yo(M)}},l.disable=function(E,F){if(l.enabled&&(E!==!1&&l.revert(!0,!0),l.enabled=l.isActive=!1,F||H&&H.pause(),De=0,Ce&&(Ce.uncache=1),le&&mt(a,"refreshInit",le),Ye&&(Ye.pause(),Re.tween&&Re.tween.kill()&&(Re.tween=0)),!me)){for(var _=ke.length;_--;)if(ke[_].scroller===b&&ke[_]!==l)return;mt(b,"resize",er),me||mt(b,"scroll",zo)}},l.kill=function(E,F){l.disable(E,F),H&&!F&&H.kill(),c&&delete vs[c];var _=ke.indexOf(l);_>=0&&ke.splice(_,1),_===Rt&&zr>0&&Rt--,_=0,ke.forEach(function(w){return w.scroller===l.scroller&&(_=1)}),_||It||(l.scroll.rec=0),o&&(o.scrollTrigger=null,E&&o.revert({kill:!1}),F||o.kill()),Z&&[Z,pe,u,Ue].forEach(function(w){return w.parentNode&&w.parentNode.removeChild(w)}),ur===l&&(ur=0),f&&(Ce&&(Ce.uncache=1),_=0,ke.forEach(function(w){return w.pin===f&&_++}),_||(Ce.spacer=0)),t.onKill&&t.onKill(l)},ke.push(l),l.enable(!1,!1),ht&&ht(l),o&&o.add&&!Be){var de=l.update;l.update=function(){l.update=de,Oe.cache++,R||$||l.refresh()},W.delayedCall(.01,l.update),Be=.01,R=$=0}else l.refresh();f&&yi()},a.register=function(t){return Bo||(W=t||xn(),_n()&&window.document&&a.enable(),Bo=Qo),Bo},a.defaults=function(t){if(t)for(var o in t)Pr[o]=t[o];return Pr},a.disable=function(t,o){Qo=0,ke.forEach(function(n){return n[o?"kill":"disable"](t)}),mt(Ie,"wheel",zo),mt(qe,"scroll",zo),clearInterval(br),mt(qe,"touchcancel",to),mt(Xe,"touchstart",to),Cr(mt,qe,"pointerdown,touchstart,mousedown",Hs),Cr(mt,qe,"pointerup,touchend,mouseup",Fs),Nr.kill(),Tr(mt);for(var s=0;s<Oe.length;s+=3)Mr(mt,Oe[s],Oe[s+1]),Mr(mt,Oe[s],Oe[s+2])},a.enable=function(){if(Ie=window,qe=document,Gt=qe.documentElement,Xe=qe.body,W&&(mr=W.utils.toArray,nr=W.utils.clamp,gs=W.core.context||to,Qr=W.core.suppressOverwrites||to,ys=Ie.history.scrollRestoration||"auto",ws=Ie.pageYOffset||0,W.core.globals("ScrollTrigger",a),Xe)){Qo=1,Go=document.createElement("div"),Go.style.height="100vh",Go.style.position="absolute",Dn(),gi(),it.register(W),a.isTouch=it.isTouch,ho=it.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),hs=it.isTouch===1,wt(Ie,"wheel",zo),bs=[Ie,qe,Gt,Xe],W.matchMedia?(a.matchMedia=function(p){var T=W.matchMedia(),m;for(m in p)T.add(m,p[m]);return T},W.addEventListener("matchMediaInit",function(){return Es()}),W.addEventListener("matchMediaRevert",function(){return Sn()}),W.addEventListener("matchMedia",function(){Mo(0,1),Ro("matchMedia")}),W.matchMedia().add("(orientation: portrait)",function(){return ts(),ts})):console.warn("Requires GSAP 3.11.0 or later"),ts(),wt(qe,"scroll",zo);var t=Xe.hasAttribute("style"),o=Xe.style,s=o.borderTopStyle,n=W.core.Animation.prototype,i,c;for(n.revert||Object.defineProperty(n,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",i=io(Xe),dt.m=Math.round(i.top+dt.sc())||0,Ot.m=Math.round(i.left+Ot.sc())||0,s?o.borderTopStyle=s:o.removeProperty("border-top-style"),t||(Xe.setAttribute("style",""),Xe.removeAttribute("style")),br=setInterval(Gs,250),W.delayedCall(.5,function(){return yr=0}),wt(qe,"touchcancel",to),wt(Xe,"touchstart",to),Cr(wt,qe,"pointerdown,touchstart,mousedown",Hs),Cr(wt,qe,"pointerup,touchend,mouseup",Fs),ds=W.utils.checkPrefix("transform"),Br.push(ds),Bo=St(),Nr=W.delayedCall(.2,Mo).pause(),Ho=[qe,"visibilitychange",function(){var p=Ie.innerWidth,T=Ie.innerHeight;qe.hidden?(Os=p,Ls=T):(Os!==p||Ls!==T)&&er()},qe,"DOMContentLoaded",Mo,Ie,"load",Mo,Ie,"resize",er],Tr(wt),ke.forEach(function(p){return p.enable(0,1)}),c=0;c<Oe.length;c+=3)Mr(mt,Oe[c],Oe[c+1]),Mr(mt,Oe[c],Oe[c+2])}},a.config=function(t){"limitCallbacks"in t&&(Kr=!!t.limitCallbacks);var o=t.syncInterval;o&&clearInterval(br)||(br=o)&&setInterval(Gs,o),"ignoreMobileResize"in t&&(hs=a.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Tr(mt)||Tr(wt,t.autoRefreshEvents||"none"),mn=(t.autoRefreshEvents+"").indexOf("resize")===-1)},a.scrollerProxy=function(t,o){var s=Bt(t),n=Oe.indexOf(s),i=ko(s);~n&&Oe.splice(n,i?6:2),o&&(i?so.unshift(Ie,o,Xe,o,Gt,o):so.unshift(s,o))},a.clearMatchMedia=function(t){ke.forEach(function(o){return o._ctx&&o._ctx.query===t&&o._ctx.kill(!0,!0)})},a.isInViewport=function(t,o,s){var n=(Ut(t)?Bt(t):t).getBoundingClientRect(),i=n[s?So:Eo]*o||0;return s?n.right-i>0&&n.left+i<Ie.innerWidth:n.bottom-i>0&&n.top+i<Ie.innerHeight},a.positionInViewport=function(t,o,s){Ut(t)&&(t=Bt(t));var n=t.getBoundingClientRect(),i=n[s?So:Eo],c=o==null?i/2:o in Yr?Yr[o]*i:~o.indexOf("%")?parseFloat(o)*i/100:parseFloat(o)||0;return s?(n.left+c)/Ie.innerWidth:(n.top+c)/Ie.innerHeight},a.killAll=function(t){if(ke.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),t!==!0){var o=Ao.killAll||[];Ao={},o.forEach(function(s){return s()})}},a}();Me.version="3.12.7";Me.saveStyles=function(a){return a?mr(a).forEach(function(e){if(e&&e.style){var r=Nt.indexOf(e);r>=0&&Nt.splice(r,5),Nt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),W.core.getCache(e),gs())}}):Nt};Me.revert=function(a,e){return Es(!a,e)};Me.create=function(a,e){return new Me(a,e)};Me.refresh=function(a){return a?er(!0):(Bo||Me.register())&&Mo(!0)};Me.update=function(a){return++Oe.cache&&lo(a===!0?2:0)};Me.clearScrollMemory=En;Me.maxScroll=function(a,e){return ro(a,e?Ot:dt)};Me.getScrollFunc=function(a,e){return _o(Bt(a),e?Ot:dt)};Me.getById=function(a){return vs[a]};Me.getAll=function(){return ke.filter(function(a){return a.vars.id!=="ScrollSmoother"})};Me.isScrolling=function(){return!!Vt};Me.snapDirectional=Ss;Me.addEventListener=function(a,e){var r=Ao[a]||(Ao[a]=[]);~r.indexOf(e)||r.push(e)};Me.removeEventListener=function(a,e){var r=Ao[a],t=r&&r.indexOf(e);t>=0&&r.splice(t,1)};Me.batch=function(a,e){var r=[],t={},o=e.interval||.016,s=e.batchMax||1e9,n=function(p,T){var m=[],v=[],f=W.delayedCall(o,function(){T(m,v),m=[],v=[]}).pause();return function(g){m.length||f.restart(!0),m.push(g.trigger),v.push(g),s<=m.length&&f.progress(1)}},i;for(i in e)t[i]=i.substr(0,2)==="on"&&Et(e[i])&&i!=="onRefreshInit"?n(i,e[i]):e[i];return Et(s)&&(s=s(),wt(Me,"refresh",function(){return s=e.batchMax()})),mr(a).forEach(function(c){var p={};for(i in t)p[i]=t[i];p.trigger=c,r.push(Me.create(p))}),r};var Zs=function(e,r,t,o){return r>o?e(o):r<0&&e(0),t>o?(o-r)/(t-r):t<0?r/(r-t):1},rs=function a(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(it.isTouch?" pinch-zoom":""):"none",e===Gt&&a(Xe,r)},kr={auto:1,scroll:1},Si=function(e){var r=e.event,t=e.target,o=e.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,n=s._gsap||W.core.getCache(s),i=St(),c;if(!n._isScrollT||i-n._isScrollT>2e3){for(;s&&s!==Xe&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(kr[(c=Zt(s)).overflowY]||kr[c.overflowX]));)s=s.parentNode;n._isScroll=s&&s!==t&&!ko(s)&&(kr[(c=Zt(s)).overflowY]||kr[c.overflowX]),n._isScrollT=i}(n._isScroll||o==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},An=function(e,r,t,o){return it.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:o=o&&Si,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return t&&wt(qe,it.eventTypes[0],qs,!1,!0)},onDisable:function(){return mt(qe,it.eventTypes[0],qs,!0)}})},Ei=/(input|label|select|textarea)/i,Vs,qs=function(e){var r=Ei.test(e.target.tagName);(r||Vs)&&(e._gsapAllow=!0,Vs=r)},Di=function(e){To(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,t=r.normalizeScrollX,o=r.momentum,s=r.allowNestedScroll,n=r.onRelease,i,c,p=Bt(e.target)||Gt,T=W.core.globals().ScrollSmoother,m=T&&T.get(),v=ho&&(e.content&&Bt(e.content)||m&&e.content!==!1&&!m.smooth()&&m.content()),f=_o(p,dt),g=_o(p,Ot),S=1,y=(it.isTouch&&Ie.visualViewport?Ie.visualViewport.scale*Ie.visualViewport.width:Ie.outerWidth)/Ie.innerWidth,Q=0,k=Et(o)?function(){return o(i)}:function(){return o||2.8},P,d,j=An(p,e.type,!0,s),X=function(){return d=!1},x=to,ge=to,A=function(){c=ro(p,dt),ge=nr(ho?1:0,c),t&&(x=nr(0,ro(p,Ot))),P=Do},h=function(){v._gsap.y=Ko(parseFloat(v._gsap.y)+f.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},B=function(){if(d){requestAnimationFrame(X);var Te=Ko(i.deltaY/2),K=ge(f.v-Te);if(v&&K!==f.v+f.offset){f.offset=K-f.v;var l=Ko((parseFloat(v&&v._gsap.y)||0)-f.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+l+", 0, 1)",v._gsap.y=l+"px",f.cacheID=Oe.cache,lo()}return!0}f.offset&&h(),d=!0},b,N,me,he,Ne=function(){A(),b.isActive()&&b.vars.scrollY>c&&(f()>c?b.progress(1)&&f(c):b.resetTo("scrollY",c))};return v&&W.set(v,{y:"+=0"}),e.ignoreCheck=function(ae){return ho&&ae.type==="touchmove"&&B()||S>1.05&&ae.type!=="touchstart"||i.isGesturing||ae.touches&&ae.touches.length>1},e.onPress=function(){d=!1;var ae=S;S=Ko((Ie.visualViewport&&Ie.visualViewport.scale||1)/y),b.pause(),ae!==S&&rs(p,S>1.01?!0:t?!1:"x"),N=g(),me=f(),A(),P=Do},e.onRelease=e.onGestureStart=function(ae,Te){if(f.offset&&h(),!Te)he.restart(!0);else{Oe.cache++;var K=k(),l,le;t&&(l=g(),le=l+K*.05*-ae.velocityX/.227,K*=Zs(g,l,le,ro(p,Ot)),b.vars.scrollX=x(le)),l=f(),le=l+K*.05*-ae.velocityY/.227,K*=Zs(f,l,le,ro(p,dt)),b.vars.scrollY=ge(le),b.invalidate().duration(K).play(.01),(ho&&b.vars.scrollY>=c||l>=c-1)&&W.to({},{onUpdate:Ne,duration:K})}n&&n(ae)},e.onWheel=function(){b._ts&&b.pause(),St()-Q>1e3&&(P=0,Q=St())},e.onChange=function(ae,Te,K,l,le){if(Do!==P&&A(),Te&&t&&g(x(l[2]===Te?N+(ae.startX-ae.x):g()+Te-l[1])),K){f.offset&&h();var ne=le[2]===K,ue=ne?me+ae.startY-ae.y:f()+K-le[1],Pe=ge(ue);ne&&ue!==Pe&&(me+=Pe-ue),f(Pe)}(K||Te)&&lo()},e.onEnable=function(){rs(p,t?!1:"x"),Me.addEventListener("refresh",Ne),wt(Ie,"resize",Ne),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=g.smooth=!1),j.enable()},e.onDisable=function(){rs(p,!0),mt(Ie,"resize",Ne),Me.removeEventListener("refresh",Ne),j.kill()},e.lockAxis=e.lockAxis!==!1,i=new it(e),i.iOS=ho,ho&&!f()&&f(1),ho&&W.ticker.add(to),he=i._dc,b=W.to(i,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:kn(f,f(),function(){return b.pause()})},onUpdate:lo,onComplete:he.vars.onComplete}),i};Me.sort=function(a){if(Et(a))return ke.sort(a);var e=Ie.pageYOffset||0;return Me.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+Ie.innerHeight}),ke.sort(a||function(r,t){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};Me.observe=function(a){return new it(a)};Me.normalizeScroll=function(a){if(typeof a>"u")return At;if(a===!0&&At)return At.enable();if(a===!1){At&&At.kill(),At=a;return}var e=a instanceof it?a:Di(a);return At&&At.target===e.target&&At.kill(),ko(e.target)&&(At=e),e};Me.core={_getVelocityProp:ps,_inputObserver:An,_scrollers:Oe,_proxies:so,bridge:{ss:function(){Vt||Ro("scrollStart"),Vt=St()},ref:function(){return Mt}}};xn()&&W.registerPlugin(Me);var fr=function(){var a=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(T){T.preventDefault(),t(++a%e.children.length)},!1);function r(T){return e.appendChild(T.dom),T}function t(T){for(var m=0;m<e.children.length;m++)e.children[m].style.display=m===T?"block":"none";a=T}var o=(performance||Date).now(),s=o,n=0,i=r(new fr.Panel("FPS","#0ff","#002")),c=r(new fr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new fr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:r,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){n++;var T=(performance||Date).now();if(c.update(T-o,200),T>=s+1e3&&(i.update(n*1e3/(T-s),100),s=T,n=0,p)){var m=performance.memory;p.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576)}return T},update:function(){o=this.end()},domElement:e,setMode:t}};fr.Panel=function(a,e,r){var t=1/0,o=0,s=Math.round,n=s(window.devicePixelRatio||1),i=80*n,c=48*n,p=3*n,T=2*n,m=3*n,v=15*n,f=74*n,g=30*n,S=document.createElement("canvas");S.width=i,S.height=c,S.style.cssText="width:80px;height:48px";var y=S.getContext("2d");return y.font="bold "+9*n+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=r,y.fillRect(0,0,i,c),y.fillStyle=e,y.fillText(a,p,T),y.fillRect(m,v,f,g),y.fillStyle=r,y.globalAlpha=.9,y.fillRect(m,v,f,g),{dom:S,update:function(Q,k){t=Math.min(t,Q),o=Math.max(o,Q),y.fillStyle=r,y.globalAlpha=1,y.fillRect(0,0,i,v),y.fillStyle=e,y.fillText(s(Q)+" "+a+" ("+s(t)+"-"+s(o)+")",p,T),y.drawImage(S,m+n,v,f-n,g,m,v,f-n,g),y.fillRect(m+f-n,v,n,g),y.fillStyle=r,y.globalAlpha=.9,y.fillRect(m+f-n,v,n,s((1-Q/k)*g))}}};const Rn={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class wr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ki=new Wn(-1,1,1,-1,0,1);class Ai extends Po{constructor(){super(),this.setAttribute("position",new Ds([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Ds([0,2,0,0,2,0],2))}}const Ri=new Ai;class In{constructor(e){this._mesh=new He(Ri,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ki)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Ii extends wr{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof Co?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=cs.clone(e.uniforms),this.material=new Co({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new In(this.material)}render(e,r,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Qs extends wr{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,t){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let n,i;this.inverse?(n=0,i=1):(n=1,i=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,n,4294967295),s.buffers.stencil.setClear(i),s.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class Oi extends wr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Li{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const t=e.getSize(new jt);this._width=t.width,this._height=t.height,r=new Ar(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Rr}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ii(Rn),this.copyPass.material.blending=Xn,this.clock=new jn}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let t=!1;for(let o=0,s=this.passes.length;o<s;o++){const n=this.passes[o];if(n.enabled!==!1){if(n.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),n.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),n.needsSwap){if(t){const i=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(i.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(i.EQUAL,1,4294967295)}this.swapBuffers()}Qs!==void 0&&(n instanceof Qs?t=!0:n instanceof Oi&&(t=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new jt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const t=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(t,o),this.renderTarget2.setSize(t,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(t,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class zi extends wr{constructor(e,r,t=null,o=null,s=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=t,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Pt}render(e,r,t){const o=e.autoClear;e.autoClear=!1;let s,n;this.overrideMaterial!==null&&(n=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=n),e.autoClear=o}}const Bi={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Pt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Io extends wr{constructor(e,r,t,o){super(),this.strength=r!==void 0?r:1,this.radius=t,this.threshold=o,this.resolution=e!==void 0?new jt(e.x,e.y):new jt(256,256),this.clearColor=new Pt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);this.renderTargetBright=new Ar(s,n,{type:Rr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let m=0;m<this.nMips;m++){const v=new Ar(s,n,{type:Rr});v.texture.name="UnrealBloomPass.h"+m,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);const f=new Ar(s,n,{type:Rr});f.texture.name="UnrealBloomPass.v"+m,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),s=Math.round(s/2),n=Math.round(n/2)}const i=Bi;this.highPassUniforms=cs.clone(i.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Co({uniforms:this.highPassUniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader}),this.separableBlurMaterials=[];const c=[3,5,7,9,11];s=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);for(let m=0;m<this.nMips;m++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(c[m])),this.separableBlurMaterials[m].uniforms.invSize.value=new jt(1/s,1/n),s=Math.round(s/2),n=Math.round(n/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const p=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=p,this.bloomTintColors=[new We(1,1,1),new We(1,1,1),new We(1,1,1),new We(1,1,1),new We(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const T=Rn;this.copyUniforms=cs.clone(T.uniforms),this.blendMaterial=new Co({uniforms:this.copyUniforms,vertexShader:T.vertexShader,fragmentShader:T.fragmentShader,blending:oo,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Pt,this.oldClearAlpha=1,this.basic=new vt,this.fsQuad=new In(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let t=Math.round(e/2),o=Math.round(r/2);this.renderTargetBright.setSize(t,o);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(t,o),this.renderTargetsVertical[s].setSize(t,o),this.separableBlurMaterials[s].uniforms.invSize.value=new jt(1/t,1/o),t=Math.round(t/2),o=Math.round(o/2)}render(e,r,t,o,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const n=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let i=this.renderTargetBright;for(let c=0;c<this.nMips;c++)this.fsQuad.material=this.separableBlurMaterials[c],this.separableBlurMaterials[c].uniforms.colorTexture.value=i.texture,this.separableBlurMaterials[c].uniforms.direction.value=Io.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[c]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[c].uniforms.colorTexture.value=this.renderTargetsHorizontal[c].texture,this.separableBlurMaterials[c].uniforms.direction.value=Io.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[c]),e.clear(),this.fsQuad.render(e),i=this.renderTargetsVertical[c];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=n}getSeparableBlurMaterial(e){const r=[];for(let t=0;t<e;t++)r.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new Co({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new jt(.5,.5)},direction:{value:new jt(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Co({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Io.BlurDirectionX=new jt(1,0);Io.BlurDirectionY=new jt(0,1);function Hi(a,e,r,t){co();const{CUBE_SIZE:o,FIRST_CUBE_Z:s}=r,n=8,i=24,c=.075;let p,T=[],m=[],v=[],f=[];const g=(y,Q,k,P)=>{const d=new Xo(y,y,y),j=new tr(d),X=[new Ht({color:16711680,transparent:!0,opacity:P.opacity,blending:oo}),new Ht({color:65280,transparent:!0,opacity:P.opacity,blending:oo}),new Ht({color:255,transparent:!0,opacity:P.opacity,blending:oo}),new Ht({color:65535,transparent:!0,opacity:P.opacity,blending:oo}),new Ht({color:16711935,transparent:!0,opacity:P.opacity,blending:oo}),new Ht({color:16776960,transparent:!0,opacity:P.opacity,blending:oo})],x=new Jt,ge=j.getAttribute("position").array,A=[];for(let b=0;b<ge.length/3;b+=2)A.push(b,b+1);const h=Array(6).fill(null).map(()=>new Po),B=Array(6).fill(null).map(()=>[]);for(let b=0;b<A.length/2;b++){const N=b%6;B[N].push(A[b*2],A[b*2+1])}return h.forEach((b,N)=>{b.setIndex(B[N]),b.setAttribute("position",j.getAttribute("position"));const me=new gt(b,X[N]);x.add(me)}),x.position.z=Q,x.rotation.z=k,x};return(()=>{const k=.9/(i-1);for(let A=0;A<i;A++)m[A]=new Ht({transparent:!0,opacity:1-A*k});if(p=new Jt,!p){console.error("introGroup failed to initialize");return}for(let A=0;A<i;A++){const h=o-A*n,B=g(h,0,0,m[A]),b=B.children.map(N=>N.material);f.push(b.map(N=>({material:N,originalColor:N.color.clone()}))),p.add(B)}p.position.z=s,a.add(p),T.push(p),v=m.map(A=>A.opacity);const P=ve.timeline({repeat:-1});P.to(p.rotation,{x:je.degToRad(360),duration:12,ease:"none"},0),P.to(p.rotation,{y:je.degToRad(360),duration:10,ease:"none"},0),P.to(p.rotation,{z:je.degToRad(360),duration:14,ease:"none"},0);let d=-1,j=0;const X=c*1e3,x=i*X,ge=A=>{const h=A%x/X,B=Math.floor(h)%i;d!==-1&&A-j>=X&&(f[d].forEach(me=>{me.material.opacity=v[d],me.material.color.copy(me.originalColor)}),d=-1),d===-1&&B!==d&&(d=B,j=A,f[d].forEach(N=>{N.material.opacity=1,N.material.color.set(1,1,1)})),requestAnimationFrame(ge)};requestAnimationFrame(ge)})(),{introCubes:T}}class ss extends $n{constructor(e,r={}){const t=r.font;if(t===void 0)super();else{const o=t.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(o,r)}this.type="TextGeometry"}}function Fi(a,e,r,t,o,s,n,i){const c=co(),p=Oo(),{CUBE_SIZE:T,CUBE_SPACING:m,FIRST_CUBE_Z:v}=e,f=v-(r.length+1)*m,g=65535,S=16711935,y=(g>>16&255)/255,Q=(g>>8&255)/255,k=(g&255)/255,P=(S>>16&255)/255,d=(S>>8&255)/255,j=(S&255)/255,X=je.degToRad(15),x=1e3,ge=.5,A=65280,h=80,B=1,b=15,N=.1,me="ENTER TO LEARN MORE",he=c.isMobile?1:.5,Ne=40,ae=.125,Te=100,K=8,l=c.isMobile?2.5:2,le=c.isMobile?4:3.5,ne=1;let ue=[];ue.length=0;let Pe=[],$e=!1,Ae=new Zn,Le=new jt,Re=null,Ce=null,U=null,O=!1,we=null;const R=new Map,$=new Map,Z=new Map,pe=(C,J,M,fe,V,ee,_e)=>{const I=new Jt;I.name="group",I.position.z=M,I.rotation.z=fe,I.userData.isActive=!1,I.userData.cubeIndex=_e;const te=new Xo(J,J,J),H=new tr(te),re=new Ht({color:new Pt(g),transparent:!0,opacity:0}),ze=new gt(H,re);ze.geometry.computeBoundingSphere(),I.add(ze);let Ye="right";const De=J/2,yt=()=>{const D=c.isMobile?2:1,G=25*D,de=40*D,E=new ks(de,75),F=new tr(E),_=new Ht({color:new Pt(g),transparent:!0,opacity:0,visible:!0}),w=new gt(F,_);w.name="portal",w.userData.isPortal=!0,w.userData.isAnimating=!1,w.geometry.computeBoundingSphere();const xe=80*D,L=new po(xe,xe),se=new vt({visible:!1,side:qt}),z=new He(L,se);z.userData.isPortalHitbox=!0,z.userData.portal=w,z.geometry.computeBoundingSphere();const oe=new Jt,Y=B*D,ce=b*D,ie=new po(Y,ce),q=(G+de)/2;for(let tt=0;tt<h;tt++){const zt=new vt({color:new Pt(S),transparent:!0,opacity:0,visible:!1,side:qt}),nt=new He(ie,zt),lt=tt/h*Math.PI*2;nt.position.set(Math.cos(lt)*q,Math.sin(lt)*q,0),nt.rotation.z=lt+Math.PI/2,nt.userData.baseOpacity=.01,nt.userData.index=tt,nt.geometry.computeBoundingSphere(),oe.add(nt)}w.userData.pulsesGroup=oe;const ye=2*D,Fe=25;for(let tt=1;tt<Fe;tt++){const zt=new ks(de,75),nt=new tr(zt),lt=je.lerp(.125,.1,tt/(Fe-1)),no=new Ht({color:new Pt(g),transparent:!0,opacity:0}),Ct=new gt(nt,no);Ct.userData.isPortal=!0,Ct.userData.maxOpacity=lt,Ct.position.z=-tt*ye,Ct.geometry.computeBoundingSphere(),w.add(Ct)}w.userData.maxOpacity=.125;let Se=null;if(i.value){const tt=3*D,zt=new ss(me,{font:i.value,size:tt,depth:0,curveSegments:4,bevelEnabled:!1});zt.computeBoundingBox(),zt.center();const nt=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),lt=new He(zt,nt);lt.visible=!1,lt.userData.isVisible=!1,lt.userData.isExploreText=!0,lt.userData.skipTextMeshes=!0;const no=-45*D;lt.position.set(0,no,0),lt.name="textMesh",w.add(lt),w.userData.exploreText=lt;const Ct=zt.boundingBox,On=(Ct.max.x-Ct.min.x+10)*D,Ln=(Ct.max.y-Ct.min.y+10)*D,zn=new po(On,Ln),Bn=new vt({transparent:!0,opacity:0,side:qt,visible:!1});Se=new He(zn,Bn),Se.position.set(0,no,0),Se.userData.isExploreTextHitbox=!0,Se.userData.portal=w,Se.geometry.computeBoundingSphere(),Se.name="textHitbox",w.add(Se),w.userData.exploreTextHitbox=Se;const Hn=5,$r=new ss(C.title,{font:i.value,size:Hn,depth:0,curveSegments:4,bevelEnabled:!1});$r.computeBoundingBox(),$r.center();const Fn=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),bo=new He($r,Fn);bo.visible=!1,bo.userData.isVisible=!1,bo.userData.isTitleText=!0,bo.userData.skipTextMeshes=!0;const Nn=c.isMobile?c.orientation==="portrait"?100:106:60;bo.position.set(0,Nn,0),w.add(bo),w.userData.titleText=bo}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const Ee=new Jt;Ee.name="closeGroup",Ee.position.set(c.isMobile?de-10:de,de,2);const ut=new po(12,c.isMobile?1:.5),eo=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),xo=new He(ut,eo);xo.rotation.z=Math.PI/4;const ft=new He(ut,eo);ft.rotation.z=-Math.PI/4,Ee.add(xo,ft);const st=new po(15*D,15*D),Xt=new vt({side:qt,visible:!1}),uo=new He(st,Xt);switch(uo.userData.isCloseHitbox=!0,uo.geometry.computeBoundingSphere(),uo.renderOrder=2,Ee.add(uo),Ye){case"left":w.position.set(-De,0,0),w.rotation.y=Math.PI/2,z.position.set(-De,0,0),z.rotation.y=Math.PI/2,fe>=je.degToRad(120)&&(w.rotation.z=Math.PI),oe.children.forEach(tt=>tt.position.x+=N);break;case"top":w.position.set(0,-De,0),w.rotation.x=-Math.PI/2,w.rotation.z=-Math.PI/2,z.position.set(0,-De,0),z.rotation.x=Math.PI/2,fe>=je.degToRad(100)&&fe>=je.degToRad(180)&&(w.rotation.z=Math.PI/2),oe.children.forEach(tt=>tt.position.y+=N);break;case"right":w.position.set(De,0,0),w.rotation.y=-Math.PI/2,z.position.set(De,0,0),z.rotation.y=-Math.PI/2,fe>=je.degToRad(120)&&(w.rotation.z=Math.PI),oe.children.forEach(tt=>tt.position.x+=N);break;case"bottom":w.position.set(0,De,0),w.rotation.x=Math.PI/2,w.rotation.z=-Math.PI/2,z.position.set(0,De,0),z.rotation.x=Math.PI/2,oe.children.forEach(tt=>tt.position.y+=N);break}w.add(Ee),w.userData.closeButton=Ee,Ee.updateMatrixWorld(!0),w.add(oe),I.add(w),I.add(z),I.userData.closeButton=Ee,w.updateMatrixWorld(!0),oe.updateMatrixWorld(!0),Ee.updateMatrixWorld(!0),R.set(I,[]),$.set(I,0),Z.set(I,0)},Tt=D=>{(D instanceof gt||D instanceof He)&&D.geometry&&D.geometry.computeBoundingSphere(),I.add(D)};if(V&&s.showKeyarts){switch(["left","top","right","bottom"].includes(ee)?ee:"left"){case"left":Ye="right";break;case"top":Ye="bottom";break;case"right":Ye="left";break;case"bottom":Ye="top";break}const G=n.get(V);if(G){const de=new po(J-1,J-1),E=new vt({map:G,transparent:!0,opacity:0,blending:oo,side:qt}),F=new He(de,E);switch(F.userData.isLoaded=!0,ee){case"left":F.position.set(-De,0,0),fe>=je.degToRad(120)?(F.rotation.y=Math.PI/2,F.rotation.z=-Math.PI):F.rotation.y=Math.PI/2;break;case"top":F.position.set(0,-De,0),F.rotation.x=-Math.PI/2,F.rotation.z=-Math.PI/2;break;case"right":F.position.set(De,0,0),fe>=je.degToRad(120)?(F.rotation.y=-Math.PI/2,F.rotation.z=-Math.PI):F.rotation.y=-Math.PI/2;break;case"bottom":F.position.set(0,De,0),fe>=je.degToRad(180)?fe>=je.degToRad(220)?(F.rotation.x=Math.PI/2,F.rotation.z=Math.PI/2):(F.rotation.x=-Math.PI/2,F.rotation.z=Math.PI/2):(F.rotation.x=Math.PI/2,F.rotation.z=-Math.PI/2);break}F.geometry.computeBoundingSphere(),Tt(F),yt()}else console.warn(`Keyart texture not preloaded for ${C.title}: ${V}`),yt()}else yt();I.userData.portalLocation=Ye;{const D=(xe,L,se,z)=>{const oe=new po(J-1,J-1),Y={map:xe,transparent:!0,opacity:0,blending:oo,side:qt,depthWrite:!1};z&&(Y.color=z);const ce=new vt(Y),ie=new He(oe,ce);ie.position.copy(L),se.x&&(ie.rotation.x=se.x),se.y&&(ie.rotation.y=se.y),ie.userData.isGridPlane=!0,ie.geometry.computeBoundingSphere(),Tt(ie)},G=n.get(t),de=n.get(o),E=["left","top","right","bottom"],_=[V&&s.showKeyarts?ee||"left":null,Ye].filter(Boolean),w=E.filter(xe=>!_.includes(xe));if(G)switch(D(G,new We(0,0,-J/2-1),{y:0}),D(G,new We(0,0,J/2+1),{y:0},new Pt(16744448)),w[0]){case"left":D(G,new We(-De,0,0),{y:-Math.PI/2},new Pt(255));break;case"top":D(G,new We(0,De,0),{x:Math.PI/2},new Pt(255));break;case"right":D(G,new We(De,0,0),{y:Math.PI/2},new Pt(255));break;case"bottom":D(G,new We(0,-De,0),{x:-Math.PI/2},new Pt(255));break}else console.warn(`Grid texture not preloaded: ${t}`);if(de)switch(w[1]){case"left":D(de,new We(-De,0,0),{y:-Math.PI/2});break;case"top":D(de,new We(0,De,0),{x:Math.PI/2});break;case"right":D(de,new We(De,0,0),{y:Math.PI/2});break;case"bottom":D(de,new We(0,-De,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}I.children.forEach(D=>{D.updateMatrixWorld(!0),D instanceof Jt&&D.children.forEach(G=>{G.updateMatrixWorld(!0)})}),I.updateMatrixWorld(!0);const ht=new nn().setFromObject(I),Lt=new an;return ht.getBoundingSphere(Lt),I.boundingSphere=Lt,I},u=new sn,Ue=(C,J,M,fe,V)=>{if(!i.value){console.warn("Font not available; skipping text creation for:",C);const ht=new Po,Lt=new vt({visible:!1});return new He(ht,Lt)}const ee=new ss(C,{font:i.value,size:V,depth:0,curveSegments:4,bevelEnabled:!1});ee.computeBoundingBox(),ee.center();const _e=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),I=new He(ee,_e);I.position.set(J,M,fe);const te=ee.boundingBox,H=te.max.x-te.min.x,re=te.max.y-te.min.y,ze=H+8,Ye=re+4,De=new po(ze,Ye),yt=new vt({color:0,transparent:!0,opacity:0,side:qt}),Tt=new He(De,yt);return Tt.position.set(J,M,fe-1),a.add(Tt),a.add(I),I.userData.backgroundPlane=Tt,I},Ge=()=>{const C=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r);let J=0;C.forEach((M,fe)=>{const V=v-(fe+1)*m,ee=(fe+1)*X,_e=pe(M,T,V,ee,M.keyart,M.keyartLocation,J);a.add(_e),ue.push(_e),J++,Ue(M.title,0,M.size-15,v+90-(fe+1)*m,M.size)}),a.traverse(M=>{var fe;M instanceof He&&((fe=M.geometry)==null?void 0:fe.type)==="TextGeometry"&&!M.userData.skipTextMeshes&&Pe.push(M)})},et=()=>$e?Promise.resolve({projectCubes:ue,updateCubeColors:Ve,maxZ:f}):(Ge(),$e=!0,Promise.resolve({projectCubes:ue,updateCubeColors:Ve,maxZ:f})),Be=C=>{if(C.userData.isAnimating)return;C.userData.isAnimating=!0;const J=C.userData.pulsesGroup;if(!J){console.warn("Pulses group not found in portal.userData");return}const M=J.children,fe=M.length,V=ve.timeline({repeat:-1,defaults:{ease:"none"}}),ee={value:0};V.to(ee,{value:1,duration:1.5,onUpdate:()=>{M.forEach(I=>{const te=I.material;if(te.visible){const H=(I.userData.index/fe+ee.value)%1,ze=(Math.sin(H*Math.PI*2)+1)/2;te.opacity=.01+(1-.01)*Math.pow(ze,4)}})}}),C.userData.animationTimeline=V},ot=C=>{if(!C.userData.isAnimating)return;C.userData.isAnimating=!1;const J=C.userData.pulsesGroup;if(!J){console.warn("Pulses group not found in portal.userData");return}C.userData.animationTimeline&&(C.userData.animationTimeline.kill(),delete C.userData.animationTimeline),J.children.forEach(M=>{const fe=M.material;fe.opacity=0})},rt=(C,J)=>{let M;const fe=(Z.get(C)||0)+1;Z.set(C,fe),fe%K===0?M=new Vn(l,le,12,1):M=new Xo(he,he,he);const V=new vt({color:16777215,transparent:!0,opacity:0}),ee=new He(M,V);ee.position.set(0,0,0);const _e=J.position.clone(),I=_e.clone().normalize(),te=_e.length()+Te;if(fe%K===0){const re=ee.position.clone().add(I);ee.lookAt(re),ee.rotateX(Math.PI/2)}C.add(ee),ve.to(V,{opacity:.5,duration:ne,ease:"power2.in",overwrite:"auto"});const H=R.get(C)||[];H.push({mesh:ee,direction:I,distanceTraveled:0,totalDistance:te}),R.set(C,H)},at=C=>{(R.get(C)||[]).forEach(M=>{C.remove(M.mesh),M.mesh.geometry.dispose(),M.mesh.material.dispose()}),R.set(C,[])},Ve=C=>{u.setFromProjectionMatrix(C.projectionMatrix.clone().multiply(C.matrixWorldInverse));const J=C.position.z;ue.forEach((M,fe)=>{const V=M.boundingSphere;if(V){const te=V.clone();if(te.radius*=1.5,!u.intersectsSphere(te))return}else console.warn(`Cube ${fe} has no boundingSphere`);const ee=M.position.z,_e=Math.abs(J-ee);let I=0;_e<=x&&(I=1-_e/x),M.userData.isActive=I>=ge,M.children.forEach(te=>{if(te instanceof gt&&!te.userData.isPortal&&!te.userData.isPortalHitbox){const H=te.material;if(_e<=x){const re=je.lerp(y,P,I),ze=je.lerp(Q,d,I),Ye=je.lerp(k,j,I);H.color.set(re,ze,Ye),H.opacity=Math.min(1,I*2)}else H.opacity=0}else if(te instanceof gt&&te.userData.isPortal){te.children.forEach(re=>{if(re instanceof He&&re.userData.isExploreText){const ze=re.material;if(re===te.userData.titleText&&O)return;if(_e<=x){const Ye=1-_e/x;ze.opacity=Math.min(1,Ye*2),re.visible=!0}else ze.opacity=0,re.visible=!1}});const H=te.userData.pulsesGroup;I>.1?H&&H.children.forEach(re=>{re instanceof He&&(re.material.visible=!0,!te.userData.animationStarted&&s.showPortalPulses&&(Be(te),te.userData.animationStarted=!0))}):I<=.1&&te.userData.animationStarted&&(H&&H.children.forEach(re=>{re instanceof He&&(re.material.visible=!1)}),ot(te),delete te.userData.animationStarted)}else if(te instanceof He&&!te.userData.isPortalHitbox&&!te.userData.isCloseHitbox){const H=te.material;if(te.userData.isLoaded||te.userData.isGridPlane)if(_e<=x){const re=1-_e/x;H.opacity=Math.min(.8,re*2),te.visible=!0}else H.opacity=0,te.visible=!1}})}),Pe.forEach(M=>{if(!u.intersectsObject(M))return;const fe=M.material,V=M.userData.backgroundPlane,ee=V==null?void 0:V.material,_e=M.position.z,I=Math.abs(J-_e+120);if(O){fe.opacity=0,ee&&(ee.opacity=0);return}if(I<=x){const te=1-I/x,H=Math.min(1,te*2);fe.opacity=H,ee&&(ee.opacity=H*.8)}else fe.opacity=0,ee&&(ee.opacity=0)})},Wt=(C,J)=>{const M=performance.now()/1e3,fe=C.position.z;ue.forEach(V=>{const ee=V.position.z;if(Math.abs(fe-ee+90)<=x&&!O){const I=$.get(V)||0;if(M-I>=ae){const re=V.children.find(ze=>ze instanceof gt&&ze.userData.isPortal);re&&(rt(V,re),$.set(V,M))}const H=(R.get(V)||[]).filter(re=>{if(re.distanceTraveled+=Ne*J,re.mesh.position.copy(re.direction.clone().multiplyScalar(re.distanceTraveled)),(re.totalDistance-re.distanceTraveled)/Ne<=ne&&!re.isFadingOut){re.isFadingOut=!0;const De=re.mesh.material;ve.to(De,{opacity:0,duration:ne,ease:"power2.out",overwrite:"auto"})}return re.distanceTraveled>=re.totalDistance?(V.remove(re.mesh),re.mesh.geometry.dispose(),re.mesh.material.dispose(),!1):!0});R.set(V,H)}else at(V)})},Qe=C=>{const J=[C,...C.children.filter(V=>V instanceof gt&&V.userData.isPortal)],M=2,fe=.1;J.forEach((V,ee)=>{const _e=V.material;_e.opacity=V.userData.maxOpacity;const I=ve.timeline({repeat:-1,delay:ee*fe});I.to(_e,{opacity:0,duration:M/2,ease:"power2.inOut"}).to(_e,{opacity:V.userData.maxOpacity,duration:M/2,ease:"power2.inOut"}),V.userData.marqueeTimeline=I})},_t=C=>{const J=[C,...C.children.filter(M=>M instanceof gt&&M.userData.isPortal)];J.forEach(M=>{M.userData.marqueeTimeline&&(M.userData.marqueeTimeline.kill(),delete M.userData.marqueeTimeline)}),C.userData.ringExpandTimeline&&(C.userData.ringExpandTimeline.kill(),delete C.userData.ringExpandTimeline),J.forEach((M,fe)=>{const V=M.material;ve.killTweensOf(M.position),ve.killTweensOf(V),M.position.z=-fe*2,V.opacity=0})};return{getInitializedData:et,updateCubeColors:Ve,setupInteractivity:(C,J,M,fe,V)=>{we=fe;let ee=null,_e=null,I=null,te=!1,H=!1,re=!1,ze=!1,Ye=!1;const De=_=>{O&&(ee=_.touches[0].clientY,_e=_e??window.scrollY,te=!0)},yt=_=>{if(!O||!I||!ee||ze)return;const xe=_.touches[0].clientY-ee;c.isMobile&&xe<-50&&!H&&(_.cancelable&&_.preventDefault(),Lt(),ee=null)},Tt=_=>{ee=null,te=!1,re=!0,ve.delayedCall(.5,()=>{re=!1})},ht=_=>{if(te||H||re||ze){_.preventDefault(),_.stopPropagation(),_e!==null&&(window.scrollTo(0,_e),ve.to(window,{scrollTo:{y:_e},duration:0}));return}if(!O||!I||!Ce||!U)return;if(c.isMobile){_.preventDefault(),_.stopPropagation();return}let w=0;if(_ instanceof WheelEvent?w=_.deltaY:w=window.scrollY-(_e||0),_.preventDefault(),_.stopPropagation(),w>0){window.scrollTo(0,_e);return}w<0&&Lt()},Lt=()=>{const _=I,w=U?U.clone():new We(0,0,f),xe=(Ce==null?void 0:Ce.z)??C.position.z,L=_==null?void 0:_.parent,se=_?ue.indexOf(L):-1;if(ze=!0,_){_t(_);const Y=_.userData.titleText;if(Y){const ce=Y.material;ve.to(ce,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{Y.visible=!1}})}if(_.userData.closeButton){const ce=_.userData.closeButton,ie=ce.children.filter(q=>q instanceof He&&!q.userData.isCloseHitbox).map(q=>q.material);ie.length>0&&ve.to(ie,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ce.visible=!1}})}}ve.to(C.position,{x:(Ce==null?void 0:Ce.x)??C.position.x,y:(Ce==null?void 0:Ce.y)??C.position.y,z:xe,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const Y=Pe[se];if(se!==-1&&Y){const ce=Y.material,ie=Y.userData.backgroundPlane,q=Math.abs(C.position.z-Y.position.z+120),ye=q<=x?Math.min(1,(1-q/x)*2):0;ve.to(ce,{opacity:ye,duration:.5,ease:"power2.in"}),ie&&ve.to(ie.material,{opacity:ye*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const Y=oe.progress,ce=je.lerp(z.x,w.x,Y),ie=je.lerp(z.y,w.y,Y),q=je.lerp(z.z,w.z,Y);C.lookAt(ce,ie,q),C.updateMatrixWorld(!0)},onComplete:()=>{C.lookAt(w),O=!1,I=null,document.body.classList.remove("no-scrollbar"),c.isMobile&&(document.body.style.overflow=""),we&&we(!1),_e=null,Ce=null,U=null,C.userData.lockedLookAt=null,ze=!1,ue.forEach(Y=>{Math.abs(C.position.z-Y.position.z+90)<=x&&$.set(Y,0)})}});const z=C.userData.lockedLookAt?C.userData.lockedLookAt.clone():C.getWorldDirection(new We).multiplyScalar(1e3).add(C.position),oe={progress:0};ve.to(oe,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},D=(_,w=!0)=>{const xe=[_,..._.children.filter(z=>z instanceof gt&&z.userData.isPortal)],L=w?25:2,se=ve.timeline({onComplete:()=>{w&&xe[0]===_&&Qe(_)}});xe.forEach((z,oe)=>{let Y=-oe*L;(_.position.y>0&&_.rotation.x===-Math.PI/2||_.position.y<0&&_.rotation.x===Math.PI/2)&&(Y=oe*L);const ce=w?z.userData.maxOpacity:0;se.to(z.position,{z:Y,duration:1,ease:"power3.out",delay:.5},0),se.to(z.material,{opacity:ce,duration:1,ease:"power3.out",delay:.5},0)}),_.userData.ringExpandTimeline=se},G=_=>{Le.x=_.clientX/window.innerWidth*2-1,Le.y=-(_.clientY/window.innerHeight)*2+1,Ae.setFromCamera(Le,C),C.userData.lockedLookAt&&(C.lookAt(C.userData.lockedLookAt),C.updateMatrixWorld(!0)),ue.forEach(L=>{L.userData.lockedPosition&&(L.position.equals(L.userData.lockedPosition)||L.position.copy(L.userData.lockedPosition)),L.updateMatrixWorld(!0),L.children.forEach(se=>se.updateMatrixWorld(!0))});const w=ue.flatMap(L=>{const se=[];return!O&&L.userData.isActive&&L.children.forEach(z=>{z instanceof He&&(z.userData.isPortalHitbox||z.userData.isExploreTextHitbox)&&se.push(z)}),O&&I&&L===I.parent&&L.children.forEach(z=>{if(z instanceof He&&z.userData.isPortalHitbox&&se.push(z),z instanceof gt&&z.userData.isPortal){const oe=z;oe.children.forEach(Y=>{Y instanceof He&&Y.userData.isExploreTextHitbox&&se.push(Y),Y instanceof Jt&&Y===oe.userData.closeButton&&Y.children.forEach(ce=>{ce instanceof He&&ce.userData.isCloseHitbox&&se.push(ce)})})}}),se}),xe=Ae.intersectObjects(w);if(xe.length>0){const L=xe[0].object;if(L.userData.isPortalHitbox||L.userData.isExploreTextHitbox){const se=L.userData.portal;Re!==se&&(Re&&[Re,...Re.children.filter(Y=>Y instanceof gt&&Y.userData.isPortal)].forEach(Y=>{const ce=Y.material;ve.to(ce.color,{r:(g>>16&255)/255,g:(g>>8&255)/255,b:(g&255)/255,duration:.5})}),Re=se,[Re,...Re.children.filter(oe=>oe instanceof gt&&oe.userData.isPortal)].forEach(oe=>{const Y=oe.material;ve.to(Y.color,{r:(A>>16&255)/255,g:(A>>8&255)/255,b:(A&255)/255,duration:.5})})),J.style.cursor="pointer"}else if(L.userData.isCloseHitbox&&O){if(!Ye){Ye=!0;const se=L.parent;ve.to(se.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}J.style.cursor="pointer"}}else{if(Re&&([Re,...Re.children.filter(se=>se instanceof gt&&se.userData.isPortal)].forEach(se=>{const z=se.material;ve.to(z.color,{r:(g>>16&255)/255,g:(g>>8&255)/255,b:(g&255)/255,duration:.5})}),Re=null),O&&I&&Ye){const L=I.userData.closeButton;L&&(Ye=!1,ve.to(L.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}J.style.cursor="auto"}},de=_=>{if(ze)return;Le.x=_.clientX/window.innerWidth*2-1,Le.y=-(_.clientY/window.innerHeight)*2+1,Ae.setFromCamera(Le,C);const w=ue.flatMap(ie=>{const q=[];return O&&I&&ie===I.parent&&ie.children.forEach(ye=>{if(ye instanceof gt&&ye.userData.isPortal){const Fe=ye;Fe.children.forEach(Se=>{Se instanceof Jt&&Se===Fe.userData.closeButton&&Se.children.forEach(Ee=>{Ee instanceof He&&Ee.userData.isCloseHitbox&&q.push(Ee)})})}}),q}),xe=ue.flatMap(ie=>{const q=[];return!O&&ie.userData.isActive&&ie.children.forEach(ye=>{ye instanceof He&&(ye.userData.isPortalHitbox||ye.userData.isExploreTextHitbox)&&q.push(ye)}),O&&I&&ie===I.parent&&ie.children.forEach(ye=>{ye instanceof He&&ye.userData.isPortalHitbox&&q.push(ye),ye instanceof gt&&ye.userData.isPortal&&ye.children.forEach(Fe=>{Fe instanceof He&&Fe.userData.isExploreTextHitbox&&q.push(Fe)})}),q});let L=Ae.intersectObjects(w);for(const ie of L)if(ie.object.userData.isCloseHitbox){Lt();return}if(L=Ae.intersectObjects(xe),L.length===0)return;const z=L[0].object.userData.portal,oe=z.parent,Y=ue.indexOf(oe),ce=r[Y];if(O&&z===I){let ie=new We;const q=e.CUBE_SIZE/2;z.position.x===q?ie.set(-1,0,0):z.position.x===-q?ie.set(1,0,0):z.position.y===q?ie.set(0,-1,0):z.position.y===-q&&ie.set(0,1,0),ie.applyQuaternion(oe.getWorldQuaternion(new qn)).normalize();const Fe=C.position.clone().clone().add(ie.clone().multiplyScalar(-675)),Se=ie.clone().multiplyScalar(-1e3),Ee=Fe.clone().add(Se);ze=!0,ve.to(C.position,{x:Fe.x,y:Fe.y,z:Fe.z,duration:1,ease:"power2.in",onUpdate:()=>C.lookAt(Ee),onStart:()=>{ve.to(M.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{ce!=null&&ce.slug&&(p.setScrollPosition(window.scrollY),tn.visit(route("project.show",{project:ce.slug}),{preserveScroll:!1})),ze=!1}})}else if(!O){Ce||(Ce=C.position.clone(),U=new We(0,0,f)),we&&fe(!0,Ce,U);const ie=z.getWorldPosition(new We);H=!0,ze=!0,_e=window.scrollY,ve.to(C.position,{x:0,y:0,z:oe.getWorldPosition(new We).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{O=!0,I=z,document.body.classList.add("no-scrollbar"),c.isMobile&&(document.body.style.overflow="hidden"),oe.userData.lockedPosition=oe.position.clone(),at(oe);const q=Pe[Y];if(q){const Fe=q.material,Se=q.userData.backgroundPlane;ve.to(Fe,{opacity:0,duration:.5,ease:"power2.out"}),Se&&ve.to(Se.material,{opacity:0,duration:.5,ease:"power2.out"})}const ye=z.userData.titleText;if(ye){ye.visible=!0;const Fe=ye.material;ve.to(Fe,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(z.userData.closeButton){const Fe=z.userData.closeButton;Fe.visible=!0;const Se=Fe.children.filter(Ee=>Ee instanceof He&&!Ee.userData.isCloseHitbox).map(Ee=>Ee.material);Se.length>0&&ve.to(Se,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}},onComplete:()=>{D(z,!0),H=!1,ze=!1,C.userData.lockedLookAt=ie.clone()}}),ve.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const q=this.progress(),ye=C.getWorldDirection(new We).multiplyScalar(1e3).add(C.position),Fe=je.lerp(ye.x,ie.x,q),Se=je.lerp(ye.y,ie.y,q),Ee=je.lerp(ye.z,ie.z,q);C.lookAt(Fe,Se,Ee)},onComplete:()=>{C.lookAt(ie.x,ie.y,ie.z),C.updateMatrixWorld(!0)}})}};J.addEventListener("mousemove",G),J.addEventListener("click",de),J.addEventListener("touchstart",De,{passive:!1}),J.addEventListener("touchmove",yt,{passive:!1}),J.addEventListener("touchend",Tt,{passive:!0}),window.addEventListener("wheel",ht,{passive:!1}),window.addEventListener("scroll",ht,{passive:!1});const E=()=>{R.forEach((_,w)=>{_.forEach(xe=>{w.remove(xe.mesh),xe.mesh.geometry.dispose(),xe.mesh.material.dispose()})}),R.clear(),$.clear(),Z.clear()},F=()=>{J.removeEventListener("mousemove",G),J.removeEventListener("click",de),J.removeEventListener("touchstart",De),J.removeEventListener("touchmove",yt),J.removeEventListener("touchend",Tt),window.removeEventListener("wheel",ht),window.removeEventListener("scroll",ht),I&&_t(I),c.isMobile&&(document.body.style.overflow="")};return()=>{F(),E()}},updateClickHereParticles:Wt}}function Ni(a,e,r,t){const o=co(),s=100,n=100,i=300,c=3355443,p=o.isMobile?24:32,T=-600,m=-500,v=500,f=o.isMobile?5:10,g=.05,S=1,y=o.isMobile?6:4,Q=o.isMobile?4:6,k=100,P=-450,d=60,j=r-v,X=Math.abs(m-j),x=Math.ceil(X/s),ge=()=>{const l=new Jt;let le=null,ne=null;const ue=[],Pe=[],$e=[],Ae=[],Le=[];{const Re=new Xo(s,s,s),Ce=new tr(Re),U=p*x,O=new Qn;O.copy(Ce),O.instanceCount=U;const we=new Ht({color:c,transparent:!0,fog:!0,vertexColors:!0}),R=new Float32Array(U*3),$=new Float32Array(U*3),Z=new Float32Array(U*3),pe=p*s,u=-pe/2+s/2,Ue=m;for(let M=0;M<p;M++){const fe=A(M);for(let V=0;V<x;V++){const ee=M*x+V,_e=u+M*s,I=Ue-V*s,te=je.randFloat(n,i),H=te/s,re=T+te/2;R[ee*3]=_e,R[ee*3+1]=re,R[ee*3+2]=I,$[ee*3]=1,$[ee*3+1]=H,$[ee*3+2]=1,Z[ee*3]=fe,Z[ee*3+1]=fe,Z[ee*3+2]=fe}}O.setAttribute("instancePosition",new Zr(R,3)),O.setAttribute("instanceScale",new Zr($,3)),O.setAttribute("color",new Zr(Z,3)),we.onBeforeCompile=M=>{M.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${M.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},le=new gt(O,we);const Ge=-pe/2,et=pe/2,Be=T,ot=T+i,rt=j,at=m;O.boundingBox=new nn(new We(Ge,Be,rt),new We(et,ot,at));const Ve=(Ge+et)/2,Wt=(Be+ot)/2,Qe=(rt+at)/2,_t=et-Ge,bt=ot-Be,C=at-rt,J=Math.sqrt(_t*_t+bt*bt+C*C)/2;O.boundingSphere=new an(new We(Ve,Wt,Qe),J),l.add(le)}{ne=new Jt;const Re=p*s/(Q-1),Ce=-(p*s)/2;for(let O=0;O<Q;O++){let R=Ce+O*Re,$=m;const Z=[new We(R,P,$)];let pe=0;for(;$>j;){const u=$===m?je.randFloat(300,800):Math.min(je.randFloat(300,800),Math.abs($-j));if($-=u,Z.push(new We(R,P,$)),pe+=u,$<=j){Z[Z.length-1].z=j;break}const Ue=Math.random()<.5?-1:1,Ge=je.randFloat(100,300);R+=Ue*Ge,Z.push(new We(R,P,$)),pe+=Ge}Pe.push({points:Z,totalLength:pe})}const U=new Xo(y,y,y);for(let O=0;O<Q;O++){const we=Pe[O],R=we.totalLength,$=R/d;for(let Z=0;Z<d;Z++){const pe=new vt({color:16711680,fog:!0}),u=new He(U,pe),Ue=Z*$;let Ge=Ue;for(let et=0;et<we.points.length-1;et++){const Be=we.points[et],ot=we.points[et+1],rt=Be.distanceTo(ot);if(Ge<=rt){const at=Ge/rt;u.position.lerpVectors(Be,ot,at);break}Ge-=rt}ue.push(u),$e.push(Ue),Ae.push(O),Le.push(1),ne.add(u)}for(let Z=0;Z<d;Z++){const pe=new vt({color:16777215,fog:!0}),u=new He(U,pe),Ue=R-(Z*$+$/2);let Ge=R-Ue;const et=[...we.points].reverse();for(let Be=0;Be<et.length-1;Be++){const ot=et[Be],rt=et[Be+1],at=ot.distanceTo(rt);if(Ge<=at){const Ve=Ge/at;u.position.lerpVectors(ot,rt,Ve);break}Ge-=at}ue.push(u),$e.push(Ue),Ae.push(O),Le.push(-1),ne.add(u)}}e.add(ne)}return e.add(l),{cityGroup:l,instancedLines:le,particleGroup:ne,particles:ue,paths:Pe,particleDistances:$e,particlePaths:Ae,particleDirections:Le}},A=l=>{if(l<f){const le=(S-g)/(f-1);return g+l*le}else if(l>=p-f){const le=p-1-l,ne=(S-g)/(f-1);return g+le*ne}return S},{cityGroup:h,instancedLines:B,particleGroup:b,particles:N,paths:me,particleDistances:he,particlePaths:Ne,particleDirections:ae}=ge();return{cityGroup:h,buildingLines:B?[B]:[],updateParticles:l=>{const le=k*l;for(let ne=0;ne<N.length;ne++){const ue=ae[ne],Pe=Ne[ne],$e=me[Pe],Ae=$e.totalLength;he[ne]+=le*ue,ue===1?(he[ne]=he[ne]%Ae,he[ne]<0&&(he[ne]+=Ae)):he[ne]=(he[ne]+Ae)%Ae;const Le=he[ne],Re=ue===1?$e.points:[...$e.points].reverse();let Ce=ue===1?Le:Ae-Le;for(let U=0;U<Re.length-1;U++){const O=Re[U],we=Re[U+1],R=O.distanceTo(we);if(Ce<=R){const $=Ce/R;N[ne].position.lerpVectors(O,we,$);break}Ce-=R}}},dispose:()=>{B&&(h.remove(B),B.geometry.dispose(),B.material.dispose()),b&&(e.remove(b),b.children.forEach(l=>{l.geometry.dispose(),l.material.dispose()})),e.remove(h)}}}ve.registerPlugin(Me);function Ui(a,e,r,t,o,s,n={},i,c){const p=co(),T=Oo(),{CUBE_SPACING:m,FIRST_CUBE_Z:v}=s,f=(t==null?void 0:t.length)||0,g=v-(f+1)*m;let S=!1,y=!1;const Q=p.isMobile?(Math.abs(g)+(f-1)*m)*.7:Math.abs(g)+(f-1)*m;let k=ve.timeline();Me.config({ignoreMobileResize:!0});{let j=0,X=0;const x=16;k=ve.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:`+=${Q}`,scrub:n.scrub,pin:!0,onUpdate:ge=>{const A=performance.now();if(A-X>=x){if(!S){const h=ge.progress,B=je.lerp(0,g,h);e.position.set(0,0,B),e.lookAt(0,0,g),j++,(j%4===0||B<1)&&T.setProgress(Math.round(Math.abs(B)))}o(e),X=A}c&&c.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),k.fromTo(e.position,{z:0},{z:g,duration:1,ease:"none"},0)}return{setReverting:j=>{S=j},timeline:k,isScrollTriggerActive:()=>y}}function Gi(a,e,r){const t=co(),o=t.isMobile?25:20,s=t.isMobile?600:1800,n=4e3,i=-1e3,c=r-1e3,p=1e3,T=r,m=150,v=-500,f=r,g=new Po,S=new Float32Array(s*3),y=new Float32Array(s),Q=new Float32Array(s);let k=0;for(;k<s;){const ge=(Math.random()-.5)*n,A=(Math.random()-.5)*n,h=i+Math.random()*(c-i),B=h>T&&Math.abs(ge)<p&&Math.abs(A)<p,b=Math.abs(ge)<m&&Math.abs(A)<m&&h>f&&h<v;if(!B&&!b){const N=k*3;S[N]=ge,S[N+1]=A,S[N+2]=h;const me=.1+Math.random()*(.7-.1);y[k]=me,Q[k]=me,k++}}g.setAttribute("position",new As(S,3)),g.setAttribute("opacity",new As(Q,1));const P=new Co({uniforms:{color:{value:new Pt(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),d=new Kn(g,P);d.frustumCulled=!0,a.add(d);const j={values:Q.slice()},X=g.attributes.opacity;return ve.to(j,{duration:2,onUpdate:()=>{const ge=Date.now()*.001;for(let A=0;A<s;A++)j.values[A]=y[A]*(.05+.95*Math.abs(Math.sin(ge+A*.01)));X.array.set(j.values),X.needsUpdate=!0},repeat:-1,ease:"none"}),new sn,{dispose:()=>{ve.killTweensOf(Q),a.remove(d),g.dispose(),P.dispose()}}}function Yi(a,e){const t=e-1500,o=100,s=2,n=64,i=1e3,c=n*3,p=[4,4.5,5],T=6;let m,v,f,g,S,y;const Q=[],k=[[],[],[]],P=[[],[],[]],d=[[],[],[]];let j=[0,0,0];const X=()=>{const h=0-t,B=[];for(let K=0;K<o;K++){const l=K/(o-1),le=0-l*h,ne=l*5*2*Math.PI,ue=90*(.8+.2*Math.sin(ne*2)),Pe=new We(ue*Math.cos(ne),ue*Math.sin(ne),le);(isNaN(Pe.x)||isNaN(Pe.y)||isNaN(Pe.z))&&console.error("NaN in chaserPath points",{t:l,z:le,projectMaxZ:e}),B.push(Pe)}m=new Vr(B);const b=new Po().setFromPoints(m.getPoints(200));g=new qr(b,new Ht({color:16711935,linewidth:2,visible:!1})),a.add(g);const N=[];for(let K=0;K<o;K++){const l=K/(o-1),le=0-l*h,ne=l*3*2*Math.PI,ue=60*(.8+.2*Math.sin(ne*4)),Pe=new We(ue*Math.cos(ne),ue*Math.sin(ne),le);(isNaN(Pe.x)||isNaN(Pe.y)||isNaN(Pe.z))&&console.error("NaN in chaserPath2 points",{t:l,z:le,projectMaxZ:e}),N.push(Pe)}v=new Vr(N);const me=new Po().setFromPoints(v.getPoints(200));S=new qr(me,new Ht({color:65535,linewidth:2,visible:!1})),a.add(S);const he=[];for(let K=0;K<o;K++){const l=K/(o-1),le=0-l*h,ne=l*7*2*Math.PI,ue=100,Pe=90,$e=.1*Math.sin(ne),Ae=new We(ue*(1+$e)*Math.cos(ne),Pe*(1-$e)*Math.sin(ne),le);(isNaN(Ae.x)||isNaN(Ae.y)||isNaN(Ae.z))&&console.error("NaN in chaserPath3 points",{t:l,z:le,projectMaxZ:e}),he.push(Ae)}f=new Vr(he);const Ne=new Po().setFromPoints(f.getPoints(200));y=new qr(Ne,new Ht({color:16776960,linewidth:2,visible:!1})),a.add(y);const ae=[16711680,65280,255],Te=new Xo(s,s,s);Te.attributes.color&&delete Te.attributes.color;for(let K=0;K<3;K++){const l=new Jt;l.opacity=1,l.renderOrder=1,Q[K]=l,a.add(l);for(let le=0;le<c;le++){const ne=new vt({color:ae[K],transparent:!0,opacity:0,blending:Jn,fog:!0,depthWrite:!1}),ue=new He(Te,ne);ue.renderOrder=1,ue.visible=!1,l.add(ue),k[K][le]=ue,P[K][le]=0,d[K][le]=!1}}},x=h=>{const B=[m,v,f][h],b=B.getLength(),N=d[h].filter(he=>he).length;if(c-N>=n){let he=0;for(let Ne=0;Ne<n;Ne++){const ae=d[h].findIndex(Pe=>!Pe);if(ae===-1){console.warn(`No available chasers for path ${h}, emitted ${he}/${n}`);break}const Te=he/(n-1),K=.05+(1-.05)*Math.pow(Te,3),l=new vt({color:[16711680,65280,255][h],transparent:!0,opacity:K,blending:oo,fog:!0,depthWrite:!1});k[h][ae].material=l,k[h][ae].visible=!0;const le=he*T;P[h][ae]=le,d[h][ae]=!0;const ne=le/b,ue=B.getPointAt(ne);k[h][ae].position.copy(ue),he++}}},ge=h=>{const B=performance.now()/1e3,b=[m,v,f];for(let N=0;N<3;N++){B-j[N]>=p[N]&&(x(N),j[N]=B);const me=b[N],he=me.getLength(),Ne=i*h;for(let ae=0;ae<c;ae++)if(d[N][ae]){P[N][ae]+=Ne;const Te=P[N][ae]/he;if(Te>=1)k[N][ae].visible=!1,d[N][ae]=!1,P[N][ae]=0;else{const K=me.getPointAt(Te);k[N][ae].position.copy(K)}}}};return X(),{chaserPath:m,chaserPath2:v,chaserPath3:f,updateChasers:ge,dispose:()=>{a.remove(g),a.remove(S),a.remove(y),g.geometry.dispose(),g.material.dispose(),S.geometry.dispose(),S.material.dispose(),y.geometry.dispose(),y.material.dispose(),Q.forEach(h=>{h.children.forEach(B=>{B.geometry.dispose(),B.material.dispose()}),a.remove(h)})}}}class Wi extends ei{constructor(e){super(e)}load(e,r,t,o){const s=this,n=new ti(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,function(i){const c=s.parse(JSON.parse(i));r&&r(c)},t,o)}parse(e){return new Xi(e)}}class Xi{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const t=[],o=ji(e,r,this.data);for(let s=0,n=o.length;s<n;s++)t.push(...o[s].toShapes());return t}}function ji(a,e,r){const t=Array.from(a),o=e/r.resolution,s=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*o,n=[];let i=0,c=0;for(let p=0;p<t.length;p++){const T=t[p];if(T===`
`)i=0,c-=s;else{const m=$i(T,o,i,c,r);i+=m.offsetX,n.push(m.path)}}return n}function $i(a,e,r,t,o){const s=o.glyphs[a]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+a+'" does not exists in font family '+o.familyName+".");return}const n=new oi;let i,c,p,T,m,v,f,g;if(s.o){const S=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,Q=S.length;y<Q;)switch(S[y++]){case"m":i=S[y++]*e+r,c=S[y++]*e+t,n.moveTo(i,c);break;case"l":i=S[y++]*e+r,c=S[y++]*e+t,n.lineTo(i,c);break;case"q":p=S[y++]*e+r,T=S[y++]*e+t,m=S[y++]*e+r,v=S[y++]*e+t,n.quadraticCurveTo(m,v,p,T);break;case"b":p=S[y++]*e+r,T=S[y++]*e+t,m=S[y++]*e+r,v=S[y++]*e+t,f=S[y++]*e+r,g=S[y++]*e+t,n.bezierCurveTo(m,v,f,g,p,T);break}}return{offsetX:s.ha*e,path:n}}function Zi(a="/fonts/Poppins_Regular.json"){const e=Je(null),r=Je(0),t=Je(!1),o=()=>new Promise((n,i)=>{new Wi().load(a,p=>{e.value=p,r.value=100,t.value=!0,n(p)},p=>{p.lengthComputable&&(r.value=p.loaded/p.total*100)},p=>{r.value=100,t.value=!0,i(p)})});return{font:e,loadingProgress:r,isLoaded:t,initialize:()=>o()}}const Vi={class:"preloader"},qi={class:"progress-label"},Qi=$o({__name:"Preloader",props:{progress:{}},setup(a){return(e,r)=>(Ze(),Ke("div",Vi,[be("div",qi,Fo(Math.round(e.progress))+"%",1)]))}}),Ki=Xr(Qi,[["__scopeId","data-v-e5eadefa"]]),ns=-520,Ks=-720,Js=4e3,Ji=$o({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},emits:["camera-ready"],setup(a,{emit:e}){ve.registerPlugin(Me);const r=a,t=e,o=Oo();o.projects=r.projects;const s=co(),n=Je(!1),i=o.cubeSize,c=o.cubeSpacing,p=o.firstCubeZ,T={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0},m=Je(null),v=Je(null),f=Je(!1),g=Je(0),S=Je(!1),y=Je(!0),Q=new Map;let k,P,d,j,X,x,ge,A=null,h=null,B=null,b=null,N=null,me=[],he=null,Ne=null,ae=0,Te=null,K,l=null,le=null,ne=null;const ue=Zi("/fonts/Poppins_Regular.json"),Pe=()=>{const U=m.value?m.value.getBoundingClientRect().width:window.innerWidth,O=window.innerHeight,we=1,R=s.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;d.setSize(U*we,O*we),d.setPixelRatio(R),j.setSize(U*we,O*we),P.aspect=U/O,P.updateProjectionMatrix(),d.domElement.style.width=`${U}px`,d.domElement.style.height=`${O}px`},$e=U=>Q.has(U)?Promise.resolve(Q.get(U)):new Promise((O,we)=>{new li().load(U,$=>{$.encoding=Rs,Q.set(U,$),O($)},void 0,$=>we($))}),Ae=async()=>{k=new ri,k.background=new Pt(0),k.fog=new si(0,700,Js),P=new ni(s.isMobile?s.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,Js+6e3),P.position.set(0,0,0),P.lookAt(0,0,1e3),d=new ii({antialias:!0}),s.isMobile?d.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):d.setPixelRatio(window.devicePixelRatio),d.toneMapping=ai,d.toneMappingExposure=1,d.outputEncoding=Rs,j=new Li(d);const U=new zi(k,P);j.addPass(U);const O=new jt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(s.isMobile?X=new Io(O,1,.1,0):X=new Io(O,1.6,.2,0),X.renderToScreen=!0,j.addPass(X),m.value)m.value.appendChild(d.domElement),d.domElement.style.opacity="0";else return;x=new fr,x.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; z-index: 1000;"),document.body.appendChild(x.dom);const R=r.projects.filter(pe=>pe.keyart).length+2+1;let $=0;const Z=()=>{$++;const pe=$/R*100,u=ue.loadingProgress.value;g.value=(pe+u/R)/(1+1/R),$===R&&ue.isLoaded.value&&(f.value=!0)};await ue.initialize().then(()=>{Z()}).catch(pe=>{console.error("Font initialization failed:",pe),Z()}),await $e(r.projectGridFile).then(()=>Z()).catch(()=>Z()),await $e(r.projectGridFile2).then(()=>Z()).catch(()=>Z());for(const pe of r.projects)pe.keyart?await $e(pe.keyart).then(()=>Z()).catch(()=>Z()):Z();Te=Fi(k,{CUBE_SIZE:i,CUBE_SPACING:c,FIRST_CUBE_Z:p},r.projects,r.projectGridFile,r.projectGridFile2,T,Q,ue.font);try{if(await Te.getInitializedData().then(({maxZ:pe,updateCubeColors:u,projectCubes:Ue})=>{if(K=pe,K===void 0||isNaN(K))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:Ge}=Hi(k,ue.font,{CUBE_SIZE:i,FIRST_CUBE_Z:p},T);me=[...Ge,...Ue],he=u,t("camera-ready",P)}),T.showCars){const{cityGroup:pe,updateParticles:u,dispose:Ue}=Ni(k,k,K,T);ge=u,N=Ue}if(T.showStarfield){const{dispose:pe}=Gi(k,P,K);A=pe}if(T.showChasers){const{dispose:pe,updateChasers:u}=Yi(k,K);B=pe,b=u}Pe()}catch(pe){console.error("Error initializing project cubes:",pe),K=p-(r.projects.length+1)*c}},Le=(U=0)=>{if(Ne=requestAnimationFrame(Le),d&&j){const O=(U-ae)/1e3;ae=U,ge(O),b&&b(O),Te!=null&&Te.updateClickHereParticles&&Te.updateClickHereParticles(P,O);const we=4e3,R=1e3,$=Math.abs(P.position.z-K);P.far=Math.max(we+R,$),P.updateProjectionMatrix();const Z=Ks-ns;let pe=0;P.position.z>=ns?pe=0:P.position.z<=Ks?pe=1:pe=(P.position.z-ns)/Z;const u=.01,Ue=1-Math.pow(1-pe,2);let Ge;s.isMobile?Ge=je.lerp(1.3,u,Ue):Ge=je.lerp(1.6,u,Ue),X.strength=Ge,j.render()}x.update()},Re=()=>{console.log("handleResize()"),Pe(),Me.refresh()},Ce=()=>{if(s.isMobile){const U=s.orientation;console.log("Resize: orientation",U,"lastOrientation",le),U!==le&&(le=U,ne&&clearTimeout(ne),ne=setTimeout(()=>{Re(),ne=null},500))}else Re()};return Wr(()=>{Ae().then(()=>{if(f.value){Ne=requestAnimationFrame(Le);let U=null;const O=Te.getInitializedData().then(({projectCubes:R})=>{R.forEach(Z=>{Z.userData.isActive=!0});const $=p-(r.projects.length-1)*c;if(P.position.set(0,0,5e3),P.lookAt(0,0,$),P.updateProjectionMatrix(),he(P),j.render(),Me.getAll().forEach(Z=>Z.kill()),me.length&&he){const Z=Ui(k,P,v,me,he,{CUBE_SPACING:c,FIRST_CUBE_Z:p},{scrub:s.isMobile?.5:1},T,x);U=Z.setReverting,l=Z.isScrollTriggerActive}d&&h===null&&(h=Te.setupInteractivity(P,d.domElement,d,Z=>{U&&U(Z)},l)),n.value=!0,window.scrollTo({top:0,behavior:"auto"})}),we=()=>{O.then(()=>{y.value=!1,P.position.set(0,0,5e3),P.updateProjectionMatrix(),ve.to(d.domElement,{opacity:1,duration:.5,ease:"power4.out"});const R={z:5e3};ve.to(R,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{P.position.z=R.z,P.updateProjectionMatrix()},onComplete:()=>{P.position.z=0,S.value=!0}})})};ve.delayedCall(.5,we)}}).catch(U=>{console.error("Initialization failed:",U)}),window.addEventListener("resize",Ce)}),xs(()=>{Ne!==null&&cancelAnimationFrame(Ne),h&&h(),window.removeEventListener("resize",Ce),Me.getAll().forEach(U=>U.kill()),j&&(j.passes.forEach(U=>{U.dispose&&U.dispose()}),j.dispose()),X&&X.dispose(),Q.forEach(U=>{U.dispose()}),Q.clear(),k.traverse(U=>{U instanceof He&&(U.geometry&&U.geometry.dispose(),U.material&&(Array.isArray(U.material)?U.material.forEach(O=>O.dispose()):U.material.dispose()))}),k.fog&&(k.fog=null),k.background instanceof Pt&&(k.background=null),k.clear(),d&&(d.dispose(),d.forceContextLoss(),d.domElement&&d.domElement.parentNode&&d.domElement.parentNode.removeChild(d.domElement)),x&&x.dom&&x.dom.parentNode&&x.dom.parentNode.removeChild(x.dom),A&&A(),B&&B(),N&&N(),Ne=null,d=null,j=null,X=null,k=null,P=null,x=null,ge=null,A=null,h=null,B=null,b=null,N=null,me=[],he=null,Te=null,l=null}),(U,O)=>(Ze(),Ke("section",{ref_key:"wrapper",ref:v,class:Wo(["wrapper",{ready:n.value}])},[go(Un,{name:"fade"},{default:on(()=>[y.value?(Ze(),rn(Ki,{key:0,progress:g.value},null,8,["progress"])):is("",!0)]),_:1}),be("div",{ref_key:"tunnelWrapper",ref:m,class:"tunnel-wrapper"},null,512)],2))}}),ea=Xr(Ji,[["__scopeId","data-v-a34db28a"]]),ta={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-28"},oa={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},ra={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},sa={key:2},na={key:3},ia=$o({__name:"IntroMessage",setup(a){const e=co(),r=Oo(),{progress:t}=as(r),o=Je(null),s=Kt(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return Wr(()=>{const n=o.value.querySelector("svg path:nth-child(2)");n&&ve.to(n,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{n.position.y=0},repeat:-1})}),pr(t,(n,i)=>{if(!o.value)return;const c=n>i,p=n<80,T=n>=80;(c&&T||!c&&p)&&(ve.killTweensOf(o.value),ve.to(o.value,{y:c?s.value:0,scale:c?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(n,i)=>(Ze(),Ke("div",ta,[be("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm"},[dr(e).isMobile?(Ze(),Ke("svg",oa,i[0]||(i[0]=[be("g",null,[be("g",null,[be("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),be("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):(Ze(),Ke("svg",ra,i[1]||(i[1]=[be("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),be("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),dr(e).isMobile?(Ze(),Ke("div",sa,"SWIPE UP TO CONTINUE")):(Ze(),Ke("div",na,"SCROLL TO CONTINUE"))],512)]))}}),aa=Xr(ia,[["__scopeId","data-v-8767e7e1"]]),la=1e4,ca=$o({__name:"HUDMiniMap",props:{project:{}},setup(a){const e=a,r=co(),t=Oo(),o=t.projects||[],{progress:s}=as(t),{screenWidth:n}=as(r),i=t.cubeSpacing,c=t.firstCubeZ,p=Kt(()=>n.value<768),T=1+o.length,m=Kt(()=>p.value?n.value-16:(T-1)*16*2),v=Kt(()=>p.value?m.value/((T-1)*2):16),f=Kt(()=>v.value/2),g=Kt(()=>m.value/la),S=Je(0),y=Je(null),Q=Je(null),k=Je(null),P=Je([]),d=Je(null),j=Kt(()=>Math.abs(c)*g.value),X=Kt(()=>o.map((A,h)=>(Math.abs(c)+(h+1)*i)*g.value)),x=A=>{const h=A*g.value+v.value/2;S.value=Math.min(Math.max(h,0),m.value-f.value)};pr(s,A=>{ve.to(S,{value:A*g.value+v.value/2,duration:.3,ease:"power2.out",onUpdate:()=>{S.value=Math.min(Math.max(S.value,0),m.value-f.value)}})},{immediate:!0});const ge=()=>{x(s.value)};return Wr(()=>{var A;if(x(s.value),y.value){const h=[Q.value,k.value,...((A=k.value)==null?void 0:A.querySelectorAll("div"))||[],...P.value,d.value].filter(Boolean);ve.to(h,{opacity:1,duration:.5,ease:"power2.out",stagger:.1,delay:.5,overwrite:!1,onComplete:()=>{console.log("Animation complete")}})}window.addEventListener("resize",ge)}),xs(()=>{window.removeEventListener("resize",ge)}),pr(o,()=>{console.log("Projects changed, re-rendering cubes")}),(A,h)=>(Ze(),Ke("div",{ref_key:"mapContainer",ref:y,class:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bottom-4 h-4",style:fo({width:`${m.value}px`,position:"relative"})},[be("div",{ref_key:"dashedPath",ref:Q,class:"absolute top-1/2 -translate-y-1/2 h-px border-dashed border-t border-sky-500/50 hidden-el",style:fo({width:`${m.value-f.value}px`,left:`${f.value/2}px`})},null,4),be("div",{ref_key:"introCube",ref:k,class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 hidden-el introCube",style:fo({width:`${v.value}px`,height:`${v.value}px`,left:`${j.value}px`})},[be("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:fo({width:`${v.value*.75}px`,height:`${v.value*.75}px`})},[be("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:fo({width:`${v.value*.5}px`,height:`${v.value*.5}px`})},[be("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:fo({width:`${v.value*.25}px`,height:`${v.value*.25}px`})},null,4)],4)],4)],4),(Ze(!0),Ke(hr,null,gr(dr(o),(B,b)=>{var N,me;return Ze(),Ke("div",{key:b,ref_for:!0,ref:he=>P.value[b]=he,class:Wo(["border absolute top-1/2 -translate-y-1/2 hidden-el",{"border-blue-600 shadow-blue":((N=e.project)==null?void 0:N.slug)===B.slug&&e.project!==null,"border-white/40":((me=e.project)==null?void 0:me.slug)!==B.slug||e.project===null}]),style:fo({width:`${v.value}px`,height:`${v.value}px`,left:`${X.value[b]}px`})},null,6)}),128)),(Ze(),Ke("svg",{ref_key:"cameraSvg",ref:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"absolute top-1/2 rotate-90 -translate-y-1/2 -translate-x-1/2 hidden-el",style:fo({width:`${f.value}px`,left:`${S.value}px`})},h[0]||(h[0]=[be("path",{class:"fill-green-500",d:"M0 480l18.3-32L237.6 64.2 256 32l18.4 32.2L493.7 448 512 480l-36.9 0L36.9 480 0 480zM256 96.5L55.1 448l401.7 0L256 96.5z"},null,-1)]),4))],4))}}),ua=Xr(ca,[["__scopeId","data-v-cffe39ec"]]),fa={class:"fixed inset-0 pointer-events-none z-10 font-sans"},pa={class:"px-2 md:px-4 py-2 md:py-4 md:flex items-center justify-between bg-black/70"},da={class:"md:flex items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto"},ha={class:"flex-shrink-0 tracking-tighter md:tracking-normal font-mono text-white md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},ga={class:"flex-shrink-0 font-mono text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},ma=["innerHTML"],va=["innerHTML"],wa={key:0,class:"contributions flex flex-wrap md:flex-nowrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0"},_a={key:1,class:"segments flex flex-wrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0"},xa={class:"flex justify-end md:block"},ba={class:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-black/70 h-12 w-full"},ya={class:"absolute hidden font-mono md:block text-green-400/50 text-xxxs left-[90%] top-1/2 -translate-y-1/2"},en=.125,Ta=$o({__name:"HUD",props:{camera:{}},setup(a){const e=a,r=Oo(),t=co(),o=Je(0),s=Je(null),n=Je(null),i=Je(null),c=Je(null),p=Je(null),T=r.cubeSpacing,m=r.projects,v=Je(!1);let f=null,g=null;const S=(P,d)=>{const j=P;let X=!1,x=o.value,ge=s.value;m.forEach((h,B)=>{const b=700+B*T,N=1e3+B*T;j>=b&&j<N&&(X=!0,x=B,ge=h)});const A=[n.value,i.value].filter(Boolean);A.length&&(X&&!v.value?(v.value=!0,o.value=x,s.value=ge,g&&g.kill(),f=ve.to(A,{opacity:1,duration:en,overwrite:"auto"})):!X&&v.value&&(v.value=!1,f&&f.kill(),g=ve.to(A,{opacity:0,duration:en,overwrite:"auto",onComplete:()=>{s.value=null}})))},y=Kt(()=>{if(!s.value)return"text-white/50";switch(s.value.classification){case Ft.Enums.Classification.ENTERTAINMENT:return"text-red-600";case Ft.Enums.Classification.ECOMMERCE:return"text-green-600";case Ft.Enums.Classification.OTHER:return"text-blue-600";default:return"text-white/50"}}),Q=P=>{switch(P){case Ft.Enums.Contributions.BACKEND:return"fill-red-400";case Ft.Enums.Contributions.FRONTEND:return"fill-blue-400";case Ft.Enums.Contributions.DEVOPS:return"fill-green-500";case Ft.Enums.Contributions.DESIGN:return"fill-purple-400";case Ft.Enums.Contributions.IDEATION:return"fill-magenta-400";case Ft.Enums.Contributions.UX:return"fill-yellow-400";default:return"fill-green-500"}},k=()=>{s.value&&(r.setScrollPosition(window.scrollY),tn.visit(route("project.show",{project:s.value.slug}),{}))};return Wr(()=>{var j,X;const P=(j=c.value)==null?void 0:j.querySelector("div"),d=(X=p.value)==null?void 0:X.querySelector("div");if(P&&d){const x=window.innerWidth-(t.isMobile?16:42);ve.to([P,d],{opacity:1,width:x,duration:2})}}),xs(()=>{f&&f.kill(),g&&g.kill()}),pr(()=>r.progress,(P,d)=>{S(P)},{immediate:!0}),pr(()=>e.camera,P=>{P&&S(r.progress)},{immediate:!1}),(P,d)=>{var j,X,x,ge,A,h,B;return Ze(),Ke("div",fa,[d[4]||(d[4]=Gn('<svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true"><defs><pattern id="grid-pattern2" width="12" height="12" patternUnits="userSpaceOnUse"><line x1="0" y1="0" x2="0" y2="12" stroke="green" stroke-width="1" opacity="0.15"></line><line x1="0" y1="0" x2="12" y2="0" stroke="green" stroke-width="1" opacity="0.15"></line></pattern></defs><rect width="100%" height="100%" fill="url(#grid-pattern2)"></rect></svg>',1)),be("div",pa,[be("div",{ref_key:"projectTitleEl",ref:i,class:"md:flex md:items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto",style:{opacity:"0"}},[be("div",da,[be("h1",ha,Fo(((j=s.value)==null?void 0:j.title)||""),1),be("h2",ga,[be("span",{class:"text-white/50 font-medium",innerHTML:((X=s.value)==null?void 0:X.client)||""},null,8,ma),d[0]||(d[0]=ls("  ")),be("span",{class:Wo(y.value),innerHTML:((x=s.value)==null?void 0:x.classification)||""},null,10,va)])]),((ge=s.value)==null?void 0:ge.contributions.length)>0?(Ze(),Ke("div",wa,[(Ze(!0),Ke(hr,null,gr((A=s.value)==null?void 0:A.contributions,(b,N)=>(Ze(),Ke("span",{key:N,class:"inline-flex items-center gap-x-2 md:gap-x-[.5vw] 3xl:gap-x-[.5rem] rounded-full px-2 md:px-[.5vw] 3xl:px-[.5rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.575vw] 3xl:text-[.575rem] font-medium ring-1 ring-inset"},[(Ze(),Ke("svg",{class:Wo(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",Q(b)]),viewBox:"0 0 6 6","aria-hidden":"true"},d[1]||(d[1]=[be("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),ls(" "+Fo(b),1)]))),128))])):is("",!0),((h=s.value)==null?void 0:h.segments.length)>0?(Ze(),Ke("div",_a,[(Ze(!0),Ke(hr,null,gr((B=s.value)==null?void 0:B.segments,(b,N)=>(Ze(),Ke("span",{key:N,class:"inline-flex items-center rounded-full px-2 md:px-[.375vw] 3xl:px-[.375rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.5vw] 3xl:text-[.5rem] font-medium ring-1 ring-inset fill-white-400/10 text-white-400 ring-white/20"},Fo(b),1))),128))])):is("",!0)],512),be("div",xa,[be("button",{ref_key:"clickHereEl",ref:n,onClick:k,class:"border border-current rounded-none px-2 py-1 mt-2 md:mt-0 whitespace-nowrap font-mono text-xxs text-white rounded transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500",style:{opacity:"0"}}," SEE PROJECT DETAILS ",512)])]),be("div",{ref_key:"borderTopEl",ref:c,class:"flex justify-center"},d[2]||(d[2]=[be("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),be("div",ba,[be("div",{ref_key:"borderBottomEl",ref:p,class:"flex justify-center"},d[3]||(d[3]=[be("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),go(ua,{project:s.value},null,8,["project"]),be("div",ya,[be("span",null,Fo(dr(r).progress.toString().padStart(10,"0")+".00"),1)])])])}}}),Ca={class:"relative bg-black text-white"},Ma={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Pa={class:"overflow-hidden relative"},Sa={class:"mt-16 px-4 md:px-16"},Ea={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Da=["innerHTML"],ka={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},La=$o({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(a){const e=a;Oo();const r=Je(null),t=i=>{r.value=i},o=Kt(()=>[...e.archived].sort((i,c)=>i.title.localeCompare(c.title))),s=Kt(()=>Object.values(Ft.Enums.Classification)),n=i=>{switch(i){case Ft.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case Ft.Enums.Classification.ECOMMERCE:return"fill-green-500";case Ft.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return(i,c)=>(Ze(),rn(fi,null,{default:on(()=>[go(dr(Yn),{title:"Welcome"}),be("div",Ca,[be("nav",Ma,[go(ci)]),be("div",Pa,[go(ea,{projects:i.projects,"project-grid-file":i.projectGridFile,"project-grid-file2":i.projectGridFile2,onCameraReady:t},null,8,["projects","project-grid-file","project-grid-file2"]),go(aa),go(Ta,{camera:r.value},null,8,["camera"])]),be("div",Sa,[c[2]||(c[2]=be("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),be("ul",Ea,[(Ze(!0),Ke(hr,null,gr(o.value,(p,T)=>(Ze(),Ke("li",{class:"text-xs text-white/80 flex items-center gap-2",key:T},[(Ze(),Ke("svg",{class:Wo(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",n(p.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},c[0]||(c[0]=[be("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),be("span",{innerHTML:p.title},null,8,Da)]))),128))]),be("ul",ka,[(Ze(!0),Ke(hr,null,gr(s.value,p=>(Ze(),Ke("li",{class:"flex items-center gap-2",key:p},[(Ze(),Ke("svg",{class:Wo(["size-3",n(p)]),viewBox:"0 0 6 6","aria-hidden":"true"},c[1]||(c[1]=[be("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),ls(" "+Fo(p),1)]))),128))])]),c[3]||(c[3]=be("div",{class:"flex justify-center items-center"},null,-1)),c[4]||(c[4]=be("div",{class:"flex justify-center items-center"},null,-1)),go(ui)])]),_:1}))}});export{La as default};
