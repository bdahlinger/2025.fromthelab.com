import{M as va,d as $e,E as Ht,W as mr,N as ln,I as fn,x as pn,y as Bi,e as at,o as it,a as je,n as No,j as io,u as Mo,G as yo,F as Hn,h as Un,p as xa,b as Ro,w as Ki,f as Fn,t as Lo,g as es,T as vr,c as ui,O as ya,m as wa}from"./app-BtrdzyI6.js";import{l as ge,c as Ue,O as Ca,h as to,F as bo,m as Oo,U as ts,V as Zt,n as ci,H as fi,N as ba,C as _a,o as Mt,f as Re,b as co,p as ht,e as mt,G as qt,g as K,B as un,E as Ho,L as ft,q as Ea,u as Po,R as Ma,r as Cs,s as xr,P as wo,a as $t,t as Tn,v as Ci,w as Rs,Q as Fa,I as Ta,x as Oi,y as os,z as pi,J as di,K as zi,T as Pa,X as yr,Y as wr,Z as Sa,_ as ns,$ as is,a0 as Yn,M as Aa,a1 as Ba,a2 as Ra,a3 as ks,S as ka,a4 as Ia,a5 as La,W as Oa,a6 as za,a7 as Na,d as Ut,j as Ha,k as Ua}from"./GlobalFooter-hoEdUXug.js";import{u as xo,_ as ja}from"./App.vue_vue_type_script_setup_true_lang-BrLkFTa-.js";import{_ as dn}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ri=va("audio",()=>{const s=$e(!1),e=$e(1),t=$e(!1),n=$e(!1);function o(){s.value=!s.value}function i(u){e.value=Math.max(0,Math.min(1,u))}function r(){t.value||(t.value=!0,n.value=!0)}function a(){t.value&&(n.value=!n.value)}return{isMuted:s,masterVolume:e,userEngaged:t,audioEnabled:n,toggleMute:o,setVolume:i,unlockAudio:r,toggleAudioEnabled:a}});function Cr(s){const e=Ri(),t=$e(null),n=$e(null),o=new Map,i=$e([]),r=async d=>{const p=await fetch(d);if(!p.ok)throw new Error(`Failed to fetch ${d}`);const D=await p.arrayBuffer();return s(1),D},a=async(d,p,D={})=>{const v=typeof p=="string"?await r(p):p;if(i.value.push({id:d,audioData:v,options:D}),t.value){const x=await t.value.decodeAudioData(v);u(d,x,D),i.value=i.value.filter(b=>b.id!==d)}};Ht(()=>e.userEngaged,d=>{d&&!t.value&&(t.value=new(window.AudioContext||window.webkitAudioContext),n.value=t.value.createGain(),n.value.connect(t.value.destination),n.value.gain.value=e.masterVolume,i.value.forEach(async({id:p,audioData:D,options:v})=>{const x=await t.value.decodeAudioData(D);u(p,x,v)}),i.value=[])},{immediate:!0}),Ht(()=>e.isMuted,d=>{n.value&&(n.value.gain.value=d?0:e.masterVolume)}),Ht(()=>e.masterVolume,d=>{n.value&&!e.isMuted&&(n.value.gain.value=d)}),Ht(()=>e.audioEnabled,d=>{d||o.forEach((p,D)=>{p.isPlaying&&g(D)})});function u(d,p,D={}){if(!t.value||!n.value)return;o.has(d)&&(console.warn(`Source ${d} already registered. Overwriting.`),g(d));const v=t.value.createGain(),x=t.value.createStereoPanner();v.connect(x).connect(n.value),o.set(d,{buffer:p,gain:v,panner:x,isPlaying:!1,loop:D.loop??!1,maxVolume:D.maxVolume??1,updatePosition:D.updatePosition})}function l(d,p){const D=o.get(d);if(!D||!t.value||!e.userEngaged||!e.audioEnabled||D.isPlaying)return;const v=t.value.createBufferSource();v.buffer=D.buffer,v.loop=D.loop??!1,v.connect(D.gain),v.start(),D.source=v,D.isPlaying=!0,D.updatePosition||(D.gain.gain.value=D.maxVolume),p&&D.updatePosition&&c(d,p)}function g(d){const p=o.get(d);!p||!p.source||(p.source.stop(),p.source.disconnect(),p.source=void 0,p.isPlaying=!1)}function c(d,p){const D=o.get(d);if(!D||!D.updatePosition||!D.isPlaying)return;const{pan:v,gain:x}=D.updatePosition(D,p);D.panner.pan.value=ge.clamp(v,-1,1),D.gain.gain.value=ge.clamp(x*D.maxVolume,0,1)}function h(d){g(d);const p=o.get(d);p&&(p.gain.disconnect(),p.panner.disconnect(),o.delete(d))}function f(){o.forEach((d,p)=>h(p)),n.value&&n.value.disconnect(),t.value&&t.value.close(),t.value=null,n.value=null}return{registerAudio:a,play:l,stop:g,updatePositionalAudio:c,dispose:h,disposeAll:f}}function Ga(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function Va(s,e,t){return e&&Ga(s.prototype,e),s}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ft,hi,Wt,_o,Eo,nn,br,ko,Pn,_r,go,no,Er,Mr=function(){return Ft||typeof window<"u"&&(Ft=window.gsap)&&Ft.registerPlugin&&Ft},Fr=1,tn=[],ot=[],po=[],Sn=Date.now,ss=function(e,t){return t},Wa=function(){var e=Pn.core,t=e.bridge||{},n=e._scrollers,o=e._proxies;n.push.apply(n,ot),o.push.apply(o,po),ot=n,po=o,ss=function(r,a){return t[r](a)}},Fo=function(e,t){return~po.indexOf(e)&&po[po.indexOf(e)+1][t]},An=function(e){return!!~_r.indexOf(e)},kt=function(e,t,n,o,i){return e.addEventListener(t,n,{passive:o!==!1,capture:!!i})},Rt=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Xn="scrollLeft",$n="scrollTop",rs=function(){return go&&go.isPressed||ot.cache++},bi=function(e,t){var n=function o(i){if(i||i===0){Fr&&(Wt.history.scrollRestoration="manual");var r=go&&go.isPressed;i=o.v=Math.round(i)||(go&&go.iOS?1:0),e(i),o.cacheID=ot.cache,r&&ss("ss",i)}else(t||ot.cache!==o.cacheID||ss("ref"))&&(o.cacheID=ot.cache,o.v=e());return o.v+o.offset};return n.offset=0,e&&n},zt={s:Xn,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:bi(function(s){return arguments.length?Wt.scrollTo(s,bt.sc()):Wt.pageXOffset||_o[Xn]||Eo[Xn]||nn[Xn]||0})},bt={s:$n,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:zt,sc:bi(function(s){return arguments.length?Wt.scrollTo(zt.sc(),s):Wt.pageYOffset||_o[$n]||Eo[$n]||nn[$n]||0})},Nt=function(e,t){return(t&&t._ctx&&t._ctx.selector||Ft.utils.toArray)(e)[0]||(typeof e=="string"&&Ft.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},To=function(e,t){var n=t.s,o=t.sc;An(e)&&(e=_o.scrollingElement||Eo);var i=ot.indexOf(e),r=o===bt.sc?1:2;!~i&&(i=ot.push(e)-1),ot[i+r]||kt(e,"scroll",rs);var a=ot[i+r],u=a||(ot[i+r]=bi(Fo(e,n),!0)||(An(e)?o:bi(function(l){return arguments.length?e[n]=l:e[n]})));return u.target=e,a||(u.smooth=Ft.getProperty(e,"scrollBehavior")==="smooth"),u},as=function(e,t,n){var o=e,i=e,r=Sn(),a=r,u=t||50,l=Math.max(500,u*3),g=function(d,p){var D=Sn();p||D-r>u?(i=o,o=d,a=r,r=D):n?o+=d:o=i+(d-i)/(D-a)*(r-a)},c=function(){i=o=n?0:o,a=r=0},h=function(d){var p=a,D=i,v=Sn();return(d||d===0)&&d!==o&&g(d),r===a||v-a>l?0:(o+(n?D:-D))/((n?v:r)-p)*1e3};return{update:g,reset:c,getVelocity:h}},gn=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Is=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Tr=function(){Pn=Ft.core.globals().ScrollTrigger,Pn&&Pn.core&&Wa()},Pr=function(e){return Ft=e||Mr(),!hi&&Ft&&typeof document<"u"&&document.body&&(Wt=window,_o=document,Eo=_o.documentElement,nn=_o.body,_r=[Wt,_o,Eo,nn],Ft.utils.clamp,Er=Ft.core.context||function(){},ko="onpointerenter"in nn?"pointer":"mouse",br=Dt.isTouch=Wt.matchMedia&&Wt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Wt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,no=Dt.eventTypes=("ontouchstart"in Eo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Eo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Fr=0},500),Tr(),hi=1),hi};zt.op=bt;ot.cache=0;var Dt=function(){function s(t){this.init(t)}var e=s.prototype;return e.init=function(n){hi||Pr(Ft)||console.warn("Please gsap.registerPlugin(Observer)"),Pn||Tr();var o=n.tolerance,i=n.dragMinimum,r=n.type,a=n.target,u=n.lineHeight,l=n.debounce,g=n.preventDefault,c=n.onStop,h=n.onStopDelay,f=n.ignore,d=n.wheelSpeed,p=n.event,D=n.onDragStart,v=n.onDragEnd,x=n.onDrag,b=n.onPress,w=n.onRelease,I=n.onRight,T=n.onLeft,_=n.onUp,W=n.onDown,C=n.onChangeX,M=n.onChangeY,E=n.onChange,S=n.onToggleX,L=n.onToggleY,te=n.onHover,Y=n.onHoverEnd,le=n.onMove,U=n.ignoreCheck,ue=n.isNormalizer,$=n.onGestureStart,m=n.onGestureEnd,Z=n.onWheel,ie=n.onEnable,q=n.onDisable,Ce=n.onClick,Ze=n.scrollSpeed,ze=n.capture,Ye=n.allowClicks,Ge=n.lockAxis,Le=n.onLockAxis;this.target=a=Nt(a)||Eo,this.vars=n,f&&(f=Ft.utils.toArray(f)),o=o||1e-9,i=i||0,d=d||1,Ze=Ze||1,r=r||"wheel,touch,pointer",l=l!==!1,u||(u=parseFloat(Wt.getComputedStyle(nn).lineHeight)||22);var Oe,B,Ee,re,fe,Fe,Te,y=this,Ne=0,me=0,ke=n.passive||!g&&n.passive!==!1,He=To(a,zt),lt=To(a,bt),H=He(),oe=lt(),X=~r.indexOf("touch")&&!~r.indexOf("pointer")&&no[0]==="pointerdown",k=An(a),O=a.ownerDocument||_o,he=[0,0,0],Pe=[0,0,0],Qe=0,F=function(){return Qe=Sn()},R=function(G,Ae){return(y.event=G)&&f&&~f.indexOf(G.target)||Ae&&X&&G.pointerType!=="touch"||U&&U(G,Ae)},P=function(){y._vx.reset(),y._vy.reset(),B.pause(),c&&c(y)},se=function(){var G=y.deltaX=Is(he),Ae=y.deltaY=Is(Pe),N=Math.abs(G)>=o,_e=Math.abs(Ae)>=o;E&&(N||_e)&&E(y,G,Ae,he,Pe),N&&(I&&y.deltaX>0&&I(y),T&&y.deltaX<0&&T(y),C&&C(y),S&&y.deltaX<0!=Ne<0&&S(y),Ne=y.deltaX,he[0]=he[1]=he[2]=0),_e&&(W&&y.deltaY>0&&W(y),_&&y.deltaY<0&&_(y),M&&M(y),L&&y.deltaY<0!=me<0&&L(y),me=y.deltaY,Pe[0]=Pe[1]=Pe[2]=0),(re||Ee)&&(le&&le(y),Ee&&(D&&Ee===1&&D(y),x&&x(y),Ee=0),re=!1),Fe&&!(Fe=!1)&&Le&&Le(y),fe&&(Z(y),fe=!1),Oe=0},V=function(G,Ae,N){he[N]+=G,Pe[N]+=Ae,y._vx.update(G),y._vy.update(Ae),l?Oe||(Oe=requestAnimationFrame(se)):se()},xe=function(G,Ae){Ge&&!Te&&(y.axis=Te=Math.abs(G)>Math.abs(Ae)?"x":"y",Fe=!0),Te!=="y"&&(he[2]+=G,y._vx.update(G,!0)),Te!=="x"&&(Pe[2]+=Ae,y._vy.update(Ae,!0)),l?Oe||(Oe=requestAnimationFrame(se)):se()},De=function(G){if(!R(G,1)){G=gn(G,g);var Ae=G.clientX,N=G.clientY,_e=Ae-y.x,J=N-y.y,j=y.isDragging;y.x=Ae,y.y=N,(j||(_e||J)&&(Math.abs(y.startX-Ae)>=i||Math.abs(y.startY-N)>=i))&&(Ee=j?2:1,j||(y.isDragging=!0),xe(_e,J))}},z=y.onPress=function(be){R(be,1)||be&&be.button||(y.axis=Te=null,B.pause(),y.isPressed=!0,be=gn(be),Ne=me=0,y.startX=y.x=be.clientX,y.startY=y.y=be.clientY,y._vx.reset(),y._vy.reset(),kt(ue?a:O,no[1],De,ke,!0),y.deltaX=y.deltaY=0,b&&b(y))},A=y.onRelease=function(be){if(!R(be,1)){Rt(ue?a:O,no[1],De,!0);var G=!isNaN(y.y-y.startY),Ae=y.isDragging,N=Ae&&(Math.abs(y.x-y.startX)>3||Math.abs(y.y-y.startY)>3),_e=gn(be);!N&&G&&(y._vx.reset(),y._vy.reset(),g&&Ye&&Ft.delayedCall(.08,function(){if(Sn()-Qe>300&&!be.defaultPrevented){if(be.target.click)be.target.click();else if(O.createEvent){var J=O.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,Wt,1,_e.screenX,_e.screenY,_e.clientX,_e.clientY,!1,!1,!1,!1,0,null),be.target.dispatchEvent(J)}}})),y.isDragging=y.isGesturing=y.isPressed=!1,c&&Ae&&!ue&&B.restart(!0),Ee&&se(),v&&Ae&&v(y),w&&w(y,N)}},Se=function(G){return G.touches&&G.touches.length>1&&(y.isGesturing=!0)&&$(G,y.isDragging)},pe=function(){return(y.isGesturing=!1)||m(y)},Ve=function(G){if(!R(G)){var Ae=He(),N=lt();V((Ae-H)*Ze,(N-oe)*Ze,1),H=Ae,oe=N,c&&B.restart(!0)}},ne=function(G){if(!R(G)){G=gn(G,g),Z&&(fe=!0);var Ae=(G.deltaMode===1?u:G.deltaMode===2?Wt.innerHeight:1)*d;V(G.deltaX*Ae,G.deltaY*Ae,0),c&&!ue&&B.restart(!0)}},Me=function(G){if(!R(G)){var Ae=G.clientX,N=G.clientY,_e=Ae-y.x,J=N-y.y;y.x=Ae,y.y=N,re=!0,c&&B.restart(!0),(_e||J)&&xe(_e,J)}},vt=function(G){y.event=G,te(y)},pt=function(G){y.event=G,Y(y)},Bt=function(G){return R(G)||gn(G,g)&&Ce(y)};B=y._dc=Ft.delayedCall(h||.25,P).pause(),y.deltaX=y.deltaY=0,y._vx=as(0,50,!0),y._vy=as(0,50,!0),y.scrollX=He,y.scrollY=lt,y.isDragging=y.isGesturing=y.isPressed=!1,Er(this),y.enable=function(be){return y.isEnabled||(kt(k?O:a,"scroll",rs),r.indexOf("scroll")>=0&&kt(k?O:a,"scroll",Ve,ke,ze),r.indexOf("wheel")>=0&&kt(a,"wheel",ne,ke,ze),(r.indexOf("touch")>=0&&br||r.indexOf("pointer")>=0)&&(kt(a,no[0],z,ke,ze),kt(O,no[2],A),kt(O,no[3],A),Ye&&kt(a,"click",F,!0,!0),Ce&&kt(a,"click",Bt),$&&kt(O,"gesturestart",Se),m&&kt(O,"gestureend",pe),te&&kt(a,ko+"enter",vt),Y&&kt(a,ko+"leave",pt),le&&kt(a,ko+"move",Me)),y.isEnabled=!0,y.isDragging=y.isGesturing=y.isPressed=re=Ee=!1,y._vx.reset(),y._vy.reset(),H=He(),oe=lt(),be&&be.type&&z(be),ie&&ie(y)),y},y.disable=function(){y.isEnabled&&(tn.filter(function(be){return be!==y&&An(be.target)}).length||Rt(k?O:a,"scroll",rs),y.isPressed&&(y._vx.reset(),y._vy.reset(),Rt(ue?a:O,no[1],De,!0)),Rt(k?O:a,"scroll",Ve,ze),Rt(a,"wheel",ne,ze),Rt(a,no[0],z,ze),Rt(O,no[2],A),Rt(O,no[3],A),Rt(a,"click",F,!0),Rt(a,"click",Bt),Rt(O,"gesturestart",Se),Rt(O,"gestureend",pe),Rt(a,ko+"enter",vt),Rt(a,ko+"leave",pt),Rt(a,ko+"move",Me),y.isEnabled=y.isPressed=y.isDragging=!1,q&&q(y))},y.kill=y.revert=function(){y.disable();var be=tn.indexOf(y);be>=0&&tn.splice(be,1),go===y&&(go=0)},tn.push(y),ue&&An(a)&&(go=y),y.enable(p)},Va(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();Dt.version="3.12.7";Dt.create=function(s){return new Dt(s)};Dt.register=Pr;Dt.getAll=function(){return tn.slice()};Dt.getById=function(s){return tn.filter(function(e){return e.vars.id===s})[0]};Mr()&&Ft.registerPlugin(Dt);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var de,Qo,tt,ut,Vt,rt,bs,_i,jn,Bn,xn,Zn,Pt,ki,ls,Lt,Ls,Os,Ko,Sr,Ni,Ar,It,us,Br,Rr,Co,cs,_s,sn,Es,Ei,fs,Hi,qn=1,St=Date.now,Ui=St(),oo=0,yn=0,zs=function(e,t,n){var o=Gt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=o,o?e.substr(6,e.length-7):e},Ns=function(e,t){return t&&(!Gt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Ya=function s(){return yn&&requestAnimationFrame(s)},Hs=function(){return ki=1},Us=function(){return ki=0},uo=function(e){return e},wn=function(e){return Math.round(e*1e5)/1e5||0},kr=function(){return typeof window<"u"},Ir=function(){return de||kr()&&(de=window.gsap)&&de.registerPlugin&&de},Yo=function(e){return!!~bs.indexOf(e)},Lr=function(e){return(e==="Height"?Es:tt["inner"+e])||Vt["client"+e]||rt["client"+e]},Or=function(e){return Fo(e,"getBoundingClientRect")||(Yo(e)?function(){return xi.width=tt.innerWidth,xi.height=Es,xi}:function(){return ho(e)})},Xa=function(e,t,n){var o=n.d,i=n.d2,r=n.a;return(r=Fo(e,"getBoundingClientRect"))?function(){return r()[o]}:function(){return(t?Lr(i):e["client"+i])||0}},$a=function(e,t){return!t||~po.indexOf(e)?Or(e):function(){return xi}},fo=function(e,t){var n=t.s,o=t.d2,i=t.d,r=t.a;return Math.max(0,(n="scroll"+o)&&(r=Fo(e,n))?r()-Or(e)()[i]:Yo(e)?(Vt[n]||rt[n])-Lr(o):e[n]-e["offset"+o])},Jn=function(e,t){for(var n=0;n<Ko.length;n+=3)(!t||~t.indexOf(Ko[n+1]))&&e(Ko[n],Ko[n+1],Ko[n+2])},Gt=function(e){return typeof e=="string"},At=function(e){return typeof e=="function"},Cn=function(e){return typeof e=="number"},Io=function(e){return typeof e=="object"},mn=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},ji=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},qo=Math.abs,zr="left",Nr="top",Ms="right",Fs="bottom",Uo="width",jo="height",Rn="Right",kn="Left",In="Top",Ln="Bottom",gt="padding",Jt="margin",cn="Width",Ts="Height",Ct="px",Qt=function(e){return tt.getComputedStyle(e)},Za=function(e){var t=Qt(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},js=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ho=function(e,t){var n=t&&Qt(e)[ls]!=="matrix(1, 0, 0, 1, 0, 0)"&&de.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return n&&n.progress(0).kill(),o},Mi=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},Hr=function(e){var t=[],n=e.labels,o=e.duration(),i;for(i in n)t.push(n[i]/o);return t},qa=function(e){return function(t){return de.utils.snap(Hr(e),t)}},Ps=function(e){var t=de.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(o,i){return o-i});return n?function(o,i,r){r===void 0&&(r=.001);var a;if(!i)return t(o);if(i>0){for(o-=r,a=0;a<n.length;a++)if(n[a]>=o)return n[a];return n[a-1]}else for(a=n.length,o+=r;a--;)if(n[a]<=o)return n[a];return n[0]}:function(o,i,r){r===void 0&&(r=.001);var a=t(o);return!i||Math.abs(a-o)<r||a-o<0==i<0?a:t(i<0?o-e:o+e)}},Ja=function(e){return function(t,n){return Ps(Hr(e))(t,n.direction)}},Qn=function(e,t,n,o){return n.split(",").forEach(function(i){return e(t,i,o)})},Et=function(e,t,n,o,i){return e.addEventListener(t,n,{passive:!o,capture:!!i})},_t=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Kn=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},Gs={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ei={toggleActions:"play",anticipatePin:0},Fi={top:0,left:0,center:.5,bottom:1,right:1},Di=function(e,t){if(Gt(e)){var n=e.indexOf("="),o=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(o*=t/100),e=e.substr(0,n-1)),e=o+(e in Fi?Fi[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},ti=function(e,t,n,o,i,r,a,u){var l=i.startColor,g=i.endColor,c=i.fontSize,h=i.indent,f=i.fontWeight,d=ut.createElement("div"),p=Yo(n)||Fo(n,"pinType")==="fixed",D=e.indexOf("scroller")!==-1,v=p?rt:n,x=e.indexOf("start")!==-1,b=x?l:g,w="border-color:"+b+";font-size:"+c+";color:"+b+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((D||u)&&p?"fixed;":"absolute;"),(D||u||!p)&&(w+=(o===bt?Ms:Fs)+":"+(r+parseFloat(h))+"px;"),a&&(w+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),d._isStart=x,d.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),d.style.cssText=w,d.innerText=t||t===0?e+"-"+t:e,v.children[0]?v.insertBefore(d,v.children[0]):v.appendChild(d),d._offset=d["offset"+o.op.d2],gi(d,0,o,x),d},gi=function(e,t,n,o){var i={display:"block"},r=n[o?"os2":"p2"],a=n[o?"p2":"os2"];e._isFlipped=o,i[n.a+"Percent"]=o?-100:0,i[n.a]=o?"1px":0,i["border"+r+cn]=1,i["border"+a+cn]=0,i[n.p]=t+"px",de.set(e,i)},et=[],ps={},Gn,Vs=function(){return St()-oo>34&&(Gn||(Gn=requestAnimationFrame(vo)))},Jo=function(){(!It||!It.isPressed||It.startX>rt.clientWidth)&&(ot.cache++,It?Gn||(Gn=requestAnimationFrame(vo)):vo(),oo||$o("scrollStart"),oo=St())},Gi=function(){Rr=tt.innerWidth,Br=tt.innerHeight},bn=function(e){ot.cache++,(e===!0||!Pt&&!Ar&&!ut.fullscreenElement&&!ut.webkitFullscreenElement&&(!us||Rr!==tt.innerWidth||Math.abs(tt.innerHeight-Br)>tt.innerHeight*.25))&&_i.restart(!0)},Xo={},Qa=[],Ur=function s(){return _t(We,"scrollEnd",s)||zo(!0)},$o=function(e){return Xo[e]&&Xo[e].map(function(t){return t()})||Qa},jt=[],jr=function(e){for(var t=0;t<jt.length;t+=5)(!e||jt[t+4]&&jt[t+4].query===e)&&(jt[t].style.cssText=jt[t+1],jt[t].getBBox&&jt[t].setAttribute("transform",jt[t+2]||""),jt[t+3].uncache=1)},Ss=function(e,t){var n;for(Lt=0;Lt<et.length;Lt++)n=et[Lt],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));Ei=!0,t&&jr(t),t||$o("revert")},Gr=function(e,t){ot.cache++,(t||!Ot)&&ot.forEach(function(n){return At(n)&&n.cacheID++&&(n.rec=0)}),Gt(e)&&(tt.history.scrollRestoration=_s=e)},Ot,Go=0,Ws,Ka=function(){if(Ws!==Go){var e=Ws=Go;requestAnimationFrame(function(){return e===Go&&zo(!0)})}},Vr=function(){rt.appendChild(sn),Es=!It&&sn.offsetHeight||tt.innerHeight,rt.removeChild(sn)},Ys=function(e){return jn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},zo=function(e,t){if(Vt=ut.documentElement,rt=ut.body,bs=[tt,ut,Vt,rt],oo&&!e&&!Ei){Et(We,"scrollEnd",Ur);return}Vr(),Ot=We.isRefreshing=!0,ot.forEach(function(o){return At(o)&&++o.cacheID&&(o.rec=o())});var n=$o("refreshInit");Sr&&We.sort(),t||Ss(),ot.forEach(function(o){At(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),et.slice(0).forEach(function(o){return o.refresh()}),Ei=!1,et.forEach(function(o){if(o._subPinOffset&&o.pin){var i=o.vars.horizontal?"offsetWidth":"offsetHeight",r=o.pin[i];o.revert(!0,1),o.adjustPinSpacing(o.pin[i]-r),o.refresh()}}),fs=1,Ys(!0),et.forEach(function(o){var i=fo(o.scroller,o._dir),r=o.vars.end==="max"||o._endClamp&&o.end>i,a=o._startClamp&&o.start>=i;(r||a)&&o.setPositions(a?i-1:o.start,r?Math.max(a?i:o.start+1,i):o.end,!0)}),Ys(!1),fs=0,n.forEach(function(o){return o&&o.render&&o.render(-1)}),ot.forEach(function(o){At(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),Gr(_s,1),_i.pause(),Go++,Ot=2,vo(2),et.forEach(function(o){return At(o.vars.onRefresh)&&o.vars.onRefresh(o)}),Ot=We.isRefreshing=!1,$o("refresh")},ds=0,mi=1,On,vo=function(e){if(e===2||!Ot&&!Ei){We.isUpdating=!0,On&&On.update(0);var t=et.length,n=St(),o=n-Ui>=50,i=t&&et[0].scroll();if(mi=ds>i?-1:1,Ot||(ds=i),o&&(oo&&!ki&&n-oo>200&&(oo=0,$o("scrollEnd")),xn=Ui,Ui=n),mi<0){for(Lt=t;Lt-- >0;)et[Lt]&&et[Lt].update(0,o);mi=1}else for(Lt=0;Lt<t;Lt++)et[Lt]&&et[Lt].update(0,o);We.isUpdating=!1}Gn=0},hs=[zr,Nr,Fs,Ms,Jt+Ln,Jt+Rn,Jt+In,Jt+kn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],vi=hs.concat([Uo,jo,"boxSizing","max"+cn,"max"+Ts,"position",Jt,gt,gt+In,gt+Rn,gt+Ln,gt+kn]),el=function(e,t,n){rn(n);var o=e._gsap;if(o.spacerIsNative)rn(o.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},Vi=function(e,t,n,o){if(!e._gsap.swappedIn){for(var i=hs.length,r=t.style,a=e.style,u;i--;)u=hs[i],r[u]=n[u];r.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(r.display="inline-block"),a[Fs]=a[Ms]="auto",r.flexBasis=n.flexBasis||"auto",r.overflow="visible",r.boxSizing="border-box",r[Uo]=Mi(e,zt)+Ct,r[jo]=Mi(e,bt)+Ct,r[gt]=a[Jt]=a[Nr]=a[zr]="0",rn(o),a[Uo]=a["max"+cn]=n[Uo],a[jo]=a["max"+Ts]=n[jo],a[gt]=n[gt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},tl=/([A-Z])/g,rn=function(e){if(e){var t=e.t.style,n=e.length,o=0,i,r;for((e.t._gsap||de.core.getCache(e.t)).uncache=1;o<n;o+=2)r=e[o+1],i=e[o],r?t[i]=r:t[i]&&t.removeProperty(i.replace(tl,"-$1").toLowerCase())}},oi=function(e){for(var t=vi.length,n=e.style,o=[],i=0;i<t;i++)o.push(vi[i],n[vi[i]]);return o.t=e,o},ol=function(e,t,n){for(var o=[],i=e.length,r=n?8:0,a;r<i;r+=2)a=e[r],o.push(a,a in t?t[a]:e[r+1]);return o.t=e.t,o},xi={left:0,top:0},Xs=function(e,t,n,o,i,r,a,u,l,g,c,h,f,d){At(e)&&(e=e(u)),Gt(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?Di("0"+e.substr(3),n):0));var p=f?f.time():0,D,v,x;if(f&&f.seek(0),isNaN(e)||(e=+e),Cn(e))f&&(e=de.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,h,e)),a&&gi(a,n,o,!0);else{At(t)&&(t=t(u));var b=(e||"0").split(" "),w,I,T,_;x=Nt(t,u)||rt,w=ho(x)||{},(!w||!w.left&&!w.top)&&Qt(x).display==="none"&&(_=x.style.display,x.style.display="block",w=ho(x),_?x.style.display=_:x.style.removeProperty("display")),I=Di(b[0],w[o.d]),T=Di(b[1]||"0",n),e=w[o.p]-l[o.p]-g+I+i-T,a&&gi(a,T,o,n-T<20||a._isStart&&T>20),n-=n-T}if(d&&(u[d]=e||-.001,e<0&&(e=0)),r){var W=e+n,C=r._isStart;D="scroll"+o.d2,gi(r,W,o,C&&W>20||!C&&(c?Math.max(rt[D],Vt[D]):r.parentNode[D])<=W+1),c&&(l=ho(a),c&&(r.style[o.op.p]=l[o.op.p]-o.op.m-r._offset+Ct))}return f&&x&&(D=ho(x),f.seek(h),v=ho(x),f._caScrollDist=D[o.p]-v[o.p],e=e/f._caScrollDist*h),f&&f.seek(p),f?e:Math.round(e)},nl=/(webkit|moz|length|cssText|inset)/i,$s=function(e,t,n,o){if(e.parentNode!==t){var i=e.style,r,a;if(t===rt){e._stOrig=i.cssText,a=Qt(e);for(r in a)!+r&&!nl.test(r)&&a[r]&&typeof i[r]=="string"&&r!=="0"&&(i[r]=a[r]);i.top=n,i.left=o}else i.cssText=e._stOrig;de.core.getCache(e).uncache=1,t.appendChild(e)}},Wr=function(e,t,n){var o=t,i=o;return function(r){var a=Math.round(e());return a!==o&&a!==i&&Math.abs(a-o)>3&&Math.abs(a-i)>3&&(r=a,n&&n()),i=o,o=Math.round(r),o}},ni=function(e,t,n){var o={};o[t.p]="+="+n,de.set(e,o)},Zs=function(e,t){var n=To(e,t),o="_scroll"+t.p2,i=function r(a,u,l,g,c){var h=r.tween,f=u.onComplete,d={};l=l||n();var p=Wr(n,l,function(){h.kill(),r.tween=0});return c=g&&c||0,g=g||a-l,h&&h.kill(),u[o]=a,u.inherit=!1,u.modifiers=d,d[o]=function(){return p(l+g*h.ratio+c*h.ratio*h.ratio)},u.onUpdate=function(){ot.cache++,r.tween&&vo()},u.onComplete=function(){r.tween=0,f&&f.call(h)},h=r.tween=de.to(e,u),h};return e[o]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Et(e,"wheel",n.wheelHandler),We.isTouch&&Et(e,"touchmove",n.wheelHandler),i},We=function(){function s(t,n){Qo||s.register(de)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),cs(this),this.init(t,n)}var e=s.prototype;return e.init=function(n,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!yn){this.update=this.refresh=this.kill=uo;return}n=js(Gt(n)||Cn(n)||n.nodeType?{trigger:n}:n,ei);var i=n,r=i.onUpdate,a=i.toggleClass,u=i.id,l=i.onToggle,g=i.onRefresh,c=i.scrub,h=i.trigger,f=i.pin,d=i.pinSpacing,p=i.invalidateOnRefresh,D=i.anticipatePin,v=i.onScrubComplete,x=i.onSnapComplete,b=i.once,w=i.snap,I=i.pinReparent,T=i.pinSpacer,_=i.containerAnimation,W=i.fastScrollEnd,C=i.preventOverlaps,M=n.horizontal||n.containerAnimation&&n.horizontal!==!1?zt:bt,E=!c&&c!==0,S=Nt(n.scroller||tt),L=de.core.getCache(S),te=Yo(S),Y=("pinType"in n?n.pinType:Fo(S,"pinType")||te&&"fixed")==="fixed",le=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],U=E&&n.toggleActions.split(" "),ue="markers"in n?n.markers:ei.markers,$=te?0:parseFloat(Qt(S)["border"+M.p2+cn])||0,m=this,Z=n.onRefreshInit&&function(){return n.onRefreshInit(m)},ie=Xa(S,te,M),q=$a(S,te),Ce=0,Ze=0,ze=0,Ye=To(S,M),Ge,Le,Oe,B,Ee,re,fe,Fe,Te,y,Ne,me,ke,He,lt,H,oe,X,k,O,he,Pe,Qe,F,R,P,se,V,xe,De,z,A,Se,pe,Ve,ne,Me,vt,pt;if(m._startClamp=m._endClamp=!1,m._dir=M,D*=45,m.scroller=S,m.scroll=_?_.time.bind(_):Ye,B=Ye(),m.vars=n,o=o||n.animation,"refreshPriority"in n&&(Sr=1,n.refreshPriority===-9999&&(On=m)),L.tweenScroll=L.tweenScroll||{top:Zs(S,bt),left:Zs(S,zt)},m.tweenTo=Ge=L.tweenScroll[M.p],m.scrubDuration=function(N){Se=Cn(N)&&N,Se?A?A.duration(N):A=de.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Se,paused:!0,onComplete:function(){return v&&v(m)}}):(A&&A.progress(1).kill(),A=0)},o&&(o.vars.lazy=!1,o._initted&&!m.isReverted||o.vars.immediateRender!==!1&&n.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),m.animation=o.pause(),o.scrollTrigger=m,m.scrubDuration(c),De=0,u||(u=o.vars.id)),w&&((!Io(w)||w.push)&&(w={snapTo:w}),"scrollBehavior"in rt.style&&de.set(te?[rt,Vt]:S,{scrollBehavior:"auto"}),ot.forEach(function(N){return At(N)&&N.target===(te?ut.scrollingElement||Vt:S)&&(N.smooth=!1)}),Oe=At(w.snapTo)?w.snapTo:w.snapTo==="labels"?qa(o):w.snapTo==="labelsDirectional"?Ja(o):w.directional!==!1?function(N,_e){return Ps(w.snapTo)(N,St()-Ze<500?0:_e.direction)}:de.utils.snap(w.snapTo),pe=w.duration||{min:.1,max:2},pe=Io(pe)?Bn(pe.min,pe.max):Bn(pe,pe),Ve=de.delayedCall(w.delay||Se/2||.1,function(){var N=Ye(),_e=St()-Ze<500,J=Ge.tween;if((_e||Math.abs(m.getVelocity())<10)&&!J&&!ki&&Ce!==N){var j=(N-re)/He,ee=o&&!E?o.totalProgress():j,ve=_e?0:(ee-z)/(St()-xn)*1e3||0,ye=de.utils.clamp(-j,1-j,qo(ve/2)*ve/.185),Be=j+(w.inertia===!1?0:ye),Q,we,ae=w,nt=ae.onStart,ce=ae.onInterrupt,Ie=ae.onComplete;if(Q=Oe(Be,m),Cn(Q)||(Q=Be),we=Math.max(0,Math.round(re+Q*He)),N<=fe&&N>=re&&we!==N){if(J&&!J._initted&&J.data<=qo(we-N))return;w.inertia===!1&&(ye=Q-j),Ge(we,{duration:pe(qo(Math.max(qo(Be-ee),qo(Q-ee))*.185/ve/.05||0)),ease:w.ease||"power3",data:qo(we-N),onInterrupt:function(){return Ve.restart(!0)&&ce&&ce(m)},onComplete:function(){m.update(),Ce=Ye(),o&&!E&&(A?A.resetTo("totalProgress",Q,o._tTime/o._tDur):o.progress(Q)),De=z=o&&!E?o.totalProgress():m.progress,x&&x(m),Ie&&Ie(m)}},N,ye*He,we-N-ye*He),nt&&nt(m,Ge.tween)}}else m.isActive&&Ce!==N&&Ve.restart(!0)}).pause()),u&&(ps[u]=m),h=m.trigger=Nt(h||f!==!0&&f),pt=h&&h._gsap&&h._gsap.stRevert,pt&&(pt=pt(m)),f=f===!0?h:Nt(f),Gt(a)&&(a={targets:h,className:a}),f&&(d===!1||d===Jt||(d=!d&&f.parentNode&&f.parentNode.style&&Qt(f.parentNode).display==="flex"?!1:gt),m.pin=f,Le=de.core.getCache(f),Le.spacer?lt=Le.pinState:(T&&(T=Nt(T),T&&!T.nodeType&&(T=T.current||T.nativeElement),Le.spacerIsNative=!!T,T&&(Le.spacerState=oi(T))),Le.spacer=X=T||ut.createElement("div"),X.classList.add("pin-spacer"),u&&X.classList.add("pin-spacer-"+u),Le.pinState=lt=oi(f)),n.force3D!==!1&&de.set(f,{force3D:!0}),m.spacer=X=Le.spacer,xe=Qt(f),F=xe[d+M.os2],O=de.getProperty(f),he=de.quickSetter(f,M.a,Ct),Vi(f,X,xe),oe=oi(f)),ue){me=Io(ue)?js(ue,Gs):Gs,y=ti("scroller-start",u,S,M,me,0),Ne=ti("scroller-end",u,S,M,me,0,y),k=y["offset"+M.op.d2];var Bt=Nt(Fo(S,"content")||S);Fe=this.markerStart=ti("start",u,Bt,M,me,k,0,_),Te=this.markerEnd=ti("end",u,Bt,M,me,k,0,_),_&&(vt=de.quickSetter([Fe,Te],M.a,Ct)),!Y&&!(po.length&&Fo(S,"fixedMarkers")===!0)&&(Za(te?rt:S),de.set([y,Ne],{force3D:!0}),P=de.quickSetter(y,M.a,Ct),V=de.quickSetter(Ne,M.a,Ct))}if(_){var be=_.vars.onUpdate,G=_.vars.onUpdateParams;_.eventCallback("onUpdate",function(){m.update(0,0,1),be&&be.apply(_,G||[])})}if(m.previous=function(){return et[et.indexOf(m)-1]},m.next=function(){return et[et.indexOf(m)+1]},m.revert=function(N,_e){if(!_e)return m.kill(!0);var J=N!==!1||!m.enabled,j=Pt;J!==m.isReverted&&(J&&(ne=Math.max(Ye(),m.scroll.rec||0),ze=m.progress,Me=o&&o.progress()),Fe&&[Fe,Te,y,Ne].forEach(function(ee){return ee.style.display=J?"none":"block"}),J&&(Pt=m,m.update(J)),f&&(!I||!m.isActive)&&(J?el(f,X,lt):Vi(f,X,Qt(f),R)),J||m.update(J),Pt=j,m.isReverted=J)},m.refresh=function(N,_e,J,j){if(!((Pt||!m.enabled)&&!_e)){if(f&&N&&oo){Et(s,"scrollEnd",Ur);return}!Ot&&Z&&Z(m),Pt=m,Ge.tween&&!J&&(Ge.tween.kill(),Ge.tween=0),A&&A.pause(),p&&o&&o.revert({kill:!1}).invalidate(),m.isReverted||m.revert(!0,!0),m._subPinOffset=!1;var ee=ie(),ve=q(),ye=_?_.duration():fo(S,M),Be=He<=.01,Q=0,we=j||0,ae=Io(J)?J.end:n.end,nt=n.endTrigger||h,ce=Io(J)?J.start:n.start||(n.start===0||!h?0:f?"0 0":"0 100%"),Ie=m.pinnedContainer=n.pinnedContainer&&Nt(n.pinnedContainer,m),qe=h&&Math.max(0,et.indexOf(m))||0,Xe=qe,Je,Ke,ro,So,xt,dt,Yt,Dn,Ao,ct,yt,Tt,wt;for(ue&&Io(J)&&(Tt=de.getProperty(y,M.p),wt=de.getProperty(Ne,M.p));Xe-- >0;)dt=et[Xe],dt.end||dt.refresh(0,1)||(Pt=m),Yt=dt.pin,Yt&&(Yt===h||Yt===f||Yt===Ie)&&!dt.isReverted&&(ct||(ct=[]),ct.unshift(dt),dt.revert(!0,!0)),dt!==et[Xe]&&(qe--,Xe--);for(At(ce)&&(ce=ce(m)),ce=zs(ce,"start",m),re=Xs(ce,h,ee,M,Ye(),Fe,y,m,ve,$,Y,ye,_,m._startClamp&&"_startClamp")||(f?-.001:0),At(ae)&&(ae=ae(m)),Gt(ae)&&!ae.indexOf("+=")&&(~ae.indexOf(" ")?ae=(Gt(ce)?ce.split(" ")[0]:"")+ae:(Q=Di(ae.substr(2),ee),ae=Gt(ce)?ce:(_?de.utils.mapRange(0,_.duration(),_.scrollTrigger.start,_.scrollTrigger.end,re):re)+Q,nt=h)),ae=zs(ae,"end",m),fe=Math.max(re,Xs(ae||(nt?"100% 0":ye),nt,ee,M,Ye()+Q,Te,Ne,m,ve,$,Y,ye,_,m._endClamp&&"_endClamp"))||-.001,Q=0,Xe=qe;Xe--;)dt=et[Xe],Yt=dt.pin,Yt&&dt.start-dt._pinPush<=re&&!_&&dt.end>0&&(Je=dt.end-(m._startClamp?Math.max(0,dt.start):dt.start),(Yt===h&&dt.start-dt._pinPush<re||Yt===Ie)&&isNaN(ce)&&(Q+=Je*(1-dt.progress)),Yt===f&&(we+=Je));if(re+=Q,fe+=Q,m._startClamp&&(m._startClamp+=Q),m._endClamp&&!Ot&&(m._endClamp=fe||-.001,fe=Math.min(fe,fo(S,M))),He=fe-re||(re-=.01)&&.001,Be&&(ze=de.utils.clamp(0,1,de.utils.normalize(re,fe,ne))),m._pinPush=we,Fe&&Q&&(Je={},Je[M.a]="+="+Q,Ie&&(Je[M.p]="-="+Ye()),de.set([Fe,Te],Je)),f&&!(fs&&m.end>=fo(S,M)))Je=Qt(f),So=M===bt,ro=Ye(),Pe=parseFloat(O(M.a))+we,!ye&&fe>1&&(yt=(te?ut.scrollingElement||Vt:S).style,yt={style:yt,value:yt["overflow"+M.a.toUpperCase()]},te&&Qt(rt)["overflow"+M.a.toUpperCase()]!=="scroll"&&(yt.style["overflow"+M.a.toUpperCase()]="scroll")),Vi(f,X,Je),oe=oi(f),Ke=ho(f,!0),Dn=Y&&To(S,So?zt:bt)(),d?(R=[d+M.os2,He+we+Ct],R.t=X,Xe=d===gt?Mi(f,M)+He+we:0,Xe&&(R.push(M.d,Xe+Ct),X.style.flexBasis!=="auto"&&(X.style.flexBasis=Xe+Ct)),rn(R),Ie&&et.forEach(function(ao){ao.pin===Ie&&ao.vars.pinSpacing!==!1&&(ao._subPinOffset=!0)}),Y&&Ye(ne)):(Xe=Mi(f,M),Xe&&X.style.flexBasis!=="auto"&&(X.style.flexBasis=Xe+Ct)),Y&&(xt={top:Ke.top+(So?ro-re:Dn)+Ct,left:Ke.left+(So?Dn:ro-re)+Ct,boxSizing:"border-box",position:"fixed"},xt[Uo]=xt["max"+cn]=Math.ceil(Ke.width)+Ct,xt[jo]=xt["max"+Ts]=Math.ceil(Ke.height)+Ct,xt[Jt]=xt[Jt+In]=xt[Jt+Rn]=xt[Jt+Ln]=xt[Jt+kn]="0",xt[gt]=Je[gt],xt[gt+In]=Je[gt+In],xt[gt+Rn]=Je[gt+Rn],xt[gt+Ln]=Je[gt+Ln],xt[gt+kn]=Je[gt+kn],H=ol(lt,xt,I),Ot&&Ye(0)),o?(Ao=o._initted,Ni(1),o.render(o.duration(),!0,!0),Qe=O(M.a)-Pe+He+we,se=Math.abs(He-Qe)>1,Y&&se&&H.splice(H.length-2,2),o.render(0,!0,!0),Ao||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),Ni(0)):Qe=He,yt&&(yt.value?yt.style["overflow"+M.a.toUpperCase()]=yt.value:yt.style.removeProperty("overflow-"+M.a));else if(h&&Ye()&&!_)for(Ke=h.parentNode;Ke&&Ke!==rt;)Ke._pinOffset&&(re-=Ke._pinOffset,fe-=Ke._pinOffset),Ke=Ke.parentNode;ct&&ct.forEach(function(ao){return ao.revert(!1,!0)}),m.start=re,m.end=fe,B=Ee=Ot?ne:Ye(),!_&&!Ot&&(B<ne&&Ye(ne),m.scroll.rec=0),m.revert(!1,!0),Ze=St(),Ve&&(Ce=-1,Ve.restart(!0)),Pt=0,o&&E&&(o._initted||Me)&&o.progress()!==Me&&o.progress(Me||0,!0).render(o.time(),!0,!0),(Be||ze!==m.progress||_||p||o&&!o._initted)&&(o&&!E&&o.totalProgress(_&&re<-.001&&!ze?de.utils.normalize(re,fe,0):ze,!0),m.progress=Be||(B-re)/He===ze?0:ze),f&&d&&(X._pinOffset=Math.round(m.progress*Qe)),A&&A.invalidate(),isNaN(Tt)||(Tt-=de.getProperty(y,M.p),wt-=de.getProperty(Ne,M.p),ni(y,M,Tt),ni(Fe,M,Tt-(j||0)),ni(Ne,M,wt),ni(Te,M,wt-(j||0))),Be&&!Ot&&m.update(),g&&!Ot&&!ke&&(ke=!0,g(m),ke=!1)}},m.getVelocity=function(){return(Ye()-Ee)/(St()-xn)*1e3||0},m.endAnimation=function(){mn(m.callbackAnimation),o&&(A?A.progress(1):o.paused()?E||mn(o,m.direction<0,1):mn(o,o.reversed()))},m.labelToScroll=function(N){return o&&o.labels&&(re||m.refresh()||re)+o.labels[N]/o.duration()*He||0},m.getTrailing=function(N){var _e=et.indexOf(m),J=m.direction>0?et.slice(0,_e).reverse():et.slice(_e+1);return(Gt(N)?J.filter(function(j){return j.vars.preventOverlaps===N}):J).filter(function(j){return m.direction>0?j.end<=re:j.start>=fe})},m.update=function(N,_e,J){if(!(_&&!J&&!N)){var j=Ot===!0?ne:m.scroll(),ee=N?0:(j-re)/He,ve=ee<0?0:ee>1?1:ee||0,ye=m.progress,Be,Q,we,ae,nt,ce,Ie,qe;if(_e&&(Ee=B,B=_?Ye():j,w&&(z=De,De=o&&!E?o.totalProgress():ve)),D&&f&&!Pt&&!qn&&oo&&(!ve&&re<j+(j-Ee)/(St()-xn)*D?ve=1e-4:ve===1&&fe>j+(j-Ee)/(St()-xn)*D&&(ve=.9999)),ve!==ye&&m.enabled){if(Be=m.isActive=!!ve&&ve<1,Q=!!ye&&ye<1,ce=Be!==Q,nt=ce||!!ve!=!!ye,m.direction=ve>ye?1:-1,m.progress=ve,nt&&!Pt&&(we=ve&&!ye?0:ve===1?1:ye===1?2:3,E&&(ae=!ce&&U[we+1]!=="none"&&U[we+1]||U[we],qe=o&&(ae==="complete"||ae==="reset"||ae in o))),C&&(ce||qe)&&(qe||c||!o)&&(At(C)?C(m):m.getTrailing(C).forEach(function(ro){return ro.endAnimation()})),E||(A&&!Pt&&!qn?(A._dp._time-A._start!==A._time&&A.render(A._dp._time-A._start),A.resetTo?A.resetTo("totalProgress",ve,o._tTime/o._tDur):(A.vars.totalProgress=ve,A.invalidate().restart())):o&&o.totalProgress(ve,!!(Pt&&(Ze||N)))),f){if(N&&d&&(X.style[d+M.os2]=F),!Y)he(wn(Pe+Qe*ve));else if(nt){if(Ie=!N&&ve>ye&&fe+1>j&&j+1>=fo(S,M),I)if(!N&&(Be||Ie)){var Xe=ho(f,!0),Je=j-re;$s(f,rt,Xe.top+(M===bt?Je:0)+Ct,Xe.left+(M===bt?0:Je)+Ct)}else $s(f,X);rn(Be||Ie?H:oe),se&&ve<1&&Be||he(Pe+(ve===1&&!Ie?Qe:0))}}w&&!Ge.tween&&!Pt&&!qn&&Ve.restart(!0),a&&(ce||b&&ve&&(ve<1||!Hi))&&jn(a.targets).forEach(function(ro){return ro.classList[Be||b?"add":"remove"](a.className)}),r&&!E&&!N&&r(m),nt&&!Pt?(E&&(qe&&(ae==="complete"?o.pause().totalProgress(1):ae==="reset"?o.restart(!0).pause():ae==="restart"?o.restart(!0):o[ae]()),r&&r(m)),(ce||!Hi)&&(l&&ce&&ji(m,l),le[we]&&ji(m,le[we]),b&&(ve===1?m.kill(!1,1):le[we]=0),ce||(we=ve===1?1:3,le[we]&&ji(m,le[we]))),W&&!Be&&Math.abs(m.getVelocity())>(Cn(W)?W:2500)&&(mn(m.callbackAnimation),A?A.progress(1):mn(o,ae==="reverse"?1:!ve,1))):E&&r&&!Pt&&r(m)}if(V){var Ke=_?j/_.duration()*(_._caScrollDist||0):j;P(Ke+(y._isFlipped?1:0)),V(Ke)}vt&&vt(-j/_.duration()*(_._caScrollDist||0))}},m.enable=function(N,_e){m.enabled||(m.enabled=!0,Et(S,"resize",bn),te||Et(S,"scroll",Jo),Z&&Et(s,"refreshInit",Z),N!==!1&&(m.progress=ze=0,B=Ee=Ce=Ye()),_e!==!1&&m.refresh())},m.getTween=function(N){return N&&Ge?Ge.tween:A},m.setPositions=function(N,_e,J,j){if(_){var ee=_.scrollTrigger,ve=_.duration(),ye=ee.end-ee.start;N=ee.start+ye*N/ve,_e=ee.start+ye*_e/ve}m.refresh(!1,!1,{start:Ns(N,J&&!!m._startClamp),end:Ns(_e,J&&!!m._endClamp)},j),m.update()},m.adjustPinSpacing=function(N){if(R&&N){var _e=R.indexOf(M.d)+1;R[_e]=parseFloat(R[_e])+N+Ct,R[1]=parseFloat(R[1])+N+Ct,rn(R)}},m.disable=function(N,_e){if(m.enabled&&(N!==!1&&m.revert(!0,!0),m.enabled=m.isActive=!1,_e||A&&A.pause(),ne=0,Le&&(Le.uncache=1),Z&&_t(s,"refreshInit",Z),Ve&&(Ve.pause(),Ge.tween&&Ge.tween.kill()&&(Ge.tween=0)),!te)){for(var J=et.length;J--;)if(et[J].scroller===S&&et[J]!==m)return;_t(S,"resize",bn),te||_t(S,"scroll",Jo)}},m.kill=function(N,_e){m.disable(N,_e),A&&!_e&&A.kill(),u&&delete ps[u];var J=et.indexOf(m);J>=0&&et.splice(J,1),J===Lt&&mi>0&&Lt--,J=0,et.forEach(function(j){return j.scroller===m.scroller&&(J=1)}),J||Ot||(m.scroll.rec=0),o&&(o.scrollTrigger=null,N&&o.revert({kill:!1}),_e||o.kill()),Fe&&[Fe,Te,y,Ne].forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),On===m&&(On=0),f&&(Le&&(Le.uncache=1),J=0,et.forEach(function(j){return j.pin===f&&J++}),J||(Le.spacer=0)),n.onKill&&n.onKill(m)},et.push(m),m.enable(!1,!1),pt&&pt(m),o&&o.add&&!He){var Ae=m.update;m.update=function(){m.update=Ae,ot.cache++,re||fe||m.refresh()},de.delayedCall(.01,m.update),He=.01,re=fe=0}else m.refresh();f&&Ka()},s.register=function(n){return Qo||(de=n||Ir(),kr()&&window.document&&s.enable(),Qo=yn),Qo},s.defaults=function(n){if(n)for(var o in n)ei[o]=n[o];return ei},s.disable=function(n,o){yn=0,et.forEach(function(r){return r[o?"kill":"disable"](n)}),_t(tt,"wheel",Jo),_t(ut,"scroll",Jo),clearInterval(Zn),_t(ut,"touchcancel",uo),_t(rt,"touchstart",uo),Qn(_t,ut,"pointerdown,touchstart,mousedown",Hs),Qn(_t,ut,"pointerup,touchend,mouseup",Us),_i.kill(),Jn(_t);for(var i=0;i<ot.length;i+=3)Kn(_t,ot[i],ot[i+1]),Kn(_t,ot[i],ot[i+2])},s.enable=function(){if(tt=window,ut=document,Vt=ut.documentElement,rt=ut.body,de&&(jn=de.utils.toArray,Bn=de.utils.clamp,cs=de.core.context||uo,Ni=de.core.suppressOverwrites||uo,_s=tt.history.scrollRestoration||"auto",ds=tt.pageYOffset||0,de.core.globals("ScrollTrigger",s),rt)){yn=1,sn=document.createElement("div"),sn.style.height="100vh",sn.style.position="absolute",Vr(),Ya(),Dt.register(de),s.isTouch=Dt.isTouch,Co=Dt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),us=Dt.isTouch===1,Et(tt,"wheel",Jo),bs=[tt,ut,Vt,rt],de.matchMedia?(s.matchMedia=function(l){var g=de.matchMedia(),c;for(c in l)g.add(c,l[c]);return g},de.addEventListener("matchMediaInit",function(){return Ss()}),de.addEventListener("matchMediaRevert",function(){return jr()}),de.addEventListener("matchMedia",function(){zo(0,1),$o("matchMedia")}),de.matchMedia().add("(orientation: portrait)",function(){return Gi(),Gi})):console.warn("Requires GSAP 3.11.0 or later"),Gi(),Et(ut,"scroll",Jo);var n=rt.hasAttribute("style"),o=rt.style,i=o.borderTopStyle,r=de.core.Animation.prototype,a,u;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",a=ho(rt),bt.m=Math.round(a.top+bt.sc())||0,zt.m=Math.round(a.left+zt.sc())||0,i?o.borderTopStyle=i:o.removeProperty("border-top-style"),n||(rt.setAttribute("style",""),rt.removeAttribute("style")),Zn=setInterval(Vs,250),de.delayedCall(.5,function(){return qn=0}),Et(ut,"touchcancel",uo),Et(rt,"touchstart",uo),Qn(Et,ut,"pointerdown,touchstart,mousedown",Hs),Qn(Et,ut,"pointerup,touchend,mouseup",Us),ls=de.utils.checkPrefix("transform"),vi.push(ls),Qo=St(),_i=de.delayedCall(.2,zo).pause(),Ko=[ut,"visibilitychange",function(){var l=tt.innerWidth,g=tt.innerHeight;ut.hidden?(Ls=l,Os=g):(Ls!==l||Os!==g)&&bn()},ut,"DOMContentLoaded",zo,tt,"load",zo,tt,"resize",bn],Jn(Et),et.forEach(function(l){return l.enable(0,1)}),u=0;u<ot.length;u+=3)Kn(_t,ot[u],ot[u+1]),Kn(_t,ot[u],ot[u+2])}},s.config=function(n){"limitCallbacks"in n&&(Hi=!!n.limitCallbacks);var o=n.syncInterval;o&&clearInterval(Zn)||(Zn=o)&&setInterval(Vs,o),"ignoreMobileResize"in n&&(us=s.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Jn(_t)||Jn(Et,n.autoRefreshEvents||"none"),Ar=(n.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(n,o){var i=Nt(n),r=ot.indexOf(i),a=Yo(i);~r&&ot.splice(r,a?6:2),o&&(a?po.unshift(tt,o,rt,o,Vt,o):po.unshift(i,o))},s.clearMatchMedia=function(n){et.forEach(function(o){return o._ctx&&o._ctx.query===n&&o._ctx.kill(!0,!0)})},s.isInViewport=function(n,o,i){var r=(Gt(n)?Nt(n):n).getBoundingClientRect(),a=r[i?Uo:jo]*o||0;return i?r.right-a>0&&r.left+a<tt.innerWidth:r.bottom-a>0&&r.top+a<tt.innerHeight},s.positionInViewport=function(n,o,i){Gt(n)&&(n=Nt(n));var r=n.getBoundingClientRect(),a=r[i?Uo:jo],u=o==null?a/2:o in Fi?Fi[o]*a:~o.indexOf("%")?parseFloat(o)*a/100:parseFloat(o)||0;return i?(r.left+u)/tt.innerWidth:(r.top+u)/tt.innerHeight},s.killAll=function(n){if(et.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var o=Xo.killAll||[];Xo={},o.forEach(function(i){return i()})}},s}();We.version="3.12.7";We.saveStyles=function(s){return s?jn(s).forEach(function(e){if(e&&e.style){var t=jt.indexOf(e);t>=0&&jt.splice(t,5),jt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),de.core.getCache(e),cs())}}):jt};We.revert=function(s,e){return Ss(!s,e)};We.create=function(s,e){return new We(s,e)};We.refresh=function(s){return s?bn(!0):(Qo||We.register())&&zo(!0)};We.update=function(s){return++ot.cache&&vo(s===!0?2:0)};We.clearScrollMemory=Gr;We.maxScroll=function(s,e){return fo(s,e?zt:bt)};We.getScrollFunc=function(s,e){return To(Nt(s),e?zt:bt)};We.getById=function(s){return ps[s]};We.getAll=function(){return et.filter(function(s){return s.vars.id!=="ScrollSmoother"})};We.isScrolling=function(){return!!oo};We.snapDirectional=Ps;We.addEventListener=function(s,e){var t=Xo[s]||(Xo[s]=[]);~t.indexOf(e)||t.push(e)};We.removeEventListener=function(s,e){var t=Xo[s],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};We.batch=function(s,e){var t=[],n={},o=e.interval||.016,i=e.batchMax||1e9,r=function(l,g){var c=[],h=[],f=de.delayedCall(o,function(){g(c,h),c=[],h=[]}).pause();return function(d){c.length||f.restart(!0),c.push(d.trigger),h.push(d),i<=c.length&&f.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&At(e[a])&&a!=="onRefreshInit"?r(a,e[a]):e[a];return At(i)&&(i=i(),Et(We,"refresh",function(){return i=e.batchMax()})),jn(s).forEach(function(u){var l={};for(a in n)l[a]=n[a];l.trigger=u,t.push(We.create(l))}),t};var qs=function(e,t,n,o){return t>o?e(o):t<0&&e(0),n>o?(o-t)/(n-t):n<0?t/(t-n):1},Wi=function s(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Dt.isTouch?" pinch-zoom":""):"none",e===Vt&&s(rt,t)},ii={auto:1,scroll:1},il=function(e){var t=e.event,n=e.target,o=e.axis,i=(t.changedTouches?t.changedTouches[0]:t).target,r=i._gsap||de.core.getCache(i),a=St(),u;if(!r._isScrollT||a-r._isScrollT>2e3){for(;i&&i!==rt&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(ii[(u=Qt(i)).overflowY]||ii[u.overflowX]));)i=i.parentNode;r._isScroll=i&&i!==n&&!Yo(i)&&(ii[(u=Qt(i)).overflowY]||ii[u.overflowX]),r._isScrollT=a}(r._isScroll||o==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},Yr=function(e,t,n,o){return Dt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:o=o&&il,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return n&&Et(ut,Dt.eventTypes[0],Qs,!1,!0)},onDisable:function(){return _t(ut,Dt.eventTypes[0],Qs,!0)}})},sl=/(input|label|select|textarea)/i,Js,Qs=function(e){var t=sl.test(e.target.tagName);(t||Js)&&(e._gsapAllow=!0,Js=t)},rl=function(e){Io(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,o=t.momentum,i=t.allowNestedScroll,r=t.onRelease,a,u,l=Nt(e.target)||Vt,g=de.core.globals().ScrollSmoother,c=g&&g.get(),h=Co&&(e.content&&Nt(e.content)||c&&e.content!==!1&&!c.smooth()&&c.content()),f=To(l,bt),d=To(l,zt),p=1,D=(Dt.isTouch&&tt.visualViewport?tt.visualViewport.scale*tt.visualViewport.width:tt.outerWidth)/tt.innerWidth,v=0,x=At(o)?function(){return o(a)}:function(){return o||2.8},b,w,I=Yr(l,e.type,!0,i),T=function(){return w=!1},_=uo,W=uo,C=function(){u=fo(l,bt),W=Bn(Co?1:0,u),n&&(_=Bn(0,fo(l,zt))),b=Go},M=function(){h._gsap.y=wn(parseFloat(h._gsap.y)+f.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},E=function(){if(w){requestAnimationFrame(T);var ue=wn(a.deltaY/2),$=W(f.v-ue);if(h&&$!==f.v+f.offset){f.offset=$-f.v;var m=wn((parseFloat(h&&h._gsap.y)||0)-f.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+m+", 0, 1)",h._gsap.y=m+"px",f.cacheID=ot.cache,vo()}return!0}f.offset&&M(),w=!0},S,L,te,Y,le=function(){C(),S.isActive()&&S.vars.scrollY>u&&(f()>u?S.progress(1)&&f(u):S.resetTo("scrollY",u))};return h&&de.set(h,{y:"+=0"}),e.ignoreCheck=function(U){return Co&&U.type==="touchmove"&&E()||p>1.05&&U.type!=="touchstart"||a.isGesturing||U.touches&&U.touches.length>1},e.onPress=function(){w=!1;var U=p;p=wn((tt.visualViewport&&tt.visualViewport.scale||1)/D),S.pause(),U!==p&&Wi(l,p>1.01?!0:n?!1:"x"),L=d(),te=f(),C(),b=Go},e.onRelease=e.onGestureStart=function(U,ue){if(f.offset&&M(),!ue)Y.restart(!0);else{ot.cache++;var $=x(),m,Z;n&&(m=d(),Z=m+$*.05*-U.velocityX/.227,$*=qs(d,m,Z,fo(l,zt)),S.vars.scrollX=_(Z)),m=f(),Z=m+$*.05*-U.velocityY/.227,$*=qs(f,m,Z,fo(l,bt)),S.vars.scrollY=W(Z),S.invalidate().duration($).play(.01),(Co&&S.vars.scrollY>=u||m>=u-1)&&de.to({},{onUpdate:le,duration:$})}r&&r(U)},e.onWheel=function(){S._ts&&S.pause(),St()-v>1e3&&(b=0,v=St())},e.onChange=function(U,ue,$,m,Z){if(Go!==b&&C(),ue&&n&&d(_(m[2]===ue?L+(U.startX-U.x):d()+ue-m[1])),$){f.offset&&M();var ie=Z[2]===$,q=ie?te+U.startY-U.y:f()+$-Z[1],Ce=W(q);ie&&q!==Ce&&(te+=Ce-q),f(Ce)}($||ue)&&vo()},e.onEnable=function(){Wi(l,n?!1:"x"),We.addEventListener("refresh",le),Et(tt,"resize",le),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=d.smooth=!1),I.enable()},e.onDisable=function(){Wi(l,!0),_t(tt,"resize",le),We.removeEventListener("refresh",le),I.kill()},e.lockAxis=e.lockAxis!==!1,a=new Dt(e),a.iOS=Co,Co&&!f()&&f(1),Co&&de.ticker.add(uo),Y=a._dc,S=de.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Wr(f,f(),function(){return S.pause()})},onUpdate:vo,onComplete:Y.vars.onComplete}),a};We.sort=function(s){if(At(s))return et.sort(s);var e=tt.pageYOffset||0;return We.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+tt.innerHeight}),et.sort(s||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};We.observe=function(s){return new Dt(s)};We.normalizeScroll=function(s){if(typeof s>"u")return It;if(s===!0&&It)return It.enable();if(s===!1){It&&It.kill(),It=s;return}var e=s instanceof Dt?s:rl(s);return It&&It.target===e.target&&It.kill(),Yo(e.target)&&(It=e),e};We.core={_getVelocityProp:as,_inputObserver:Yr,_scrollers:ot,_proxies:po,bridge:{ss:function(){oo||$o("scrollStart"),oo=St()},ref:function(){return Pt}}};Ir()&&de.registerPlugin(We);var zn=function(){var s=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(g){g.preventDefault(),n(++s%e.children.length)},!1);function t(g){return e.appendChild(g.dom),g}function n(g){for(var c=0;c<e.children.length;c++)e.children[c].style.display=c===g?"block":"none";s=g}var o=(performance||Date).now(),i=o,r=0,a=t(new zn.Panel("FPS","#0ff","#002")),u=t(new zn.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new zn.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){r++;var g=(performance||Date).now();if(u.update(g-o,200),g>=i+1e3&&(a.update(r*1e3/(g-i),100),i=g,r=0,l)){var c=performance.memory;l.update(c.usedJSHeapSize/1048576,c.jsHeapSizeLimit/1048576)}return g},update:function(){o=this.end()},domElement:e,setMode:n}};zn.Panel=function(s,e,t){var n=1/0,o=0,i=Math.round,r=i(window.devicePixelRatio||1),a=80*r,u=48*r,l=3*r,g=2*r,c=3*r,h=15*r,f=74*r,d=30*r,p=document.createElement("canvas");p.width=a,p.height=u,p.style.cssText="width:80px;height:48px";var D=p.getContext("2d");return D.font="bold "+9*r+"px Helvetica,Arial,sans-serif",D.textBaseline="top",D.fillStyle=t,D.fillRect(0,0,a,u),D.fillStyle=e,D.fillText(s,l,g),D.fillRect(c,h,f,d),D.fillStyle=t,D.globalAlpha=.9,D.fillRect(c,h,f,d),{dom:p,update:function(v,x){n=Math.min(n,v),o=Math.max(o,v),D.fillStyle=t,D.globalAlpha=1,D.fillRect(0,0,a,h),D.fillStyle=e,D.fillText(i(v)+" "+s+" ("+i(n)+"-"+i(o)+")",l,g),D.drawImage(p,c+r,h,f-r,d,c,h,f-r,d),D.fillRect(c+f-r,h,r,d),D.fillStyle=t,D.globalAlpha=.9,D.fillRect(c+f-r,h,r,i((1-v/x)*d))}}};const Xr={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Wn{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const al=new Ca(-1,1,1,-1,0,1);class ll extends to{constructor(){super(),this.setAttribute("position",new bo([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new bo([0,2,0,0,2,0],2))}}const ul=new ll;class $r{constructor(e){this._mesh=new Ue(ul,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,al)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class cl extends Wn{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Oo?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=ts.clone(e.uniforms),this.material=new Oo({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new $r(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Ks extends Wn{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const o=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let r,a;this.inverse?(r=0,a=1):(r=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),i.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(o.EQUAL,1,4294967295),i.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),i.buffers.stencil.setLocked(!0)}}class fl extends Wn{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class pl{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const n=e.getSize(new Zt);this._width=n.width,this._height=n.height,t=new ci(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:fi}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new cl(Xr),this.copyPass.material.blending=ba,this.clock=new _a}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let o=0,i=this.passes.length;o<i;o++){const r=this.passes[o];if(r.enabled!==!1){if(r.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),r.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),r.needsSwap){if(n){const a=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}Ks!==void 0&&(r instanceof Ks?n=!0:r instanceof fl&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Zt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(n,o),this.renderTarget2.setSize(n,o);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class dl extends Wn{constructor(e,t,n=null,o=null,i=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Mt}render(e,t,n){const o=e.autoClear;e.autoClear=!1;let i,r;this.overrideMaterial!==null&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=r),e.autoClear=o}}const hl={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Mt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Zo extends Wn{constructor(e,t,n,o){super(),this.strength=t!==void 0?t:1,this.radius=n,this.threshold=o,this.resolution=e!==void 0?new Zt(e.x,e.y):new Zt(256,256),this.clearColor=new Mt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);this.renderTargetBright=new ci(i,r,{type:fi}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const h=new ci(i,r,{type:fi});h.texture.name="UnrealBloomPass.h"+c,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const f=new ci(i,r,{type:fi});f.texture.name="UnrealBloomPass.v"+c,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),i=Math.round(i/2),r=Math.round(r/2)}const a=hl;this.highPassUniforms=ts.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Oo({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const u=[3,5,7,9,11];i=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(u[c])),this.separableBlurMaterials[c].uniforms.invSize.value=new Zt(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new Re(1,1,1),new Re(1,1,1),new Re(1,1,1),new Re(1,1,1),new Re(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const g=Xr;this.copyUniforms=ts.clone(g.uniforms),this.blendMaterial=new Oo({uniforms:this.copyUniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader,blending:co,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Mt,this.oldClearAlpha=1,this.basic=new ht,this.fsQuad=new $r(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let n=Math.round(e/2),o=Math.round(t/2);this.renderTargetBright.setSize(n,o);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,o),this.renderTargetsVertical[i].setSize(n,o),this.separableBlurMaterials[i].uniforms.invSize.value=new Zt(1/n,1/o),n=Math.round(n/2),o=Math.round(o/2)}render(e,t,n,o,i){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[u].uniforms.direction.value=Zo.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=Zo.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}getSeparableBlurMaterial(e){const t=[];for(let n=0;n<e;n++)t.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new Oo({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Zt(.5,.5)},direction:{value:new Zt(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Oo({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Zo.BlurDirectionX=new Zt(1,0);Zo.BlurDirectionY=new Zt(0,1);function Dl(s,e,t,n){xo();const{CUBE_SIZE:o,FIRST_CUBE_Z:i}=t,r=8,a=24,u=.075;let l,g=[],c=[],h=[],f=[];const d=(D,v,x,b)=>{const w=new un(D,D,D),I=new Ho(w),T=[new mt({color:16711680,transparent:!0,opacity:b.opacity,blending:co}),new mt({color:65280,transparent:!0,opacity:b.opacity,blending:co}),new mt({color:255,transparent:!0,opacity:b.opacity,blending:co}),new mt({color:65535,transparent:!0,opacity:b.opacity,blending:co}),new mt({color:16711935,transparent:!0,opacity:b.opacity,blending:co}),new mt({color:16776960,transparent:!0,opacity:b.opacity,blending:co})],_=new qt,W=I.getAttribute("position").array,C=[];for(let S=0;S<W.length/3;S+=2)C.push(S,S+1);const M=Array(6).fill(null).map(()=>new to),E=Array(6).fill(null).map(()=>[]);for(let S=0;S<C.length/2;S++){const L=S%6;E[L].push(C[S*2],C[S*2+1])}return M.forEach((S,L)=>{S.setIndex(E[L]),S.setAttribute("position",I.getAttribute("position"));const te=new ft(S,T[L]);_.add(te)}),_.position.z=v,_.rotation.z=x,_};return(()=>{const x=.9/(a-1);for(let C=0;C<a;C++)c[C]=new mt({transparent:!0,opacity:1-C*x});if(l=new qt,!l){console.error("introGroup failed to initialize");return}for(let C=0;C<a;C++){const M=o-C*r,E=d(M,0,0,c[C]),S=E.children.map(L=>L.material);f.push(S.map(L=>({material:L,originalColor:L.color.clone()}))),l.add(E)}l.position.z=i,s.add(l),g.push(l),h=c.map(C=>C.opacity);const b=K.timeline({repeat:-1});b.to(l.rotation,{x:ge.degToRad(360),duration:12,ease:"none"},0),b.to(l.rotation,{y:ge.degToRad(360),duration:10,ease:"none"},0),b.to(l.rotation,{z:ge.degToRad(360),duration:14,ease:"none"},0);let w=-1,I=0;const T=u*1e3,_=a*T,W=C=>{const M=C%_/T,E=Math.floor(M)%a;w!==-1&&C-I>=T&&(f[w].forEach(te=>{te.material.opacity=h[w],te.material.color.copy(te.originalColor)}),w=-1),w===-1&&E!==w&&(w=E,I=C,f[w].forEach(L=>{L.material.opacity=1,L.material.color.set(1,1,1)})),requestAnimationFrame(W)};requestAnimationFrame(W)})(),{introCubes:g}}class Yi extends Ea{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const o=n.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(o,t)}this.type="TextGeometry"}}function gl(s,e,t,n,o,i,r,a){const u=xo(),l=Po(),{CUBE_SIZE:g,CUBE_SPACING:c,FIRST_CUBE_Z:h}=e,f=h-(t.length+1)*c,d=65535,p=16711935,D=(d>>16&255)/255,v=(d>>8&255)/255,x=(d&255)/255,b=(p>>16&255)/255,w=(p>>8&255)/255,I=(p&255)/255,T=ge.degToRad(15),_=1e3,W=.5,C=65280,M=80,E=1,S=15,L=.1,te="ENTER TO LEARN MORE",Y=u.isMobile?1:.5,le=40,U=.125,ue=100,$=8,m=u.isMobile?2.5:2,Z=u.isMobile?4:3.5,ie=1;let q=[];q.length=0;let Ce=[],Ze=!1,ze=new Ma,Ye=new Zt,Ge=null,Le=null,Oe=null,B=!1,Ee=null,re=[];const fe=new Map,Fe=new Map,Te=new Map,y=(F,R,P,se,V,xe,De)=>{const z=new qt;z.name="group",z.position.z=P,z.rotation.z=se,z.userData.isActive=!1,z.userData.cubeIndex=De;const A=new un(R,R,R),Se=new Ho(A),pe=new mt({color:new Mt(d),transparent:!0,opacity:0}),Ve=new ft(Se,pe);Ve.geometry.computeBoundingSphere(),z.add(Ve);let ne="right";const Me=R/2,vt=()=>{const G=u.isMobile?2:1,Ae=25*G,N=40*G,_e=new Rs(N,75),J=new Ho(_e),j=new mt({color:new Mt(d),transparent:!0,opacity:0,visible:!0}),ee=new ft(J,j);ee.name="portal",ee.userData.isPortal=!0,ee.userData.isAnimating=!1,ee.geometry.computeBoundingSphere();const ve=80*G,ye=new wo(ve,ve),Be=new ht({visible:!1,side:$t}),Q=new Ue(ye,Be);Q.userData.isPortalHitbox=!0,Q.userData.portal=ee,Q.geometry.computeBoundingSphere();const we=new qt,ae=E*G,nt=S*G,ce=new wo(ae,nt),Ie=(Ae+N)/2;for(let ct=0;ct<M;ct++){const yt=new ht({color:new Mt(p),transparent:!0,opacity:0,visible:!1,side:$t}),Tt=new Ue(ce,yt),wt=ct/M*Math.PI*2;Tt.position.set(Math.cos(wt)*Ie,Math.sin(wt)*Ie,0),Tt.rotation.z=wt+Math.PI/2,Tt.userData.baseOpacity=.01,Tt.userData.index=ct,Tt.geometry.computeBoundingSphere(),we.add(Tt)}ee.userData.pulsesGroup=we;const qe=2*G,Xe=25;for(let ct=1;ct<Xe;ct++){const yt=new Rs(N,75),Tt=new Ho(yt),wt=ge.lerp(.125,.1,ct/(Xe-1)),ao=new mt({color:new Mt(d),transparent:!0,opacity:0}),lo=new ft(Tt,ao);lo.userData.isPortal=!0,lo.userData.maxOpacity=wt,lo.position.z=-ct*qe,lo.geometry.computeBoundingSphere(),ee.add(lo)}ee.userData.maxOpacity=.125;let Je=null;if(a.value){const ct=3*G,yt=new Yi(te,{font:a.value,size:ct,depth:0,curveSegments:4,bevelEnabled:!1});yt.computeBoundingBox(),yt.center();const Tt=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),wt=new Ue(yt,Tt);wt.visible=!1,wt.userData.isVisible=!1,wt.userData.isExploreText=!0,wt.userData.skipTextMeshes=!0;const ao=-45*G;wt.position.set(0,ao,0),wt.name="textMesh",ee.add(wt),ee.userData.exploreText=wt;const lo=yt.boundingBox,fa=(lo.max.x-lo.min.x+10)*G,pa=(lo.max.y-lo.min.y+10)*G,da=new wo(fa,pa),ha=new ht({transparent:!0,opacity:0,side:$t,visible:!1});Je=new Ue(da,ha),Je.position.set(0,ao,0),Je.userData.isExploreTextHitbox=!0,Je.userData.portal=ee,Je.geometry.computeBoundingSphere(),Je.name="textHitbox",ee.add(Je),ee.userData.exploreTextHitbox=Je;const Da=5,Li=new Yi(F.title,{font:a.value,size:Da,depth:0,curveSegments:4,bevelEnabled:!1});Li.computeBoundingBox(),Li.center();const ga=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),Bo=new Ue(Li,ga);Bo.visible=!1,Bo.userData.isVisible=!1,Bo.userData.isTitleText=!0,Bo.userData.skipTextMeshes=!0;const ma=u.isMobile?u.orientation==="portrait"?100:106:60;Bo.position.set(0,ma,0),ee.add(Bo),ee.userData.titleText=Bo}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const Ke=new qt;Ke.name="closeGroup",Ke.position.set(u.isMobile?N-10:N,N,2);const ro=new wo(12,u.isMobile?1:.5),So=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),xt=new Ue(ro,So);xt.rotation.z=Math.PI/4;const dt=new Ue(ro,So);dt.rotation.z=-Math.PI/4,Ke.add(xt,dt);const Yt=new wo(15*G,15*G),Dn=new ht({side:$t,visible:!1}),Ao=new Ue(Yt,Dn);switch(Ao.userData.isCloseHitbox=!0,Ao.geometry.computeBoundingSphere(),Ao.renderOrder=2,Ke.add(Ao),ne){case"left":ee.position.set(-Me,0,0),ee.rotation.y=Math.PI/2,Q.position.set(-Me,0,0),Q.rotation.y=Math.PI/2,se>=ge.degToRad(120)&&(ee.rotation.z=Math.PI),we.children.forEach(ct=>ct.position.x+=L);break;case"top":ee.position.set(0,-Me,0),ee.rotation.x=-Math.PI/2,ee.rotation.z=-Math.PI/2,Q.position.set(0,-Me,0),Q.rotation.x=Math.PI/2,se>=ge.degToRad(100)&&se>=ge.degToRad(180)&&(ee.rotation.z=Math.PI/2),we.children.forEach(ct=>ct.position.y+=L);break;case"right":ee.position.set(Me,0,0),ee.rotation.y=-Math.PI/2,Q.position.set(Me,0,0),Q.rotation.y=-Math.PI/2,se>=ge.degToRad(120)&&(ee.rotation.z=Math.PI),we.children.forEach(ct=>ct.position.x+=L);break;case"bottom":ee.position.set(0,Me,0),ee.rotation.x=Math.PI/2,ee.rotation.z=-Math.PI/2,Q.position.set(0,Me,0),Q.rotation.x=Math.PI/2,we.children.forEach(ct=>ct.position.y+=L);break}ee.add(Ke),ee.userData.closeButton=Ke,Ke.updateMatrixWorld(!0),ee.add(we),z.add(ee),z.add(Q),z.userData.closeButton=Ke,ee.updateMatrixWorld(!0),we.updateMatrixWorld(!0),Ke.updateMatrixWorld(!0),fe.set(z,[]),Fe.set(z,0),Te.set(z,0)},pt=G=>{(G instanceof ft||G instanceof Ue)&&G.geometry&&G.geometry.computeBoundingSphere(),z.add(G)};if(V&&i.showKeyarts){switch(["left","top","right","bottom"].includes(xe)?xe:"left"){case"left":ne="right";break;case"top":ne="bottom";break;case"right":ne="left";break;case"bottom":ne="top";break}const Ae=r.get(V);if(Ae){const N=new wo(R-1,R-1),_e=new ht({map:Ae,transparent:!0,opacity:0,blending:co,side:$t}),J=new Ue(N,_e);switch(J.userData.isLoaded=!0,xe){case"left":J.position.set(-Me,0,0),se>=ge.degToRad(120)?(J.rotation.y=Math.PI/2,J.rotation.z=-Math.PI,z.userData.flipped=!0):J.rotation.y=Math.PI/2;break;case"top":J.position.set(0,-Me,0),J.rotation.x=-Math.PI/2,J.rotation.z=-Math.PI/2;break;case"right":J.position.set(Me,0,0),se>=ge.degToRad(120)?(J.rotation.y=-Math.PI/2,J.rotation.z=-Math.PI,z.userData.flipped=!0):J.rotation.y=-Math.PI/2;break;case"bottom":J.position.set(0,Me,0),se>=ge.degToRad(180)?se>=ge.degToRad(220)?(J.rotation.x=Math.PI/2,J.rotation.z=Math.PI/2,z.userData.flipped=!0):(J.rotation.x=-Math.PI/2,J.rotation.z=Math.PI/2,z.userData.flipped=!0):(J.rotation.x=Math.PI/2,J.rotation.z=-Math.PI/2);break}J.geometry.computeBoundingSphere(),pt(J),vt()}else console.warn(`Keyart texture not preloaded for ${F.title}: ${V}`),vt()}else vt();z.userData.portalLocation=ne;{const G=(ve,ye,Be,Q)=>{const we=new wo(R-1,R-1),ae={map:ve,transparent:!0,opacity:0,blending:co,side:$t,depthWrite:!1};Q&&(ae.color=Q);const nt=new ht(ae),ce=new Ue(we,nt);ce.position.copy(ye),Be.x&&(ce.rotation.x=Be.x),Be.y&&(ce.rotation.y=Be.y),ce.userData.isGridPlane=!0,ce.geometry.computeBoundingSphere(),pt(ce)},Ae=r.get(n),N=r.get(o),_e=["left","top","right","bottom"],j=[V&&i.showKeyarts?xe||"left":null,ne].filter(Boolean),ee=_e.filter(ve=>!j.includes(ve));if(Ae)switch(G(Ae,new Re(0,0,-R/2-1),{y:0}),G(Ae,new Re(0,0,R/2+1),{y:0},new Mt(16744448)),ee[0]){case"left":G(Ae,new Re(-Me,0,0),{y:-Math.PI/2},new Mt(255));break;case"top":G(Ae,new Re(0,Me,0),{x:Math.PI/2},new Mt(255));break;case"right":G(Ae,new Re(Me,0,0),{y:Math.PI/2},new Mt(255));break;case"bottom":G(Ae,new Re(0,-Me,0),{x:-Math.PI/2},new Mt(255));break}else console.warn(`Grid texture not preloaded: ${n}`);if(N)switch(ee[1]){case"left":G(N,new Re(-Me,0,0),{y:-Math.PI/2});break;case"top":G(N,new Re(0,Me,0),{x:Math.PI/2});break;case"right":G(N,new Re(Me,0,0),{y:Math.PI/2});break;case"bottom":G(N,new Re(0,-Me,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}z.children.forEach(G=>{G.updateMatrixWorld(!0),G instanceof qt&&G.children.forEach(Ae=>{Ae.updateMatrixWorld(!0)})}),z.updateMatrixWorld(!0);const Bt=new Tn().setFromObject(z),be=new Ci;return Bt.getBoundingSphere(be),z.boundingSphere=be,z},Ne=new Cs,me=(F,R,P,se,V)=>{if(!a.value){console.warn("Font not available; skipping text creation for:",F);const Bt=new to,be=new ht({visible:!1});return new Ue(Bt,be)}const xe=new Yi(F,{font:a.value,size:V,depth:0,curveSegments:4,bevelEnabled:!1});xe.computeBoundingBox(),xe.center();const De=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),z=new Ue(xe,De);z.position.set(R,P,se);const A=xe.boundingBox,Se=A.max.x-A.min.x,pe=A.max.y-A.min.y,Ve=Se+8,ne=pe+4,Me=new wo(Ve,ne),vt=new ht({color:0,transparent:!0,opacity:0,side:$t}),pt=new Ue(Me,vt);return pt.position.set(R,P,se-1),s.add(pt),s.add(z),z.userData.backgroundPlane=pt,z},ke=()=>{const F=Array.isArray(t)?t:[];Array.isArray(t)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",t);let R=0;F.forEach((P,se)=>{const V=h-(se+1)*c,xe=(se+1)*T,De=y(P,g,V,xe,P.keyart,P.keyartLocation,R);s.add(De),q.push(De),R++,me(P.title,0,P.size-15,h+90-(se+1)*c,P.size)}),s.traverse(P=>{var se;P instanceof Ue&&((se=P.geometry)==null?void 0:se.type)==="TextGeometry"&&!P.userData.skipTextMeshes&&Ce.push(P)})},He=()=>Ze?Promise.resolve({projectCubes:q,updateCubeColors:k,maxZ:f,cubeMetadata:re}):(ke(),Ze=!0,re=q.map(F=>({index:F.userData.cubeIndex,rotation:ge.radToDeg(F.rotation.z),flipped:F.userData.flipped})),l.setCubeMetadata(re),Promise.resolve({projectCubes:q,updateCubeColors:k,maxZ:f,cubeMetadata:re})),lt=F=>{if(F.userData.isAnimating)return;F.userData.isAnimating=!0;const R=F.userData.pulsesGroup;if(!R){console.warn("Pulses group not found in portal.userData");return}const P=R.children,se=P.length,V=K.timeline({repeat:-1,defaults:{ease:"none"}}),xe={value:0};V.to(xe,{value:1,duration:1.5,onUpdate:()=>{P.forEach(z=>{const A=z.material;if(A.visible){const Se=(z.userData.index/se+xe.value)%1,Ve=(Math.sin(Se*Math.PI*2)+1)/2;A.opacity=.01+(1-.01)*Math.pow(Ve,4)}})}}),F.userData.animationTimeline=V},H=F=>{if(!F.userData.isAnimating)return;F.userData.isAnimating=!1;const R=F.userData.pulsesGroup;if(!R){console.warn("Pulses group not found in portal.userData");return}F.userData.animationTimeline&&(F.userData.animationTimeline.kill(),delete F.userData.animationTimeline),R.children.forEach(P=>{const se=P.material;se.opacity=0})},oe=(F,R)=>{let P;const se=(Te.get(F)||0)+1;Te.set(F,se),se%$===0?P=new xr(m,Z,12,1):P=new un(Y,Y,Y);const V=new ht({color:16777215,transparent:!0,opacity:0}),xe=new Ue(P,V);xe.position.set(0,0,0);const De=R.position.clone(),z=De.clone().normalize(),A=De.length()+ue;if(se%$===0){const pe=xe.position.clone().add(z);xe.lookAt(pe),xe.rotateX(Math.PI/2)}F.add(xe),K.to(V,{opacity:.5,duration:ie,ease:"power2.in",overwrite:"auto"});const Se=fe.get(F)||[];Se.push({mesh:xe,direction:z,distanceTraveled:0,totalDistance:A}),fe.set(F,Se)},X=F=>{(fe.get(F)||[]).forEach(P=>{F.remove(P.mesh),P.mesh.geometry.dispose(),P.mesh.material.dispose()}),fe.set(F,[])},k=F=>{Ne.setFromProjectionMatrix(F.projectionMatrix.clone().multiply(F.matrixWorldInverse));const R=F.position.z;q.forEach((P,se)=>{const V=P.boundingSphere;if(V){const A=V.clone();if(A.radius*=1.5,!Ne.intersectsSphere(A))return}else console.warn(`Cube ${se} has no boundingSphere`);const xe=P.position.z,De=Math.abs(R-xe);let z=0;De<=_&&(z=1-De/_),P.userData.isActive=z>=W,P.children.forEach(A=>{if(A instanceof ft&&!A.userData.isPortal&&!A.userData.isPortalHitbox){const Se=A.material;if(De<=_){const pe=ge.lerp(D,b,z),Ve=ge.lerp(v,w,z),ne=ge.lerp(x,I,z);Se.color.set(pe,Ve,ne),Se.opacity=Math.min(1,z*2)}else Se.opacity=0}else if(A instanceof ft&&A.userData.isPortal){A.children.forEach(pe=>{if(pe instanceof Ue&&pe.userData.isExploreText){const Ve=pe.material;if(pe===A.userData.titleText&&B)return;if(De<=_){const ne=1-De/_;Ve.opacity=Math.min(1,ne*2),pe.visible=!0}else Ve.opacity=0,pe.visible=!1}});const Se=A.userData.pulsesGroup;z>.1?Se&&Se.children.forEach(pe=>{pe instanceof Ue&&(pe.material.visible=!0,!A.userData.animationStarted&&i.showPortalPulses&&(lt(A),A.userData.animationStarted=!0))}):z<=.1&&A.userData.animationStarted&&(Se&&Se.children.forEach(pe=>{pe instanceof Ue&&(pe.material.visible=!1)}),H(A),delete A.userData.animationStarted)}else if(A instanceof Ue&&!A.userData.isPortalHitbox&&!A.userData.isCloseHitbox){const Se=A.material;if(A.userData.isLoaded||A.userData.isGridPlane)if(De<=_){const pe=1-De/_;Se.opacity=Math.min(.8,pe*2),A.visible=!0}else Se.opacity=0,A.visible=!1}})}),Ce.forEach(P=>{if(!Ne.intersectsObject(P))return;const se=P.material,V=P.userData.backgroundPlane,xe=V==null?void 0:V.material,De=P.position.z,z=Math.abs(R-De+120);if(B){se.opacity=0,xe&&(xe.opacity=0);return}if(z<=_){const A=1-z/_,Se=Math.min(1,A*2);se.opacity=Se,xe&&(xe.opacity=Se*.8)}else se.opacity=0,xe&&(xe.opacity=0)})},O=(F,R)=>{const P=performance.now()/1e3,se=F.position.z;q.forEach(V=>{const xe=V.position.z;if(Math.abs(se-xe+90)<=_&&!B){const z=Fe.get(V)||0;if(P-z>=U){const pe=V.children.find(Ve=>Ve instanceof ft&&Ve.userData.isPortal);pe&&(oe(V,pe),Fe.set(V,P))}const Se=(fe.get(V)||[]).filter(pe=>{if(pe.distanceTraveled+=le*R,pe.mesh.position.copy(pe.direction.clone().multiplyScalar(pe.distanceTraveled)),(pe.totalDistance-pe.distanceTraveled)/le<=ie&&!pe.isFadingOut){pe.isFadingOut=!0;const Me=pe.mesh.material;K.to(Me,{opacity:0,duration:ie,ease:"power2.out",overwrite:"auto"})}return pe.distanceTraveled>=pe.totalDistance?(V.remove(pe.mesh),pe.mesh.geometry.dispose(),pe.mesh.material.dispose(),!1):!0});fe.set(V,Se)}else X(V)})},he=F=>{const R=[F,...F.children.filter(V=>V instanceof ft&&V.userData.isPortal)],P=2,se=.1;R.forEach((V,xe)=>{const De=V.material;De.opacity=V.userData.maxOpacity;const z=K.timeline({repeat:-1,delay:xe*se});z.to(De,{opacity:0,duration:P/2,ease:"power2.inOut"}).to(De,{opacity:V.userData.maxOpacity,duration:P/2,ease:"power2.inOut"}),V.userData.marqueeTimeline=z})},Pe=F=>{const R=[F,...F.children.filter(P=>P instanceof ft&&P.userData.isPortal)];R.forEach(P=>{P.userData.marqueeTimeline&&(P.userData.marqueeTimeline.kill(),delete P.userData.marqueeTimeline)}),F.userData.ringExpandTimeline&&(F.userData.ringExpandTimeline.kill(),delete F.userData.ringExpandTimeline),R.forEach((P,se)=>{const V=P.material;K.killTweensOf(P.position),K.killTweensOf(V),P.position.z=-se*2,V.opacity=0})};return{getInitializedData:He,updateCubeColors:k,setupInteractivity:(F,R,P,se,V)=>{Ee=se;let xe=null,De=null,z=null,A=!1,Se=!1,pe=!1,Ve=!1,ne=!1;const Me=j=>{B&&(xe=j.touches[0].clientY,De=De??window.scrollY,A=!0)},vt=j=>{if(!B||!z||!xe||Ve)return;const ve=j.touches[0].clientY-xe;u.isMobile&&ve<-50&&!Se&&(j.cancelable&&j.preventDefault(),be(),xe=null)},pt=j=>{xe=null,A=!1,pe=!0,K.delayedCall(.5,()=>{pe=!1})},Bt=j=>{if(A||Se||pe||Ve){j.preventDefault(),j.stopPropagation(),De!==null&&(window.scrollTo(0,De),K.to(window,{scrollTo:{y:De},duration:0}));return}if(!B||!z||!Le||!Oe)return;if(u.isMobile){j.preventDefault(),j.stopPropagation();return}let ee=0;if(j instanceof WheelEvent?ee=j.deltaY:ee=window.scrollY-(De||0),j.preventDefault(),j.stopPropagation(),ee>0){window.scrollTo(0,De);return}ee<0&&be()},be=()=>{const j=z,ee=Oe?Oe.clone():new Re(0,0,f),ve=(Le==null?void 0:Le.z)??F.position.z,ye=j==null?void 0:j.parent,Be=j?q.indexOf(ye):-1;if(Ve=!0,l.setPortalLock(!1),j){Pe(j);const ae=j.userData.titleText;if(ae){const nt=ae.material;K.to(nt,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ae.visible=!1}})}if(j.userData.closeButton){const nt=j.userData.closeButton,ce=nt.children.filter(Ie=>Ie instanceof Ue&&!Ie.userData.isCloseHitbox).map(Ie=>Ie.material);ce.length>0&&K.to(ce,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{nt.visible=!1}})}}K.to(F.position,{x:(Le==null?void 0:Le.x)??F.position.x,y:(Le==null?void 0:Le.y)??F.position.y,z:ve,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const ae=Ce[Be];if(Be!==-1&&ae){const nt=ae.material,ce=ae.userData.backgroundPlane,Ie=Math.abs(F.position.z-ae.position.z+120),qe=Ie<=_?Math.min(1,(1-Ie/_)*2):0;K.to(nt,{opacity:qe,duration:.5,ease:"power2.in"}),ce&&K.to(ce.material,{opacity:qe*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const ae=we.progress,nt=ge.lerp(Q.x,ee.x,ae),ce=ge.lerp(Q.y,ee.y,ae),Ie=ge.lerp(Q.z,ee.z,ae);F.lookAt(nt,ce,Ie),F.updateMatrixWorld(!0)},onComplete:()=>{F.lookAt(ee),B=!1,z=null,document.body.classList.remove("no-scrollbar"),u.isMobile&&(document.body.style.overflow=""),Ee&&Ee(!1),De=null,Le=null,Oe=null,F.userData.lockedLookAt=null,Ve=!1,q.forEach(ae=>{Math.abs(F.position.z-ae.position.z+90)<=_&&Fe.set(ae,0)})}});const Q=F.userData.lockedLookAt?F.userData.lockedLookAt.clone():F.getWorldDirection(new Re).multiplyScalar(1e3).add(F.position),we={progress:0};K.to(we,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},G=(j,ee=!0)=>{const ve=[j,...j.children.filter(Q=>Q instanceof ft&&Q.userData.isPortal)],ye=ee?25:2,Be=K.timeline({onComplete:()=>{ee&&ve[0]===j&&he(j)}});ve.forEach((Q,we)=>{let ae=-we*ye;(j.position.y>0&&j.rotation.x===-Math.PI/2||j.position.y<0&&j.rotation.x===Math.PI/2)&&(ae=we*ye);const nt=ee?Q.userData.maxOpacity:0;Be.to(Q.position,{z:ae,duration:1,ease:"power3.out",delay:.5},0),Be.to(Q.material,{opacity:nt,duration:1,ease:"power3.out",delay:.5},0)}),j.userData.ringExpandTimeline=Be},Ae=j=>{Ye.x=j.clientX/window.innerWidth*2-1,Ye.y=-(j.clientY/window.innerHeight)*2+1,ze.setFromCamera(Ye,F),F.userData.lockedLookAt&&(F.lookAt(F.userData.lockedLookAt),F.updateMatrixWorld(!0)),q.forEach(ye=>{ye.userData.lockedPosition&&(ye.position.equals(ye.userData.lockedPosition)||ye.position.copy(ye.userData.lockedPosition)),ye.updateMatrixWorld(!0),ye.children.forEach(Be=>Be.updateMatrixWorld(!0))});const ee=q.flatMap(ye=>{const Be=[];return!B&&ye.userData.isActive&&ye.children.forEach(Q=>{Q instanceof Ue&&(Q.userData.isPortalHitbox||Q.userData.isExploreTextHitbox)&&Be.push(Q)}),B&&z&&ye===z.parent&&ye.children.forEach(Q=>{if(Q instanceof Ue&&Q.userData.isPortalHitbox&&Be.push(Q),Q instanceof ft&&Q.userData.isPortal){const we=Q;we.children.forEach(ae=>{ae instanceof Ue&&ae.userData.isExploreTextHitbox&&Be.push(ae),ae instanceof qt&&ae===we.userData.closeButton&&ae.children.forEach(nt=>{nt instanceof Ue&&nt.userData.isCloseHitbox&&Be.push(nt)})})}}),Be}),ve=ze.intersectObjects(ee);if(ve.length>0){const ye=ve[0].object;if(ye.userData.isPortalHitbox||ye.userData.isExploreTextHitbox){const Be=ye.userData.portal;Ge!==Be&&(Ge&&[Ge,...Ge.children.filter(ae=>ae instanceof ft&&ae.userData.isPortal)].forEach(ae=>{const nt=ae.material;K.to(nt.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}),Ge=Be,[Ge,...Ge.children.filter(we=>we instanceof ft&&we.userData.isPortal)].forEach(we=>{const ae=we.material;K.to(ae.color,{r:(C>>16&255)/255,g:(C>>8&255)/255,b:(C&255)/255,duration:.5})})),R.style.cursor="pointer"}else if(ye.userData.isCloseHitbox&&B){if(!ne){ne=!0;const Be=ye.parent;K.to(Be.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}R.style.cursor="pointer"}}else{if(Ge&&([Ge,...Ge.children.filter(Be=>Be instanceof ft&&Be.userData.isPortal)].forEach(Be=>{const Q=Be.material;K.to(Q.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}),Ge=null),B&&z&&ne){const ye=z.userData.closeButton;ye&&(ne=!1,K.to(ye.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}R.style.cursor="auto"}},N=j=>{if(Ve)return;Ye.x=j.clientX/window.innerWidth*2-1,Ye.y=-(j.clientY/window.innerHeight)*2+1,ze.setFromCamera(Ye,F);const ee=q.flatMap(ce=>{const Ie=[];return B&&z&&ce===z.parent&&ce.children.forEach(qe=>{if(qe instanceof ft&&qe.userData.isPortal){const Xe=qe;Xe.children.forEach(Je=>{Je instanceof qt&&Je===Xe.userData.closeButton&&Je.children.forEach(Ke=>{Ke instanceof Ue&&Ke.userData.isCloseHitbox&&Ie.push(Ke)})})}}),Ie}),ve=q.flatMap(ce=>{const Ie=[];return!B&&ce.userData.isActive&&ce.children.forEach(qe=>{qe instanceof Ue&&(qe.userData.isPortalHitbox||qe.userData.isExploreTextHitbox)&&Ie.push(qe)}),B&&z&&ce===z.parent&&ce.children.forEach(qe=>{qe instanceof Ue&&qe.userData.isPortalHitbox&&Ie.push(qe),qe instanceof ft&&qe.userData.isPortal&&qe.children.forEach(Xe=>{Xe instanceof Ue&&Xe.userData.isExploreTextHitbox&&Ie.push(Xe)})}),Ie});let ye=ze.intersectObjects(ee);for(const ce of ye)if(ce.object.userData.isCloseHitbox){be();return}if(ye=ze.intersectObjects(ve),ye.length===0)return;const Q=ye[0].object.userData.portal,we=Q.parent,ae=q.indexOf(we),nt=t[ae];if(B&&Q===z){let ce=new Re;const Ie=e.CUBE_SIZE/2;Q.position.x===Ie?ce.set(-1,0,0):Q.position.x===-Ie?ce.set(1,0,0):Q.position.y===Ie?ce.set(0,-1,0):Q.position.y===-Ie&&ce.set(0,1,0),ce.applyQuaternion(we.getWorldQuaternion(new Fa)).normalize();const Xe=F.position.clone().clone().add(ce.clone().multiplyScalar(-675)),Je=ce.clone().multiplyScalar(-1e3),Ke=Xe.clone().add(Je);Ve=!0,K.to(F.position,{x:Xe.x,y:Xe.y,z:Xe.z,duration:1,ease:"power2.in",onUpdate:()=>F.lookAt(Ke),onStart:()=>{K.to(P.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{nt!=null&&nt.slug&&(l.setScrollPosition(window.scrollY),mr.visit(route("project.show",{project:nt.slug}),{preserveScroll:!1})),Ve=!1}})}else if(!B){Le||(Le=F.position.clone(),Oe=new Re(0,0,f)),Ee&&se(!0,Le,Oe);const ce=Q.getWorldPosition(new Re);Se=!0,Ve=!0,De=window.scrollY,K.to(F.position,{x:0,y:0,z:we.getWorldPosition(new Re).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{B=!0,z=Q,document.body.classList.add("no-scrollbar"),u.isMobile&&(document.body.style.overflow="hidden"),we.userData.lockedPosition=we.position.clone(),X(we);const Ie=Ce[ae];if(Ie){const Xe=Ie.material,Je=Ie.userData.backgroundPlane;K.to(Xe,{opacity:0,duration:.5,ease:"power2.out"}),Je&&K.to(Je.material,{opacity:0,duration:.5,ease:"power2.out"})}const qe=Q.userData.titleText;if(qe){qe.visible=!0;const Xe=qe.material;K.to(Xe,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(Q.userData.closeButton){const Xe=Q.userData.closeButton;Xe.visible=!0;const Je=Xe.children.filter(Ke=>Ke instanceof Ue&&!Ke.userData.isCloseHitbox).map(Ke=>Ke.material);Je.length>0&&K.to(Je,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}l.setPortalLock(!0,ae)},onComplete:()=>{G(Q,!0),Se=!1,Ve=!1,F.userData.lockedLookAt=ce.clone()}}),K.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const Ie=this.progress(),qe=F.getWorldDirection(new Re).multiplyScalar(1e3).add(F.position),Xe=ge.lerp(qe.x,ce.x,Ie),Je=ge.lerp(qe.y,ce.y,Ie),Ke=ge.lerp(qe.z,ce.z,Ie);F.lookAt(Xe,Je,Ke)},onComplete:()=>{F.lookAt(ce.x,ce.y,ce.z),F.updateMatrixWorld(!0)}})}};R.addEventListener("mousemove",Ae),R.addEventListener("click",N),R.addEventListener("touchstart",Me,{passive:!1}),R.addEventListener("touchmove",vt,{passive:!1}),R.addEventListener("touchend",pt,{passive:!0}),window.addEventListener("wheel",Bt,{passive:!1}),window.addEventListener("scroll",Bt,{passive:!1});const _e=()=>{fe.forEach((j,ee)=>{j.forEach(ve=>{ee.remove(ve.mesh),ve.mesh.geometry.dispose(),ve.mesh.material.dispose()})}),fe.clear(),Fe.clear(),Te.clear()},J=()=>{R.removeEventListener("mousemove",Ae),R.removeEventListener("click",N),R.removeEventListener("touchstart",Me),R.removeEventListener("touchmove",vt),R.removeEventListener("touchend",pt),window.removeEventListener("wheel",Bt),window.removeEventListener("scroll",Bt),z&&Pe(z),u.isMobile&&(document.body.style.overflow="")};return()=>{J(),_e()}},updateClickHereParticles:O}}function ml(s,e,t,n){const o=xo(),i=100,r=100,a=300,u=3355443,l=o.isMobile?24:32,g=-600,c=-500,h=500,f=o.isMobile?5:10,d=.05,p=1,D=o.isMobile?6:4,v=o.isMobile?4:6,x=100,b=-450,w=60,I=t-h,T=Math.abs(c-I),_=Math.ceil(T/i),W=()=>{const m=new qt;let Z=null,ie=null;const q=[],Ce=[],Ze=[],ze=[],Ye=[];{const Ge=new un(i,i,i),Le=new Ho(Ge),Oe=l*_,B=new Ta;B.copy(Le),B.instanceCount=Oe;const Ee=new mt({color:u,transparent:!0,fog:!0,vertexColors:!0}),re=new Float32Array(Oe*3),fe=new Float32Array(Oe*3),Fe=new Float32Array(Oe*3),Te=l*i,y=-Te/2+i/2,Ne=c;for(let R=0;R<l;R++){const P=C(R);for(let se=0;se<_;se++){const V=R*_+se,xe=y+R*i,De=Ne-se*i,z=ge.randFloat(r,a),A=z/i,Se=g+z/2;re[V*3]=xe,re[V*3+1]=Se,re[V*3+2]=De,fe[V*3]=1,fe[V*3+1]=A,fe[V*3+2]=1,Fe[V*3]=P,Fe[V*3+1]=P,Fe[V*3+2]=P}}B.setAttribute("instancePosition",new Oi(re,3)),B.setAttribute("instanceScale",new Oi(fe,3)),B.setAttribute("color",new Oi(Fe,3)),Ee.onBeforeCompile=R=>{R.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${R.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},Z=new ft(B,Ee);const me=-Te/2,ke=Te/2,He=g,lt=g+a,H=I,oe=c;B.boundingBox=new Tn(new Re(me,He,H),new Re(ke,lt,oe));const X=(me+ke)/2,k=(He+lt)/2,O=(H+oe)/2,he=ke-me,Pe=lt-He,Qe=oe-H,F=Math.sqrt(he*he+Pe*Pe+Qe*Qe)/2;B.boundingSphere=new Ci(new Re(X,k,O),F),m.add(Z)}{ie=new qt;const Ge=l*i/(v-1),Le=-(l*i)/2;for(let B=0;B<v;B++){let re=Le+B*Ge,fe=c;const Fe=[new Re(re,b,fe)];let Te=0;for(;fe>I;){const y=fe===c?ge.randFloat(300,800):Math.min(ge.randFloat(300,800),Math.abs(fe-I));if(fe-=y,Fe.push(new Re(re,b,fe)),Te+=y,fe<=I){Fe[Fe.length-1].z=I;break}const Ne=Math.random()<.5?-1:1,me=ge.randFloat(100,300);re+=Ne*me,Fe.push(new Re(re,b,fe)),Te+=me}Ce.push({points:Fe,totalLength:Te})}const Oe=new un(D,D,D);for(let B=0;B<v;B++){const Ee=Ce[B],re=Ee.totalLength,fe=re/w;for(let Fe=0;Fe<w;Fe++){const Te=new ht({color:16711680,fog:!0}),y=new Ue(Oe,Te),Ne=Fe*fe;let me=Ne;for(let ke=0;ke<Ee.points.length-1;ke++){const He=Ee.points[ke],lt=Ee.points[ke+1],H=He.distanceTo(lt);if(me<=H){const oe=me/H;y.position.lerpVectors(He,lt,oe);break}me-=H}q.push(y),Ze.push(Ne),ze.push(B),Ye.push(1),ie.add(y)}for(let Fe=0;Fe<w;Fe++){const Te=new ht({color:16777215,fog:!0}),y=new Ue(Oe,Te),Ne=re-(Fe*fe+fe/2);let me=re-Ne;const ke=[...Ee.points].reverse();for(let He=0;He<ke.length-1;He++){const lt=ke[He],H=ke[He+1],oe=lt.distanceTo(H);if(me<=oe){const X=me/oe;y.position.lerpVectors(lt,H,X);break}me-=oe}q.push(y),Ze.push(Ne),ze.push(B),Ye.push(-1),ie.add(y)}}e.add(ie)}return e.add(m),{cityGroup:m,instancedLines:Z,particleGroup:ie,particles:q,paths:Ce,particleDistances:Ze,particlePaths:ze,particleDirections:Ye}},C=m=>{if(m<f){const Z=(p-d)/(f-1);return d+m*Z}else if(m>=l-f){const Z=l-1-m,ie=(p-d)/(f-1);return d+Z*ie}return p},{cityGroup:M,instancedLines:E,particleGroup:S,particles:L,paths:te,particleDistances:Y,particlePaths:le,particleDirections:U}=W();return{cityGroup:M,buildingLines:E?[E]:[],updateParticles:m=>{const Z=x*m;for(let ie=0;ie<L.length;ie++){const q=U[ie],Ce=le[ie],Ze=te[Ce],ze=Ze.totalLength;Y[ie]+=Z*q,q===1?(Y[ie]=Y[ie]%ze,Y[ie]<0&&(Y[ie]+=ze)):Y[ie]=(Y[ie]+ze)%ze;const Ye=Y[ie],Ge=q===1?Ze.points:[...Ze.points].reverse();let Le=q===1?Ye:ze-Ye;for(let Oe=0;Oe<Ge.length-1;Oe++){const B=Ge[Oe],Ee=Ge[Oe+1],re=B.distanceTo(Ee);if(Le<=re){const fe=Le/re;L[ie].position.lerpVectors(B,Ee,fe);break}Le-=re}}},dispose:()=>{E&&(M.remove(E),E.geometry.dispose(),E.material.dispose()),S&&(e.remove(S),S.children.forEach(m=>{m.geometry.dispose(),m.material.dispose()})),e.remove(M)}}}K.registerPlugin(We);function vl(s,e,t,n,o,i,r={},a,u,l){const g=xo(),c=Po(),{CUBE_SPACING:h,FIRST_CUBE_Z:f}=i,d=(n==null?void 0:n.length)||0,p=f-(d+1)*h;let D=!1,v=!1;const x=g.isMobile?(Math.abs(p)+(d-1)*h)*.7:Math.abs(p)+(d-1)*h;let b=K.timeline();We.config({ignoreMobileResize:!0});{let T=0,_=0;const W=16;b=K.timeline({scrollTrigger:{trigger:t.value,start:"top top",end:`+=${x}`,scrub:r.scrub,pin:!0,onUpdate:C=>{const M=performance.now();if(M-_>=W){if(!D){const E=C.progress,S=ge.lerp(0,p,E);e.position.set(0,0,S),e.lookAt(0,0,p),T++,(T%4===0||S<1)&&c.setProgress(Math.round(Math.abs(S)))}o(e),_=M}u&&u.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),b.fromTo(e.position,{z:0},{z:p,duration:1,ease:"none"},0)}return{setReverting:T=>{D=T},timeline:b,isScrollTriggerActive:()=>v}}function xl(s,e,t){const n=xo(),o=n.isMobile?25:20,i=n.isMobile?600:1800,r=4e3,a=-1e3,u=t-1e3,l=1e3,g=t,c=150,h=-500,f=t,d=new to,p=new Float32Array(i*3),D=new Float32Array(i),v=new Float32Array(i);let x=0;for(;x<i;){const W=(Math.random()-.5)*r,C=(Math.random()-.5)*r,M=a+Math.random()*(u-a),E=M>g&&Math.abs(W)<l&&Math.abs(C)<l,S=Math.abs(W)<c&&Math.abs(C)<c&&M>f&&M<h;if(!E&&!S){const L=x*3;p[L]=W,p[L+1]=C,p[L+2]=M;const te=.1+Math.random()*(.7-.1);D[x]=te,v[x]=te,x++}}d.setAttribute("position",new os(p,3)),d.setAttribute("opacity",new os(v,1));const b=new Oo({uniforms:{color:{value:new Mt(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),w=new pi(d,b);w.frustumCulled=!0,s.add(w);const I={values:v.slice()},T=d.attributes.opacity;return K.to(I,{duration:2,onUpdate:()=>{const W=Date.now()*.001;for(let C=0;C<i;C++)I.values[C]=D[C]*(.05+.95*Math.abs(Math.sin(W+C*.01)));T.array.set(I.values),T.needsUpdate=!0},repeat:-1,ease:"none"}),new Cs,{dispose:()=>{K.killTweensOf(v),s.remove(w),d.dispose(),b.dispose()}}}function yl(s,e){const n=e-1500,o=100,i=2,r=64,a=1e3,u=r*3,l=[4,4.5,5],g=6;let c,h,f,d,p,D;const v=[],x=[[],[],[]],b=[[],[],[]],w=[[],[],[]];let I=[0,0,0];const T=()=>{const M=0-n,E=[];for(let $=0;$<o;$++){const m=$/(o-1),Z=0-m*M,ie=m*5*2*Math.PI,q=90*(.8+.2*Math.sin(ie*2)),Ce=new Re(q*Math.cos(ie),q*Math.sin(ie),Z);(isNaN(Ce.x)||isNaN(Ce.y)||isNaN(Ce.z))&&console.error("NaN in chaserPath points",{t:m,z:Z,projectMaxZ:e}),E.push(Ce)}c=new di(E);const S=new to().setFromPoints(c.getPoints(200));d=new zi(S,new mt({color:16711935,linewidth:2,visible:!1})),s.add(d);const L=[];for(let $=0;$<o;$++){const m=$/(o-1),Z=0-m*M,ie=m*3*2*Math.PI,q=60*(.8+.2*Math.sin(ie*4)),Ce=new Re(q*Math.cos(ie),q*Math.sin(ie),Z);(isNaN(Ce.x)||isNaN(Ce.y)||isNaN(Ce.z))&&console.error("NaN in chaserPath2 points",{t:m,z:Z,projectMaxZ:e}),L.push(Ce)}h=new di(L);const te=new to().setFromPoints(h.getPoints(200));p=new zi(te,new mt({color:65535,linewidth:2,visible:!1})),s.add(p);const Y=[];for(let $=0;$<o;$++){const m=$/(o-1),Z=0-m*M,ie=m*7*2*Math.PI,q=100,Ce=90,Ze=.1*Math.sin(ie),ze=new Re(q*(1+Ze)*Math.cos(ie),Ce*(1-Ze)*Math.sin(ie),Z);(isNaN(ze.x)||isNaN(ze.y)||isNaN(ze.z))&&console.error("NaN in chaserPath3 points",{t:m,z:Z,projectMaxZ:e}),Y.push(ze)}f=new di(Y);const le=new to().setFromPoints(f.getPoints(200));D=new zi(le,new mt({color:16776960,linewidth:2,visible:!1})),s.add(D);const U=[16711680,65280,255],ue=new un(i,i,i);ue.attributes.color&&delete ue.attributes.color;for(let $=0;$<3;$++){const m=new qt;m.opacity=1,m.renderOrder=1,v[$]=m,s.add(m);for(let Z=0;Z<u;Z++){const ie=new ht({color:U[$],transparent:!0,opacity:0,blending:Pa,fog:!0,depthWrite:!1}),q=new Ue(ue,ie);q.renderOrder=1,q.visible=!1,m.add(q),x[$][Z]=q,b[$][Z]=0,w[$][Z]=!1}}},_=M=>{const E=[c,h,f][M],S=E.getLength(),L=w[M].filter(Y=>Y).length;if(u-L>=r){let Y=0;for(let le=0;le<r;le++){const U=w[M].findIndex(Ce=>!Ce);if(U===-1){console.warn(`No available chasers for path ${M}, emitted ${Y}/${r}`);break}const ue=Y/(r-1),$=.05+(1-.05)*Math.pow(ue,3),m=new ht({color:[16711680,65280,255][M],transparent:!0,opacity:$,blending:co,fog:!0,depthWrite:!1});x[M][U].material=m,x[M][U].visible=!0;const Z=Y*g;b[M][U]=Z,w[M][U]=!0;const ie=Z/S,q=E.getPointAt(ie);x[M][U].position.copy(q),Y++}}},W=M=>{const E=performance.now()/1e3,S=[c,h,f];for(let L=0;L<3;L++){E-I[L]>=l[L]&&(_(L),I[L]=E);const te=S[L],Y=te.getLength(),le=a*M;for(let U=0;U<u;U++)if(w[L][U]){b[L][U]+=le;const ue=b[L][U]/Y;if(ue>=1)x[L][U].visible=!1,w[L][U]=!1,b[L][U]=0;else{const $=te.getPointAt(ue);x[L][U].position.copy($)}}}};return T(),{chaserPath:c,chaserPath2:h,chaserPath3:f,updateChasers:W,dispose:()=>{s.remove(d),s.remove(p),s.remove(D),d.geometry.dispose(),d.material.dispose(),p.geometry.dispose(),p.material.dispose(),D.geometry.dispose(),D.material.dispose(),v.forEach(M=>{M.children.forEach(E=>{E.geometry.dispose(),E.material.dispose()}),s.remove(M)})}}}class wl extends yr{constructor(e){super(e)}load(e,t,n,o){const i=this,r=new wr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){const u=i.parse(JSON.parse(a));t&&t(u)},n,o)}parse(e){return new Cl(e)}}class Cl{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],o=bl(e,t,this.data);for(let i=0,r=o.length;i<r;i++)n.push(...o[i].toShapes());return n}}function bl(s,e,t){const n=Array.from(s),o=e/t.resolution,i=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*o,r=[];let a=0,u=0;for(let l=0;l<n.length;l++){const g=n[l];if(g===`
`)a=0,u-=i;else{const c=_l(g,o,a,u,t);a+=c.offsetX,r.push(c.path)}}return r}function _l(s,e,t,n,o){const i=o.glyphs[s]||o.glyphs["?"];if(!i){console.error('THREE.Font: character "'+s+'" does not exists in font family '+o.familyName+".");return}const r=new Sa;let a,u,l,g,c,h,f,d;if(i.o){const p=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let D=0,v=p.length;D<v;)switch(p[D++]){case"m":a=p[D++]*e+t,u=p[D++]*e+n,r.moveTo(a,u);break;case"l":a=p[D++]*e+t,u=p[D++]*e+n,r.lineTo(a,u);break;case"q":l=p[D++]*e+t,g=p[D++]*e+n,c=p[D++]*e+t,h=p[D++]*e+n,r.quadraticCurveTo(c,h,l,g);break;case"b":l=p[D++]*e+t,g=p[D++]*e+n,c=p[D++]*e+t,h=p[D++]*e+n,f=p[D++]*e+t,d=p[D++]*e+n,r.bezierCurveTo(c,h,f,d,l,g);break}}return{offsetX:i.ha*e,path:r}}function El(s="/fonts/Poppins_Regular.json"){const e=$e(null),t=$e(0),n=$e(!1),o=()=>new Promise((r,a)=>{new wl().load(s,l=>{e.value=l,t.value=100,n.value=!0,r(l)},l=>{l.lengthComputable&&(t.value=l.loaded/l.total*100)},l=>{t.value=100,n.value=!0,a(l)})});return{font:e,loadingProgress:t,isLoaded:n,initialize:()=>o()}}const Ml=/^[og]\s*(.+)?/,Fl=/^mtllib /,Tl=/^usemtl /,Pl=/^usemap /,er=/\s+/,tr=new Re,Xi=new Re,or=new Re,nr=new Re,Xt=new Re,si=new Mt;function Sl(){const s={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,i){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const a={index:this.materials.length,name:o||"",mtllib:Array.isArray(i)&&i.length>0?i[i.length-1]:"",smooth:r!==void 0?r.smooth:this.smooth,groupStart:r!==void 0?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(u){const l={index:typeof u=="number"?u:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const i=this.currentMaterial();if(i&&i.groupEnd===-1&&(i.groupEnd=this.geometry.vertices.length/3,i.groupCount=i.groupEnd-i.groupStart,i.inherited=!1),o&&this.materials.length>1)for(let r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),i}},n&&n.name&&typeof n.clone=="function"){const o=n.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseNormalIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseUVIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/2)*2},addVertex:function(e,t,n){const o=this.vertices,i=this.object.geometry.vertices;i.push(o[e+0],o[e+1],o[e+2]),i.push(o[t+0],o[t+1],o[t+2]),i.push(o[n+0],o[n+1],o[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const o=this.normals,i=this.object.geometry.normals;i.push(o[e+0],o[e+1],o[e+2]),i.push(o[t+0],o[t+1],o[t+2]),i.push(o[n+0],o[n+1],o[n+2])},addFaceNormal:function(e,t,n){const o=this.vertices,i=this.object.geometry.normals;tr.fromArray(o,e),Xi.fromArray(o,t),or.fromArray(o,n),Xt.subVectors(or,Xi),nr.subVectors(tr,Xi),Xt.cross(nr),Xt.normalize(),i.push(Xt.x,Xt.y,Xt.z),i.push(Xt.x,Xt.y,Xt.z),i.push(Xt.x,Xt.y,Xt.z)},addColor:function(e,t,n){const o=this.colors,i=this.object.geometry.colors;o[e]!==void 0&&i.push(o[e+0],o[e+1],o[e+2]),o[t]!==void 0&&i.push(o[t+0],o[t+1],o[t+2]),o[n]!==void 0&&i.push(o[n+0],o[n+1],o[n+2])},addUV:function(e,t,n){const o=this.uvs,i=this.object.geometry.uvs;i.push(o[e+0],o[e+1]),i.push(o[t+0],o[t+1]),i.push(o[n+0],o[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,o,i,r,a,u,l){const g=this.vertices.length;let c=this.parseVertexIndex(e,g),h=this.parseVertexIndex(t,g),f=this.parseVertexIndex(n,g);if(this.addVertex(c,h,f),this.addColor(c,h,f),a!==void 0&&a!==""){const d=this.normals.length;c=this.parseNormalIndex(a,d),h=this.parseNormalIndex(u,d),f=this.parseNormalIndex(l,d),this.addNormal(c,h,f)}else this.addFaceNormal(c,h,f);if(o!==void 0&&o!==""){const d=this.uvs.length;c=this.parseUVIndex(o,d),h=this.parseUVIndex(i,d),f=this.parseUVIndex(r,d),this.addUV(c,h,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,o=e.length;n<o;n++){const i=this.parseVertexIndex(e[n],t);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,o=this.uvs.length;for(let i=0,r=e.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(let i=0,r=t.length;i<r;i++)this.addUVLine(this.parseUVIndex(t[i],o))}};return s.startObject("",!1),s}class ir extends yr{constructor(e){super(e),this.materials=null}load(e,t,n,o){const i=this,r=new wr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){try{t(i.parse(a))}catch(u){o?o(u):console.error(u),i.manager.itemError(e)}},n,o)}setMaterials(e){return this.materials=e,this}parse(e){const t=new Sl;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const n=e.split(`
`);let o=[];for(let a=0,u=n.length;a<u;a++){const l=n[a].trimStart();if(l.length===0)continue;const g=l.charAt(0);if(g!=="#")if(g==="v"){const c=l.split(er);switch(c[0]){case"v":t.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),c.length>=7?(si.setRGB(parseFloat(c[4]),parseFloat(c[5]),parseFloat(c[6]),ns),t.colors.push(si.r,si.g,si.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));break;case"vt":t.uvs.push(parseFloat(c[1]),parseFloat(c[2]));break}}else if(g==="f"){const h=l.slice(1).trim().split(er),f=[];for(let p=0,D=h.length;p<D;p++){const v=h[p];if(v.length>0){const x=v.split("/");f.push(x)}}const d=f[0];for(let p=1,D=f.length-1;p<D;p++){const v=f[p],x=f[p+1];t.addFace(d[0],v[0],x[0],d[1],v[1],x[1],d[2],v[2],x[2])}}else if(g==="l"){const c=l.substring(1).trim().split(" ");let h=[];const f=[];if(l.indexOf("/")===-1)h=c;else for(let d=0,p=c.length;d<p;d++){const D=c[d].split("/");D[0]!==""&&h.push(D[0]),D[1]!==""&&f.push(D[1])}t.addLineGeometry(h,f)}else if(g==="p"){const h=l.slice(1).trim().split(" ");t.addPointGeometry(h)}else if((o=Ml.exec(l))!==null){const c=(" "+o[0].slice(1).trim()).slice(1);t.startObject(c)}else if(Tl.test(l))t.object.startMaterial(l.substring(7).trim(),t.materialLibraries);else if(Fl.test(l))t.materialLibraries.push(l.substring(7).trim());else if(Pl.test(l))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(g==="s"){if(o=l.split(" "),o.length>1){const h=o[1].trim().toLowerCase();t.object.smooth=h!=="0"&&h!=="off"}else t.object.smooth=!0;const c=t.object.currentMaterial();c&&(c.smooth=t.object.smooth)}else{if(l==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+l+'"')}}t.finalize();const i=new qt;if(i.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,u=t.objects.length;a<u;a++){const l=t.objects[a],g=l.geometry,c=l.materials,h=g.type==="Line",f=g.type==="Points";let d=!1;if(g.vertices.length===0)continue;const p=new to;p.setAttribute("position",new bo(g.vertices,3)),g.normals.length>0&&p.setAttribute("normal",new bo(g.normals,3)),g.colors.length>0&&(d=!0,p.setAttribute("color",new bo(g.colors,3))),g.hasUVIndices===!0&&p.setAttribute("uv",new bo(g.uvs,2));const D=[];for(let x=0,b=c.length;x<b;x++){const w=c[x],I=w.name+"_"+w.smooth+"_"+d;let T=t.materials[I];if(this.materials!==null){if(T=this.materials.create(w.name),h&&T&&!(T instanceof mt)){const _=new mt;is.prototype.copy.call(_,T),_.color.copy(T.color),T=_}else if(f&&T&&!(T instanceof Yn)){const _=new Yn({size:10,sizeAttenuation:!1});is.prototype.copy.call(_,T),_.color.copy(T.color),_.map=T.map,T=_}}T===void 0&&(h?T=new mt:f?T=new Yn({size:1,sizeAttenuation:!1}):T=new Aa,T.name=w.name,T.flatShading=!w.smooth,T.vertexColors=d,t.materials[I]=T),D.push(T)}let v;if(D.length>1){for(let x=0,b=c.length;x<b;x++){const w=c[x];p.addGroup(w.groupStart,w.groupCount,x)}h?v=new ft(p,D):f?v=new pi(p,D):v=new Ue(p,D)}else h?v=new ft(p,D[0]):f?v=new pi(p,D[0]):v=new Ue(p,D[0]);v.name=l.name,i.add(v)}else if(t.vertices.length>0){const a=new Yn({size:1,sizeAttenuation:!1}),u=new to;u.setAttribute("position",new bo(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(u.setAttribute("color",new bo(t.colors,3)),a.vertexColors=!0);const l=new pi(u,a);i.add(l)}return i}}/*!
 * paths 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Al=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Bl=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Rl=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,kl=/(^[#\.][a-z]|[a-y][a-z])/i,Il=Math.PI/180,Ll=180/Math.PI,ri=Math.sin,ai=Math.cos,eo=Math.abs,Do=Math.sqrt,Ol=Math.atan2,Ds=1e8,sr=function(e){return typeof e=="string"},Zr=function(e){return typeof e=="number"},zl=function(e){return typeof e>"u"},Nl={},Hl={},Ti=1e5,qr=function(e){return Math.round((e+Ds)%1*Ti)/Ti||(e<0?0:1)},st=function(e){return Math.round(e*Ti)/Ti||0},rr=function(e){return Math.round(e*1e10)/1e10||0},ar=function(e,t,n,o){var i=e[t],r=o===1?6:gs(i,n,o);if((r||!o)&&r+n+2<i.length)return e.splice(t,0,i.slice(0,n+r+2)),i.splice(0,n+r),1},Jr=function(e,t,n){var o=e.length,i=~~(n*o);if(e[i]>t){for(;--i&&e[i]>t;);i<0&&(i=0)}else for(;e[++i]<t&&i<o;);return i<o?i:o-1},Ul=function(e,t){var n=e.length;for(e.reverse();n--;)e[n].reversed||Vl(e[n])},lr=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},jl=function(e,t){var n=e.length,o=e[n-1]||[],i=o.length;n&&t[0]===o[i-2]&&t[1]===o[i-1]&&(t=o.concat(t.slice(2)),n--),e[n]=t};function yi(s){s=sr(s)&&kl.test(s)&&document.querySelector(s)||s;var e=s.getAttribute?s:0,t;return e&&(s=s.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[s],t&&!t._dirty?t:e._gsPath[s]=Pi(s)):s?sr(s)?Pi(s):Zr(s[0])?[s]:s:console.warn("Expecting a <path> element or an SVG path data string")}function Gl(s){for(var e=[],t=0;t<s.length;t++)e[t]=lr(s[t],s[t].slice(0));return lr(s,e)}function Vl(s){var e=0,t;for(s.reverse();e<s.length;e+=2)t=s[e],s[e]=s[e+1],s[e+1]=t;s.reversed=!s.reversed}var Wl=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),o=[].slice.call(e.attributes),i=o.length,r;for(t=","+t+",";--i>-1;)r=o[i].nodeName.toLowerCase(),t.indexOf(","+r+",")<0&&n.setAttributeNS(null,r,o[i].nodeValue);return n},Yl={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},Xl=function(e,t){for(var n=t?t.split(","):[],o={},i=n.length;--i>-1;)o[n[i]]=+e.getAttribute(n[i])||0;return o};function $l(s,e){var t=s.tagName.toLowerCase(),n=.552284749831,o,i,r,a,u,l,g,c,h,f,d,p,D,v,x,b,w,I,T,_,W,C;return t==="path"||!s.getBBox?s:(l=Wl(s,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),C=Xl(s,Yl[t]),t==="rect"?(a=C.rx,u=C.ry||a,i=C.x,r=C.y,f=C.width-a*2,d=C.height-u*2,a||u?(p=i+a*(1-n),D=i+a,v=D+f,x=v+a*n,b=v+a,w=r+u*(1-n),I=r+u,T=I+d,_=T+u*n,W=T+u,o="M"+b+","+I+" V"+T+" C"+[b,_,x,W,v,W,v-(v-D)/3,W,D+(v-D)/3,W,D,W,p,W,i,_,i,T,i,T-(T-I)/3,i,I+(T-I)/3,i,I,i,w,p,r,D,r,D+(v-D)/3,r,v-(v-D)/3,r,v,r,x,r,b,w,b,I].join(",")+"z"):o="M"+(i+f)+","+r+" v"+d+" h"+-f+" v"+-d+" h"+f+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(a=u=C.r,c=a*n):(a=C.rx,u=C.ry,c=u*n),i=C.cx,r=C.cy,g=a*n,o="M"+(i+a)+","+r+" C"+[i+a,r+c,i+g,r+u,i,r+u,i-g,r+u,i-a,r+c,i-a,r,i-a,r-c,i-g,r-u,i,r-u,i+g,r-u,i+a,r-c,i+a,r].join(",")+"z"):t==="line"?o="M"+C.x1+","+C.y1+" L"+C.x2+","+C.y2:(t==="polyline"||t==="polygon")&&(h=(s.getAttribute("points")+"").match(Bl)||[],i=h.shift(),r=h.shift(),o="M"+i+","+r+" L"+h.join(","),t==="polygon"&&(o+=","+i+","+r+"z")),l.setAttribute("d",ea(l._gsRawPath=Pi(o))),e&&s.parentNode&&(s.parentNode.insertBefore(l,s),s.parentNode.removeChild(s)),l)}function Qr(s,e,t){var n=s[e],o=s[e+2],i=s[e+4],r;return n+=(o-n)*t,o+=(i-o)*t,n+=(o-n)*t,r=o+(i+(s[e+6]-i)*t-o)*t-n,n=s[e+1],o=s[e+3],i=s[e+5],n+=(o-n)*t,o+=(i-o)*t,n+=(o-n)*t,st(Ol(o+(i+(s[e+7]-i)*t-o)*t-n,r)*Ll)}function Kr(s,e,t){t=zl(t)?1:rr(t)||0,e=rr(e)||0;var n=Math.max(0,~~(eo(t-e)-1e-8)),o=Gl(s);if(e>t&&(e=1-e,t=1-t,Ul(o),o.totalLength=0),e<0||t<0){var i=Math.abs(~~Math.min(e,t))+1;e+=i,t+=i}o.totalLength||Vo(o);var r=t>1,a=ur(o,e,Nl,!0),u=ur(o,t,Hl),l=u.segment,g=a.segment,c=u.segIndex,h=a.segIndex,f=u.i,d=a.i,p=h===c,D=f===d&&p,v,x,b,w,I,T,_,W;if(r||n){for(v=c<h||p&&f<d||D&&u.t<a.t,ar(o,h,d,a.t)&&(h++,v||(c++,D?(u.t=(u.t-a.t)/(1-a.t),f=0):p&&(f-=d))),Math.abs(1-(t-e))<1e-5?c=h-1:!u.t&&c?c--:ar(o,c,f,u.t)&&v&&h++,a.t===1&&(h=(h+1)%o.length),I=[],T=o.length,_=1+T*n,W=h,_+=(T-h+c)%T,w=0;w<_;w++)jl(I,o[W++%T]);o=I}else if(b=u.t===1?6:gs(l,f,u.t),e!==t)for(x=gs(g,d,D?a.t/u.t:a.t),p&&(b+=x),l.splice(f+b+2),(x||d)&&g.splice(0,d+x),w=o.length;w--;)(w<h||w>c)&&o.splice(w,1);else l.angle=Qr(l,f+b,0),f+=b,a=l[f],u=l[f+1],l.length=l.totalLength=0,l.totalPoints=o.totalPoints=8,l.push(a,u,a,u,a,u,a,u);return o.totalLength=0,o}function Zl(s,e,t){e=e||0,s.samples||(s.samples=[],s.lookup=[]);var n=~~s.resolution||12,o=1/n,i=s.length,r=s[e],a=s[e+1],u=e?e/6*n:0,l=s.samples,g=s.lookup,c=(e?s.minLength:Ds)||Ds,h=l[u+t*n-1],f=e?l[u-1]:0,d,p,D,v,x,b,w,I,T,_,W,C,M,E,S,L,te;for(l.length=g.length=0,p=e+2;p<i;p+=6){if(D=s[p+4]-r,v=s[p+2]-r,x=s[p]-r,I=s[p+5]-a,T=s[p+3]-a,_=s[p+1]-a,b=w=W=C=0,eo(D)<.01&&eo(I)<.01&&eo(x)+eo(_)<.01)s.length>8&&(s.splice(p,6),p-=6,i-=6);else for(d=1;d<=n;d++)E=o*d,M=1-E,b=w-(w=(E*E*D+3*M*(E*v+M*x))*E),W=C-(C=(E*E*I+3*M*(E*T+M*_))*E),L=Do(W*W+b*b),L<c&&(c=L),f+=L,l[u++]=f;r+=D,a+=I}if(h)for(h-=f;u<l.length;u++)l[u]+=h;if(l.length&&c){if(s.totalLength=te=l[l.length-1]||0,s.minLength=c,te/c<9999)for(L=S=0,d=0;d<te;d+=c)g[L++]=l[S]<d?++S:S}else s.totalLength=l[0]=0;return e?f-l[e/2-1]:f}function Vo(s,e){var t,n,o;for(o=t=n=0;o<s.length;o++)s[o].resolution=~~e||12,n+=s[o].length,t+=Zl(s[o]);return s.totalPoints=n,s.totalLength=t,s}function gs(s,e,t){if(t<=0||t>=1)return 0;var n=s[e],o=s[e+1],i=s[e+2],r=s[e+3],a=s[e+4],u=s[e+5],l=s[e+6],g=s[e+7],c=n+(i-n)*t,h=i+(a-i)*t,f=o+(r-o)*t,d=r+(u-r)*t,p=c+(h-c)*t,D=f+(d-f)*t,v=a+(l-a)*t,x=u+(g-u)*t;return h+=(v-h)*t,d+=(x-d)*t,s.splice(e+2,4,st(c),st(f),st(p),st(D),st(p+(h-p)*t),st(D+(d-D)*t),st(h),st(d),st(v),st(x)),s.samples&&s.samples.splice(e/6*s.resolution|0,0,0,0,0,0,0,0),6}function ur(s,e,t,n){t=t||{},s.totalLength||Vo(s),(e<0||e>1)&&(e=qr(e));var o=0,i=s[0],r,a,u,l,g,c,h;if(!e)h=c=o=0,i=s[0];else if(e===1)h=1,o=s.length-1,i=s[o],c=i.length-8;else{if(s.length>1){for(u=s.totalLength*e,g=c=0;(g+=s[c++].totalLength)<u;)o=c;i=s[o],l=g-i.totalLength,e=(u-l)/(g-l)||0}r=i.samples,a=i.resolution,u=i.totalLength*e,c=i.lookup.length?i.lookup[~~(u/i.minLength)]||0:Jr(r,u,e),l=c?r[c-1]:0,g=r[c],g<u&&(l=g,g=r[++c]),h=1/a*((u-l)/(g-l)+c%a),c=~~(c/a)*6,n&&h===1&&(c+6<i.length?(c+=6,h=0):o+1<s.length&&(c=h=0,i=s[++o]))}return t.t=h,t.i=c,t.path=s,t.segment=i,t.segIndex=o,t}function cr(s,e,t,n){var o=s[0],i=n||{},r,a,u,l,g,c,h,f,d;if((e<0||e>1)&&(e=qr(e)),o.lookup||Vo(s),s.length>1){for(u=s.totalLength*e,g=c=0;(g+=s[c++].totalLength)<u;)o=s[c];l=g-o.totalLength,e=(u-l)/(g-l)||0}return r=o.samples,a=o.resolution,u=o.totalLength*e,c=o.lookup.length?o.lookup[e<1?~~(u/o.minLength):o.lookup.length-1]||0:Jr(r,u,e),l=c?r[c-1]:0,g=r[c],g<u&&(l=g,g=r[++c]),h=1/a*((u-l)/(g-l)+c%a)||0,d=1-h,c=~~(c/a)*6,f=o[c],i.x=st((h*h*(o[c+6]-f)+3*d*(h*(o[c+4]-f)+d*(o[c+2]-f)))*h+f),i.y=st((h*h*(o[c+7]-(f=o[c+1]))+3*d*(h*(o[c+5]-f)+d*(o[c+3]-f)))*h+f),t&&(i.angle=o.totalLength?Qr(o,c,h>=1?1-1e-9:h||1e-9):o.angle||0),i}function _n(s,e,t,n,o,i,r){for(var a=s.length,u,l,g,c,h;--a>-1;)for(u=s[a],l=u.length,g=0;g<l;g+=2)c=u[g],h=u[g+1],u[g]=c*e+h*n+i,u[g+1]=c*t+h*o+r;return s._dirty=1,s}function ql(s,e,t,n,o,i,r,a,u){if(!(s===a&&e===u)){t=eo(t),n=eo(n);var l=o%360*Il,g=ai(l),c=ri(l),h=Math.PI,f=h*2,d=(s-a)/2,p=(e-u)/2,D=g*d+c*p,v=-c*d+g*p,x=D*D,b=v*v,w=x/(t*t)+b/(n*n);w>1&&(t=Do(w)*t,n=Do(w)*n);var I=t*t,T=n*n,_=(I*T-I*b-T*x)/(I*b+T*x);_<0&&(_=0);var W=(i===r?-1:1)*Do(_),C=W*(t*v/n),M=W*-(n*D/t),E=(s+a)/2,S=(e+u)/2,L=E+(g*C-c*M),te=S+(c*C+g*M),Y=(D-C)/t,le=(v-M)/n,U=(-D-C)/t,ue=(-v-M)/n,$=Y*Y+le*le,m=(le<0?-1:1)*Math.acos(Y/Do($)),Z=(Y*ue-le*U<0?-1:1)*Math.acos((Y*U+le*ue)/Do($*(U*U+ue*ue)));isNaN(Z)&&(Z=h),!r&&Z>0?Z-=f:r&&Z<0&&(Z+=f),m%=f,Z%=f;var ie=Math.ceil(eo(Z)/(f/4)),q=[],Ce=Z/ie,Ze=4/3*ri(Ce/2)/(1+ai(Ce/2)),ze=g*t,Ye=c*t,Ge=c*-n,Le=g*n,Oe;for(Oe=0;Oe<ie;Oe++)o=m+Oe*Ce,D=ai(o),v=ri(o),Y=ai(o+=Ce),le=ri(o),q.push(D-Ze*v,v+Ze*D,Y+Ze*le,le-Ze*Y,Y,le);for(Oe=0;Oe<q.length;Oe+=2)D=q[Oe],v=q[Oe+1],q[Oe]=D*ze+v*Ge+L,q[Oe+1]=D*Ye+v*Le+te;return q[Oe-2]=a,q[Oe-1]=u,q}}function Pi(s){var e=(s+"").replace(Rl,function(C){var M=+C;return M<1e-4&&M>-1e-4?0:M}).match(Al)||[],t=[],n=0,o=0,i=2/3,r=e.length,a=0,u="ERROR: malformed path: "+s,l,g,c,h,f,d,p,D,v,x,b,w,I,T,_,W=function(M,E,S,L){x=(S-M)/3,b=(L-E)/3,p.push(M+x,E+b,S-x,L-b,S,L)};if(!s||!isNaN(e[0])||isNaN(e[1]))return console.log(u),t;for(l=0;l<r;l++)if(I=f,isNaN(e[l])?(f=e[l].toUpperCase(),d=f!==e[l]):l--,c=+e[l+1],h=+e[l+2],d&&(c+=n,h+=o),l||(D=c,v=h),f==="M")p&&(p.length<8?t.length-=1:a+=p.length),n=D=c,o=v=h,p=[c,h],t.push(p),l+=2,f="L";else if(f==="C")p||(p=[0,0]),d||(n=o=0),p.push(c,h,n+e[l+3]*1,o+e[l+4]*1,n+=e[l+5]*1,o+=e[l+6]*1),l+=6;else if(f==="S")x=n,b=o,(I==="C"||I==="S")&&(x+=n-p[p.length-4],b+=o-p[p.length-3]),d||(n=o=0),p.push(x,b,c,h,n+=e[l+3]*1,o+=e[l+4]*1),l+=4;else if(f==="Q")x=n+(c-n)*i,b=o+(h-o)*i,d||(n=o=0),n+=e[l+3]*1,o+=e[l+4]*1,p.push(x,b,n+(c-n)*i,o+(h-o)*i,n,o),l+=4;else if(f==="T")x=n-p[p.length-4],b=o-p[p.length-3],p.push(n+x,o+b,c+(n+x*1.5-c)*i,h+(o+b*1.5-h)*i,n=c,o=h),l+=2;else if(f==="H")W(n,o,n=c,o),l+=1;else if(f==="V")W(n,o,n,o=c+(d?o-n:0)),l+=1;else if(f==="L"||f==="Z")f==="Z"&&(c=D,h=v,p.closed=!0),(f==="L"||eo(n-c)>.5||eo(o-h)>.5)&&(W(n,o,c,h),f==="L"&&(l+=2)),n=c,o=h;else if(f==="A"){if(T=e[l+4],_=e[l+5],x=e[l+6],b=e[l+7],g=7,T.length>1&&(T.length<3?(b=x,x=_,g--):(b=_,x=T.substr(2),g-=2),_=T.charAt(1),T=T.charAt(0)),w=ql(n,o,+e[l+1],+e[l+2],+e[l+3],+T,+_,(d?n:0)+x*1,(d?o:0)+b*1),l+=g,w)for(g=0;g<w.length;g++)p.push(w[g]);n=p[p.length-2],o=p[p.length-1]}else console.log(u);return l=p.length,l<6?(t.pop(),l=0):p[0]===p[l-2]&&p[1]===p[l-1]&&(p.closed=!0),t.totalPoints=a+l,t}function Jl(s,e){e===void 0&&(e=1);for(var t=s[0],n=0,o=[t,n],i=2;i<s.length;i+=2)o.push(t,n,s[i],n=(s[i]-t)*e/2,t=s[i],-n);return o}function ms(s,e){eo(s[0]-s[2])<1e-4&&eo(s[1]-s[3])<1e-4&&(s=s.slice(2));var t=s.length-2,n=+s[0],o=+s[1],i=+s[2],r=+s[3],a=[n,o,n,o],u=i-n,l=r-o,g=Math.abs(s[t]-n)<.001&&Math.abs(s[t+1]-o)<.001,c,h,f,d,p,D,v,x,b,w,I,T,_,W,C;for(g&&(s.push(i,r),i=n,r=o,n=s[t-2],o=s[t-1],s.unshift(n,o),t+=4),e=e||e===0?+e:1,f=2;f<t;f+=2)c=n,h=o,n=i,o=r,i=+s[f+2],r=+s[f+3],!(n===i&&o===r)&&(d=u,p=l,u=i-n,l=r-o,D=Do(d*d+p*p),v=Do(u*u+l*l),x=Do(Math.pow(u/v+d/D,2)+Math.pow(l/v+p/D,2)),b=(D+v)*e*.25/x,w=n-(n-c)*(D?b/D:0),I=n+(i-n)*(v?b/v:0),T=n-(w+((I-w)*(D*3/(D+v)+.5)/4||0)),_=o-(o-h)*(D?b/D:0),W=o+(r-o)*(v?b/v:0),C=o-(_+((W-_)*(D*3/(D+v)+.5)/4||0)),(n!==c||o!==h)&&a.push(st(w+T),st(_+C),st(n),st(o),st(I+T),st(W+C)));return n!==i||o!==r||a.length<4?a.push(st(i),st(r),st(i),st(r)):a.length-=2,a.length===2?a.push(n,o,n,o,n,o):g&&(a.splice(0,6),a.length=a.length-6),a}function ea(s){Zr(s[0])&&(s=[s]);var e="",t=s.length,n,o,i,r;for(o=0;o<t;o++){for(r=s[o],e+="M"+st(r[0])+","+st(r[1])+" C",n=r.length,i=2;i<n;i++)e+=st(r[i++])+","+st(r[i++])+" "+st(r[i++])+","+st(r[i++])+" "+st(r[i++])+","+st(r[i])+" ";r.closed&&(e+="z")}return e}/*!
 * matrix 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var mo,Wo,As,Ii,En,wi,Si,Nn,so="transform",vs=so+"Origin",ta,oa=function(e){var t=e.ownerDocument||e;for(!(so in e.style)&&("msTransform"in e.style)&&(so="msTransform",vs=so+"Origin");t.parentNode&&(t=t.parentNode););if(Wo=window,Si=new Vn,t){mo=t,As=t.documentElement,Ii=t.body,Nn=mo.createElementNS("http://www.w3.org/2000/svg","g"),Nn.style.transform="none";var n=t.createElement("div"),o=t.createElement("div"),i=t&&(t.body||t.firstElementChild);i&&i.appendChild&&(i.appendChild(n),n.appendChild(o),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),ta=o.offsetParent!==n,i.removeChild(n))}return t},Ql=function(e){for(var t,n;e&&e!==Ii;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},na=[],ia=[],Kl=function(){return Wo.pageYOffset||mo.scrollTop||As.scrollTop||Ii.scrollTop||0},eu=function(){return Wo.pageXOffset||mo.scrollLeft||As.scrollLeft||Ii.scrollLeft||0},Bs=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},tu=function s(e){if(Wo.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return s(e)},$i=function s(e,t){if(e.parentNode&&(mo||oa(e))){var n=Bs(e),o=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i=n?t?"rect":"g":"div",r=t!==2?0:100,a=t===3?100:0,u="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",l=mo.createElementNS?mo.createElementNS(o.replace(/^https/,"http"),i):mo.createElement(i);return t&&(n?(wi||(wi=s(e)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+r+","+a+")"),wi.appendChild(l)):(En||(En=s(e),En.style.cssText=u),l.style.cssText=u+"width:0.1px;height:0.1px;top:"+a+"px;left:"+r+"px",En.appendChild(l))),l}throw"Need document and parent."},ou=function(e){for(var t=new Vn,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},nu=function(e){var t=e.getCTM(),n;return t||(n=e.style[so],e.style[so]="none",e.appendChild(Nn),t=Nn.getCTM(),e.removeChild(Nn),n?e.style[so]=n:e.style.removeProperty(so.replace(/([A-Z])/g,"-$1").toLowerCase())),t||Si.clone()},iu=function(e,t){var n=Bs(e),o=e===n,i=n?na:ia,r=e.parentNode,a,u,l,g,c,h;if(e===Wo)return e;if(i.length||i.push($i(e,1),$i(e,2),$i(e,3)),a=n?wi:En,n)o?(l=nu(e),g=-l.e/l.a,c=-l.f/l.d,u=Si):e.getBBox?(l=e.getBBox(),u=e.transform?e.transform.baseVal:{},u=u.numberOfItems?u.numberOfItems>1?ou(u):u.getItem(0).matrix:Si,g=u.a*l.x+u.c*l.y,c=u.b*l.x+u.d*l.y):(u=new Vn,g=c=0),t&&e.tagName.toLowerCase()==="g"&&(g=c=0),(o?n:r).appendChild(a),a.setAttribute("transform","matrix("+u.a+","+u.b+","+u.c+","+u.d+","+(u.e+g)+","+(u.f+c)+")");else{if(g=c=0,ta)for(u=e.offsetParent,l=e;l&&(l=l.parentNode)&&l!==u&&l.parentNode;)(Wo.getComputedStyle(l)[so]+"").length>4&&(g=l.offsetLeft,c=l.offsetTop,l=0);if(h=Wo.getComputedStyle(e),h.position!=="absolute"&&h.position!=="fixed")for(u=e.offsetParent;r&&r!==u;)g+=r.scrollLeft||0,c+=r.scrollTop||0,r=r.parentNode;l=a.style,l.top=e.offsetTop-c+"px",l.left=e.offsetLeft-g+"px",l[so]=h[so],l[vs]=h[vs],l.position=h.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(a)}return a},Zi=function(e,t,n,o,i,r,a){return e.a=t,e.b=n,e.c=o,e.d=i,e.e=r,e.f=a,e},Vn=function(){function s(t,n,o,i,r,a){t===void 0&&(t=1),n===void 0&&(n=0),o===void 0&&(o=0),i===void 0&&(i=1),r===void 0&&(r=0),a===void 0&&(a=0),Zi(this,t,n,o,i,r,a)}var e=s.prototype;return e.inverse=function(){var n=this.a,o=this.b,i=this.c,r=this.d,a=this.e,u=this.f,l=n*r-o*i||1e-10;return Zi(this,r/l,-o/l,-i/l,n/l,(i*u-r*a)/l,-(n*u-o*a)/l)},e.multiply=function(n){var o=this.a,i=this.b,r=this.c,a=this.d,u=this.e,l=this.f,g=n.a,c=n.c,h=n.b,f=n.d,d=n.e,p=n.f;return Zi(this,g*o+h*r,g*i+h*a,c*o+f*r,c*i+f*a,u+d*o+p*r,l+d*i+p*a)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var o=this.a,i=this.b,r=this.c,a=this.d,u=this.e,l=this.f;return o===n.a&&i===n.b&&r===n.c&&a===n.d&&u===n.e&&l===n.f},e.apply=function(n,o){o===void 0&&(o={});var i=n.x,r=n.y,a=this.a,u=this.b,l=this.c,g=this.d,c=this.e,h=this.f;return o.x=i*a+r*l+c||0,o.y=i*u+r*g+h||0,o},s}();function an(s,e,t,n){if(!s||!s.parentNode||(mo||oa(s)).documentElement===s)return new Vn;var o=Ql(s),i=Bs(s),r=i?na:ia,a=iu(s,t),u=r[0].getBoundingClientRect(),l=r[1].getBoundingClientRect(),g=r[2].getBoundingClientRect(),c=a.parentNode,h=!n&&tu(s),f=new Vn((l.left-u.left)/100,(l.top-u.top)/100,(g.left-u.left)/100,(g.top-u.top)/100,u.left+(h?0:eu()),u.top+(h?0:Kl()));if(c.removeChild(a),o)for(u=o.length;u--;)l=o[u],l.scaleX=l.scaleY=0,l.renderTransform(1,l);return e?f.inverse():f}/*!
 * MotionPathPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var su="x,translateX,left,marginLeft,xPercent".split(","),ru="y,translateY,top,marginTop,yPercent".split(","),au=Math.PI/180,Kt,sa,en,xs,qi,fr,lu=function(){return Kt||typeof window<"u"&&(Kt=window.gsap)&&Kt.registerPlugin&&Kt},vn=function(e,t,n,o){for(var i=t.length,r=o===2?0:o,a=0;a<i;a++)e[r]=parseFloat(t[a][n]),o===2&&(e[r+1]=0),r+=2;return e},on=function(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},ra=function(e){var t=e[0],n=e[1],o;for(o=2;o<e.length;o+=2)t=e[o]+=t,n=e[o+1]+=n},pr=function(e,t,n,o,i,r,a,u,l){if(a.type==="cubic")t=[t];else{a.fromCurrent!==!1&&t.unshift(on(n,o,u),i?on(n,i,l):0),a.relative&&ra(t);var g=i?ms:Jl;t=[g(t,a.curviness)]}return t=r(aa(t,n,a)),Ai(e,n,o,t,"x",u),i&&Ai(e,n,i,t,"y",l),Vo(t,a.resolution||(a.curviness===0?20:12))},uu=function(e){return e},cu=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,dr=function(e,t,n){var o=an(e),i=0,r=0,a;return(e.tagName+"").toLowerCase()==="svg"?(a=e.viewBox.baseVal,a.width||(a={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):a=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(i=t.push?t[0]*(a?a.width:e.offsetWidth||0):t.x,r=t.push?t[1]*(a?a.height:e.offsetHeight||0):t.y),n.apply(i||r?o.apply({x:i,y:r}):{x:o.e,y:o.f})},ys=function(e,t,n,o){var i=an(e.parentNode,!0,!0),r=i.clone().multiply(an(t)),a=dr(e,n,i),u=dr(t,o,i),l=u.x,g=u.y,c;return r.e=r.f=0,o==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(c=t.getAttribute("d").match(cu)||[],c=r.apply({x:+c[0],y:+c[1]}),l+=c.x,g+=c.y),c&&(c=r.apply(t.getBBox()),l-=c.x,g-=c.y),r.e=l-a.x,r.f=g-a.y,r},aa=function(e,t,n){var o=n.align,i=n.matrix,r=n.offsetX,a=n.offsetY,u=n.alignOrigin,l=e[0][0],g=e[0][1],c=on(t,"x"),h=on(t,"y"),f,d,p;return!e||!e.length?yi("M0,0L0,0"):(o&&(o==="self"||(f=xs(o)[0]||t)===t?_n(e,1,0,0,1,c-l,h-g):(u&&u[2]!==!1?Kt.set(t,{transformOrigin:u[0]*100+"% "+u[1]*100+"%"}):u=[on(t,"xPercent")/-100,on(t,"yPercent")/-100],d=ys(t,f,u,"auto"),p=d.apply({x:l,y:g}),_n(e,d.a,d.b,d.c,d.d,c+d.e-(p.x-d.e),h+d.f-(p.y-d.f)))),i?_n(e,i.a,i.b,i.c,i.d,i.e,i.f):(r||a)&&_n(e,1,0,0,1,r||0,a||0),e)},Ai=function(e,t,n,o,i,r){var a=t._gsap,u=a.harness,l=u&&u.aliases&&u.aliases[n],g=l&&l.indexOf(",")<0?l:n,c=e._pt=new sa(e._pt,t,g,0,0,uu,0,a.set(t,g,e));c.u=en(a.get(t,g,r))||0,c.path=o,c.pp=i,e._props.push(g)},fu=function(e,t){return function(n){return e||t!==1?Kr(n,e,t):n}},la={version:"3.12.7",name:"motionPath",register:function(e,t,n){Kt=e,en=Kt.utils.getUnit,xs=Kt.utils.toArray,qi=Kt.core.getStyleSaver,fr=Kt.core.reverting||function(){},sa=n},init:function(e,t,n){if(!Kt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var o=[],i=t,r=i.path,a=i.autoRotate,u=i.unitX,l=i.unitY,g=i.x,c=i.y,h=r[0],f=fu(t.start,"end"in t?t.end:1),d,p;if(this.rawPaths=o,this.target=e,this.tween=n,this.styles=qi&&qi(e,"transform"),(this.rotate=a||a===0)&&(this.rOffset=parseFloat(a)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=en(e._gsap.get(e,this.rProp))||0),Array.isArray(r)&&!("closed"in r)&&typeof h!="number"){for(p in h)!g&&~su.indexOf(p)?g=p:!c&&~ru.indexOf(p)&&(c=p);g&&c?o.push(pr(this,vn(vn([],r,g,0),r,c,1),e,g,c,f,t,u||en(r[0][g]),l||en(r[0][c]))):g=c=0;for(p in h)p!==g&&p!==c&&o.push(pr(this,vn([],r,p,2),e,p,0,f,t,en(r[0][p])))}else d=f(aa(yi(t.path),e,t)),Vo(d,t.resolution),o.push(d),Ai(this,e,t.x||"x",d,"x",t.unitX||"px"),Ai(this,e,t.y||"y",d,"y",t.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function(e,t){var n=t.rawPaths,o=n.length,i=t._pt;if(t.tween._time||!fr()){for(e>1?e=1:e<0&&(e=0);o--;)cr(n[o],e,!o&&t.rotate,n[o]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,e),i=i._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?au:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function(e){return Vo(yi(e)).totalLength},sliceRawPath:Kr,getRawPath:yi,pointsToSegment:ms,stringToRawPath:Pi,rawPathToString:ea,transformRawPath:_n,getGlobalMatrix:an,getPositionOnPath:cr,cacheRawPathMeasurements:Vo,convertToPath:function(e,t){return xs(e).map(function(n){return $l(n,t!==!1)})},convertCoordinates:function(e,t,n){var o=an(t,!0,!0).multiply(an(e));return n?o.apply(n):o},getAlignMatrix:ys,getRelativePosition:function(e,t,n,o){var i=ys(e,t,n,o);return{x:i.e,y:i.f}},arrayToRawPath:function(e,t){t=t||{};var n=vn(vn([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&ra(n),[t.type==="cubic"?n:ms(n,t.curviness)]}};lu()&&Kt.registerPlugin(la);K.registerPlugin(la);function pu(s,e,t,n){Po();const o=Ri(),{audioEnabled:i}=ln(o),r=Cr(n),a=5,u="/3D/jet.obj",l="/3D/ufo.obj",g=1200,c="/sounds/spaceship.mp3",h="/sounds/ufo.mp3",f="/sounds/minigun.mp3",d="/sounds/minigun-wind-down.mp3",p="/sounds/explosion.mp3",D=500,v=-500,x=75,b=2,w=2500,I={xMin:-800,xMax:800,yMin:100,yMax:800},T={xMin:-250,xMax:250,yMin:-250,yMax:250};let _=[],W=[],C=null,M=null,E=null,S=[],L=[],te=[],Y=!1,le=null,U=null,ue=[],$=null,m=1,Z=0,ie=!1;const q={initialJet:1,battleJet:.6,battleUfo:.2,minigun:.2,minigunWindDown:.2,explosion:1},Ce=async()=>{await r.registerAudio("initialJet",c,{maxVolume:q.initialJet,updatePosition:(H,oe)=>{const X=_[2]||C;if(!X||!X.visible)return{pan:0,gain:0};const k=ge.clamp(X.position.x/500*2,-1,1),O=Math.abs(oe.position.z-X.position.z),he=ge.clamp(1-O/w,0,1);return{pan:k,gain:he}}}),await r.registerAudio("battleJet",c,{maxVolume:q.battleJet,updatePosition:(H,oe)=>{if(!C||!C.visible)return{pan:0,gain:0};const X=ge.clamp(C.position.x/500*2,-1,1),k=Math.abs(oe.position.z-C.position.z),O=ge.clamp(1-k/w,0,1);return{pan:X,gain:O}}}),await r.registerAudio("battleUfo",h,{maxVolume:q.battleUfo,updatePosition:(H,oe)=>{if(!E||!E.visible)return{pan:0,gain:0};const X=ge.clamp(E.position.x/500*2,-1,1),k=Math.abs(oe.position.z-E.position.z),O=ge.clamp(1-k/w,0,1);return{pan:X,gain:O}}}),await r.registerAudio("minigun",f,{loop:!0,maxVolume:q.minigun,updatePosition:(H,oe)=>{if(!C||!C.visible)return{pan:0,gain:0};const X=ge.clamp(C.position.x/500*2,-1,1),k=Math.abs(oe.position.z-C.position.z),O=ge.clamp(1-k/w,0,1);return{pan:X,gain:O}}}),await r.registerAudio("minigunWindDown",d,{maxVolume:q.minigunWindDown,updatePosition:(H,oe)=>{if(!C||!C.visible)return{pan:0,gain:0};const X=ge.clamp(C.position.x/500*2,-1,1),k=Math.abs(oe.position.z-C.position.z),O=ge.clamp(1-k/w,0,1);return{pan:X,gain:O}}}),await r.registerAudio("explosion",p,{maxVolume:q.explosion,updatePosition:(H,oe)=>{if(!E||!E.visible)return{pan:0,gain:0};const X=ge.clamp(E.position.x/500*2,-1,1),k=Math.abs(oe.position.z-E.position.z),O=ge.clamp(1-k/w,0,1);return{pan:X,gain:O}}})},Ze=()=>new Promise((H,oe)=>{new ir().load(u,k=>{const O=k;O.name="jet";const he=new Tn().setFromObject(O),Pe=he.getCenter(new Re);O.position.sub(Pe),O.traverse(Qe=>{var F,R;if(Qe instanceof Ue){const P=new Ho(Qe.geometry,1),se=new mt({color:65280,depthTest:!0,fog:!0}),V=new ft(P,se);V.frustumCulled=!1,(F=Qe.parent)==null||F.add(V),(R=Qe.parent)==null||R.remove(Qe)}}),U=he,H(O)},void 0,k=>oe(k))}),ze=()=>new Promise((H,oe)=>{new ir().load(l,k=>{const O=k;O.name="ufo";const he=new Tn().setFromObject(O),Pe=he.getCenter(new Re);O.position.sub(Pe);const Qe=[];O.traverse(F=>{F instanceof Ue&&(Qe.push(F),F.geometry.computeBoundingSphere(),ue.push(F.geometry.clone()))}),Qe.forEach(F=>{var V,xe;const R=new Ho(F.geometry,1),P=new mt({color:F.name==="UFO_TOP_CAP"||F.name==="UFO_BOT_CAP"?16777215:255,depthTest:!0,fog:!0}),se=new ft(R,P);se.frustumCulled=!1,(V=F.parent)==null||V.add(se),(xe=F.parent)==null||xe.remove(F)}),O.geometry=new to,O.geometry.boundingSphere=new Ci,he.getBoundingSphere(O.geometry.boundingSphere),O.geometry.boundingSphere.radius*=10,H(O)},void 0,k=>{console.error("Failed to load UFO model:",k),oe(k)})}),Ye=()=>{const H=new xr(10,90,8),oe=new Ba(H),X=new mt({color:16777215,depthTest:!0,fog:!0}),k=new ft(oe,X);if(k.frustumCulled=!1,k.name="flame",U){const O=U.max.y-U.min.y,he=U.max.z,Pe=U.min.y+O/2;k.position.set(0,Pe-20,he+45)}else k.position.set(0,0,45);return k.rotation.x=Math.PI/2,k},Ge=H=>{const oe=new ks(4),X=new ht({color:16777215,transparent:!0,opacity:.35,depthTest:!0,fog:!0}),k=new Ue(oe,X);return k.position.copy(H),k.frustumCulled=!1,k},Le=H=>{if(!H||!H.visible)return;const oe=H.position.clone(),X=new Re(0,0,-1).applyQuaternion(H.quaternion),k=new Re(0,1,0).applyQuaternion(H.quaternion),O=U?-(U.max.z+45):-65,he=oe.clone().add(X.clone().multiplyScalar(O)).add(k.clone().multiplyScalar(5)),Pe=Ge(he);s.add(Pe),L.push(Pe),K.to(Pe.material,{opacity:0,duration:1,ease:"none",onComplete:()=>{s.remove(Pe),Pe.geometry.dispose(),Pe.material.dispose();const Qe=L.indexOf(Pe);Qe>-1&&L.splice(Qe,1)}})},Oe=(H,oe)=>{const X=new ks(3),k=new ht({color:16711680,depthTest:!0,fog:!0}),O=new Ue(X,k);return O.position.copy(H),O.quaternion.setFromUnitVectors(new Re(0,0,-1),oe),O.frustumCulled=!1,O.geometry.computeBoundingSphere(),O.geometry.boundingSphere.radius*=5,O},B=()=>{if(!E||!E.visible||te.length>0)return;E.visible=!1,ke("battleUfo"),i.value&&(me("explosion"),r.updatePositionalAudio("explosion",t));const H=E.position.clone(),oe=new ht({color:16753920,side:$t,transparent:!0,depthTest:!0,fog:!0});ue.forEach(X=>{const k=X.getAttribute("position"),O=X.index,he=O?O.array:null,Pe=k.count,Qe=he?he.length/3:Pe/3;for(let F=0;F<Qe;F++){const R=new to,P=new Float32Array(9),se=he?[he[F*3],he[F*3+1],he[F*3+2]]:[F*3,F*3+1,F*3+2];for(let A=0;A<3;A++){const Se=se[A];P[A*3]=k.array[Se*3],P[A*3+1]=k.array[Se*3+1],P[A*3+2]=k.array[Se*3+2]}R.setAttribute("position",new os(P,3)),R.computeVertexNormals();const V=new Ue(R,oe.clone());V.position.copy(H),s.add(V),te.push(V);const De=new Re((P[0]+P[3]+P[6])/3,(P[1]+P[4]+P[7])/3,(P[2]+P[5]+P[8])/3).add(H).clone().sub(H).normalize(),z=ge.randFloat(100,200);K.to(V.position,{x:H.x+De.x*z,y:H.y+De.y*z,z:H.z+De.z*z,duration:1.5,ease:"power2.out",onComplete:()=>{s.remove(V),V.geometry.dispose(),V.material.dispose();const A=te.indexOf(V);A>-1&&te.splice(A,1)}}),K.to(V.scale,{x:1.5,y:1.5,z:1.5,duration:.5,ease:"power1.in",yoyo:!0,repeat:1}),K.to(V.material,{opacity:0,duration:1.5,ease:"power2.out"})}}),i.value&&(me("explosion"),K.delayedCall(.8,()=>ke("explosion")))},Ee=()=>{if(!C||!C.visible||ie)return;const H=ge.randInt(10,30),oe=U?U.max.z:20;let X=!1;const k=new Cs,O=.2;for(let he=0;he<H;he++)K.delayedCall(he*.05,()=>{const Pe=C.position.clone(),Qe=new Re(0,0,-1).applyQuaternion(C.quaternion),F=new Re(0,1,0).applyQuaternion(C.quaternion),R=Pe.clone().add(Qe.clone().multiplyScalar(oe)).add(F.clone().multiplyScalar(5)),P=Oe(R,Qe);s.add(P),S.push(P),!X&&i.value&&(me("minigun"),X=!0);const se=1200,V=3600,xe=V/se;K.to(P.position,{x:`+=${Qe.x*V}`,y:`+=${Qe.y*V}`,z:`+=${Qe.z*V}`,duration:xe,ease:"none",onUpdate:()=>{var De;if(P.geometry.boundingSphere&&P.geometry.boundingSphere.center.copy(P.position),i.value&&X&&r.updatePositionalAudio("minigun",t),!ie&&E&&E.visible&&P.geometry.boundingSphere&&((De=E.geometry)!=null&&De.boundingSphere)){t.updateMatrixWorld(),k.setFromProjectionMatrix(new Ra().multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse));const z=k.containsPoint(C.position),A=k.containsPoint(E.position),Se=ne=>{const Me=ne.clone().project(t);return Math.abs(Me.x)<1-O&&Math.abs(Me.y)<1-O},pe=z&&Se(C.position),Ve=A&&Se(E.position);if(pe&&Ve){E.updateMatrixWorld();const ne=E.geometry.boundingSphere.clone();ne.applyMatrix4(E.matrixWorld);const Me=P.geometry.boundingSphere.clone();Me.applyMatrix4(P.matrixWorld),Me.intersectsSphere(ne)&&(ie=!0,B())}}},onComplete:()=>{s.remove(P),P.geometry.dispose(),P.material.dispose();const De=S.indexOf(P);De>-1&&S.splice(De,1)}}),he===H-1&&i.value&&(ke("minigun"),me("minigunWindDown"),r.updatePositionalAudio("minigunWindDown",t),K.delayedCall(.5,()=>ke("minigunWindDown")))})},re=()=>{const H=[],oe=ge.degToRad(x),k=2*Math.tan(oe/2)*(D-v)/(a-1)*b,O=k*(a-1)/2;for(let he=0;he<a;he++){const Pe=-O+he*k;H.push(new Re(Pe,D,v))}return H},fe=()=>{const H=[],k=160/(a-1);for(let O=0;O<a;O++){const he=-80+O*k;H.push(ge.degToRad(he))}return H},Fe=(H,oe,X,k)=>{const O=_.indexOf(H)===2;O&&i.value&&me("initialJet"),H.position.copy(X),H.rotation.z=k,H.visible=!0;const Pe=Math.abs(-1e4-X.z)/g,Qe=Pe*.3;let F=0;const R=P=>{F+=P,F>=1&&(Le(H),F-=1)};K.ticker.add(R),K.to(H.position,{z:-1e4,duration:Pe,ease:"none",onUpdate:()=>{O&&i.value&&r.updatePositionalAudio("initialJet",t)},onComplete:()=>{K.ticker.remove(R),O&&K.delayedCall(3,()=>ke("initialJet")),s.remove(H),Te(H);const P=_.indexOf(H);P>-1&&(_.splice(P,1),W.splice(P,1))}}),K.to(H.rotation,{z:0,duration:Qe,ease:"none"})},Te=H=>{H.traverse(oe=>{(oe instanceof Ue||oe instanceof ft)&&(oe.geometry&&oe.geometry.dispose(),oe.material&&(Array.isArray(oe.material)?oe.material.forEach(X=>X.dispose()):oe.material instanceof is&&oe.material.dispose()))})},y=()=>{const H=[],oe=t.position.z-250,X=oe-2e3,k=ge.degToRad(t.fov),O=window.innerWidth/window.innerHeight,he=Math.abs(t.position.z-oe),Pe=Math.abs(t.position.z-X),Qe=2*Math.tan(k/2)*he*O,F=2*Math.tan(k/2)*Pe*O,R=Qe/2+200,P=F/2+200,se=m;m=-m;const V=se*R,xe=-se*P;H.push(new Re(V,ge.randFloat(I.yMin,I.yMax),oe));let De,z,A;do De=ge.randFloat(I.xMin/2,I.xMax/2),z=ge.randFloat(I.yMin,I.yMax),A=ge.randFloat(oe,X);while(De>T.xMin&&De<T.xMax&&z>T.yMin&&z<T.yMax);return H.push(new Re(De,z,A)),H.push(new Re(xe,ge.randFloat(I.yMin,I.yMax),X)),new di(H,!1,"catmullrom",.5)},Ne=(H,oe)=>{console.log("startBattle"),$&&($.kill(),$=null),ke("battleJet"),ke("battleUfo"),ke("explosion");const X=y(),k=X.getLength(),O=450,he=k/O,Pe=ge.randFloat(-.1,.1),Qe=O*(.9+Pe),F=450/O;if(C||(C=H.clone(),M=Ye(),C.add(M),s.add(C)),C.visible=!0,C.position.copy(X.getPointAt(0)),C.rotation.set(0,0,0),!E){if(E=oe.clone(),!E.geometry||!E.geometry.boundingSphere){const ne=new Tn().setFromObject(E);E.geometry=new to,E.geometry.boundingSphere=new Ci,ne.getBoundingSphere(E.geometry.boundingSphere),E.geometry.boundingSphere.radius*=10}E.visible=!1,s.add(E)}E.visible=!0,E.position.copy(X.getPointAt(0)),E.rotation.set(0,0,0),ie=!1;const R={x:E.position.x,y:E.position.y,z:E.position.z,progress:0},P={x:0,y:0,z:0},se={x:C.position.x,y:C.position.y,z:C.position.z,progress:0};i.value&&(C&&me("battleJet"),E&&me("battleUfo")),$=K.timeline({onUpdate:()=>{C&&i.value&&r.updatePositionalAudio("battleJet",t),!ie&&E&&i.value&&r.updatePositionalAudio("battleUfo",t)},onComplete:()=>{E.visible=!1,C.visible=!1,ke("battleJet"),ke("battleUfo"),ke("explosion"),S.forEach(ne=>{s.remove(ne),ne.geometry.dispose(),ne.material.dispose()}),S=[],L.forEach(ne=>{s.remove(ne),ne.geometry.dispose(),ne.material.dispose()}),L=[],te.forEach(ne=>{s.remove(ne),ne.geometry.dispose(),ne.material.dispose()}),te=[],K.ticker.remove(Ve),Z=0,K.delayedCall(1.5+Math.random()*(3-1.5),Ne,[H,oe])}}),$.to(R,{motionPath:{path:X.getPoints(50),autoRotate:!1},progress:1,duration:he,ease:"none",onUpdate:()=>{if(ie)return;const ne=R.progress;if(ne===void 0||ne<0||ne>1)return;const Me=X.getPointAt(ne);E.position.set(Me.x+P.x,Me.y+P.y,Me.z+P.z)}},0),K.to(E.rotation,{y:"+=6.2832",duration:3,repeat:-1,ease:"none"});const V=()=>{!E||!E.visible||ie||K.to(P,{x:ge.randFloat(-20,20),y:ge.randFloat(-20,20),z:ge.randFloat(-20,20),duration:ge.randFloat(.8,1.5),ease:"sine.inOut",onComplete:V})};V(),$.to(se,{motionPath:{path:X.getPoints(50),autoRotate:!1},progress:1,duration:he*(O/Qe),ease:"none",onStart:()=>{C.visible=!0},onUpdate:()=>{const ne=se.progress;if(ne===void 0||ne<0||ne>1)return;const Me=X.getPointAt(ne);C.position.copy(Me);const vt=X.getPointAt(Math.max(ne-.01,0)),pt=Me,be=X.getPointAt(Math.min(ne+.01,1)).clone().sub(pt).normalize(),G=pt.clone().sub(vt).normalize();C.quaternion.setFromUnitVectors(new Re(0,0,-1),be);const Ae=new Re().crossVectors(G,be).normalize(),N=G.angleTo(be)*20,_e=ge.clamp(N,-Math.PI/4,Math.PI/4);C.rotateZ(Ae.z>0?_e:-_e)}},F);const xe=1,De=4,z=3,A=ge.randInt(xe,De),Se=he-(A-1)*z,pe=[];for(let ne=0;ne<A;ne++)if(ne===0)pe.push(ge.randFloat(0,Se/A));else{const Me=pe[ne-1]+z,vt=Me+Se/A;pe.push(ge.randFloat(Me,Math.min(vt,he)))}pe.sort((ne,Me)=>ne-Me),pe.forEach(ne=>{K.delayedCall(ne,Ee)});const Ve=ne=>{Z+=ne,Z>=32&&(Le(C),Z-=32)};K.ticker.add(Ve)},me=(H,oe)=>{i.value&&r.play(H,t)},ke=H=>{r.stop(H)},He=async()=>{try{const H=await Ze(),oe=await ze(),X=re(),k=fe();for(let O=0;O<a;O++){const he=H.clone(),Pe=Ye();he.add(Pe),he.position.copy(X[O]),he.rotation.z=k[O],he.visible=!1,s.add(he),_.push(he),W.push(Pe)}Y=!0}catch(H){console.error("Jets initialization failed:",H),_=[],W=[]}};return Ht(()=>i.value,H=>{H&&$&&$.isActive()&&(C&&C.visible&&me("battleJet"),E&&E.visible&&!ie&&me("battleUfo"))}),{getInitializedData:async()=>{if(Y)return{jets:_,flames:W,dispose:le||(()=>{}),startJetAnimation:X};const H=await Ze().then(k=>(n(1),k)),oe=await ze().then(k=>(n(1),k));await He(),await Ce(),le=()=>{_.forEach(k=>{s.remove(k),Te(k)}),C&&(s.remove(C),Te(C),C=null),E&&(s.remove(E),Te(E),E=null),S.forEach(k=>{s.remove(k),k.geometry.dispose(),k.material.dispose()}),S=[],L.forEach(k=>{s.remove(k),k.geometry.dispose(),k.material.dispose()}),L=[],te.forEach(k=>{s.remove(k),k.geometry.dispose(),k.material.dispose()}),te=[],ue.forEach(k=>k.dispose()),ue=[],$&&$.kill(),r.disposeAll()};const X=()=>{const k=re(),O=fe();_.forEach((he,Pe)=>{Fe(he,W[Pe],k[Pe],O[Pe])}),K.delayedCall(3,()=>Ne(H,oe))};return{jets:_,flames:W,dispose:le,startJetAnimation:X}}}}const Ji=-520,hr=-720,Dr=4e3,du=fn({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},emits:["camera-ready","scene-ready","scroll-start"],setup(s,{emit:e}){K.registerPlugin(We);const t=s,n=e,o=Po();o.projects=t.projects;const i=xo(),r=$e(!1),a=o.cubeSize,u=o.cubeSpacing,l=o.firstCubeZ,g={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0,showJets:!0},c=$e(null),h=$e(null),f=$e(!1),d=$e(!1),p=new Map;let D,v,x,b,w,I,T,_=null,W=null,C=null,M=null,E=null,S=null,L=[],te=null,Y=null,le=0,U=null,ue,$=null,m=null,Z=null,ie=null,q=null;const Ce=El("/fonts/Poppins_Regular.json"),Ze=()=>{const B=c.value?c.value.getBoundingClientRect().width:window.innerWidth,Ee=window.innerHeight,re=1,fe=i.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;x.setSize(B*re,Ee*re),x.setPixelRatio(fe),b.setSize(B*re,Ee*re),v.aspect=B/Ee,v.updateProjectionMatrix(),x.domElement.style.width=`${B}px`,x.domElement.style.height=`${Ee}px`},ze=B=>p.has(B)?Promise.resolve(p.get(B)):new Promise((Ee,re)=>{new Na().load(B,Fe=>{Fe.encoding=ns,p.set(B,Fe),Ee(Fe)},void 0,Fe=>re(Fe))}),Ye=async()=>{D=new ka,D.background=new Mt(0),D.fog=new Ia(0,700,Dr),v=new La(i.isMobile?i.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,Dr+6e3),v.position.set(0,0,0),v.lookAt(0,0,1e3),x=new Oa({antialias:!0}),i.isMobile?x.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):x.setPixelRatio(window.devicePixelRatio),x.toneMapping=za,x.toneMappingExposure=1,x.outputEncoding=ns,b=new pl(x);const B=new dl(D,v);b.addPass(B);const Ee=new Zt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(i.isMobile?w=new Zo(Ee,1,.1,0):w=new Zo(Ee,1.6,.2,0),w.renderToScreen=!0,b.addPass(w),c.value)c.value.appendChild(x.domElement),x.domElement.style.opacity="0";else return;I=new zn,I.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; z-index: 1000;"),document.body.appendChild(I.dom);const Te=t.projects.filter(me=>me.keyart).length+2+1+7+1;let y=0;const Ne=(me=1)=>{y+=me;const ke=y/Te*100,He=Ce.loadingProgress.value,lt=ke*(Te/(Te+1))+He/(Te+1);o.setLoadingProgress(Math.min(lt,100)),y===Te&&Ce.isLoaded.value&&(f.value=!0)};await Ce.initialize().then(()=>{Ne()}).catch(me=>{console.error("Font initialization failed:",me),Ne()}),await ze(t.projectGridFile).then(()=>Ne()).catch(()=>Ne()),await ze(t.projectGridFile2).then(()=>Ne()).catch(()=>Ne());for(const me of t.projects)me.keyart?await ze(me.keyart).then(()=>Ne()).catch(()=>Ne()):Ne();U=gl(D,{CUBE_SIZE:a,CUBE_SPACING:u,FIRST_CUBE_Z:l},t.projects,t.projectGridFile,t.projectGridFile2,g,p,Ce.font),ie=pu(D,g,v,Ne),await ie.getInitializedData().then(({dispose:me,startJetAnimation:ke})=>{S=me,q=ke}).catch(me=>{console.error("Jets initialization failed:",me)});try{if(await U.getInitializedData().then(({maxZ:me,updateCubeColors:ke,projectCubes:He})=>{if(ue=me,ue===void 0||isNaN(ue))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:lt}=Dl(D,Ce.font,{CUBE_SIZE:a,FIRST_CUBE_Z:l},g);L=[...lt,...He],te=ke,n("camera-ready",v)}),g.showCars){const{cityGroup:me,updateParticles:ke,dispose:He}=ml(D,D,ue,g);T=ke,E=He}if(g.showStarfield){const{dispose:me}=xl(D,v,ue);_=me}if(g.showChasers){const{dispose:me,updateChasers:ke}=yl(D,ue);C=me,M=ke}Ze(),n("scene-ready")}catch(me){console.error("Error initializing project cubes:",me),ue=l-(t.projects.length+1)*u}},Ge=(B=0)=>{if(Y=requestAnimationFrame(Ge),x&&b){const Ee=(B-le)/1e3;le=B,T(Ee),M&&M(Ee),U!=null&&U.updateClickHereParticles&&U.updateClickHereParticles(v,Ee);const re=4e3,fe=1e3,Fe=Math.abs(v.position.z-ue);v.far=Math.max(re+fe,Fe),v.updateProjectionMatrix();const Te=hr-Ji;let y=0;v.position.z>=Ji?y=0:v.position.z<=hr?y=1:y=(v.position.z-Ji)/Te;const Ne=.375,me=1-Math.pow(1-y,2);let ke;i.isMobile?ke=ge.lerp(1.3,Ne,me):ke=ge.lerp(1.6,Ne,me),w.strength=ke,b.render()}I.update()},Le=()=>{console.log("handleResize()"),Ze(),We.refresh()},Oe=()=>{if(i.isMobile){const B=i.orientation;console.log("Resize: orientation",B,"lastOrientation",m),B!==m&&(m=B,Z&&clearTimeout(Z),Z=setTimeout(()=>{Le(),Z=null},500))}else Le()};return pn(()=>{Ye().then(()=>{if(f.value){Y=requestAnimationFrame(Ge);let B=null;const Ee=U.getInitializedData().then(({projectCubes:fe,maxZ:Fe})=>{if(fe.forEach(Te=>{Te.userData.isActive=!0}),v.position.set(0,0,5e3),v.lookAt(0,0,Fe),v.updateProjectionMatrix(),te(v),b.render(),We.getAll().forEach(Te=>Te.kill()),L.length&&te){const Te=vl(D,v,h,L,te,{CUBE_SPACING:u,FIRST_CUBE_Z:l},{scrub:i.isMobile?.5:1},g,I);B=Te.setReverting,$=Te.isScrollTriggerActive}x&&W===null&&(W=U.setupInteractivity(v,x.domElement,x,Te=>{B&&B(Te)},$)),r.value=!0,window.scrollTo({top:0,behavior:"auto"})}),re=()=>{Ee.then(()=>{v.position.set(0,0,5e3),v.updateProjectionMatrix(),K.to(x.domElement,{opacity:1,duration:.5,ease:"power4.out"});const fe={z:5e3};K.to(fe,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{v.position.z=fe.z,v.updateProjectionMatrix()},onComplete:()=>{v.position.z=0,d.value=!0,q&&q()}})})};K.delayedCall(.5,re)}}).catch(B=>{console.error("Initialization failed:",B)})}),Bi(()=>{Y!==null&&cancelAnimationFrame(Y),W&&W(),window.removeEventListener("resize",Oe),We.getAll().forEach(B=>B.kill()),b&&(b.passes.forEach(B=>{B.dispose&&B.dispose()}),b.dispose()),w&&w.dispose(),p.forEach(B=>{B.dispose()}),p.clear(),D.traverse(B=>{B instanceof Ue&&(B.geometry&&B.geometry.dispose(),B.material&&(Array.isArray(B.material)?B.material.forEach(Ee=>Ee.dispose()):B.material.dispose()))}),D.fog&&(D.fog=null),D.background instanceof Mt&&(D.background=null),D.clear(),x&&(x.dispose(),x.forceContextLoss(),x.domElement&&x.domElement.parentNode&&x.domElement.parentNode.removeChild(x.domElement)),I&&I.dom&&I.dom.parentNode&&I.dom.parentNode.removeChild(I.dom),_&&_(),C&&C(),E&&E(),S&&S(),Y=null,x=null,b=null,w=null,D=null,v=null,I=null,T=null,_=null,W=null,C=null,M=null,E=null,L=[],te=null,U=null,$=null}),(B,Ee)=>(it(),at("section",{ref_key:"wrapper",ref:h,class:No(["wrapper",{ready:r.value}])},[je("div",{ref_key:"tunnelWrapper",ref:c,class:"tunnel-wrapper"},null,512)],2))}}),hu=dn(du,[["__scopeId","data-v-8e6413bc"]]),Du={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-28"},gu={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},mu={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},vu={key:2},xu={key:3},yu=fn({__name:"IntroMessage",setup(s){const e=xo(),t=Po(),{progress:n}=ln(t),o=$e(null),i=io(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return pn(()=>{const r=o.value.querySelector("svg path:nth-child(2)");r&&K.to(r,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{r.position.y=0},repeat:-1})}),Ht(n,(r,a)=>{if(!o.value)return;const u=r>a,l=r<80,g=r>=80;(u&&g||!u&&l)&&(K.killTweensOf(o.value),K.to(o.value,{y:u?i.value:0,scale:u?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(r,a)=>(it(),at("div",Du,[je("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm drop-shadow-white"},[Mo(e).isMobile?(it(),at("svg",gu,a[0]||(a[0]=[je("g",null,[je("g",null,[je("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),je("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):(it(),at("svg",mu,a[1]||(a[1]=[je("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),je("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),Mo(e).isMobile?(it(),at("div",vu,"SWIPE UP TO CONTINUE")):(it(),at("div",xu,"SCROLL TO CONTINUE"))],512)]))}}),wu=dn(yu,[["__scopeId","data-v-282fe946"]]);/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Cu=/(?:^\s+|\s+$)/g,bu=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function ua(s){var e=s.nodeType,t="";if(e===1||e===9||e===11){if(typeof s.textContent=="string")return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)t+=ua(s)}else if(e===3||e===4)return s.nodeValue;return t}function ws(s,e,t,n,o){for(var i=s.firstChild,r=[],a;i;)i.nodeType===3?(a=(i.nodeValue+"").replace(/^\n+/g,""),n||(a=a.replace(/\s+/g," ")),r.push.apply(r,ca(a,e,t,n,o))):(i.nodeName+"").toLowerCase()==="br"?r[r.length-1]+="<br>":r.push(i.outerHTML),i=i.nextSibling;if(!o)for(a=r.length;a--;)r[a]==="&"&&r.splice(a,1,"&amp;");return r}function ca(s,e,t,n,o){if(s+="",t&&(s=s.trim?s.trim():s.replace(Cu,"")),e&&e!=="")return s.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var i=[],r=s.length,a=0,u,l;a<r;a++)l=s.charAt(a),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||s.charCodeAt(a+1)>=65024&&s.charCodeAt(a+1)<=65039)&&(u=((s.substr(a,12).split(bu)||[])[1]||"").length||2,l=s.substr(a,u),i.emoji=1,a+=u-1),i.push(o?l:l===">"?"&gt;":l==="<"?"&lt;":n&&l===" "&&(s.charAt(a-1)===" "||s.charAt(a+1)===" ")?"&nbsp;":l);return i}/*!
 * TextPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Mn,li,_u=function(){return Mn||typeof window<"u"&&(Mn=window.gsap)&&Mn.registerPlugin&&Mn},hn={version:"3.12.7",name:"text",init:function(e,t,n){typeof t!="object"&&(t={value:t});var o=e.nodeName.toUpperCase(),i=this,r=t,a=r.newClass,u=r.oldClass,l=r.preserveSpaces,g=r.rtl,c=i.delimiter=t.delimiter||"",h=i.fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),f,d,p,D,v,x,b,w;if(i.svg=e.getBBox&&(o==="TEXT"||o==="TSPAN"),!("innerHTML"in e)&&!i.svg)return!1;if(i.target=e,!("value"in t)){i.text=i.original=[""];return}for(p=ws(e,c,!1,l,i.svg),li||(li=document.createElement("div")),li.innerHTML=t.value,d=ws(li,c,!1,l,i.svg),i.from=n._from,(i.from||g)&&!(g&&i.from)&&(o=p,p=d,d=o),i.hasClass=!!(a||u),i.newClass=g?u:a,i.oldClass=g?a:u,o=p.length-d.length,f=o<0?p:d,o<0&&(o=-o);--o>-1;)f.push(h);if(t.type==="diff"){for(D=0,v=[],x=[],b="",o=0;o<d.length;o++)w=d[o],w===p[o]?b+=w:(v[D]=b+w,x[D++]=b+p[o],b="");d=v,p=x,b&&(d.push(b),p.push(b))}t.speed&&n.duration(Math.min(.05/t.speed*f.length,t.maxDuration||9999)),i.rtl=g,i.original=p,i.text=d,i._props.push("text")},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var n=t.text,o=t.hasClass,i=t.newClass,r=t.oldClass,a=t.delimiter,u=t.target,l=t.fillChar,g=t.original,c=t.rtl,h=n.length,f=(c?1-e:e)*h+.5|0,d,p,D;o&&e?(d=i&&f,p=r&&f!==h,D=(d?"<span class='"+i+"'>":"")+n.slice(0,f).join(a)+(d?"</span>":"")+(p?"<span class='"+r+"'>":"")+a+g.slice(f).join(a)+(p?"</span>":"")):D=n.slice(0,f).join(a)+a+g.slice(f).join(a),t.svg?u.textContent=D:u.innerHTML=l==="&nbsp;"&&~D.indexOf("  ")?D.split("  ").join("&nbsp;&nbsp;"):D}};hn.splitInnerHTML=ws;hn.emojiSafeSplit=ca;hn.getText=ua;_u()&&Mn.registerPlugin(hn);const Eu=1e4,Mu=fn({__name:"HUDMiniMap",props:{project:{}},setup(s){const e=s,t=xo(),n=Po(),o=n.projects||[],{progress:i,isInPortalLock:r,activeProjectIndex:a,cubeMetadata:u}=ln(n),{screenWidth:l}=ln(t),g=n.cubeSpacing,c=n.firstCubeZ,h=io(()=>l.value<768),f=1+o.length,d=io(()=>h.value?l.value-16:(f-1)*16*2),p=io(()=>h.value?d.value/((f-1)*2):16),D=io(()=>p.value/2),v=io(()=>d.value/Eu),x=$e(0),b=$e(0),w=$e(null),I=$e(null),T=$e(null),_=$e([]),W=$e(null),C=io(()=>Math.abs(c)*v.value),M=io(()=>o.map((L,te)=>(Math.abs(c)+(te+1)*g)*v.value)),E=L=>{const te=L*v.value+p.value/2;x.value=Math.min(Math.max(te,0),d.value-D.value)};Ht(i,L=>{r.value||K.to(x,{value:L*v.value+p.value/2,duration:.3,ease:"power2.out",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),d.value-D.value)}})},{immediate:!0}),Ht(o,()=>{console.log("Projects changed, re-rendering cubes")}),Ht([r,a],([L,te],[Y])=>{var le,U;if(L&&te!==null&&!Y){const ue=M.value[te]+p.value/2;let $=0;const m=(le=o[te])==null?void 0:le.keyartLocation,Z=(U=u.value)==null?void 0:U.find(q=>q.index===te),ie=(Z==null?void 0:Z.flipped)||!1;switch(m){case"left":case"bottom":$=ie?-90:90;break;case"right":case"top":$=ie?90:-90;break}K.to(x,{value:ue,duration:1,ease:"power2.out",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),d.value-D.value)}}),K.to(W.value,{rotation:$,duration:1,ease:"power2.out",onUpdate:()=>{var q;b.value=((q=W.value)==null?void 0:q.rotation)||0}})}else!L&&Y&&(K.to(x,{value:i.value*v.value+p.value/2,duration:2,ease:"power3.inOut",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),d.value-D.value)}}),K.to(W.value,{rotation:0,duration:2,ease:"power3.inOut",onUpdate:()=>{var ue;b.value=((ue=W.value)==null?void 0:ue.rotation)||0}}))});const S=()=>{E(i.value)};return pn(()=>{var L;if(E(i.value),w.value){const te=[I.value,T.value,...((L=T.value)==null?void 0:L.querySelectorAll("div"))||[],..._.value,W.value].filter(Boolean);K.to(te,{opacity:1,duration:.5,ease:"power2.out",stagger:.1,delay:.5,overwrite:!1})}window.addEventListener("resize",S)}),Bi(()=>{window.removeEventListener("resize",S)}),(L,te)=>(it(),at("div",{ref_key:"mapContainer",ref:w,class:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bottom-4 h-4",style:yo({width:`${d.value}px`,position:"relative"})},[je("div",{ref_key:"dashedPath",ref:I,class:"absolute top-1/2 -translate-y-1/2 h-px border-dotted border-t border-green-500/60 hidden-el",style:yo({width:`${d.value-D.value}px`,left:`${D.value/2}px`})},null,4),je("div",{ref_key:"introCube",ref:T,class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 hidden-el introCube",style:yo({width:`${p.value}px`,height:`${p.value}px`,left:`${C.value}px`})},[je("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${p.value*.75}px`,height:`${p.value*.75}px`})},[je("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${p.value*.5}px`,height:`${p.value*.5}px`})},[je("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${p.value*.25}px`,height:`${p.value*.25}px`})},null,4)],4)],4)],4),(it(!0),at(Hn,null,Un(Mo(o),(Y,le)=>{var U,ue;return it(),at("div",{key:le,ref_for:!0,ref:$=>_.value[le]=$,class:No(["border absolute top-1/2 -translate-y-1/2 hidden-el",{"border-fuchsia-600 shadow-fuchsia":((U=e.project)==null?void 0:U.slug)===Y.slug&&e.project!==null,"border-cyan-600/60":((ue=e.project)==null?void 0:ue.slug)!==Y.slug||e.project===null}]),style:yo({width:`${p.value}px`,height:`${p.value}px`,left:`${M.value[le]}px`})},null,6)}),128)),(it(),at("svg",{ref_key:"cameraSvg",ref:W,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${D.value}px`,left:`${x.value}px`})},te[0]||(te[0]=[je("path",{class:"fill-green-500",d:"M0,0l32,18.3,383.8,219.3,32.2,18.4-32.2,18.4L32,493.7,0,512V0ZM383.5,256L32,55.1v401.7l351.5-200.8Z"},null,-1)]),4))],4))}}),Fu=dn(Mu,[["__scopeId","data-v-e1752c14"]]),Tu={class:"fixed inset-0 pointer-events-none z-10 font-sans"},Pu={class:"px-2 md:px-4 py-2 md:py-4 bg-black/70 md:h-[3.75vw] 3xl:h-[3.75rem] flex items-center"},Su=["innerHTML"],Au={key:1,class:"md:flex items-center justify-between w-full"},Bu={class:"md:flex items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto"},Ru={class:"flex-shrink-0 tracking-tighter md:tracking-normal font-mono text-white md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem] drop-shadow-white"},ku={class:"flex-shrink-0 font-mono text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},Iu=["innerHTML"],Lu=["innerHTML"],Ou={key:0,class:"contributions flex flex-wrap md:flex-nowrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0"},zu={key:1,class:"segments flex flex-wrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0 drop-shadow-white"},Nu={class:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-black/70 h-12 w-full"},Hu={class:"flex items-center gap-4 absolute hidden font-mono md:flex text-green-400/50 text-xxxs right-3 top-1/2 -translate-y-1/2"},Uu=["value"],gr=.125,ju=fn({__name:"HUD",props:{camera:{},ready:{type:Boolean}},emits:["scene-ready"],setup(s,{emit:e}){K.registerPlugin(hn);const t=s,n=e,o=Po(),i=xo(),{projects:r,isInPortalLock:a,activeProjectIndex:u}=ln(o),l=Ri(),g=$e(!0),c=$e(0),h=$e(null),f=$e(null),d=$e(null),p=$e(null),D=$e(null),v=$e(null),x=o.cubeSpacing,b=$e(!1),w=$e(!1),I=$e("WEB DESIGN + DEVELOPMENT: ENTERTAINMENT, ECOMMERCE, HOSPITALITY + TECHNOLOGY");let T=null,_=null;const W=(Y,le)=>{if(!t.ready)return!1;const U=Y;let ue=!1,$=c.value,m=h.value;r.value.forEach((ie,q)=>{const Ce=700+q*x,Ze=1e3+q*x;U>=Ce&&U<Ze&&(ue=!0,$=q,m=ie)});const Z=[f.value,d.value].filter(Boolean);Z.length&&(ue&&!b.value?(b.value=!0,c.value=$,h.value=m,_&&_.kill(),T=K.to(Z,{autoAlpha:1,duration:gr,overwrite:"auto"})):!ue&&b.value&&(b.value=!1,T&&T.kill(),_=K.to(Z,{autoAlpha:0,duration:gr,overwrite:"auto",onComplete:()=>{h.value=null}})))},C=io(()=>{if(!h.value)return"text-white/50";switch(h.value.classification){case Ut.Enums.Classification.ENTERTAINMENT:return"text-red-600 drop-shadow-red";case Ut.Enums.Classification.ECOMMERCE:return"text-green-600 drop-shadow-green";case Ut.Enums.Classification.OTHER:return"text-blue-600";default:return"text-white/50"}}),M=Y=>{switch(Y){case Ut.Enums.Contributions.BACKEND:return"fill-red-400";case Ut.Enums.Contributions.FRONTEND:return"fill-blue-400";case Ut.Enums.Contributions.DEVOPS:return"fill-green-500";case Ut.Enums.Contributions.DESIGN:return"fill-purple-400";case Ut.Enums.Contributions.IDEATION:return"fill-magenta-400";case Ut.Enums.Contributions.UX:return"fill-yellow-400";default:return"fill-green-500"}},E=()=>{v.value&&!w.value&&K.to(v.value,{duration:2,text:{value:I.value},delay:1,onComplete:()=>{w.value=!0}})},S=()=>{h.value&&(o.setScrollPosition(window.scrollY),mr.visit(route("project.show",{project:h.value.slug}),{}))},L=()=>{l.userEngaged&&l.toggleAudioEnabled()},te=Y=>{const le=Y.target;l.setVolume(parseFloat(le.value))};return pn(()=>{var U,ue;const Y=(U=p.value)==null?void 0:U.querySelector("div"),le=(ue=D.value)==null?void 0:ue.querySelector("div");if(Y&&le){const $=window.innerWidth-(i.isMobile?16:42);K.to([Y,le],{opacity:1,width:$,duration:2,onComplete:()=>{n("scene-ready")}})}E()}),Bi(()=>{T&&T.kill(),_&&_.kill()}),Ht(()=>o.progress,(Y,le)=>{g.value=Y<500,W(Y)},{immediate:!0}),Ht(()=>t.camera,Y=>{Y&&W(o.progress)},{immediate:!1}),Ht(()=>t.ready,Y=>{Y&&W(0)}),(Y,le)=>(it(),at("div",Tu,[le[4]||(le[4]=xa('<svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true" data-v-ee952204><defs data-v-ee952204><pattern id="grid-pattern2" width="12" height="12" patternUnits="userSpaceOnUse" data-v-ee952204><line x1="0" y1="0" x2="0" y2="12" stroke="green" stroke-width="1" opacity="0.15" data-v-ee952204></line><line x1="0" y1="0" x2="12" y2="0" stroke="green" stroke-width="1" opacity="0.15" data-v-ee952204></line></pattern></defs><rect width="100%" height="100%" fill="url(#grid-pattern2)" data-v-ee952204></rect></svg>',1)),je("div",Pu,[Ro(vr,{name:"slide-up",mode:"out-in"},{default:Ki(()=>{var U,ue,$,m,Z,ie,q;return[g.value?(it(),at("div",{key:0,ref_key:"introMessageRef",ref:v,class:"relative pointer-events-auto font-mono text-xs text-green-500 text-center w-full text-white drop-shadow-white",innerHTML:w.value?I.value:"X540%512053%)4KF405=31650-3215-503=4400%254=053-50135FFKMFLKFJ04-3515-FFLH>F"},null,8,Su)):(it(),at("div",Au,[je("div",{ref_key:"projectTitleEl",ref:d,class:"md:flex md:items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto",style:{opacity:"0"}},[je("div",Bu,[je("h1",Ru,Lo(((U=h.value)==null?void 0:U.title)||""),1),je("h2",ku,[je("span",{class:"text-white/50 font-medium",innerHTML:((ue=h.value)==null?void 0:ue.client)||""},null,8,Iu),le[0]||(le[0]=es(" · ")),je("span",{class:No(C.value),innerHTML:(($=h.value)==null?void 0:$.classification)||""},null,10,Lu)])]),((m=h.value)==null?void 0:m.contributions.length)>0?(it(),at("div",Ou,[(it(!0),at(Hn,null,Un((Z=h.value)==null?void 0:Z.contributions,(Ce,Ze)=>(it(),at("span",{key:Ze,class:"inline-flex items-center gap-x-2 md:gap-x-[.5vw] 3xl:gap-x-[.5rem] rounded-full px-2 md:px-[.5vw] 3xl:px-[.5rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.575vw] 3xl:text-[.575rem] font-medium ring-1 ring-inset"},[(it(),at("svg",{class:No(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",M(Ce)]),viewBox:"0 0 6 6","aria-hidden":"true"},le[1]||(le[1]=[je("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),es(" "+Lo(Ce),1)]))),128))])):Fn("",!0),((ie=h.value)==null?void 0:ie.segments.length)>0?(it(),at("div",zu,[(it(!0),at(Hn,null,Un((q=h.value)==null?void 0:q.segments,(Ce,Ze)=>(it(),at("span",{key:Ze,class:"inline-flex items-center rounded-full px-2 md:px-[.375vw] 3xl:px-[.375rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.5vw] 3xl:text-[.5rem] font-medium ring-1 ring-inset fill-white-400/10 text-white-400 ring-white/20"},Lo(Ce),1))),128))])):Fn("",!0)],512),je("div",{class:"flex justify-end md:block",ref_key:"clickHereEl",ref:f,style:{opacity:"0"}},[je("button",{onClick:S,class:"border border-current rounded-none px-2 py-1 mt-2 md:mt-0 whitespace-nowrap font-mono text-xxs text-white rounded transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"}," SEE PROJECT DETAILS ")],512)]))]}),_:1})]),je("div",{ref_key:"borderTopEl",ref:p,class:"flex justify-center"},le[2]||(le[2]=[je("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),je("div",Nu,[je("div",{ref_key:"borderBottomEl",ref:D,class:"flex justify-center"},le[3]||(le[3]=[je("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),Y.ready?(it(),ui(Fu,{key:0,project:h.value},null,8,["project"])):Fn("",!0),je("div",Hu,[je("div",null,Lo(Mo(o).progress.toString().padStart(10,"0")+".00"),1),je("button",{onClick:L,class:"border border-current rounded-none px-2 py-1 whitespace-nowrap text-xxxs text-white transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"},Lo(Mo(l).audioEnabled?"Audio: On":"Audio: Off"),1),je("input",{type:"range",min:"0",max:"1",step:"0.01",value:Mo(l).masterVolume,onInput:te,class:"pointer-events-auto w-20 accent-green-500"},null,40,Uu)])])]))}}),Gu=dn(ju,[["__scopeId","data-v-ee952204"]]),Vu={class:"preloader"},Wu={key:1,class:"progress-label font-mono drop-shadow-white"},Yu=fn({__name:"Preloader",props:{progress:{}},setup(s){const e=$e(null);K.registerPlugin(hn);const t=$e(!1),n=$e(!1),o=s;return Ht(()=>o.progress,i=>{i>0&&!n&&(n.value=!0)}),pn(()=>{K.to(e.value,{duration:.5,text:{value:"INITIALIZING..."},delay:.25,onComplete:()=>{K.to(e.value,{duration:.5,alpha:0,y:-30,onComplete:()=>{t.value=!0}})}})}),(i,r)=>(it(),at("div",Vu,[t.value?(it(),at("div",Wu,Lo(Math.round(i.progress))+"%",1)):(it(),at("div",{key:0,ref_key:"initTextRef",ref:e,class:"drop-shadow-white"},null,512))]))}}),Xu=dn(Yu,[["__scopeId","data-v-014ad8ef"]]),$u={class:"relative bg-black text-white"},Zu={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},qu={class:"mt-16 px-4 md:px-16"},Ju={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Qu=["innerHTML"],Ku={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},Qi=.2,ec=fn({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(s){const e=s,t=Po(),{loadingProgress:n,progress:o}=ln(t),i=Ri(),r=$e(null),a=$e(!1),u=$e(!1),l=$e(!1),g=Cr(()=>{});let c=!1;const h=v=>{r.value=v},f=io(()=>[...e.archived].sort((v,x)=>v.title.localeCompare(x.title))),d=io(()=>Object.values(Ut.Enums.Classification)),p=()=>{i.userEngaged||(i.unlockAudio(),window.removeEventListener("click",p),window.removeEventListener("touchstart",p),window.removeEventListener("keydown",p))},D=v=>{switch(v){case Ut.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case Ut.Enums.Classification.ECOMMERCE:return"fill-green-500";case Ut.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return Ht(()=>[a.value,l.value,i.userEngaged,o.value],([v,x,b,w])=>{v&&x&&b&&w>0&&!c&&(console.log("Scroll started, progress:",w,"playing hallwayMusic with volume:",Qi,"masterVolume:",i.masterVolume),g.play("hallwayMusic"),c=!0)},{immediate:!1}),ya(async()=>{console.log("Registering hallwayMusic with maxVolume:",Qi),await g.registerAudio("hallwayMusic","/sounds/hallway.mp3",{loop:!0,maxVolume:Qi}).then(()=>{l.value=!0,console.log("hallwayMusic loaded successfully")}).catch(v=>{console.error("Failed to load hallway music:",v),l.value=!0})}),pn(()=>{window.addEventListener("click",p),window.addEventListener("touchstart",p),window.addEventListener("keydown",p)}),Bi(()=>{window.removeEventListener("click",p),window.removeEventListener("touchstart",p),window.removeEventListener("keydown",p),g.dispose("hallwayMusic")}),(v,x)=>(it(),ui(ja,null,{default:Ki(()=>[Ro(Mo(wa),{title:"Welcome"}),je("div",$u,[je("nav",Zu,[Ro(Ha)]),je("div",{class:No(["scene-wrap overflow-hidden relative",{ready:a.value}])},[u.value?(it(),ui(hu,{key:0,projects:v.projects,"project-grid-file":v.projectGridFile,"project-grid-file2":v.projectGridFile2,onCameraReady:h,onSceneReady:x[0]||(x[0]=b=>a.value=!0)},null,8,["projects","project-grid-file","project-grid-file2"])):Fn("",!0),Ro(vr,{name:"fade"},{default:Ki(()=>[a.value?Fn("",!0):(it(),ui(Xu,{key:0,progress:Mo(n)||0},null,8,["progress"]))]),_:1}),Ro(wu),Ro(Gu,{camera:r.value,ready:a.value,onSceneReady:x[1]||(x[1]=b=>u.value=!0)},null,8,["camera","ready"])],2),je("div",qu,[x[4]||(x[4]=je("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),je("ul",Ju,[(it(!0),at(Hn,null,Un(f.value,(b,w)=>(it(),at("li",{class:"text-xs text-white/80 flex items-center gap-2",key:w},[(it(),at("svg",{class:No(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",D(b.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},x[2]||(x[2]=[je("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),je("span",{innerHTML:b.title},null,8,Qu)]))),128))]),je("ul",Ku,[(it(!0),at(Hn,null,Un(d.value,b=>(it(),at("li",{class:"flex items-center gap-2",key:b},[(it(),at("svg",{class:No(["size-3",D(b)]),viewBox:"0 0 6 6","aria-hidden":"true"},x[3]||(x[3]=[je("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),es(" "+Lo(b),1)]))),128))])]),Ro(Ua)])]),_:1}))}}),sc=dn(ec,[["__scopeId","data-v-a666e387"]]);export{sc as default};
