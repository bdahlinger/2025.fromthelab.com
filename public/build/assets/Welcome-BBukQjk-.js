import{W as dr,d as Xe,I as cn,x as fn,y as mi,e as et,o as $e,a as Re,n as Oo,M as zn,j as oo,E as Eo,u as an,G as xo,F as Nn,h as Hn,p as Da,b as Ro,w as Zs,f as Fn,t as Ko,g as qs,T as hr,c as ls,m as ga}from"./app-CwsPT1tM.js";import{c as Be,O as ma,h as go,F as wo,l as Lo,U as Qs,V as Xt,m as us,H as cs,N as va,C as xa,n as bt,f as Te,b as lo,o as ft,e as dt,G as $t,g as oe,p as Ae,B as ln,E as zo,L as rt,q as ya,u as Mo,R as Ca,r as Dr,s as gr,P as yo,a as eo,t as Cs,v as mr,w as Mi,Q as wa,I as _a,x as ks,y as Pi,z as fs,J as ps,K as Ls,T as ba,X as vr,Y as xr,Z as Ea,_ as Js,$ as Ks,a0 as Vn,M as Fa,a1 as Ta,a2 as Si,S as Ma,a3 as Pa,a4 as Sa,W as Aa,a5 as Ra,a6 as Ba,d as Ht,j as ka,k as La}from"./GlobalFooter-CLT4kwgI.js";import{u as vo,_ as Ia}from"./App.vue_vue_type_script_setup_true_lang-BW1o4OoT.js";import{_ as pn}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Oa(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function za(i,e,t){return e&&Oa(i.prototype,e),i}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Et,ds,Yt,_o,bo,on,yr,Bo,Tn,Cr,ho,to,wr,_r=function(){return Et||typeof window<"u"&&(Et=window.gsap)&&Et.registerPlugin&&Et},br=1,en=[],Ge=[],co=[],Mn=Date.now,ei=function(e,t){return t},Na=function(){var e=Tn.core,t=e.bridge||{},n=e._scrollers,o=e._proxies;n.push.apply(n,Ge),o.push.apply(o,co),Ge=n,co=o,ei=function(r,a){return t[r](a)}},Fo=function(e,t){return~co.indexOf(e)&&co[co.indexOf(e)+1][t]},Pn=function(e){return!!~Cr.indexOf(e)},Rt=function(e,t,n,o,s){return e.addEventListener(t,n,{passive:o!==!1,capture:!!s})},At=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Wn="scrollLeft",Xn="scrollTop",ti=function(){return ho&&ho.isPressed||Ge.cache++},ws=function(e,t){var n=function o(s){if(s||s===0){br&&(Yt.history.scrollRestoration="manual");var r=ho&&ho.isPressed;s=o.v=Math.round(s)||(ho&&ho.iOS?1:0),e(s),o.cacheID=Ge.cache,r&&ei("ss",s)}else(t||Ge.cache!==o.cacheID||ei("ref"))&&(o.cacheID=Ge.cache,o.v=e());return o.v+o.offset};return n.offset=0,e&&n},It={s:Wn,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:ws(function(i){return arguments.length?Yt.scrollTo(i,xt.sc()):Yt.pageXOffset||_o[Wn]||bo[Wn]||on[Wn]||0})},xt={s:Xn,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:It,sc:ws(function(i){return arguments.length?Yt.scrollTo(It.sc(),i):Yt.pageYOffset||_o[Xn]||bo[Xn]||on[Xn]||0})},zt=function(e,t){return(t&&t._ctx&&t._ctx.selector||Et.utils.toArray)(e)[0]||(typeof e=="string"&&Et.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},To=function(e,t){var n=t.s,o=t.sc;Pn(e)&&(e=_o.scrollingElement||bo);var s=Ge.indexOf(e),r=o===xt.sc?1:2;!~s&&(s=Ge.push(e)-1),Ge[s+r]||Rt(e,"scroll",ti);var a=Ge[s+r],u=a||(Ge[s+r]=ws(Fo(e,n),!0)||(Pn(e)?o:ws(function(l){return arguments.length?e[n]=l:e[n]})));return u.target=e,a||(u.smooth=Et.getProperty(e,"scrollBehavior")==="smooth"),u},oi=function(e,t,n){var o=e,s=e,r=Mn(),a=r,u=t||50,l=Math.max(500,u*3),h=function(d,D){var g=Mn();D||g-r>u?(s=o,o=d,a=r,r=g):n?o+=d:o=s+(d-s)/(g-a)*(r-a)},c=function(){s=o=n?0:o,a=r=0},p=function(d){var D=a,g=s,y=Mn();return(d||d===0)&&d!==o&&h(d),r===a||y-a>l?0:(o+(n?g:-g))/((n?y:r)-D)*1e3};return{update:h,reset:c,getVelocity:p}},Dn=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Ai=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Er=function(){Tn=Et.core.globals().ScrollTrigger,Tn&&Tn.core&&Na()},Fr=function(e){return Et=e||_r(),!ds&&Et&&typeof document<"u"&&document.body&&(Yt=window,_o=document,bo=_o.documentElement,on=_o.body,Cr=[Yt,_o,bo,on],Et.utils.clamp,wr=Et.core.context||function(){},Bo="onpointerenter"in on?"pointer":"mouse",yr=ut.isTouch=Yt.matchMedia&&Yt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Yt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,to=ut.eventTypes=("ontouchstart"in bo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in bo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return br=0},500),Er(),ds=1),ds};It.op=xt;Ge.cache=0;var ut=function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){ds||Fr(Et)||console.warn("Please gsap.registerPlugin(Observer)"),Tn||Er();var o=n.tolerance,s=n.dragMinimum,r=n.type,a=n.target,u=n.lineHeight,l=n.debounce,h=n.preventDefault,c=n.onStop,p=n.onStopDelay,f=n.ignore,d=n.wheelSpeed,D=n.event,g=n.onDragStart,y=n.onDragEnd,x=n.onDrag,b=n.onPress,C=n.onRelease,R=n.onRight,F=n.onLeft,w=n.onUp,U=n.onDown,P=n.onChangeX,E=n.onChangeY,G=n.onChange,T=n.onToggleX,M=n.onToggleY,ee=n.onHover,te=n.onHoverEnd,De=n.onMove,W=n.ignoreCheck,ce=n.isNormalizer,se=n.onGestureStart,m=n.onGestureEnd,Y=n.onWheel,ae=n.onEnable,ie=n.onDisable,_e=n.onClick,Ze=n.scrollSpeed,k=n.capture,q=n.allowClicks,V=n.lockAxis,N=n.onLockAxis;this.target=a=zt(a)||bo,this.vars=n,f&&(f=Et.utils.toArray(f)),o=o||1e-9,s=s||0,d=d||1,Ze=Ze||1,r=r||"wheel,touch,pointer",l=l!==!1,u||(u=parseFloat(Yt.getComputedStyle(on).lineHeight)||22);var B,_,A,S,O,Q,fe,v=this,ye=0,Le=0,xe=n.passive||!h&&n.passive!==!1,Pe=To(a,It),ot=To(a,xt),st=Pe(),ct=ot(),Ke=~r.indexOf("touch")&&!~r.indexOf("pointer")&&to[0]==="pointerdown",_t=Pn(a),tt=a.ownerDocument||_o,yt=[0,0,0],lt=[0,0,0],Nt=0,z=function(){return Nt=Mn()},X=function(H,Fe){return(v.event=H)&&f&&~f.indexOf(H.target)||Fe&&Ke&&H.pointerType!=="touch"||W&&W(H,Fe)},re=function(){v._vx.reset(),v._vy.reset(),_.pause(),c&&c(v)},me=function(){var H=v.deltaX=Ai(yt),Fe=v.deltaY=Ai(lt),L=Math.abs(H)>=o,we=Math.abs(Fe)>=o;G&&(L||we)&&G(v,H,Fe,yt,lt),L&&(R&&v.deltaX>0&&R(v),F&&v.deltaX<0&&F(v),P&&P(v),T&&v.deltaX<0!=ye<0&&T(v),ye=v.deltaX,yt[0]=yt[1]=yt[2]=0),we&&(U&&v.deltaY>0&&U(v),w&&v.deltaY<0&&w(v),E&&E(v),M&&v.deltaY<0!=Le<0&&M(v),Le=v.deltaY,lt[0]=lt[1]=lt[2]=0),(S||A)&&(De&&De(v),A&&(g&&A===1&&g(v),x&&x(v),A=0),S=!1),Q&&!(Q=!1)&&N&&N(v),O&&(Y(v),O=!1),B=0},de=function(H,Fe,L){yt[L]+=H,lt[L]+=Fe,v._vx.update(H),v._vy.update(Fe),l?B||(B=requestAnimationFrame(me)):me()},Ee=function(H,Fe){V&&!fe&&(v.axis=fe=Math.abs(H)>Math.abs(Fe)?"x":"y",Q=!0),fe!=="y"&&(yt[2]+=H,v._vx.update(H,!0)),fe!=="x"&&(lt[2]+=Fe,v._vy.update(Fe,!0)),l?B||(B=requestAnimationFrame(me)):me()},Se=function(H){if(!X(H,1)){H=Dn(H,h);var Fe=H.clientX,L=H.clientY,we=Fe-v.x,Z=L-v.y,I=v.isDragging;v.x=Fe,v.y=L,(I||(we||Z)&&(Math.abs(v.startX-Fe)>=s||Math.abs(v.startY-L)>=s))&&(A=I?2:1,I||(v.isDragging=!0),Ee(we,Z))}},$=v.onPress=function(Ce){X(Ce,1)||Ce&&Ce.button||(v.axis=fe=null,_.pause(),v.isPressed=!0,Ce=Dn(Ce),ye=Le=0,v.startX=v.x=Ce.clientX,v.startY=v.y=Ce.clientY,v._vx.reset(),v._vy.reset(),Rt(ce?a:tt,to[1],Se,xe,!0),v.deltaX=v.deltaY=0,b&&b(v))},j=v.onRelease=function(Ce){if(!X(Ce,1)){At(ce?a:tt,to[1],Se,!0);var H=!isNaN(v.y-v.startY),Fe=v.isDragging,L=Fe&&(Math.abs(v.x-v.startX)>3||Math.abs(v.y-v.startY)>3),we=Dn(Ce);!L&&H&&(v._vx.reset(),v._vy.reset(),h&&q&&Et.delayedCall(.08,function(){if(Mn()-Nt>300&&!Ce.defaultPrevented){if(Ce.target.click)Ce.target.click();else if(tt.createEvent){var Z=tt.createEvent("MouseEvents");Z.initMouseEvent("click",!0,!0,Yt,1,we.screenX,we.screenY,we.clientX,we.clientY,!1,!1,!1,!1,0,null),Ce.target.dispatchEvent(Z)}}})),v.isDragging=v.isGesturing=v.isPressed=!1,c&&Fe&&!ce&&_.restart(!0),A&&me(),y&&Fe&&y(v),C&&C(v,L)}},Oe=function(H){return H.touches&&H.touches.length>1&&(v.isGesturing=!0)&&se(H,v.isDragging)},ve=function(){return(v.isGesturing=!1)||m(v)},Ye=function(H){if(!X(H)){var Fe=Pe(),L=ot();de((Fe-st)*Ze,(L-ct)*Ze,1),st=Fe,ct=L,c&&_.restart(!0)}},qe=function(H){if(!X(H)){H=Dn(H,h),Y&&(O=!0);var Fe=(H.deltaMode===1?u:H.deltaMode===2?Yt.innerHeight:1)*d;de(H.deltaX*Fe,H.deltaY*Fe,0),c&&!ce&&_.restart(!0)}},We=function(H){if(!X(H)){var Fe=H.clientX,L=H.clientY,we=Fe-v.x,Z=L-v.y;v.x=Fe,v.y=L,S=!0,c&&_.restart(!0),(we||Z)&&Ee(we,Z)}},St=function(H){v.event=H,ee(v)},ht=function(H){v.event=H,te(v)},Ot=function(H){return X(H)||Dn(H,h)&&_e(v)};_=v._dc=Et.delayedCall(p||.25,re).pause(),v.deltaX=v.deltaY=0,v._vx=oi(0,50,!0),v._vy=oi(0,50,!0),v.scrollX=Pe,v.scrollY=ot,v.isDragging=v.isGesturing=v.isPressed=!1,wr(this),v.enable=function(Ce){return v.isEnabled||(Rt(_t?tt:a,"scroll",ti),r.indexOf("scroll")>=0&&Rt(_t?tt:a,"scroll",Ye,xe,k),r.indexOf("wheel")>=0&&Rt(a,"wheel",qe,xe,k),(r.indexOf("touch")>=0&&yr||r.indexOf("pointer")>=0)&&(Rt(a,to[0],$,xe,k),Rt(tt,to[2],j),Rt(tt,to[3],j),q&&Rt(a,"click",z,!0,!0),_e&&Rt(a,"click",Ot),se&&Rt(tt,"gesturestart",Oe),m&&Rt(tt,"gestureend",ve),ee&&Rt(a,Bo+"enter",St),te&&Rt(a,Bo+"leave",ht),De&&Rt(a,Bo+"move",We)),v.isEnabled=!0,v.isDragging=v.isGesturing=v.isPressed=S=A=!1,v._vx.reset(),v._vy.reset(),st=Pe(),ct=ot(),Ce&&Ce.type&&$(Ce),ae&&ae(v)),v},v.disable=function(){v.isEnabled&&(en.filter(function(Ce){return Ce!==v&&Pn(Ce.target)}).length||At(_t?tt:a,"scroll",ti),v.isPressed&&(v._vx.reset(),v._vy.reset(),At(ce?a:tt,to[1],Se,!0)),At(_t?tt:a,"scroll",Ye,k),At(a,"wheel",qe,k),At(a,to[0],$,k),At(tt,to[2],j),At(tt,to[3],j),At(a,"click",z,!0),At(a,"click",Ot),At(tt,"gesturestart",Oe),At(tt,"gestureend",ve),At(a,Bo+"enter",St),At(a,Bo+"leave",ht),At(a,Bo+"move",We),v.isEnabled=v.isPressed=v.isDragging=!1,ie&&ie(v))},v.kill=v.revert=function(){v.disable();var Ce=en.indexOf(v);Ce>=0&&en.splice(Ce,1),ho===v&&(ho=0)},en.push(v),ce&&Pn(a)&&(ho=v),v.enable(D)},za(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i}();ut.version="3.12.7";ut.create=function(i){return new ut(i)};ut.register=Fr;ut.getAll=function(){return en.slice()};ut.getById=function(i){return en.filter(function(e){return e.vars.id===i})[0]};_r()&&Et.registerPlugin(ut);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ue,qo,je,nt,Gt,Je,vi,_s,Un,Sn,vn,$n,Tt,As,ni,kt,Ri,Bi,Qo,Tr,Is,Mr,Bt,si,Pr,Sr,Co,ii,xi,nn,yi,bs,ri,Os,Zn=1,Mt=Date.now,zs=Mt(),Kt=0,xn=0,ki=function(e,t,n){var o=jt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=o,o?e.substr(6,e.length-7):e},Li=function(e,t){return t&&(!jt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Ha=function i(){return xn&&requestAnimationFrame(i)},Ii=function(){return As=1},Oi=function(){return As=0},ao=function(e){return e},yn=function(e){return Math.round(e*1e5)/1e5||0},Ar=function(){return typeof window<"u"},Rr=function(){return ue||Ar()&&(ue=window.gsap)&&ue.registerPlugin&&ue},Yo=function(e){return!!~vi.indexOf(e)},Br=function(e){return(e==="Height"?yi:je["inner"+e])||Gt["client"+e]||Je["client"+e]},kr=function(e){return Fo(e,"getBoundingClientRect")||(Yo(e)?function(){return vs.width=je.innerWidth,vs.height=yi,vs}:function(){return fo(e)})},Ua=function(e,t,n){var o=n.d,s=n.d2,r=n.a;return(r=Fo(e,"getBoundingClientRect"))?function(){return r()[o]}:function(){return(t?Br(s):e["client"+s])||0}},ja=function(e,t){return!t||~co.indexOf(e)?kr(e):function(){return vs}},uo=function(e,t){var n=t.s,o=t.d2,s=t.d,r=t.a;return Math.max(0,(n="scroll"+o)&&(r=Fo(e,n))?r()-kr(e)()[s]:Yo(e)?(Gt[n]||Je[n])-Br(o):e[n]-e["offset"+o])},qn=function(e,t){for(var n=0;n<Qo.length;n+=3)(!t||~t.indexOf(Qo[n+1]))&&e(Qo[n],Qo[n+1],Qo[n+2])},jt=function(e){return typeof e=="string"},Pt=function(e){return typeof e=="function"},Cn=function(e){return typeof e=="number"},ko=function(e){return typeof e=="object"},gn=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Ns=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},$o=Math.abs,Lr="left",Ir="top",Ci="right",wi="bottom",No="width",Ho="height",An="Right",Rn="Left",Bn="Top",kn="Bottom",pt="padding",Zt="margin",un="Width",_i="Height",vt="px",qt=function(e){return je.getComputedStyle(e)},Ga=function(e){var t=qt(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},zi=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},fo=function(e,t){var n=t&&qt(e)[ni]!=="matrix(1, 0, 0, 1, 0, 0)"&&ue.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return n&&n.progress(0).kill(),o},Es=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},Or=function(e){var t=[],n=e.labels,o=e.duration(),s;for(s in n)t.push(n[s]/o);return t},Ya=function(e){return function(t){return ue.utils.snap(Or(e),t)}},bi=function(e){var t=ue.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(o,s){return o-s});return n?function(o,s,r){r===void 0&&(r=.001);var a;if(!s)return t(o);if(s>0){for(o-=r,a=0;a<n.length;a++)if(n[a]>=o)return n[a];return n[a-1]}else for(a=n.length,o+=r;a--;)if(n[a]<=o)return n[a];return n[0]}:function(o,s,r){r===void 0&&(r=.001);var a=t(o);return!s||Math.abs(a-o)<r||a-o<0==s<0?a:t(s<0?o-e:o+e)}},Va=function(e){return function(t,n){return bi(Or(e))(t,n.direction)}},Qn=function(e,t,n,o){return n.split(",").forEach(function(s){return e(t,s,o)})},wt=function(e,t,n,o,s){return e.addEventListener(t,n,{passive:!o,capture:!!s})},Ct=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Jn=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},Ni={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Kn={toggleActions:"play",anticipatePin:0},Fs={top:0,left:0,center:.5,bottom:1,right:1},hs=function(e,t){if(jt(e)){var n=e.indexOf("="),o=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(o*=t/100),e=e.substr(0,n-1)),e=o+(e in Fs?Fs[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},es=function(e,t,n,o,s,r,a,u){var l=s.startColor,h=s.endColor,c=s.fontSize,p=s.indent,f=s.fontWeight,d=nt.createElement("div"),D=Yo(n)||Fo(n,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,y=D?Je:n,x=e.indexOf("start")!==-1,b=x?l:h,C="border-color:"+b+";font-size:"+c+";color:"+b+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((g||u)&&D?"fixed;":"absolute;"),(g||u||!D)&&(C+=(o===xt?Ci:wi)+":"+(r+parseFloat(p))+"px;"),a&&(C+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),d._isStart=x,d.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),d.style.cssText=C,d.innerText=t||t===0?e+"-"+t:e,y.children[0]?y.insertBefore(d,y.children[0]):y.appendChild(d),d._offset=d["offset"+o.op.d2],Ds(d,0,o,x),d},Ds=function(e,t,n,o){var s={display:"block"},r=n[o?"os2":"p2"],a=n[o?"p2":"os2"];e._isFlipped=o,s[n.a+"Percent"]=o?-100:0,s[n.a]=o?"1px":0,s["border"+r+un]=1,s["border"+a+un]=0,s[n.p]=t+"px",ue.set(e,s)},Ue=[],ai={},jn,Hi=function(){return Mt()-Kt>34&&(jn||(jn=requestAnimationFrame(mo)))},Zo=function(){(!Bt||!Bt.isPressed||Bt.startX>Je.clientWidth)&&(Ge.cache++,Bt?jn||(jn=requestAnimationFrame(mo)):mo(),Kt||Wo("scrollStart"),Kt=Mt())},Hs=function(){Sr=je.innerWidth,Pr=je.innerHeight},wn=function(e){Ge.cache++,(e===!0||!Tt&&!Mr&&!nt.fullscreenElement&&!nt.webkitFullscreenElement&&(!si||Sr!==je.innerWidth||Math.abs(je.innerHeight-Pr)>je.innerHeight*.25))&&_s.restart(!0)},Vo={},Wa=[],zr=function i(){return Ct(ke,"scrollEnd",i)||Io(!0)},Wo=function(e){return Vo[e]&&Vo[e].map(function(t){return t()})||Wa},Ut=[],Nr=function(e){for(var t=0;t<Ut.length;t+=5)(!e||Ut[t+4]&&Ut[t+4].query===e)&&(Ut[t].style.cssText=Ut[t+1],Ut[t].getBBox&&Ut[t].setAttribute("transform",Ut[t+2]||""),Ut[t+3].uncache=1)},Ei=function(e,t){var n;for(kt=0;kt<Ue.length;kt++)n=Ue[kt],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));bs=!0,t&&Nr(t),t||Wo("revert")},Hr=function(e,t){Ge.cache++,(t||!Lt)&&Ge.forEach(function(n){return Pt(n)&&n.cacheID++&&(n.rec=0)}),jt(e)&&(je.history.scrollRestoration=xi=e)},Lt,Uo=0,Ui,Xa=function(){if(Ui!==Uo){var e=Ui=Uo;requestAnimationFrame(function(){return e===Uo&&Io(!0)})}},Ur=function(){Je.appendChild(nn),yi=!Bt&&nn.offsetHeight||je.innerHeight,Je.removeChild(nn)},ji=function(e){return Un(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Io=function(e,t){if(Gt=nt.documentElement,Je=nt.body,vi=[je,nt,Gt,Je],Kt&&!e&&!bs){wt(ke,"scrollEnd",zr);return}Ur(),Lt=ke.isRefreshing=!0,Ge.forEach(function(o){return Pt(o)&&++o.cacheID&&(o.rec=o())});var n=Wo("refreshInit");Tr&&ke.sort(),t||Ei(),Ge.forEach(function(o){Pt(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),Ue.slice(0).forEach(function(o){return o.refresh()}),bs=!1,Ue.forEach(function(o){if(o._subPinOffset&&o.pin){var s=o.vars.horizontal?"offsetWidth":"offsetHeight",r=o.pin[s];o.revert(!0,1),o.adjustPinSpacing(o.pin[s]-r),o.refresh()}}),ri=1,ji(!0),Ue.forEach(function(o){var s=uo(o.scroller,o._dir),r=o.vars.end==="max"||o._endClamp&&o.end>s,a=o._startClamp&&o.start>=s;(r||a)&&o.setPositions(a?s-1:o.start,r?Math.max(a?s:o.start+1,s):o.end,!0)}),ji(!1),ri=0,n.forEach(function(o){return o&&o.render&&o.render(-1)}),Ge.forEach(function(o){Pt(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),Hr(xi,1),_s.pause(),Uo++,Lt=2,mo(2),Ue.forEach(function(o){return Pt(o.vars.onRefresh)&&o.vars.onRefresh(o)}),Lt=ke.isRefreshing=!1,Wo("refresh")},li=0,gs=1,Ln,mo=function(e){if(e===2||!Lt&&!bs){ke.isUpdating=!0,Ln&&Ln.update(0);var t=Ue.length,n=Mt(),o=n-zs>=50,s=t&&Ue[0].scroll();if(gs=li>s?-1:1,Lt||(li=s),o&&(Kt&&!As&&n-Kt>200&&(Kt=0,Wo("scrollEnd")),vn=zs,zs=n),gs<0){for(kt=t;kt-- >0;)Ue[kt]&&Ue[kt].update(0,o);gs=1}else for(kt=0;kt<t;kt++)Ue[kt]&&Ue[kt].update(0,o);ke.isUpdating=!1}jn=0},ui=[Lr,Ir,wi,Ci,Zt+kn,Zt+An,Zt+Bn,Zt+Rn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ms=ui.concat([No,Ho,"boxSizing","max"+un,"max"+_i,"position",Zt,pt,pt+Bn,pt+An,pt+kn,pt+Rn]),$a=function(e,t,n){sn(n);var o=e._gsap;if(o.spacerIsNative)sn(o.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},Us=function(e,t,n,o){if(!e._gsap.swappedIn){for(var s=ui.length,r=t.style,a=e.style,u;s--;)u=ui[s],r[u]=n[u];r.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(r.display="inline-block"),a[wi]=a[Ci]="auto",r.flexBasis=n.flexBasis||"auto",r.overflow="visible",r.boxSizing="border-box",r[No]=Es(e,It)+vt,r[Ho]=Es(e,xt)+vt,r[pt]=a[Zt]=a[Ir]=a[Lr]="0",sn(o),a[No]=a["max"+un]=n[No],a[Ho]=a["max"+_i]=n[Ho],a[pt]=n[pt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Za=/([A-Z])/g,sn=function(e){if(e){var t=e.t.style,n=e.length,o=0,s,r;for((e.t._gsap||ue.core.getCache(e.t)).uncache=1;o<n;o+=2)r=e[o+1],s=e[o],r?t[s]=r:t[s]&&t.removeProperty(s.replace(Za,"-$1").toLowerCase())}},ts=function(e){for(var t=ms.length,n=e.style,o=[],s=0;s<t;s++)o.push(ms[s],n[ms[s]]);return o.t=e,o},qa=function(e,t,n){for(var o=[],s=e.length,r=n?8:0,a;r<s;r+=2)a=e[r],o.push(a,a in t?t[a]:e[r+1]);return o.t=e.t,o},vs={left:0,top:0},Gi=function(e,t,n,o,s,r,a,u,l,h,c,p,f,d){Pt(e)&&(e=e(u)),jt(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?hs("0"+e.substr(3),n):0));var D=f?f.time():0,g,y,x;if(f&&f.seek(0),isNaN(e)||(e=+e),Cn(e))f&&(e=ue.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,p,e)),a&&Ds(a,n,o,!0);else{Pt(t)&&(t=t(u));var b=(e||"0").split(" "),C,R,F,w;x=zt(t,u)||Je,C=fo(x)||{},(!C||!C.left&&!C.top)&&qt(x).display==="none"&&(w=x.style.display,x.style.display="block",C=fo(x),w?x.style.display=w:x.style.removeProperty("display")),R=hs(b[0],C[o.d]),F=hs(b[1]||"0",n),e=C[o.p]-l[o.p]-h+R+s-F,a&&Ds(a,F,o,n-F<20||a._isStart&&F>20),n-=n-F}if(d&&(u[d]=e||-.001,e<0&&(e=0)),r){var U=e+n,P=r._isStart;g="scroll"+o.d2,Ds(r,U,o,P&&U>20||!P&&(c?Math.max(Je[g],Gt[g]):r.parentNode[g])<=U+1),c&&(l=fo(a),c&&(r.style[o.op.p]=l[o.op.p]-o.op.m-r._offset+vt))}return f&&x&&(g=fo(x),f.seek(p),y=fo(x),f._caScrollDist=g[o.p]-y[o.p],e=e/f._caScrollDist*p),f&&f.seek(D),f?e:Math.round(e)},Qa=/(webkit|moz|length|cssText|inset)/i,Yi=function(e,t,n,o){if(e.parentNode!==t){var s=e.style,r,a;if(t===Je){e._stOrig=s.cssText,a=qt(e);for(r in a)!+r&&!Qa.test(r)&&a[r]&&typeof s[r]=="string"&&r!=="0"&&(s[r]=a[r]);s.top=n,s.left=o}else s.cssText=e._stOrig;ue.core.getCache(e).uncache=1,t.appendChild(e)}},jr=function(e,t,n){var o=t,s=o;return function(r){var a=Math.round(e());return a!==o&&a!==s&&Math.abs(a-o)>3&&Math.abs(a-s)>3&&(r=a,n&&n()),s=o,o=Math.round(r),o}},os=function(e,t,n){var o={};o[t.p]="+="+n,ue.set(e,o)},Vi=function(e,t){var n=To(e,t),o="_scroll"+t.p2,s=function r(a,u,l,h,c){var p=r.tween,f=u.onComplete,d={};l=l||n();var D=jr(n,l,function(){p.kill(),r.tween=0});return c=h&&c||0,h=h||a-l,p&&p.kill(),u[o]=a,u.inherit=!1,u.modifiers=d,d[o]=function(){return D(l+h*p.ratio+c*p.ratio*p.ratio)},u.onUpdate=function(){Ge.cache++,r.tween&&mo()},u.onComplete=function(){r.tween=0,f&&f.call(p)},p=r.tween=ue.to(e,u),p};return e[o]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},wt(e,"wheel",n.wheelHandler),ke.isTouch&&wt(e,"touchmove",n.wheelHandler),s},ke=function(){function i(t,n){qo||i.register(ue)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ii(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!xn){this.update=this.refresh=this.kill=ao;return}n=zi(jt(n)||Cn(n)||n.nodeType?{trigger:n}:n,Kn);var s=n,r=s.onUpdate,a=s.toggleClass,u=s.id,l=s.onToggle,h=s.onRefresh,c=s.scrub,p=s.trigger,f=s.pin,d=s.pinSpacing,D=s.invalidateOnRefresh,g=s.anticipatePin,y=s.onScrubComplete,x=s.onSnapComplete,b=s.once,C=s.snap,R=s.pinReparent,F=s.pinSpacer,w=s.containerAnimation,U=s.fastScrollEnd,P=s.preventOverlaps,E=n.horizontal||n.containerAnimation&&n.horizontal!==!1?It:xt,G=!c&&c!==0,T=zt(n.scroller||je),M=ue.core.getCache(T),ee=Yo(T),te=("pinType"in n?n.pinType:Fo(T,"pinType")||ee&&"fixed")==="fixed",De=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],W=G&&n.toggleActions.split(" "),ce="markers"in n?n.markers:Kn.markers,se=ee?0:parseFloat(qt(T)["border"+E.p2+un])||0,m=this,Y=n.onRefreshInit&&function(){return n.onRefreshInit(m)},ae=Ua(T,ee,E),ie=ja(T,ee),_e=0,Ze=0,k=0,q=To(T,E),V,N,B,_,A,S,O,Q,fe,v,ye,Le,xe,Pe,ot,st,ct,Ke,_t,tt,yt,lt,Nt,z,X,re,me,de,Ee,Se,$,j,Oe,ve,Ye,qe,We,St,ht;if(m._startClamp=m._endClamp=!1,m._dir=E,g*=45,m.scroller=T,m.scroll=w?w.time.bind(w):q,_=q(),m.vars=n,o=o||n.animation,"refreshPriority"in n&&(Tr=1,n.refreshPriority===-9999&&(Ln=m)),M.tweenScroll=M.tweenScroll||{top:Vi(T,xt),left:Vi(T,It)},m.tweenTo=V=M.tweenScroll[E.p],m.scrubDuration=function(L){Oe=Cn(L)&&L,Oe?j?j.duration(L):j=ue.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Oe,paused:!0,onComplete:function(){return y&&y(m)}}):(j&&j.progress(1).kill(),j=0)},o&&(o.vars.lazy=!1,o._initted&&!m.isReverted||o.vars.immediateRender!==!1&&n.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),m.animation=o.pause(),o.scrollTrigger=m,m.scrubDuration(c),Se=0,u||(u=o.vars.id)),C&&((!ko(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in Je.style&&ue.set(ee?[Je,Gt]:T,{scrollBehavior:"auto"}),Ge.forEach(function(L){return Pt(L)&&L.target===(ee?nt.scrollingElement||Gt:T)&&(L.smooth=!1)}),B=Pt(C.snapTo)?C.snapTo:C.snapTo==="labels"?Ya(o):C.snapTo==="labelsDirectional"?Va(o):C.directional!==!1?function(L,we){return bi(C.snapTo)(L,Mt()-Ze<500?0:we.direction)}:ue.utils.snap(C.snapTo),ve=C.duration||{min:.1,max:2},ve=ko(ve)?Sn(ve.min,ve.max):Sn(ve,ve),Ye=ue.delayedCall(C.delay||Oe/2||.1,function(){var L=q(),we=Mt()-Ze<500,Z=V.tween;if((we||Math.abs(m.getVelocity())<10)&&!Z&&!As&&_e!==L){var I=(L-S)/Pe,K=o&&!G?o.totalProgress():I,pe=we?0:(K-$)/(Mt()-vn)*1e3||0,he=ue.utils.clamp(-I,1-I,$o(pe/2)*pe/.185),be=I+(C.inertia===!1?0:he),J,ge,ne=C,Ve=ne.onStart,le=ne.onInterrupt,Me=ne.onComplete;if(J=B(be,m),Cn(J)||(J=be),ge=Math.max(0,Math.round(S+J*Pe)),L<=O&&L>=S&&ge!==L){if(Z&&!Z._initted&&Z.data<=$o(ge-L))return;C.inertia===!1&&(he=J-I),V(ge,{duration:ve($o(Math.max($o(be-K),$o(J-K))*.185/pe/.05||0)),ease:C.ease||"power3",data:$o(ge-L),onInterrupt:function(){return Ye.restart(!0)&&le&&le(m)},onComplete:function(){m.update(),_e=q(),o&&!G&&(j?j.resetTo("totalProgress",J,o._tTime/o._tDur):o.progress(J)),Se=$=o&&!G?o.totalProgress():m.progress,x&&x(m),Me&&Me(m)}},L,he*Pe,ge-L-he*Pe),Ve&&Ve(m,V.tween)}}else m.isActive&&_e!==L&&Ye.restart(!0)}).pause()),u&&(ai[u]=m),p=m.trigger=zt(p||f!==!0&&f),ht=p&&p._gsap&&p._gsap.stRevert,ht&&(ht=ht(m)),f=f===!0?p:zt(f),jt(a)&&(a={targets:p,className:a}),f&&(d===!1||d===Zt||(d=!d&&f.parentNode&&f.parentNode.style&&qt(f.parentNode).display==="flex"?!1:pt),m.pin=f,N=ue.core.getCache(f),N.spacer?ot=N.pinState:(F&&(F=zt(F),F&&!F.nodeType&&(F=F.current||F.nativeElement),N.spacerIsNative=!!F,F&&(N.spacerState=ts(F))),N.spacer=Ke=F||nt.createElement("div"),Ke.classList.add("pin-spacer"),u&&Ke.classList.add("pin-spacer-"+u),N.pinState=ot=ts(f)),n.force3D!==!1&&ue.set(f,{force3D:!0}),m.spacer=Ke=N.spacer,Ee=qt(f),z=Ee[d+E.os2],tt=ue.getProperty(f),yt=ue.quickSetter(f,E.a,vt),Us(f,Ke,Ee),ct=ts(f)),ce){Le=ko(ce)?zi(ce,Ni):Ni,v=es("scroller-start",u,T,E,Le,0),ye=es("scroller-end",u,T,E,Le,0,v),_t=v["offset"+E.op.d2];var Ot=zt(Fo(T,"content")||T);Q=this.markerStart=es("start",u,Ot,E,Le,_t,0,w),fe=this.markerEnd=es("end",u,Ot,E,Le,_t,0,w),w&&(St=ue.quickSetter([Q,fe],E.a,vt)),!te&&!(co.length&&Fo(T,"fixedMarkers")===!0)&&(Ga(ee?Je:T),ue.set([v,ye],{force3D:!0}),re=ue.quickSetter(v,E.a,vt),de=ue.quickSetter(ye,E.a,vt))}if(w){var Ce=w.vars.onUpdate,H=w.vars.onUpdateParams;w.eventCallback("onUpdate",function(){m.update(0,0,1),Ce&&Ce.apply(w,H||[])})}if(m.previous=function(){return Ue[Ue.indexOf(m)-1]},m.next=function(){return Ue[Ue.indexOf(m)+1]},m.revert=function(L,we){if(!we)return m.kill(!0);var Z=L!==!1||!m.enabled,I=Tt;Z!==m.isReverted&&(Z&&(qe=Math.max(q(),m.scroll.rec||0),k=m.progress,We=o&&o.progress()),Q&&[Q,fe,v,ye].forEach(function(K){return K.style.display=Z?"none":"block"}),Z&&(Tt=m,m.update(Z)),f&&(!R||!m.isActive)&&(Z?$a(f,Ke,ot):Us(f,Ke,qt(f),X)),Z||m.update(Z),Tt=I,m.isReverted=Z)},m.refresh=function(L,we,Z,I){if(!((Tt||!m.enabled)&&!we)){if(f&&L&&Kt){wt(i,"scrollEnd",zr);return}!Lt&&Y&&Y(m),Tt=m,V.tween&&!Z&&(V.tween.kill(),V.tween=0),j&&j.pause(),D&&o&&o.revert({kill:!1}).invalidate(),m.isReverted||m.revert(!0,!0),m._subPinOffset=!1;var K=ae(),pe=ie(),he=w?w.duration():uo(T,E),be=Pe<=.01,J=0,ge=I||0,ne=ko(Z)?Z.end:n.end,Ve=n.endTrigger||p,le=ko(Z)?Z.start:n.start||(n.start===0||!p?0:f?"0 0":"0 100%"),Me=m.pinnedContainer=n.pinnedContainer&&zt(n.pinnedContainer,m),ze=p&&Math.max(0,Ue.indexOf(m))||0,Ie=ze,Ne,He,so,Po,Dt,at,Vt,hn,So,it,gt,Ft,mt;for(ce&&ko(Z)&&(Ft=ue.getProperty(v,E.p),mt=ue.getProperty(ye,E.p));Ie-- >0;)at=Ue[Ie],at.end||at.refresh(0,1)||(Tt=m),Vt=at.pin,Vt&&(Vt===p||Vt===f||Vt===Me)&&!at.isReverted&&(it||(it=[]),it.unshift(at),at.revert(!0,!0)),at!==Ue[Ie]&&(ze--,Ie--);for(Pt(le)&&(le=le(m)),le=ki(le,"start",m),S=Gi(le,p,K,E,q(),Q,v,m,pe,se,te,he,w,m._startClamp&&"_startClamp")||(f?-.001:0),Pt(ne)&&(ne=ne(m)),jt(ne)&&!ne.indexOf("+=")&&(~ne.indexOf(" ")?ne=(jt(le)?le.split(" ")[0]:"")+ne:(J=hs(ne.substr(2),K),ne=jt(le)?le:(w?ue.utils.mapRange(0,w.duration(),w.scrollTrigger.start,w.scrollTrigger.end,S):S)+J,Ve=p)),ne=ki(ne,"end",m),O=Math.max(S,Gi(ne||(Ve?"100% 0":he),Ve,K,E,q()+J,fe,ye,m,pe,se,te,he,w,m._endClamp&&"_endClamp"))||-.001,J=0,Ie=ze;Ie--;)at=Ue[Ie],Vt=at.pin,Vt&&at.start-at._pinPush<=S&&!w&&at.end>0&&(Ne=at.end-(m._startClamp?Math.max(0,at.start):at.start),(Vt===p&&at.start-at._pinPush<S||Vt===Me)&&isNaN(le)&&(J+=Ne*(1-at.progress)),Vt===f&&(ge+=Ne));if(S+=J,O+=J,m._startClamp&&(m._startClamp+=J),m._endClamp&&!Lt&&(m._endClamp=O||-.001,O=Math.min(O,uo(T,E))),Pe=O-S||(S-=.01)&&.001,be&&(k=ue.utils.clamp(0,1,ue.utils.normalize(S,O,qe))),m._pinPush=ge,Q&&J&&(Ne={},Ne[E.a]="+="+J,Me&&(Ne[E.p]="-="+q()),ue.set([Q,fe],Ne)),f&&!(ri&&m.end>=uo(T,E)))Ne=qt(f),Po=E===xt,so=q(),lt=parseFloat(tt(E.a))+ge,!he&&O>1&&(gt=(ee?nt.scrollingElement||Gt:T).style,gt={style:gt,value:gt["overflow"+E.a.toUpperCase()]},ee&&qt(Je)["overflow"+E.a.toUpperCase()]!=="scroll"&&(gt.style["overflow"+E.a.toUpperCase()]="scroll")),Us(f,Ke,Ne),ct=ts(f),He=fo(f,!0),hn=te&&To(T,Po?It:xt)(),d?(X=[d+E.os2,Pe+ge+vt],X.t=Ke,Ie=d===pt?Es(f,E)+Pe+ge:0,Ie&&(X.push(E.d,Ie+vt),Ke.style.flexBasis!=="auto"&&(Ke.style.flexBasis=Ie+vt)),sn(X),Me&&Ue.forEach(function(io){io.pin===Me&&io.vars.pinSpacing!==!1&&(io._subPinOffset=!0)}),te&&q(qe)):(Ie=Es(f,E),Ie&&Ke.style.flexBasis!=="auto"&&(Ke.style.flexBasis=Ie+vt)),te&&(Dt={top:He.top+(Po?so-S:hn)+vt,left:He.left+(Po?hn:so-S)+vt,boxSizing:"border-box",position:"fixed"},Dt[No]=Dt["max"+un]=Math.ceil(He.width)+vt,Dt[Ho]=Dt["max"+_i]=Math.ceil(He.height)+vt,Dt[Zt]=Dt[Zt+Bn]=Dt[Zt+An]=Dt[Zt+kn]=Dt[Zt+Rn]="0",Dt[pt]=Ne[pt],Dt[pt+Bn]=Ne[pt+Bn],Dt[pt+An]=Ne[pt+An],Dt[pt+kn]=Ne[pt+kn],Dt[pt+Rn]=Ne[pt+Rn],st=qa(ot,Dt,R),Lt&&q(0)),o?(So=o._initted,Is(1),o.render(o.duration(),!0,!0),Nt=tt(E.a)-lt+Pe+ge,me=Math.abs(Pe-Nt)>1,te&&me&&st.splice(st.length-2,2),o.render(0,!0,!0),So||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),Is(0)):Nt=Pe,gt&&(gt.value?gt.style["overflow"+E.a.toUpperCase()]=gt.value:gt.style.removeProperty("overflow-"+E.a));else if(p&&q()&&!w)for(He=p.parentNode;He&&He!==Je;)He._pinOffset&&(S-=He._pinOffset,O-=He._pinOffset),He=He.parentNode;it&&it.forEach(function(io){return io.revert(!1,!0)}),m.start=S,m.end=O,_=A=Lt?qe:q(),!w&&!Lt&&(_<qe&&q(qe),m.scroll.rec=0),m.revert(!1,!0),Ze=Mt(),Ye&&(_e=-1,Ye.restart(!0)),Tt=0,o&&G&&(o._initted||We)&&o.progress()!==We&&o.progress(We||0,!0).render(o.time(),!0,!0),(be||k!==m.progress||w||D||o&&!o._initted)&&(o&&!G&&o.totalProgress(w&&S<-.001&&!k?ue.utils.normalize(S,O,0):k,!0),m.progress=be||(_-S)/Pe===k?0:k),f&&d&&(Ke._pinOffset=Math.round(m.progress*Nt)),j&&j.invalidate(),isNaN(Ft)||(Ft-=ue.getProperty(v,E.p),mt-=ue.getProperty(ye,E.p),os(v,E,Ft),os(Q,E,Ft-(I||0)),os(ye,E,mt),os(fe,E,mt-(I||0))),be&&!Lt&&m.update(),h&&!Lt&&!xe&&(xe=!0,h(m),xe=!1)}},m.getVelocity=function(){return(q()-A)/(Mt()-vn)*1e3||0},m.endAnimation=function(){gn(m.callbackAnimation),o&&(j?j.progress(1):o.paused()?G||gn(o,m.direction<0,1):gn(o,o.reversed()))},m.labelToScroll=function(L){return o&&o.labels&&(S||m.refresh()||S)+o.labels[L]/o.duration()*Pe||0},m.getTrailing=function(L){var we=Ue.indexOf(m),Z=m.direction>0?Ue.slice(0,we).reverse():Ue.slice(we+1);return(jt(L)?Z.filter(function(I){return I.vars.preventOverlaps===L}):Z).filter(function(I){return m.direction>0?I.end<=S:I.start>=O})},m.update=function(L,we,Z){if(!(w&&!Z&&!L)){var I=Lt===!0?qe:m.scroll(),K=L?0:(I-S)/Pe,pe=K<0?0:K>1?1:K||0,he=m.progress,be,J,ge,ne,Ve,le,Me,ze;if(we&&(A=_,_=w?q():I,C&&($=Se,Se=o&&!G?o.totalProgress():pe)),g&&f&&!Tt&&!Zn&&Kt&&(!pe&&S<I+(I-A)/(Mt()-vn)*g?pe=1e-4:pe===1&&O>I+(I-A)/(Mt()-vn)*g&&(pe=.9999)),pe!==he&&m.enabled){if(be=m.isActive=!!pe&&pe<1,J=!!he&&he<1,le=be!==J,Ve=le||!!pe!=!!he,m.direction=pe>he?1:-1,m.progress=pe,Ve&&!Tt&&(ge=pe&&!he?0:pe===1?1:he===1?2:3,G&&(ne=!le&&W[ge+1]!=="none"&&W[ge+1]||W[ge],ze=o&&(ne==="complete"||ne==="reset"||ne in o))),P&&(le||ze)&&(ze||c||!o)&&(Pt(P)?P(m):m.getTrailing(P).forEach(function(so){return so.endAnimation()})),G||(j&&!Tt&&!Zn?(j._dp._time-j._start!==j._time&&j.render(j._dp._time-j._start),j.resetTo?j.resetTo("totalProgress",pe,o._tTime/o._tDur):(j.vars.totalProgress=pe,j.invalidate().restart())):o&&o.totalProgress(pe,!!(Tt&&(Ze||L)))),f){if(L&&d&&(Ke.style[d+E.os2]=z),!te)yt(yn(lt+Nt*pe));else if(Ve){if(Me=!L&&pe>he&&O+1>I&&I+1>=uo(T,E),R)if(!L&&(be||Me)){var Ie=fo(f,!0),Ne=I-S;Yi(f,Je,Ie.top+(E===xt?Ne:0)+vt,Ie.left+(E===xt?0:Ne)+vt)}else Yi(f,Ke);sn(be||Me?st:ct),me&&pe<1&&be||yt(lt+(pe===1&&!Me?Nt:0))}}C&&!V.tween&&!Tt&&!Zn&&Ye.restart(!0),a&&(le||b&&pe&&(pe<1||!Os))&&Un(a.targets).forEach(function(so){return so.classList[be||b?"add":"remove"](a.className)}),r&&!G&&!L&&r(m),Ve&&!Tt?(G&&(ze&&(ne==="complete"?o.pause().totalProgress(1):ne==="reset"?o.restart(!0).pause():ne==="restart"?o.restart(!0):o[ne]()),r&&r(m)),(le||!Os)&&(l&&le&&Ns(m,l),De[ge]&&Ns(m,De[ge]),b&&(pe===1?m.kill(!1,1):De[ge]=0),le||(ge=pe===1?1:3,De[ge]&&Ns(m,De[ge]))),U&&!be&&Math.abs(m.getVelocity())>(Cn(U)?U:2500)&&(gn(m.callbackAnimation),j?j.progress(1):gn(o,ne==="reverse"?1:!pe,1))):G&&r&&!Tt&&r(m)}if(de){var He=w?I/w.duration()*(w._caScrollDist||0):I;re(He+(v._isFlipped?1:0)),de(He)}St&&St(-I/w.duration()*(w._caScrollDist||0))}},m.enable=function(L,we){m.enabled||(m.enabled=!0,wt(T,"resize",wn),ee||wt(T,"scroll",Zo),Y&&wt(i,"refreshInit",Y),L!==!1&&(m.progress=k=0,_=A=_e=q()),we!==!1&&m.refresh())},m.getTween=function(L){return L&&V?V.tween:j},m.setPositions=function(L,we,Z,I){if(w){var K=w.scrollTrigger,pe=w.duration(),he=K.end-K.start;L=K.start+he*L/pe,we=K.start+he*we/pe}m.refresh(!1,!1,{start:Li(L,Z&&!!m._startClamp),end:Li(we,Z&&!!m._endClamp)},I),m.update()},m.adjustPinSpacing=function(L){if(X&&L){var we=X.indexOf(E.d)+1;X[we]=parseFloat(X[we])+L+vt,X[1]=parseFloat(X[1])+L+vt,sn(X)}},m.disable=function(L,we){if(m.enabled&&(L!==!1&&m.revert(!0,!0),m.enabled=m.isActive=!1,we||j&&j.pause(),qe=0,N&&(N.uncache=1),Y&&Ct(i,"refreshInit",Y),Ye&&(Ye.pause(),V.tween&&V.tween.kill()&&(V.tween=0)),!ee)){for(var Z=Ue.length;Z--;)if(Ue[Z].scroller===T&&Ue[Z]!==m)return;Ct(T,"resize",wn),ee||Ct(T,"scroll",Zo)}},m.kill=function(L,we){m.disable(L,we),j&&!we&&j.kill(),u&&delete ai[u];var Z=Ue.indexOf(m);Z>=0&&Ue.splice(Z,1),Z===kt&&gs>0&&kt--,Z=0,Ue.forEach(function(I){return I.scroller===m.scroller&&(Z=1)}),Z||Lt||(m.scroll.rec=0),o&&(o.scrollTrigger=null,L&&o.revert({kill:!1}),we||o.kill()),Q&&[Q,fe,v,ye].forEach(function(I){return I.parentNode&&I.parentNode.removeChild(I)}),Ln===m&&(Ln=0),f&&(N&&(N.uncache=1),Z=0,Ue.forEach(function(I){return I.pin===f&&Z++}),Z||(N.spacer=0)),n.onKill&&n.onKill(m)},Ue.push(m),m.enable(!1,!1),ht&&ht(m),o&&o.add&&!Pe){var Fe=m.update;m.update=function(){m.update=Fe,Ge.cache++,S||O||m.refresh()},ue.delayedCall(.01,m.update),Pe=.01,S=O=0}else m.refresh();f&&Xa()},i.register=function(n){return qo||(ue=n||Rr(),Ar()&&window.document&&i.enable(),qo=xn),qo},i.defaults=function(n){if(n)for(var o in n)Kn[o]=n[o];return Kn},i.disable=function(n,o){xn=0,Ue.forEach(function(r){return r[o?"kill":"disable"](n)}),Ct(je,"wheel",Zo),Ct(nt,"scroll",Zo),clearInterval($n),Ct(nt,"touchcancel",ao),Ct(Je,"touchstart",ao),Qn(Ct,nt,"pointerdown,touchstart,mousedown",Ii),Qn(Ct,nt,"pointerup,touchend,mouseup",Oi),_s.kill(),qn(Ct);for(var s=0;s<Ge.length;s+=3)Jn(Ct,Ge[s],Ge[s+1]),Jn(Ct,Ge[s],Ge[s+2])},i.enable=function(){if(je=window,nt=document,Gt=nt.documentElement,Je=nt.body,ue&&(Un=ue.utils.toArray,Sn=ue.utils.clamp,ii=ue.core.context||ao,Is=ue.core.suppressOverwrites||ao,xi=je.history.scrollRestoration||"auto",li=je.pageYOffset||0,ue.core.globals("ScrollTrigger",i),Je)){xn=1,nn=document.createElement("div"),nn.style.height="100vh",nn.style.position="absolute",Ur(),Ha(),ut.register(ue),i.isTouch=ut.isTouch,Co=ut.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),si=ut.isTouch===1,wt(je,"wheel",Zo),vi=[je,nt,Gt,Je],ue.matchMedia?(i.matchMedia=function(l){var h=ue.matchMedia(),c;for(c in l)h.add(c,l[c]);return h},ue.addEventListener("matchMediaInit",function(){return Ei()}),ue.addEventListener("matchMediaRevert",function(){return Nr()}),ue.addEventListener("matchMedia",function(){Io(0,1),Wo("matchMedia")}),ue.matchMedia().add("(orientation: portrait)",function(){return Hs(),Hs})):console.warn("Requires GSAP 3.11.0 or later"),Hs(),wt(nt,"scroll",Zo);var n=Je.hasAttribute("style"),o=Je.style,s=o.borderTopStyle,r=ue.core.Animation.prototype,a,u;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",a=fo(Je),xt.m=Math.round(a.top+xt.sc())||0,It.m=Math.round(a.left+It.sc())||0,s?o.borderTopStyle=s:o.removeProperty("border-top-style"),n||(Je.setAttribute("style",""),Je.removeAttribute("style")),$n=setInterval(Hi,250),ue.delayedCall(.5,function(){return Zn=0}),wt(nt,"touchcancel",ao),wt(Je,"touchstart",ao),Qn(wt,nt,"pointerdown,touchstart,mousedown",Ii),Qn(wt,nt,"pointerup,touchend,mouseup",Oi),ni=ue.utils.checkPrefix("transform"),ms.push(ni),qo=Mt(),_s=ue.delayedCall(.2,Io).pause(),Qo=[nt,"visibilitychange",function(){var l=je.innerWidth,h=je.innerHeight;nt.hidden?(Ri=l,Bi=h):(Ri!==l||Bi!==h)&&wn()},nt,"DOMContentLoaded",Io,je,"load",Io,je,"resize",wn],qn(wt),Ue.forEach(function(l){return l.enable(0,1)}),u=0;u<Ge.length;u+=3)Jn(Ct,Ge[u],Ge[u+1]),Jn(Ct,Ge[u],Ge[u+2])}},i.config=function(n){"limitCallbacks"in n&&(Os=!!n.limitCallbacks);var o=n.syncInterval;o&&clearInterval($n)||($n=o)&&setInterval(Hi,o),"ignoreMobileResize"in n&&(si=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(qn(Ct)||qn(wt,n.autoRefreshEvents||"none"),Mr=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,o){var s=zt(n),r=Ge.indexOf(s),a=Yo(s);~r&&Ge.splice(r,a?6:2),o&&(a?co.unshift(je,o,Je,o,Gt,o):co.unshift(s,o))},i.clearMatchMedia=function(n){Ue.forEach(function(o){return o._ctx&&o._ctx.query===n&&o._ctx.kill(!0,!0)})},i.isInViewport=function(n,o,s){var r=(jt(n)?zt(n):n).getBoundingClientRect(),a=r[s?No:Ho]*o||0;return s?r.right-a>0&&r.left+a<je.innerWidth:r.bottom-a>0&&r.top+a<je.innerHeight},i.positionInViewport=function(n,o,s){jt(n)&&(n=zt(n));var r=n.getBoundingClientRect(),a=r[s?No:Ho],u=o==null?a/2:o in Fs?Fs[o]*a:~o.indexOf("%")?parseFloat(o)*a/100:parseFloat(o)||0;return s?(r.left+u)/je.innerWidth:(r.top+u)/je.innerHeight},i.killAll=function(n){if(Ue.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var o=Vo.killAll||[];Vo={},o.forEach(function(s){return s()})}},i}();ke.version="3.12.7";ke.saveStyles=function(i){return i?Un(i).forEach(function(e){if(e&&e.style){var t=Ut.indexOf(e);t>=0&&Ut.splice(t,5),Ut.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ue.core.getCache(e),ii())}}):Ut};ke.revert=function(i,e){return Ei(!i,e)};ke.create=function(i,e){return new ke(i,e)};ke.refresh=function(i){return i?wn(!0):(qo||ke.register())&&Io(!0)};ke.update=function(i){return++Ge.cache&&mo(i===!0?2:0)};ke.clearScrollMemory=Hr;ke.maxScroll=function(i,e){return uo(i,e?It:xt)};ke.getScrollFunc=function(i,e){return To(zt(i),e?It:xt)};ke.getById=function(i){return ai[i]};ke.getAll=function(){return Ue.filter(function(i){return i.vars.id!=="ScrollSmoother"})};ke.isScrolling=function(){return!!Kt};ke.snapDirectional=bi;ke.addEventListener=function(i,e){var t=Vo[i]||(Vo[i]=[]);~t.indexOf(e)||t.push(e)};ke.removeEventListener=function(i,e){var t=Vo[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};ke.batch=function(i,e){var t=[],n={},o=e.interval||.016,s=e.batchMax||1e9,r=function(l,h){var c=[],p=[],f=ue.delayedCall(o,function(){h(c,p),c=[],p=[]}).pause();return function(d){c.length||f.restart(!0),c.push(d.trigger),p.push(d),s<=c.length&&f.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&Pt(e[a])&&a!=="onRefreshInit"?r(a,e[a]):e[a];return Pt(s)&&(s=s(),wt(ke,"refresh",function(){return s=e.batchMax()})),Un(i).forEach(function(u){var l={};for(a in n)l[a]=n[a];l.trigger=u,t.push(ke.create(l))}),t};var Wi=function(e,t,n,o){return t>o?e(o):t<0&&e(0),n>o?(o-t)/(n-t):n<0?t/(t-n):1},js=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(ut.isTouch?" pinch-zoom":""):"none",e===Gt&&i(Je,t)},ns={auto:1,scroll:1},Ja=function(e){var t=e.event,n=e.target,o=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,r=s._gsap||ue.core.getCache(s),a=Mt(),u;if(!r._isScrollT||a-r._isScrollT>2e3){for(;s&&s!==Je&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(ns[(u=qt(s)).overflowY]||ns[u.overflowX]));)s=s.parentNode;r._isScroll=s&&s!==n&&!Yo(s)&&(ns[(u=qt(s)).overflowY]||ns[u.overflowX]),r._isScrollT=a}(r._isScroll||o==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},Gr=function(e,t,n,o){return ut.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:o=o&&Ja,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return n&&wt(nt,ut.eventTypes[0],$i,!1,!0)},onDisable:function(){return Ct(nt,ut.eventTypes[0],$i,!0)}})},Ka=/(input|label|select|textarea)/i,Xi,$i=function(e){var t=Ka.test(e.target.tagName);(t||Xi)&&(e._gsapAllow=!0,Xi=t)},el=function(e){ko(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,o=t.momentum,s=t.allowNestedScroll,r=t.onRelease,a,u,l=zt(e.target)||Gt,h=ue.core.globals().ScrollSmoother,c=h&&h.get(),p=Co&&(e.content&&zt(e.content)||c&&e.content!==!1&&!c.smooth()&&c.content()),f=To(l,xt),d=To(l,It),D=1,g=(ut.isTouch&&je.visualViewport?je.visualViewport.scale*je.visualViewport.width:je.outerWidth)/je.innerWidth,y=0,x=Pt(o)?function(){return o(a)}:function(){return o||2.8},b,C,R=Gr(l,e.type,!0,s),F=function(){return C=!1},w=ao,U=ao,P=function(){u=uo(l,xt),U=Sn(Co?1:0,u),n&&(w=Sn(0,uo(l,It))),b=Uo},E=function(){p._gsap.y=yn(parseFloat(p._gsap.y)+f.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},G=function(){if(C){requestAnimationFrame(F);var ce=yn(a.deltaY/2),se=U(f.v-ce);if(p&&se!==f.v+f.offset){f.offset=se-f.v;var m=yn((parseFloat(p&&p._gsap.y)||0)-f.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+m+", 0, 1)",p._gsap.y=m+"px",f.cacheID=Ge.cache,mo()}return!0}f.offset&&E(),C=!0},T,M,ee,te,De=function(){P(),T.isActive()&&T.vars.scrollY>u&&(f()>u?T.progress(1)&&f(u):T.resetTo("scrollY",u))};return p&&ue.set(p,{y:"+=0"}),e.ignoreCheck=function(W){return Co&&W.type==="touchmove"&&G()||D>1.05&&W.type!=="touchstart"||a.isGesturing||W.touches&&W.touches.length>1},e.onPress=function(){C=!1;var W=D;D=yn((je.visualViewport&&je.visualViewport.scale||1)/g),T.pause(),W!==D&&js(l,D>1.01?!0:n?!1:"x"),M=d(),ee=f(),P(),b=Uo},e.onRelease=e.onGestureStart=function(W,ce){if(f.offset&&E(),!ce)te.restart(!0);else{Ge.cache++;var se=x(),m,Y;n&&(m=d(),Y=m+se*.05*-W.velocityX/.227,se*=Wi(d,m,Y,uo(l,It)),T.vars.scrollX=w(Y)),m=f(),Y=m+se*.05*-W.velocityY/.227,se*=Wi(f,m,Y,uo(l,xt)),T.vars.scrollY=U(Y),T.invalidate().duration(se).play(.01),(Co&&T.vars.scrollY>=u||m>=u-1)&&ue.to({},{onUpdate:De,duration:se})}r&&r(W)},e.onWheel=function(){T._ts&&T.pause(),Mt()-y>1e3&&(b=0,y=Mt())},e.onChange=function(W,ce,se,m,Y){if(Uo!==b&&P(),ce&&n&&d(w(m[2]===ce?M+(W.startX-W.x):d()+ce-m[1])),se){f.offset&&E();var ae=Y[2]===se,ie=ae?ee+W.startY-W.y:f()+se-Y[1],_e=U(ie);ae&&ie!==_e&&(ee+=_e-ie),f(_e)}(se||ce)&&mo()},e.onEnable=function(){js(l,n?!1:"x"),ke.addEventListener("refresh",De),wt(je,"resize",De),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=d.smooth=!1),R.enable()},e.onDisable=function(){js(l,!0),Ct(je,"resize",De),ke.removeEventListener("refresh",De),R.kill()},e.lockAxis=e.lockAxis!==!1,a=new ut(e),a.iOS=Co,Co&&!f()&&f(1),Co&&ue.ticker.add(ao),te=a._dc,T=ue.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:jr(f,f(),function(){return T.pause()})},onUpdate:mo,onComplete:te.vars.onComplete}),a};ke.sort=function(i){if(Pt(i))return Ue.sort(i);var e=je.pageYOffset||0;return ke.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+je.innerHeight}),Ue.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};ke.observe=function(i){return new ut(i)};ke.normalizeScroll=function(i){if(typeof i>"u")return Bt;if(i===!0&&Bt)return Bt.enable();if(i===!1){Bt&&Bt.kill(),Bt=i;return}var e=i instanceof ut?i:el(i);return Bt&&Bt.target===e.target&&Bt.kill(),Yo(e.target)&&(Bt=e),e};ke.core={_getVelocityProp:oi,_inputObserver:Gr,_scrollers:Ge,_proxies:co,bridge:{ss:function(){Kt||Wo("scrollStart"),Kt=Mt()},ref:function(){return Tt}}};Rr()&&ue.registerPlugin(ke);var In=function(){var i=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(h){h.preventDefault(),n(++i%e.children.length)},!1);function t(h){return e.appendChild(h.dom),h}function n(h){for(var c=0;c<e.children.length;c++)e.children[c].style.display=c===h?"block":"none";i=h}var o=(performance||Date).now(),s=o,r=0,a=t(new In.Panel("FPS","#0ff","#002")),u=t(new In.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new In.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){r++;var h=(performance||Date).now();if(u.update(h-o,200),h>=s+1e3&&(a.update(r*1e3/(h-s),100),s=h,r=0,l)){var c=performance.memory;l.update(c.usedJSHeapSize/1048576,c.jsHeapSizeLimit/1048576)}return h},update:function(){o=this.end()},domElement:e,setMode:n}};In.Panel=function(i,e,t){var n=1/0,o=0,s=Math.round,r=s(window.devicePixelRatio||1),a=80*r,u=48*r,l=3*r,h=2*r,c=3*r,p=15*r,f=74*r,d=30*r,D=document.createElement("canvas");D.width=a,D.height=u,D.style.cssText="width:80px;height:48px";var g=D.getContext("2d");return g.font="bold "+9*r+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=t,g.fillRect(0,0,a,u),g.fillStyle=e,g.fillText(i,l,h),g.fillRect(c,p,f,d),g.fillStyle=t,g.globalAlpha=.9,g.fillRect(c,p,f,d),{dom:D,update:function(y,x){n=Math.min(n,y),o=Math.max(o,y),g.fillStyle=t,g.globalAlpha=1,g.fillRect(0,0,a,p),g.fillStyle=e,g.fillText(s(y)+" "+i+" ("+s(n)+"-"+s(o)+")",l,h),g.drawImage(D,c+r,p,f-r,d,c,p,f-r,d),g.fillRect(c+f-r,p,r,d),g.fillStyle=t,g.globalAlpha=.9,g.fillRect(c+f-r,p,r,s((1-y/x)*d))}}};const Yr={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Yn{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const tl=new ma(-1,1,1,-1,0,1);class ol extends go{constructor(){super(),this.setAttribute("position",new wo([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new wo([0,2,0,0,2,0],2))}}const nl=new ol;class Vr{constructor(e){this._mesh=new Be(nl,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,tl)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class sl extends Yn{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Lo?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Qs.clone(e.uniforms),this.material=new Lo({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Vr(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Zi extends Yn{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let r,a;this.inverse?(r=0,a=1):(r=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class il extends Yn{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class rl{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const n=e.getSize(new Xt);this._width=n.width,this._height=n.height,t=new us(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:cs}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new sl(Yr),this.copyPass.material.blending=va,this.clock=new xa}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let o=0,s=this.passes.length;o<s;o++){const r=this.passes[o];if(r.enabled!==!1){if(r.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),r.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),r.needsSwap){if(n){const a=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}Zi!==void 0&&(r instanceof Zi?n=!0:r instanceof il&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Xt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(n,o),this.renderTarget2.setSize(n,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(n,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class al extends Yn{constructor(e,t,n=null,o=null,s=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new bt}render(e,t,n){const o=e.autoClear;e.autoClear=!1;let s,r;this.overrideMaterial!==null&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=r),e.autoClear=o}}const ll={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new bt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Xo extends Yn{constructor(e,t,n,o){super(),this.strength=t!==void 0?t:1,this.radius=n,this.threshold=o,this.resolution=e!==void 0?new Xt(e.x,e.y):new Xt(256,256),this.clearColor=new bt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);this.renderTargetBright=new us(s,r,{type:cs}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const p=new us(s,r,{type:cs});p.texture.name="UnrealBloomPass.h"+c,p.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(p);const f=new us(s,r,{type:cs});f.texture.name="UnrealBloomPass.v"+c,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),s=Math.round(s/2),r=Math.round(r/2)}const a=ll;this.highPassUniforms=Qs.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Lo({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const u=[3,5,7,9,11];s=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(u[c])),this.separableBlurMaterials[c].uniforms.invSize.value=new Xt(1/s,1/r),s=Math.round(s/2),r=Math.round(r/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new Te(1,1,1),new Te(1,1,1),new Te(1,1,1),new Te(1,1,1),new Te(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const h=Yr;this.copyUniforms=Qs.clone(h.uniforms),this.blendMaterial=new Lo({uniforms:this.copyUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:lo,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new bt,this.oldClearAlpha=1,this.basic=new ft,this.fsQuad=new Vr(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let n=Math.round(e/2),o=Math.round(t/2);this.renderTargetBright.setSize(n,o);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(n,o),this.renderTargetsVertical[s].setSize(n,o),this.separableBlurMaterials[s].uniforms.invSize.value=new Xt(1/n,1/o),n=Math.round(n/2),o=Math.round(o/2)}render(e,t,n,o,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[u].uniforms.direction.value=Xo.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=Xo.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}getSeparableBlurMaterial(e){const t=[];for(let n=0;n<e;n++)t.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new Lo({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Xt(.5,.5)},direction:{value:new Xt(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Lo({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Xo.BlurDirectionX=new Xt(1,0);Xo.BlurDirectionY=new Xt(0,1);function ul(i,e,t,n){vo();const{CUBE_SIZE:o,FIRST_CUBE_Z:s}=t,r=8,a=24,u=.075;let l,h=[],c=[],p=[],f=[];const d=(g,y,x,b)=>{const C=new ln(g,g,g),R=new zo(C),F=[new dt({color:16711680,transparent:!0,opacity:b.opacity,blending:lo}),new dt({color:65280,transparent:!0,opacity:b.opacity,blending:lo}),new dt({color:255,transparent:!0,opacity:b.opacity,blending:lo}),new dt({color:65535,transparent:!0,opacity:b.opacity,blending:lo}),new dt({color:16711935,transparent:!0,opacity:b.opacity,blending:lo}),new dt({color:16776960,transparent:!0,opacity:b.opacity,blending:lo})],w=new $t,U=R.getAttribute("position").array,P=[];for(let T=0;T<U.length/3;T+=2)P.push(T,T+1);const E=Array(6).fill(null).map(()=>new go),G=Array(6).fill(null).map(()=>[]);for(let T=0;T<P.length/2;T++){const M=T%6;G[M].push(P[T*2],P[T*2+1])}return E.forEach((T,M)=>{T.setIndex(G[M]),T.setAttribute("position",R.getAttribute("position"));const ee=new rt(T,F[M]);w.add(ee)}),w.position.z=y,w.rotation.z=x,w};return(()=>{const x=.9/(a-1);for(let P=0;P<a;P++)c[P]=new dt({transparent:!0,opacity:1-P*x});if(l=new $t,!l){console.error("introGroup failed to initialize");return}for(let P=0;P<a;P++){const E=o-P*r,G=d(E,0,0,c[P]),T=G.children.map(M=>M.material);f.push(T.map(M=>({material:M,originalColor:M.color.clone()}))),l.add(G)}l.position.z=s,i.add(l),h.push(l),p=c.map(P=>P.opacity);const b=oe.timeline({repeat:-1});b.to(l.rotation,{x:Ae.degToRad(360),duration:12,ease:"none"},0),b.to(l.rotation,{y:Ae.degToRad(360),duration:10,ease:"none"},0),b.to(l.rotation,{z:Ae.degToRad(360),duration:14,ease:"none"},0);let C=-1,R=0;const F=u*1e3,w=a*F,U=P=>{const E=P%w/F,G=Math.floor(E)%a;C!==-1&&P-R>=F&&(f[C].forEach(ee=>{ee.material.opacity=p[C],ee.material.color.copy(ee.originalColor)}),C=-1),C===-1&&G!==C&&(C=G,R=P,f[C].forEach(M=>{M.material.opacity=1,M.material.color.set(1,1,1)})),requestAnimationFrame(U)};requestAnimationFrame(U)})(),{introCubes:h}}class Gs extends ya{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const o=n.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(o,t)}this.type="TextGeometry"}}function cl(i,e,t,n,o,s,r,a){const u=vo(),l=Mo(),{CUBE_SIZE:h,CUBE_SPACING:c,FIRST_CUBE_Z:p}=e,f=p-(t.length+1)*c,d=65535,D=16711935,g=(d>>16&255)/255,y=(d>>8&255)/255,x=(d&255)/255,b=(D>>16&255)/255,C=(D>>8&255)/255,R=(D&255)/255,F=Ae.degToRad(15),w=1e3,U=.5,P=65280,E=80,G=1,T=15,M=.1,ee="ENTER TO LEARN MORE",te=u.isMobile?1:.5,De=40,W=.125,ce=100,se=8,m=u.isMobile?2.5:2,Y=u.isMobile?4:3.5,ae=1;let ie=[];ie.length=0;let _e=[],Ze=!1,k=new Ca,q=new Xt,V=null,N=null,B=null,_=!1,A=null,S=[];const O=new Map,Q=new Map,fe=new Map,v=(z,X,re,me,de,Ee,Se)=>{const $=new $t;$.name="group",$.position.z=re,$.rotation.z=me,$.userData.isActive=!1,$.userData.cubeIndex=Se;const j=new ln(X,X,X),Oe=new zo(j),ve=new dt({color:new bt(d),transparent:!0,opacity:0}),Ye=new rt(Oe,ve);Ye.geometry.computeBoundingSphere(),$.add(Ye);let qe="right";const We=X/2,St=()=>{const H=u.isMobile?2:1,Fe=25*H,L=40*H,we=new Mi(L,75),Z=new zo(we),I=new dt({color:new bt(d),transparent:!0,opacity:0,visible:!0}),K=new rt(Z,I);K.name="portal",K.userData.isPortal=!0,K.userData.isAnimating=!1,K.geometry.computeBoundingSphere();const pe=80*H,he=new yo(pe,pe),be=new ft({visible:!1,side:eo}),J=new Be(he,be);J.userData.isPortalHitbox=!0,J.userData.portal=K,J.geometry.computeBoundingSphere();const ge=new $t,ne=G*H,Ve=T*H,le=new yo(ne,Ve),Me=(Fe+L)/2;for(let it=0;it<E;it++){const gt=new ft({color:new bt(D),transparent:!0,opacity:0,visible:!1,side:eo}),Ft=new Be(le,gt),mt=it/E*Math.PI*2;Ft.position.set(Math.cos(mt)*Me,Math.sin(mt)*Me,0),Ft.rotation.z=mt+Math.PI/2,Ft.userData.baseOpacity=.01,Ft.userData.index=it,Ft.geometry.computeBoundingSphere(),ge.add(Ft)}K.userData.pulsesGroup=ge;const ze=2*H,Ie=25;for(let it=1;it<Ie;it++){const gt=new Mi(L,75),Ft=new zo(gt),mt=Ae.lerp(.125,.1,it/(Ie-1)),io=new dt({color:new bt(d),transparent:!0,opacity:0}),ro=new rt(Ft,io);ro.userData.isPortal=!0,ro.userData.maxOpacity=mt,ro.position.z=-it*ze,ro.geometry.computeBoundingSphere(),K.add(ro)}K.userData.maxOpacity=.125;let Ne=null;if(a.value){const it=3*H,gt=new Gs(ee,{font:a.value,size:it,depth:0,curveSegments:4,bevelEnabled:!1});gt.computeBoundingBox(),gt.center();const Ft=new ft({color:16777215,transparent:!0,opacity:0,side:eo}),mt=new Be(gt,Ft);mt.visible=!1,mt.userData.isVisible=!1,mt.userData.isExploreText=!0,mt.userData.skipTextMeshes=!0;const io=-45*H;mt.position.set(0,io,0),mt.name="textMesh",K.add(mt),K.userData.exploreText=mt;const ro=gt.boundingBox,la=(ro.max.x-ro.min.x+10)*H,ua=(ro.max.y-ro.min.y+10)*H,ca=new yo(la,ua),fa=new ft({transparent:!0,opacity:0,side:eo,visible:!1});Ne=new Be(ca,fa),Ne.position.set(0,io,0),Ne.userData.isExploreTextHitbox=!0,Ne.userData.portal=K,Ne.geometry.computeBoundingSphere(),Ne.name="textHitbox",K.add(Ne),K.userData.exploreTextHitbox=Ne;const pa=5,Bs=new Gs(z.title,{font:a.value,size:pa,depth:0,curveSegments:4,bevelEnabled:!1});Bs.computeBoundingBox(),Bs.center();const da=new ft({color:16777215,transparent:!0,opacity:0,side:eo}),Ao=new Be(Bs,da);Ao.visible=!1,Ao.userData.isVisible=!1,Ao.userData.isTitleText=!0,Ao.userData.skipTextMeshes=!0;const ha=u.isMobile?u.orientation==="portrait"?100:106:60;Ao.position.set(0,ha,0),K.add(Ao),K.userData.titleText=Ao}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const He=new $t;He.name="closeGroup",He.position.set(u.isMobile?L-10:L,L,2);const so=new yo(12,u.isMobile?1:.5),Po=new ft({color:16777215,transparent:!0,opacity:0,side:eo}),Dt=new Be(so,Po);Dt.rotation.z=Math.PI/4;const at=new Be(so,Po);at.rotation.z=-Math.PI/4,He.add(Dt,at);const Vt=new yo(15*H,15*H),hn=new ft({side:eo,visible:!1}),So=new Be(Vt,hn);switch(So.userData.isCloseHitbox=!0,So.geometry.computeBoundingSphere(),So.renderOrder=2,He.add(So),qe){case"left":K.position.set(-We,0,0),K.rotation.y=Math.PI/2,J.position.set(-We,0,0),J.rotation.y=Math.PI/2,me>=Ae.degToRad(120)&&(K.rotation.z=Math.PI),ge.children.forEach(it=>it.position.x+=M);break;case"top":K.position.set(0,-We,0),K.rotation.x=-Math.PI/2,K.rotation.z=-Math.PI/2,J.position.set(0,-We,0),J.rotation.x=Math.PI/2,me>=Ae.degToRad(100)&&me>=Ae.degToRad(180)&&(K.rotation.z=Math.PI/2),ge.children.forEach(it=>it.position.y+=M);break;case"right":K.position.set(We,0,0),K.rotation.y=-Math.PI/2,J.position.set(We,0,0),J.rotation.y=-Math.PI/2,me>=Ae.degToRad(120)&&(K.rotation.z=Math.PI),ge.children.forEach(it=>it.position.x+=M);break;case"bottom":K.position.set(0,We,0),K.rotation.x=Math.PI/2,K.rotation.z=-Math.PI/2,J.position.set(0,We,0),J.rotation.x=Math.PI/2,ge.children.forEach(it=>it.position.y+=M);break}K.add(He),K.userData.closeButton=He,He.updateMatrixWorld(!0),K.add(ge),$.add(K),$.add(J),$.userData.closeButton=He,K.updateMatrixWorld(!0),ge.updateMatrixWorld(!0),He.updateMatrixWorld(!0),O.set($,[]),Q.set($,0),fe.set($,0)},ht=H=>{(H instanceof rt||H instanceof Be)&&H.geometry&&H.geometry.computeBoundingSphere(),$.add(H)};if(de&&s.showKeyarts){switch(["left","top","right","bottom"].includes(Ee)?Ee:"left"){case"left":qe="right";break;case"top":qe="bottom";break;case"right":qe="left";break;case"bottom":qe="top";break}const Fe=r.get(de);if(Fe){const L=new yo(X-1,X-1),we=new ft({map:Fe,transparent:!0,opacity:0,blending:lo,side:eo}),Z=new Be(L,we);switch(Z.userData.isLoaded=!0,Ee){case"left":Z.position.set(-We,0,0),me>=Ae.degToRad(120)?(Z.rotation.y=Math.PI/2,Z.rotation.z=-Math.PI,$.userData.flipped=!0):Z.rotation.y=Math.PI/2;break;case"top":Z.position.set(0,-We,0),Z.rotation.x=-Math.PI/2,Z.rotation.z=-Math.PI/2;break;case"right":Z.position.set(We,0,0),me>=Ae.degToRad(120)?(Z.rotation.y=-Math.PI/2,Z.rotation.z=-Math.PI,$.userData.flipped=!0):Z.rotation.y=-Math.PI/2;break;case"bottom":Z.position.set(0,We,0),me>=Ae.degToRad(180)?me>=Ae.degToRad(220)?(Z.rotation.x=Math.PI/2,Z.rotation.z=Math.PI/2,$.userData.flipped=!0):(Z.rotation.x=-Math.PI/2,Z.rotation.z=Math.PI/2,$.userData.flipped=!0):(Z.rotation.x=Math.PI/2,Z.rotation.z=-Math.PI/2);break}Z.geometry.computeBoundingSphere(),ht(Z),St()}else console.warn(`Keyart texture not preloaded for ${z.title}: ${de}`),St()}else St();$.userData.portalLocation=qe;{const H=(pe,he,be,J)=>{const ge=new yo(X-1,X-1),ne={map:pe,transparent:!0,opacity:0,blending:lo,side:eo,depthWrite:!1};J&&(ne.color=J);const Ve=new ft(ne),le=new Be(ge,Ve);le.position.copy(he),be.x&&(le.rotation.x=be.x),be.y&&(le.rotation.y=be.y),le.userData.isGridPlane=!0,le.geometry.computeBoundingSphere(),ht(le)},Fe=r.get(n),L=r.get(o),we=["left","top","right","bottom"],I=[de&&s.showKeyarts?Ee||"left":null,qe].filter(Boolean),K=we.filter(pe=>!I.includes(pe));if(Fe)switch(H(Fe,new Te(0,0,-X/2-1),{y:0}),H(Fe,new Te(0,0,X/2+1),{y:0},new bt(16744448)),K[0]){case"left":H(Fe,new Te(-We,0,0),{y:-Math.PI/2},new bt(255));break;case"top":H(Fe,new Te(0,We,0),{x:Math.PI/2},new bt(255));break;case"right":H(Fe,new Te(We,0,0),{y:Math.PI/2},new bt(255));break;case"bottom":H(Fe,new Te(0,-We,0),{x:-Math.PI/2},new bt(255));break}else console.warn(`Grid texture not preloaded: ${n}`);if(L)switch(K[1]){case"left":H(L,new Te(-We,0,0),{y:-Math.PI/2});break;case"top":H(L,new Te(0,We,0),{x:Math.PI/2});break;case"right":H(L,new Te(We,0,0),{y:Math.PI/2});break;case"bottom":H(L,new Te(0,-We,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}$.children.forEach(H=>{H.updateMatrixWorld(!0),H instanceof $t&&H.children.forEach(Fe=>{Fe.updateMatrixWorld(!0)})}),$.updateMatrixWorld(!0);const Ot=new Cs().setFromObject($),Ce=new mr;return Ot.getBoundingSphere(Ce),$.boundingSphere=Ce,$},ye=new Dr,Le=(z,X,re,me,de)=>{if(!a.value){console.warn("Font not available; skipping text creation for:",z);const Ot=new go,Ce=new ft({visible:!1});return new Be(Ot,Ce)}const Ee=new Gs(z,{font:a.value,size:de,depth:0,curveSegments:4,bevelEnabled:!1});Ee.computeBoundingBox(),Ee.center();const Se=new ft({color:16777215,transparent:!0,opacity:0,side:eo}),$=new Be(Ee,Se);$.position.set(X,re,me);const j=Ee.boundingBox,Oe=j.max.x-j.min.x,ve=j.max.y-j.min.y,Ye=Oe+8,qe=ve+4,We=new yo(Ye,qe),St=new ft({color:0,transparent:!0,opacity:0,side:eo}),ht=new Be(We,St);return ht.position.set(X,re,me-1),i.add(ht),i.add($),$.userData.backgroundPlane=ht,$},xe=()=>{const z=Array.isArray(t)?t:[];Array.isArray(t)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",t);let X=0;z.forEach((re,me)=>{const de=p-(me+1)*c,Ee=(me+1)*F,Se=v(re,h,de,Ee,re.keyart,re.keyartLocation,X);i.add(Se),ie.push(Se),X++,Le(re.title,0,re.size-15,p+90-(me+1)*c,re.size)}),i.traverse(re=>{var me;re instanceof Be&&((me=re.geometry)==null?void 0:me.type)==="TextGeometry"&&!re.userData.skipTextMeshes&&_e.push(re)})},Pe=()=>Ze?Promise.resolve({projectCubes:ie,updateCubeColors:_t,maxZ:f,cubeMetadata:S}):(xe(),Ze=!0,S=ie.map(z=>({index:z.userData.cubeIndex,rotation:Ae.radToDeg(z.rotation.z),flipped:z.userData.flipped})),l.setCubeMetadata(S),Promise.resolve({projectCubes:ie,updateCubeColors:_t,maxZ:f,cubeMetadata:S})),ot=z=>{if(z.userData.isAnimating)return;z.userData.isAnimating=!0;const X=z.userData.pulsesGroup;if(!X){console.warn("Pulses group not found in portal.userData");return}const re=X.children,me=re.length,de=oe.timeline({repeat:-1,defaults:{ease:"none"}}),Ee={value:0};de.to(Ee,{value:1,duration:1.5,onUpdate:()=>{re.forEach($=>{const j=$.material;if(j.visible){const Oe=($.userData.index/me+Ee.value)%1,Ye=(Math.sin(Oe*Math.PI*2)+1)/2;j.opacity=.01+(1-.01)*Math.pow(Ye,4)}})}}),z.userData.animationTimeline=de},st=z=>{if(!z.userData.isAnimating)return;z.userData.isAnimating=!1;const X=z.userData.pulsesGroup;if(!X){console.warn("Pulses group not found in portal.userData");return}z.userData.animationTimeline&&(z.userData.animationTimeline.kill(),delete z.userData.animationTimeline),X.children.forEach(re=>{const me=re.material;me.opacity=0})},ct=(z,X)=>{let re;const me=(fe.get(z)||0)+1;fe.set(z,me),me%se===0?re=new gr(m,Y,12,1):re=new ln(te,te,te);const de=new ft({color:16777215,transparent:!0,opacity:0}),Ee=new Be(re,de);Ee.position.set(0,0,0);const Se=X.position.clone(),$=Se.clone().normalize(),j=Se.length()+ce;if(me%se===0){const ve=Ee.position.clone().add($);Ee.lookAt(ve),Ee.rotateX(Math.PI/2)}z.add(Ee),oe.to(de,{opacity:.5,duration:ae,ease:"power2.in",overwrite:"auto"});const Oe=O.get(z)||[];Oe.push({mesh:Ee,direction:$,distanceTraveled:0,totalDistance:j}),O.set(z,Oe)},Ke=z=>{(O.get(z)||[]).forEach(re=>{z.remove(re.mesh),re.mesh.geometry.dispose(),re.mesh.material.dispose()}),O.set(z,[])},_t=z=>{ye.setFromProjectionMatrix(z.projectionMatrix.clone().multiply(z.matrixWorldInverse));const X=z.position.z;ie.forEach((re,me)=>{const de=re.boundingSphere;if(de){const j=de.clone();if(j.radius*=1.5,!ye.intersectsSphere(j))return}else console.warn(`Cube ${me} has no boundingSphere`);const Ee=re.position.z,Se=Math.abs(X-Ee);let $=0;Se<=w&&($=1-Se/w),re.userData.isActive=$>=U,re.children.forEach(j=>{if(j instanceof rt&&!j.userData.isPortal&&!j.userData.isPortalHitbox){const Oe=j.material;if(Se<=w){const ve=Ae.lerp(g,b,$),Ye=Ae.lerp(y,C,$),qe=Ae.lerp(x,R,$);Oe.color.set(ve,Ye,qe),Oe.opacity=Math.min(1,$*2)}else Oe.opacity=0}else if(j instanceof rt&&j.userData.isPortal){j.children.forEach(ve=>{if(ve instanceof Be&&ve.userData.isExploreText){const Ye=ve.material;if(ve===j.userData.titleText&&_)return;if(Se<=w){const qe=1-Se/w;Ye.opacity=Math.min(1,qe*2),ve.visible=!0}else Ye.opacity=0,ve.visible=!1}});const Oe=j.userData.pulsesGroup;$>.1?Oe&&Oe.children.forEach(ve=>{ve instanceof Be&&(ve.material.visible=!0,!j.userData.animationStarted&&s.showPortalPulses&&(ot(j),j.userData.animationStarted=!0))}):$<=.1&&j.userData.animationStarted&&(Oe&&Oe.children.forEach(ve=>{ve instanceof Be&&(ve.material.visible=!1)}),st(j),delete j.userData.animationStarted)}else if(j instanceof Be&&!j.userData.isPortalHitbox&&!j.userData.isCloseHitbox){const Oe=j.material;if(j.userData.isLoaded||j.userData.isGridPlane)if(Se<=w){const ve=1-Se/w;Oe.opacity=Math.min(.8,ve*2),j.visible=!0}else Oe.opacity=0,j.visible=!1}})}),_e.forEach(re=>{if(!ye.intersectsObject(re))return;const me=re.material,de=re.userData.backgroundPlane,Ee=de==null?void 0:de.material,Se=re.position.z,$=Math.abs(X-Se+120);if(_){me.opacity=0,Ee&&(Ee.opacity=0);return}if($<=w){const j=1-$/w,Oe=Math.min(1,j*2);me.opacity=Oe,Ee&&(Ee.opacity=Oe*.8)}else me.opacity=0,Ee&&(Ee.opacity=0)})},tt=(z,X)=>{const re=performance.now()/1e3,me=z.position.z;ie.forEach(de=>{const Ee=de.position.z;if(Math.abs(me-Ee+90)<=w&&!_){const $=Q.get(de)||0;if(re-$>=W){const ve=de.children.find(Ye=>Ye instanceof rt&&Ye.userData.isPortal);ve&&(ct(de,ve),Q.set(de,re))}const Oe=(O.get(de)||[]).filter(ve=>{if(ve.distanceTraveled+=De*X,ve.mesh.position.copy(ve.direction.clone().multiplyScalar(ve.distanceTraveled)),(ve.totalDistance-ve.distanceTraveled)/De<=ae&&!ve.isFadingOut){ve.isFadingOut=!0;const We=ve.mesh.material;oe.to(We,{opacity:0,duration:ae,ease:"power2.out",overwrite:"auto"})}return ve.distanceTraveled>=ve.totalDistance?(de.remove(ve.mesh),ve.mesh.geometry.dispose(),ve.mesh.material.dispose(),!1):!0});O.set(de,Oe)}else Ke(de)})},yt=z=>{const X=[z,...z.children.filter(de=>de instanceof rt&&de.userData.isPortal)],re=2,me=.1;X.forEach((de,Ee)=>{const Se=de.material;Se.opacity=de.userData.maxOpacity;const $=oe.timeline({repeat:-1,delay:Ee*me});$.to(Se,{opacity:0,duration:re/2,ease:"power2.inOut"}).to(Se,{opacity:de.userData.maxOpacity,duration:re/2,ease:"power2.inOut"}),de.userData.marqueeTimeline=$})},lt=z=>{const X=[z,...z.children.filter(re=>re instanceof rt&&re.userData.isPortal)];X.forEach(re=>{re.userData.marqueeTimeline&&(re.userData.marqueeTimeline.kill(),delete re.userData.marqueeTimeline)}),z.userData.ringExpandTimeline&&(z.userData.ringExpandTimeline.kill(),delete z.userData.ringExpandTimeline),X.forEach((re,me)=>{const de=re.material;oe.killTweensOf(re.position),oe.killTweensOf(de),re.position.z=-me*2,de.opacity=0})};return{getInitializedData:Pe,updateCubeColors:_t,setupInteractivity:(z,X,re,me,de)=>{A=me;let Ee=null,Se=null,$=null,j=!1,Oe=!1,ve=!1,Ye=!1,qe=!1;const We=I=>{_&&(Ee=I.touches[0].clientY,Se=Se??window.scrollY,j=!0)},St=I=>{if(!_||!$||!Ee||Ye)return;const pe=I.touches[0].clientY-Ee;u.isMobile&&pe<-50&&!Oe&&(I.cancelable&&I.preventDefault(),Ce(),Ee=null)},ht=I=>{Ee=null,j=!1,ve=!0,oe.delayedCall(.5,()=>{ve=!1})},Ot=I=>{if(j||Oe||ve||Ye){I.preventDefault(),I.stopPropagation(),Se!==null&&(window.scrollTo(0,Se),oe.to(window,{scrollTo:{y:Se},duration:0}));return}if(!_||!$||!N||!B)return;if(u.isMobile){I.preventDefault(),I.stopPropagation();return}let K=0;if(I instanceof WheelEvent?K=I.deltaY:K=window.scrollY-(Se||0),I.preventDefault(),I.stopPropagation(),K>0){window.scrollTo(0,Se);return}K<0&&Ce()},Ce=()=>{const I=$,K=B?B.clone():new Te(0,0,f),pe=(N==null?void 0:N.z)??z.position.z,he=I==null?void 0:I.parent,be=I?ie.indexOf(he):-1;if(Ye=!0,l.setPortalLock(!1),I){lt(I);const ne=I.userData.titleText;if(ne){const Ve=ne.material;oe.to(Ve,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ne.visible=!1}})}if(I.userData.closeButton){const Ve=I.userData.closeButton,le=Ve.children.filter(Me=>Me instanceof Be&&!Me.userData.isCloseHitbox).map(Me=>Me.material);le.length>0&&oe.to(le,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{Ve.visible=!1}})}}oe.to(z.position,{x:(N==null?void 0:N.x)??z.position.x,y:(N==null?void 0:N.y)??z.position.y,z:pe,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const ne=_e[be];if(be!==-1&&ne){const Ve=ne.material,le=ne.userData.backgroundPlane,Me=Math.abs(z.position.z-ne.position.z+120),ze=Me<=w?Math.min(1,(1-Me/w)*2):0;oe.to(Ve,{opacity:ze,duration:.5,ease:"power2.in"}),le&&oe.to(le.material,{opacity:ze*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const ne=ge.progress,Ve=Ae.lerp(J.x,K.x,ne),le=Ae.lerp(J.y,K.y,ne),Me=Ae.lerp(J.z,K.z,ne);z.lookAt(Ve,le,Me),z.updateMatrixWorld(!0)},onComplete:()=>{z.lookAt(K),_=!1,$=null,document.body.classList.remove("no-scrollbar"),u.isMobile&&(document.body.style.overflow=""),A&&A(!1),Se=null,N=null,B=null,z.userData.lockedLookAt=null,Ye=!1,ie.forEach(ne=>{Math.abs(z.position.z-ne.position.z+90)<=w&&Q.set(ne,0)})}});const J=z.userData.lockedLookAt?z.userData.lockedLookAt.clone():z.getWorldDirection(new Te).multiplyScalar(1e3).add(z.position),ge={progress:0};oe.to(ge,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},H=(I,K=!0)=>{const pe=[I,...I.children.filter(J=>J instanceof rt&&J.userData.isPortal)],he=K?25:2,be=oe.timeline({onComplete:()=>{K&&pe[0]===I&&yt(I)}});pe.forEach((J,ge)=>{let ne=-ge*he;(I.position.y>0&&I.rotation.x===-Math.PI/2||I.position.y<0&&I.rotation.x===Math.PI/2)&&(ne=ge*he);const Ve=K?J.userData.maxOpacity:0;be.to(J.position,{z:ne,duration:1,ease:"power3.out",delay:.5},0),be.to(J.material,{opacity:Ve,duration:1,ease:"power3.out",delay:.5},0)}),I.userData.ringExpandTimeline=be},Fe=I=>{q.x=I.clientX/window.innerWidth*2-1,q.y=-(I.clientY/window.innerHeight)*2+1,k.setFromCamera(q,z),z.userData.lockedLookAt&&(z.lookAt(z.userData.lockedLookAt),z.updateMatrixWorld(!0)),ie.forEach(he=>{he.userData.lockedPosition&&(he.position.equals(he.userData.lockedPosition)||he.position.copy(he.userData.lockedPosition)),he.updateMatrixWorld(!0),he.children.forEach(be=>be.updateMatrixWorld(!0))});const K=ie.flatMap(he=>{const be=[];return!_&&he.userData.isActive&&he.children.forEach(J=>{J instanceof Be&&(J.userData.isPortalHitbox||J.userData.isExploreTextHitbox)&&be.push(J)}),_&&$&&he===$.parent&&he.children.forEach(J=>{if(J instanceof Be&&J.userData.isPortalHitbox&&be.push(J),J instanceof rt&&J.userData.isPortal){const ge=J;ge.children.forEach(ne=>{ne instanceof Be&&ne.userData.isExploreTextHitbox&&be.push(ne),ne instanceof $t&&ne===ge.userData.closeButton&&ne.children.forEach(Ve=>{Ve instanceof Be&&Ve.userData.isCloseHitbox&&be.push(Ve)})})}}),be}),pe=k.intersectObjects(K);if(pe.length>0){const he=pe[0].object;if(he.userData.isPortalHitbox||he.userData.isExploreTextHitbox){const be=he.userData.portal;V!==be&&(V&&[V,...V.children.filter(ne=>ne instanceof rt&&ne.userData.isPortal)].forEach(ne=>{const Ve=ne.material;oe.to(Ve.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}),V=be,[V,...V.children.filter(ge=>ge instanceof rt&&ge.userData.isPortal)].forEach(ge=>{const ne=ge.material;oe.to(ne.color,{r:(P>>16&255)/255,g:(P>>8&255)/255,b:(P&255)/255,duration:.5})})),X.style.cursor="pointer"}else if(he.userData.isCloseHitbox&&_){if(!qe){qe=!0;const be=he.parent;oe.to(be.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}X.style.cursor="pointer"}}else{if(V&&([V,...V.children.filter(be=>be instanceof rt&&be.userData.isPortal)].forEach(be=>{const J=be.material;oe.to(J.color,{r:(d>>16&255)/255,g:(d>>8&255)/255,b:(d&255)/255,duration:.5})}),V=null),_&&$&&qe){const he=$.userData.closeButton;he&&(qe=!1,oe.to(he.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}X.style.cursor="auto"}},L=I=>{if(Ye)return;q.x=I.clientX/window.innerWidth*2-1,q.y=-(I.clientY/window.innerHeight)*2+1,k.setFromCamera(q,z);const K=ie.flatMap(le=>{const Me=[];return _&&$&&le===$.parent&&le.children.forEach(ze=>{if(ze instanceof rt&&ze.userData.isPortal){const Ie=ze;Ie.children.forEach(Ne=>{Ne instanceof $t&&Ne===Ie.userData.closeButton&&Ne.children.forEach(He=>{He instanceof Be&&He.userData.isCloseHitbox&&Me.push(He)})})}}),Me}),pe=ie.flatMap(le=>{const Me=[];return!_&&le.userData.isActive&&le.children.forEach(ze=>{ze instanceof Be&&(ze.userData.isPortalHitbox||ze.userData.isExploreTextHitbox)&&Me.push(ze)}),_&&$&&le===$.parent&&le.children.forEach(ze=>{ze instanceof Be&&ze.userData.isPortalHitbox&&Me.push(ze),ze instanceof rt&&ze.userData.isPortal&&ze.children.forEach(Ie=>{Ie instanceof Be&&Ie.userData.isExploreTextHitbox&&Me.push(Ie)})}),Me});let he=k.intersectObjects(K);for(const le of he)if(le.object.userData.isCloseHitbox){Ce();return}if(he=k.intersectObjects(pe),he.length===0)return;const J=he[0].object.userData.portal,ge=J.parent,ne=ie.indexOf(ge),Ve=t[ne];if(_&&J===$){let le=new Te;const Me=e.CUBE_SIZE/2;J.position.x===Me?le.set(-1,0,0):J.position.x===-Me?le.set(1,0,0):J.position.y===Me?le.set(0,-1,0):J.position.y===-Me&&le.set(0,1,0),le.applyQuaternion(ge.getWorldQuaternion(new wa)).normalize();const Ie=z.position.clone().clone().add(le.clone().multiplyScalar(-675)),Ne=le.clone().multiplyScalar(-1e3),He=Ie.clone().add(Ne);Ye=!0,oe.to(z.position,{x:Ie.x,y:Ie.y,z:Ie.z,duration:1,ease:"power2.in",onUpdate:()=>z.lookAt(He),onStart:()=>{oe.to(re.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{Ve!=null&&Ve.slug&&(l.setScrollPosition(window.scrollY),dr.visit(route("project.show",{project:Ve.slug}),{preserveScroll:!1})),Ye=!1}})}else if(!_){N||(N=z.position.clone(),B=new Te(0,0,f)),A&&me(!0,N,B);const le=J.getWorldPosition(new Te);Oe=!0,Ye=!0,Se=window.scrollY,oe.to(z.position,{x:0,y:0,z:ge.getWorldPosition(new Te).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{_=!0,$=J,document.body.classList.add("no-scrollbar"),u.isMobile&&(document.body.style.overflow="hidden"),ge.userData.lockedPosition=ge.position.clone(),Ke(ge);const Me=_e[ne];if(Me){const Ie=Me.material,Ne=Me.userData.backgroundPlane;oe.to(Ie,{opacity:0,duration:.5,ease:"power2.out"}),Ne&&oe.to(Ne.material,{opacity:0,duration:.5,ease:"power2.out"})}const ze=J.userData.titleText;if(ze){ze.visible=!0;const Ie=ze.material;oe.to(Ie,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(J.userData.closeButton){const Ie=J.userData.closeButton;Ie.visible=!0;const Ne=Ie.children.filter(He=>He instanceof Be&&!He.userData.isCloseHitbox).map(He=>He.material);Ne.length>0&&oe.to(Ne,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}l.setPortalLock(!0,ne)},onComplete:()=>{H(J,!0),Oe=!1,Ye=!1,z.userData.lockedLookAt=le.clone()}}),oe.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const Me=this.progress(),ze=z.getWorldDirection(new Te).multiplyScalar(1e3).add(z.position),Ie=Ae.lerp(ze.x,le.x,Me),Ne=Ae.lerp(ze.y,le.y,Me),He=Ae.lerp(ze.z,le.z,Me);z.lookAt(Ie,Ne,He)},onComplete:()=>{z.lookAt(le.x,le.y,le.z),z.updateMatrixWorld(!0)}})}};X.addEventListener("mousemove",Fe),X.addEventListener("click",L),X.addEventListener("touchstart",We,{passive:!1}),X.addEventListener("touchmove",St,{passive:!1}),X.addEventListener("touchend",ht,{passive:!0}),window.addEventListener("wheel",Ot,{passive:!1}),window.addEventListener("scroll",Ot,{passive:!1});const we=()=>{O.forEach((I,K)=>{I.forEach(pe=>{K.remove(pe.mesh),pe.mesh.geometry.dispose(),pe.mesh.material.dispose()})}),O.clear(),Q.clear(),fe.clear()},Z=()=>{X.removeEventListener("mousemove",Fe),X.removeEventListener("click",L),X.removeEventListener("touchstart",We),X.removeEventListener("touchmove",St),X.removeEventListener("touchend",ht),window.removeEventListener("wheel",Ot),window.removeEventListener("scroll",Ot),$&&lt($),u.isMobile&&(document.body.style.overflow="")};return()=>{Z(),we()}},updateClickHereParticles:tt}}function fl(i,e,t,n){const o=vo(),s=100,r=100,a=300,u=3355443,l=o.isMobile?24:32,h=-600,c=-500,p=500,f=o.isMobile?5:10,d=.05,D=1,g=o.isMobile?6:4,y=o.isMobile?4:6,x=100,b=-450,C=60,R=t-p,F=Math.abs(c-R),w=Math.ceil(F/s),U=()=>{const m=new $t;let Y=null,ae=null;const ie=[],_e=[],Ze=[],k=[],q=[];{const V=new ln(s,s,s),N=new zo(V),B=l*w,_=new _a;_.copy(N),_.instanceCount=B;const A=new dt({color:u,transparent:!0,fog:!0,vertexColors:!0}),S=new Float32Array(B*3),O=new Float32Array(B*3),Q=new Float32Array(B*3),fe=l*s,v=-fe/2+s/2,ye=c;for(let X=0;X<l;X++){const re=P(X);for(let me=0;me<w;me++){const de=X*w+me,Ee=v+X*s,Se=ye-me*s,$=Ae.randFloat(r,a),j=$/s,Oe=h+$/2;S[de*3]=Ee,S[de*3+1]=Oe,S[de*3+2]=Se,O[de*3]=1,O[de*3+1]=j,O[de*3+2]=1,Q[de*3]=re,Q[de*3+1]=re,Q[de*3+2]=re}}_.setAttribute("instancePosition",new ks(S,3)),_.setAttribute("instanceScale",new ks(O,3)),_.setAttribute("color",new ks(Q,3)),A.onBeforeCompile=X=>{X.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${X.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},Y=new rt(_,A);const Le=-fe/2,xe=fe/2,Pe=h,ot=h+a,st=R,ct=c;_.boundingBox=new Cs(new Te(Le,Pe,st),new Te(xe,ot,ct));const Ke=(Le+xe)/2,_t=(Pe+ot)/2,tt=(st+ct)/2,yt=xe-Le,lt=ot-Pe,Nt=ct-st,z=Math.sqrt(yt*yt+lt*lt+Nt*Nt)/2;_.boundingSphere=new mr(new Te(Ke,_t,tt),z),m.add(Y)}{ae=new $t;const V=l*s/(y-1),N=-(l*s)/2;for(let _=0;_<y;_++){let S=N+_*V,O=c;const Q=[new Te(S,b,O)];let fe=0;for(;O>R;){const v=O===c?Ae.randFloat(300,800):Math.min(Ae.randFloat(300,800),Math.abs(O-R));if(O-=v,Q.push(new Te(S,b,O)),fe+=v,O<=R){Q[Q.length-1].z=R;break}const ye=Math.random()<.5?-1:1,Le=Ae.randFloat(100,300);S+=ye*Le,Q.push(new Te(S,b,O)),fe+=Le}_e.push({points:Q,totalLength:fe})}const B=new ln(g,g,g);for(let _=0;_<y;_++){const A=_e[_],S=A.totalLength,O=S/C;for(let Q=0;Q<C;Q++){const fe=new ft({color:16711680,fog:!0}),v=new Be(B,fe),ye=Q*O;let Le=ye;for(let xe=0;xe<A.points.length-1;xe++){const Pe=A.points[xe],ot=A.points[xe+1],st=Pe.distanceTo(ot);if(Le<=st){const ct=Le/st;v.position.lerpVectors(Pe,ot,ct);break}Le-=st}ie.push(v),Ze.push(ye),k.push(_),q.push(1),ae.add(v)}for(let Q=0;Q<C;Q++){const fe=new ft({color:16777215,fog:!0}),v=new Be(B,fe),ye=S-(Q*O+O/2);let Le=S-ye;const xe=[...A.points].reverse();for(let Pe=0;Pe<xe.length-1;Pe++){const ot=xe[Pe],st=xe[Pe+1],ct=ot.distanceTo(st);if(Le<=ct){const Ke=Le/ct;v.position.lerpVectors(ot,st,Ke);break}Le-=ct}ie.push(v),Ze.push(ye),k.push(_),q.push(-1),ae.add(v)}}e.add(ae)}return e.add(m),{cityGroup:m,instancedLines:Y,particleGroup:ae,particles:ie,paths:_e,particleDistances:Ze,particlePaths:k,particleDirections:q}},P=m=>{if(m<f){const Y=(D-d)/(f-1);return d+m*Y}else if(m>=l-f){const Y=l-1-m,ae=(D-d)/(f-1);return d+Y*ae}return D},{cityGroup:E,instancedLines:G,particleGroup:T,particles:M,paths:ee,particleDistances:te,particlePaths:De,particleDirections:W}=U();return{cityGroup:E,buildingLines:G?[G]:[],updateParticles:m=>{const Y=x*m;for(let ae=0;ae<M.length;ae++){const ie=W[ae],_e=De[ae],Ze=ee[_e],k=Ze.totalLength;te[ae]+=Y*ie,ie===1?(te[ae]=te[ae]%k,te[ae]<0&&(te[ae]+=k)):te[ae]=(te[ae]+k)%k;const q=te[ae],V=ie===1?Ze.points:[...Ze.points].reverse();let N=ie===1?q:k-q;for(let B=0;B<V.length-1;B++){const _=V[B],A=V[B+1],S=_.distanceTo(A);if(N<=S){const O=N/S;M[ae].position.lerpVectors(_,A,O);break}N-=S}}},dispose:()=>{G&&(E.remove(G),G.geometry.dispose(),G.material.dispose()),T&&(e.remove(T),T.children.forEach(m=>{m.geometry.dispose(),m.material.dispose()})),e.remove(E)}}}oe.registerPlugin(ke);function pl(i,e,t,n,o,s,r={},a,u){const l=vo(),h=Mo(),{CUBE_SPACING:c,FIRST_CUBE_Z:p}=s,f=(n==null?void 0:n.length)||0,d=p-(f+1)*c;let D=!1,g=!1;const y=l.isMobile?(Math.abs(d)+(f-1)*c)*.7:Math.abs(d)+(f-1)*c;let x=oe.timeline();ke.config({ignoreMobileResize:!0});{let R=0,F=0;const w=16;x=oe.timeline({scrollTrigger:{trigger:t.value,start:"top top",end:`+=${y}`,scrub:r.scrub,pin:!0,onUpdate:U=>{const P=performance.now();if(P-F>=w){if(!D){const E=U.progress,G=Ae.lerp(0,d,E);e.position.set(0,0,G),e.lookAt(0,0,d),R++,(R%4===0||G<1)&&h.setProgress(Math.round(Math.abs(G)))}o(e),F=P}u&&u.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),x.fromTo(e.position,{z:0},{z:d,duration:1,ease:"none"},0)}return{setReverting:R=>{D=R},timeline:x,isScrollTriggerActive:()=>g}}function dl(i,e,t){const n=vo(),o=n.isMobile?25:20,s=n.isMobile?600:1800,r=4e3,a=-1e3,u=t-1e3,l=1e3,h=t,c=150,p=-500,f=t,d=new go,D=new Float32Array(s*3),g=new Float32Array(s),y=new Float32Array(s);let x=0;for(;x<s;){const U=(Math.random()-.5)*r,P=(Math.random()-.5)*r,E=a+Math.random()*(u-a),G=E>h&&Math.abs(U)<l&&Math.abs(P)<l,T=Math.abs(U)<c&&Math.abs(P)<c&&E>f&&E<p;if(!G&&!T){const M=x*3;D[M]=U,D[M+1]=P,D[M+2]=E;const ee=.1+Math.random()*(.7-.1);g[x]=ee,y[x]=ee,x++}}d.setAttribute("position",new Pi(D,3)),d.setAttribute("opacity",new Pi(y,1));const b=new Lo({uniforms:{color:{value:new bt(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),C=new fs(d,b);C.frustumCulled=!0,i.add(C);const R={values:y.slice()},F=d.attributes.opacity;return oe.to(R,{duration:2,onUpdate:()=>{const U=Date.now()*.001;for(let P=0;P<s;P++)R.values[P]=g[P]*(.05+.95*Math.abs(Math.sin(U+P*.01)));F.array.set(R.values),F.needsUpdate=!0},repeat:-1,ease:"none"}),new Dr,{dispose:()=>{oe.killTweensOf(y),i.remove(C),d.dispose(),b.dispose()}}}function hl(i,e){const n=e-1500,o=100,s=2,r=64,a=1e3,u=r*3,l=[4,4.5,5],h=6;let c,p,f,d,D,g;const y=[],x=[[],[],[]],b=[[],[],[]],C=[[],[],[]];let R=[0,0,0];const F=()=>{const E=0-n,G=[];for(let se=0;se<o;se++){const m=se/(o-1),Y=0-m*E,ae=m*5*2*Math.PI,ie=90*(.8+.2*Math.sin(ae*2)),_e=new Te(ie*Math.cos(ae),ie*Math.sin(ae),Y);(isNaN(_e.x)||isNaN(_e.y)||isNaN(_e.z))&&console.error("NaN in chaserPath points",{t:m,z:Y,projectMaxZ:e}),G.push(_e)}c=new ps(G);const T=new go().setFromPoints(c.getPoints(200));d=new Ls(T,new dt({color:16711935,linewidth:2,visible:!1})),i.add(d);const M=[];for(let se=0;se<o;se++){const m=se/(o-1),Y=0-m*E,ae=m*3*2*Math.PI,ie=60*(.8+.2*Math.sin(ae*4)),_e=new Te(ie*Math.cos(ae),ie*Math.sin(ae),Y);(isNaN(_e.x)||isNaN(_e.y)||isNaN(_e.z))&&console.error("NaN in chaserPath2 points",{t:m,z:Y,projectMaxZ:e}),M.push(_e)}p=new ps(M);const ee=new go().setFromPoints(p.getPoints(200));D=new Ls(ee,new dt({color:65535,linewidth:2,visible:!1})),i.add(D);const te=[];for(let se=0;se<o;se++){const m=se/(o-1),Y=0-m*E,ae=m*7*2*Math.PI,ie=100,_e=90,Ze=.1*Math.sin(ae),k=new Te(ie*(1+Ze)*Math.cos(ae),_e*(1-Ze)*Math.sin(ae),Y);(isNaN(k.x)||isNaN(k.y)||isNaN(k.z))&&console.error("NaN in chaserPath3 points",{t:m,z:Y,projectMaxZ:e}),te.push(k)}f=new ps(te);const De=new go().setFromPoints(f.getPoints(200));g=new Ls(De,new dt({color:16776960,linewidth:2,visible:!1})),i.add(g);const W=[16711680,65280,255],ce=new ln(s,s,s);ce.attributes.color&&delete ce.attributes.color;for(let se=0;se<3;se++){const m=new $t;m.opacity=1,m.renderOrder=1,y[se]=m,i.add(m);for(let Y=0;Y<u;Y++){const ae=new ft({color:W[se],transparent:!0,opacity:0,blending:ba,fog:!0,depthWrite:!1}),ie=new Be(ce,ae);ie.renderOrder=1,ie.visible=!1,m.add(ie),x[se][Y]=ie,b[se][Y]=0,C[se][Y]=!1}}},w=E=>{const G=[c,p,f][E],T=G.getLength(),M=C[E].filter(te=>te).length;if(u-M>=r){let te=0;for(let De=0;De<r;De++){const W=C[E].findIndex(_e=>!_e);if(W===-1){console.warn(`No available chasers for path ${E}, emitted ${te}/${r}`);break}const ce=te/(r-1),se=.05+(1-.05)*Math.pow(ce,3),m=new ft({color:[16711680,65280,255][E],transparent:!0,opacity:se,blending:lo,fog:!0,depthWrite:!1});x[E][W].material=m,x[E][W].visible=!0;const Y=te*h;b[E][W]=Y,C[E][W]=!0;const ae=Y/T,ie=G.getPointAt(ae);x[E][W].position.copy(ie),te++}}},U=E=>{const G=performance.now()/1e3,T=[c,p,f];for(let M=0;M<3;M++){G-R[M]>=l[M]&&(w(M),R[M]=G);const ee=T[M],te=ee.getLength(),De=a*E;for(let W=0;W<u;W++)if(C[M][W]){b[M][W]+=De;const ce=b[M][W]/te;if(ce>=1)x[M][W].visible=!1,C[M][W]=!1,b[M][W]=0;else{const se=ee.getPointAt(ce);x[M][W].position.copy(se)}}}};return F(),{chaserPath:c,chaserPath2:p,chaserPath3:f,updateChasers:U,dispose:()=>{i.remove(d),i.remove(D),i.remove(g),d.geometry.dispose(),d.material.dispose(),D.geometry.dispose(),D.material.dispose(),g.geometry.dispose(),g.material.dispose(),y.forEach(E=>{E.children.forEach(G=>{G.geometry.dispose(),G.material.dispose()}),i.remove(E)})}}}class Dl extends vr{constructor(e){super(e)}load(e,t,n,o){const s=this,r=new xr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){const u=s.parse(JSON.parse(a));t&&t(u)},n,o)}parse(e){return new gl(e)}}class gl{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],o=ml(e,t,this.data);for(let s=0,r=o.length;s<r;s++)n.push(...o[s].toShapes());return n}}function ml(i,e,t){const n=Array.from(i),o=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*o,r=[];let a=0,u=0;for(let l=0;l<n.length;l++){const h=n[l];if(h===`
`)a=0,u-=s;else{const c=vl(h,o,a,u,t);a+=c.offsetX,r.push(c.path)}}return r}function vl(i,e,t,n,o){const s=o.glyphs[i]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+i+'" does not exists in font family '+o.familyName+".");return}const r=new Ea;let a,u,l,h,c,p,f,d;if(s.o){const D=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let g=0,y=D.length;g<y;)switch(D[g++]){case"m":a=D[g++]*e+t,u=D[g++]*e+n,r.moveTo(a,u);break;case"l":a=D[g++]*e+t,u=D[g++]*e+n,r.lineTo(a,u);break;case"q":l=D[g++]*e+t,h=D[g++]*e+n,c=D[g++]*e+t,p=D[g++]*e+n,r.quadraticCurveTo(c,p,l,h);break;case"b":l=D[g++]*e+t,h=D[g++]*e+n,c=D[g++]*e+t,p=D[g++]*e+n,f=D[g++]*e+t,d=D[g++]*e+n,r.bezierCurveTo(c,p,f,d,l,h);break}}return{offsetX:s.ha*e,path:r}}function xl(i="/fonts/Poppins_Regular.json"){const e=Xe(null),t=Xe(0),n=Xe(!1),o=()=>new Promise((r,a)=>{new Dl().load(i,l=>{e.value=l,t.value=100,n.value=!0,r(l)},l=>{l.lengthComputable&&(t.value=l.loaded/l.total*100)},l=>{t.value=100,n.value=!0,a(l)})});return{font:e,loadingProgress:t,isLoaded:n,initialize:()=>o()}}const yl=/^[og]\s*(.+)?/,Cl=/^mtllib /,wl=/^usemtl /,_l=/^usemap /,qi=/\s+/,Qi=new Te,Ys=new Te,Ji=new Te,Ki=new Te,Wt=new Te,ss=new bt;function bl(){const i={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,s){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const a={index:this.materials.length,name:o||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:r!==void 0?r.smooth:this.smooth,groupStart:r!==void 0?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(u){const l={index:typeof u=="number"?u:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),o&&this.materials.length>1)for(let r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},n&&n.name&&typeof n.clone=="function"){const o=n.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseNormalIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseUVIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/2)*2},addVertex:function(e,t,n){const o=this.vertices,s=this.object.geometry.vertices;s.push(o[e+0],o[e+1],o[e+2]),s.push(o[t+0],o[t+1],o[t+2]),s.push(o[n+0],o[n+1],o[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const o=this.normals,s=this.object.geometry.normals;s.push(o[e+0],o[e+1],o[e+2]),s.push(o[t+0],o[t+1],o[t+2]),s.push(o[n+0],o[n+1],o[n+2])},addFaceNormal:function(e,t,n){const o=this.vertices,s=this.object.geometry.normals;Qi.fromArray(o,e),Ys.fromArray(o,t),Ji.fromArray(o,n),Wt.subVectors(Ji,Ys),Ki.subVectors(Qi,Ys),Wt.cross(Ki),Wt.normalize(),s.push(Wt.x,Wt.y,Wt.z),s.push(Wt.x,Wt.y,Wt.z),s.push(Wt.x,Wt.y,Wt.z)},addColor:function(e,t,n){const o=this.colors,s=this.object.geometry.colors;o[e]!==void 0&&s.push(o[e+0],o[e+1],o[e+2]),o[t]!==void 0&&s.push(o[t+0],o[t+1],o[t+2]),o[n]!==void 0&&s.push(o[n+0],o[n+1],o[n+2])},addUV:function(e,t,n){const o=this.uvs,s=this.object.geometry.uvs;s.push(o[e+0],o[e+1]),s.push(o[t+0],o[t+1]),s.push(o[n+0],o[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,o,s,r,a,u,l){const h=this.vertices.length;let c=this.parseVertexIndex(e,h),p=this.parseVertexIndex(t,h),f=this.parseVertexIndex(n,h);if(this.addVertex(c,p,f),this.addColor(c,p,f),a!==void 0&&a!==""){const d=this.normals.length;c=this.parseNormalIndex(a,d),p=this.parseNormalIndex(u,d),f=this.parseNormalIndex(l,d),this.addNormal(c,p,f)}else this.addFaceNormal(c,p,f);if(o!==void 0&&o!==""){const d=this.uvs.length;c=this.parseUVIndex(o,d),p=this.parseUVIndex(s,d),f=this.parseUVIndex(r,d),this.addUV(c,p,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,o=e.length;n<o;n++){const s=this.parseVertexIndex(e[n],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,o=this.uvs.length;for(let s=0,r=e.length;s<r;s++)this.addVertexLine(this.parseVertexIndex(e[s],n));for(let s=0,r=t.length;s<r;s++)this.addUVLine(this.parseUVIndex(t[s],o))}};return i.startObject("",!1),i}class er extends vr{constructor(e){super(e),this.materials=null}load(e,t,n,o){const s=this,r=new xr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){try{t(s.parse(a))}catch(u){o?o(u):console.error(u),s.manager.itemError(e)}},n,o)}setMaterials(e){return this.materials=e,this}parse(e){const t=new bl;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const n=e.split(`
`);let o=[];for(let a=0,u=n.length;a<u;a++){const l=n[a].trimStart();if(l.length===0)continue;const h=l.charAt(0);if(h!=="#")if(h==="v"){const c=l.split(qi);switch(c[0]){case"v":t.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),c.length>=7?(ss.setRGB(parseFloat(c[4]),parseFloat(c[5]),parseFloat(c[6]),Js),t.colors.push(ss.r,ss.g,ss.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));break;case"vt":t.uvs.push(parseFloat(c[1]),parseFloat(c[2]));break}}else if(h==="f"){const p=l.slice(1).trim().split(qi),f=[];for(let D=0,g=p.length;D<g;D++){const y=p[D];if(y.length>0){const x=y.split("/");f.push(x)}}const d=f[0];for(let D=1,g=f.length-1;D<g;D++){const y=f[D],x=f[D+1];t.addFace(d[0],y[0],x[0],d[1],y[1],x[1],d[2],y[2],x[2])}}else if(h==="l"){const c=l.substring(1).trim().split(" ");let p=[];const f=[];if(l.indexOf("/")===-1)p=c;else for(let d=0,D=c.length;d<D;d++){const g=c[d].split("/");g[0]!==""&&p.push(g[0]),g[1]!==""&&f.push(g[1])}t.addLineGeometry(p,f)}else if(h==="p"){const p=l.slice(1).trim().split(" ");t.addPointGeometry(p)}else if((o=yl.exec(l))!==null){const c=(" "+o[0].slice(1).trim()).slice(1);t.startObject(c)}else if(wl.test(l))t.object.startMaterial(l.substring(7).trim(),t.materialLibraries);else if(Cl.test(l))t.materialLibraries.push(l.substring(7).trim());else if(_l.test(l))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(h==="s"){if(o=l.split(" "),o.length>1){const p=o[1].trim().toLowerCase();t.object.smooth=p!=="0"&&p!=="off"}else t.object.smooth=!0;const c=t.object.currentMaterial();c&&(c.smooth=t.object.smooth)}else{if(l==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+l+'"')}}t.finalize();const s=new $t;if(s.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,u=t.objects.length;a<u;a++){const l=t.objects[a],h=l.geometry,c=l.materials,p=h.type==="Line",f=h.type==="Points";let d=!1;if(h.vertices.length===0)continue;const D=new go;D.setAttribute("position",new wo(h.vertices,3)),h.normals.length>0&&D.setAttribute("normal",new wo(h.normals,3)),h.colors.length>0&&(d=!0,D.setAttribute("color",new wo(h.colors,3))),h.hasUVIndices===!0&&D.setAttribute("uv",new wo(h.uvs,2));const g=[];for(let x=0,b=c.length;x<b;x++){const C=c[x],R=C.name+"_"+C.smooth+"_"+d;let F=t.materials[R];if(this.materials!==null){if(F=this.materials.create(C.name),p&&F&&!(F instanceof dt)){const w=new dt;Ks.prototype.copy.call(w,F),w.color.copy(F.color),F=w}else if(f&&F&&!(F instanceof Vn)){const w=new Vn({size:10,sizeAttenuation:!1});Ks.prototype.copy.call(w,F),w.color.copy(F.color),w.map=F.map,F=w}}F===void 0&&(p?F=new dt:f?F=new Vn({size:1,sizeAttenuation:!1}):F=new Fa,F.name=C.name,F.flatShading=!C.smooth,F.vertexColors=d,t.materials[R]=F),g.push(F)}let y;if(g.length>1){for(let x=0,b=c.length;x<b;x++){const C=c[x];D.addGroup(C.groupStart,C.groupCount,x)}p?y=new rt(D,g):f?y=new fs(D,g):y=new Be(D,g)}else p?y=new rt(D,g[0]):f?y=new fs(D,g[0]):y=new Be(D,g[0]);y.name=l.name,s.add(y)}else if(t.vertices.length>0){const a=new Vn({size:1,sizeAttenuation:!1}),u=new go;u.setAttribute("position",new wo(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(u.setAttribute("color",new wo(t.colors,3)),a.vertexColors=!0);const l=new fs(u,a);s.add(l)}return s}}/*!
 * paths 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var El=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Fl=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Tl=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Ml=/(^[#\.][a-z]|[a-y][a-z])/i,Pl=Math.PI/180,Sl=180/Math.PI,is=Math.sin,rs=Math.cos,Jt=Math.abs,po=Math.sqrt,Al=Math.atan2,ci=1e8,tr=function(e){return typeof e=="string"},Wr=function(e){return typeof e=="number"},Rl=function(e){return typeof e>"u"},Bl={},kl={},Ts=1e5,Xr=function(e){return Math.round((e+ci)%1*Ts)/Ts||(e<0?0:1)},Qe=function(e){return Math.round(e*Ts)/Ts||0},or=function(e){return Math.round(e*1e10)/1e10||0},nr=function(e,t,n,o){var s=e[t],r=o===1?6:fi(s,n,o);if((r||!o)&&r+n+2<s.length)return e.splice(t,0,s.slice(0,n+r+2)),s.splice(0,n+r),1},$r=function(e,t,n){var o=e.length,s=~~(n*o);if(e[s]>t){for(;--s&&e[s]>t;);s<0&&(s=0)}else for(;e[++s]<t&&s<o;);return s<o?s:o-1},Ll=function(e,t){var n=e.length;for(e.reverse();n--;)e[n].reversed||zl(e[n])},sr=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},Il=function(e,t){var n=e.length,o=e[n-1]||[],s=o.length;n&&t[0]===o[s-2]&&t[1]===o[s-1]&&(t=o.concat(t.slice(2)),n--),e[n]=t};function xs(i){i=tr(i)&&Ml.test(i)&&document.querySelector(i)||i;var e=i.getAttribute?i:0,t;return e&&(i=i.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[i],t&&!t._dirty?t:e._gsPath[i]=Ms(i)):i?tr(i)?Ms(i):Wr(i[0])?[i]:i:console.warn("Expecting a <path> element or an SVG path data string")}function Ol(i){for(var e=[],t=0;t<i.length;t++)e[t]=sr(i[t],i[t].slice(0));return sr(i,e)}function zl(i){var e=0,t;for(i.reverse();e<i.length;e+=2)t=i[e],i[e]=i[e+1],i[e+1]=t;i.reversed=!i.reversed}var Nl=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),o=[].slice.call(e.attributes),s=o.length,r;for(t=","+t+",";--s>-1;)r=o[s].nodeName.toLowerCase(),t.indexOf(","+r+",")<0&&n.setAttributeNS(null,r,o[s].nodeValue);return n},Hl={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},Ul=function(e,t){for(var n=t?t.split(","):[],o={},s=n.length;--s>-1;)o[n[s]]=+e.getAttribute(n[s])||0;return o};function jl(i,e){var t=i.tagName.toLowerCase(),n=.552284749831,o,s,r,a,u,l,h,c,p,f,d,D,g,y,x,b,C,R,F,w,U,P;return t==="path"||!i.getBBox?i:(l=Nl(i,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),P=Ul(i,Hl[t]),t==="rect"?(a=P.rx,u=P.ry||a,s=P.x,r=P.y,f=P.width-a*2,d=P.height-u*2,a||u?(D=s+a*(1-n),g=s+a,y=g+f,x=y+a*n,b=y+a,C=r+u*(1-n),R=r+u,F=R+d,w=F+u*n,U=F+u,o="M"+b+","+R+" V"+F+" C"+[b,w,x,U,y,U,y-(y-g)/3,U,g+(y-g)/3,U,g,U,D,U,s,w,s,F,s,F-(F-R)/3,s,R+(F-R)/3,s,R,s,C,D,r,g,r,g+(y-g)/3,r,y-(y-g)/3,r,y,r,x,r,b,C,b,R].join(",")+"z"):o="M"+(s+f)+","+r+" v"+d+" h"+-f+" v"+-d+" h"+f+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(a=u=P.r,c=a*n):(a=P.rx,u=P.ry,c=u*n),s=P.cx,r=P.cy,h=a*n,o="M"+(s+a)+","+r+" C"+[s+a,r+c,s+h,r+u,s,r+u,s-h,r+u,s-a,r+c,s-a,r,s-a,r-c,s-h,r-u,s,r-u,s+h,r-u,s+a,r-c,s+a,r].join(",")+"z"):t==="line"?o="M"+P.x1+","+P.y1+" L"+P.x2+","+P.y2:(t==="polyline"||t==="polygon")&&(p=(i.getAttribute("points")+"").match(Fl)||[],s=p.shift(),r=p.shift(),o="M"+s+","+r+" L"+p.join(","),t==="polygon"&&(o+=","+s+","+r+"z")),l.setAttribute("d",Qr(l._gsRawPath=Ms(o))),e&&i.parentNode&&(i.parentNode.insertBefore(l,i),i.parentNode.removeChild(i)),l)}function Zr(i,e,t){var n=i[e],o=i[e+2],s=i[e+4],r;return n+=(o-n)*t,o+=(s-o)*t,n+=(o-n)*t,r=o+(s+(i[e+6]-s)*t-o)*t-n,n=i[e+1],o=i[e+3],s=i[e+5],n+=(o-n)*t,o+=(s-o)*t,n+=(o-n)*t,Qe(Al(o+(s+(i[e+7]-s)*t-o)*t-n,r)*Sl)}function qr(i,e,t){t=Rl(t)?1:or(t)||0,e=or(e)||0;var n=Math.max(0,~~(Jt(t-e)-1e-8)),o=Ol(i);if(e>t&&(e=1-e,t=1-t,Ll(o),o.totalLength=0),e<0||t<0){var s=Math.abs(~~Math.min(e,t))+1;e+=s,t+=s}o.totalLength||jo(o);var r=t>1,a=ir(o,e,Bl,!0),u=ir(o,t,kl),l=u.segment,h=a.segment,c=u.segIndex,p=a.segIndex,f=u.i,d=a.i,D=p===c,g=f===d&&D,y,x,b,C,R,F,w,U;if(r||n){for(y=c<p||D&&f<d||g&&u.t<a.t,nr(o,p,d,a.t)&&(p++,y||(c++,g?(u.t=(u.t-a.t)/(1-a.t),f=0):D&&(f-=d))),Math.abs(1-(t-e))<1e-5?c=p-1:!u.t&&c?c--:nr(o,c,f,u.t)&&y&&p++,a.t===1&&(p=(p+1)%o.length),R=[],F=o.length,w=1+F*n,U=p,w+=(F-p+c)%F,C=0;C<w;C++)Il(R,o[U++%F]);o=R}else if(b=u.t===1?6:fi(l,f,u.t),e!==t)for(x=fi(h,d,g?a.t/u.t:a.t),D&&(b+=x),l.splice(f+b+2),(x||d)&&h.splice(0,d+x),C=o.length;C--;)(C<p||C>c)&&o.splice(C,1);else l.angle=Zr(l,f+b,0),f+=b,a=l[f],u=l[f+1],l.length=l.totalLength=0,l.totalPoints=o.totalPoints=8,l.push(a,u,a,u,a,u,a,u);return o.totalLength=0,o}function Gl(i,e,t){e=e||0,i.samples||(i.samples=[],i.lookup=[]);var n=~~i.resolution||12,o=1/n,s=i.length,r=i[e],a=i[e+1],u=e?e/6*n:0,l=i.samples,h=i.lookup,c=(e?i.minLength:ci)||ci,p=l[u+t*n-1],f=e?l[u-1]:0,d,D,g,y,x,b,C,R,F,w,U,P,E,G,T,M,ee;for(l.length=h.length=0,D=e+2;D<s;D+=6){if(g=i[D+4]-r,y=i[D+2]-r,x=i[D]-r,R=i[D+5]-a,F=i[D+3]-a,w=i[D+1]-a,b=C=U=P=0,Jt(g)<.01&&Jt(R)<.01&&Jt(x)+Jt(w)<.01)i.length>8&&(i.splice(D,6),D-=6,s-=6);else for(d=1;d<=n;d++)G=o*d,E=1-G,b=C-(C=(G*G*g+3*E*(G*y+E*x))*G),U=P-(P=(G*G*R+3*E*(G*F+E*w))*G),M=po(U*U+b*b),M<c&&(c=M),f+=M,l[u++]=f;r+=g,a+=R}if(p)for(p-=f;u<l.length;u++)l[u]+=p;if(l.length&&c){if(i.totalLength=ee=l[l.length-1]||0,i.minLength=c,ee/c<9999)for(M=T=0,d=0;d<ee;d+=c)h[M++]=l[T]<d?++T:T}else i.totalLength=l[0]=0;return e?f-l[e/2-1]:f}function jo(i,e){var t,n,o;for(o=t=n=0;o<i.length;o++)i[o].resolution=~~e||12,n+=i[o].length,t+=Gl(i[o]);return i.totalPoints=n,i.totalLength=t,i}function fi(i,e,t){if(t<=0||t>=1)return 0;var n=i[e],o=i[e+1],s=i[e+2],r=i[e+3],a=i[e+4],u=i[e+5],l=i[e+6],h=i[e+7],c=n+(s-n)*t,p=s+(a-s)*t,f=o+(r-o)*t,d=r+(u-r)*t,D=c+(p-c)*t,g=f+(d-f)*t,y=a+(l-a)*t,x=u+(h-u)*t;return p+=(y-p)*t,d+=(x-d)*t,i.splice(e+2,4,Qe(c),Qe(f),Qe(D),Qe(g),Qe(D+(p-D)*t),Qe(g+(d-g)*t),Qe(p),Qe(d),Qe(y),Qe(x)),i.samples&&i.samples.splice(e/6*i.resolution|0,0,0,0,0,0,0,0),6}function ir(i,e,t,n){t=t||{},i.totalLength||jo(i),(e<0||e>1)&&(e=Xr(e));var o=0,s=i[0],r,a,u,l,h,c,p;if(!e)p=c=o=0,s=i[0];else if(e===1)p=1,o=i.length-1,s=i[o],c=s.length-8;else{if(i.length>1){for(u=i.totalLength*e,h=c=0;(h+=i[c++].totalLength)<u;)o=c;s=i[o],l=h-s.totalLength,e=(u-l)/(h-l)||0}r=s.samples,a=s.resolution,u=s.totalLength*e,c=s.lookup.length?s.lookup[~~(u/s.minLength)]||0:$r(r,u,e),l=c?r[c-1]:0,h=r[c],h<u&&(l=h,h=r[++c]),p=1/a*((u-l)/(h-l)+c%a),c=~~(c/a)*6,n&&p===1&&(c+6<s.length?(c+=6,p=0):o+1<i.length&&(c=p=0,s=i[++o]))}return t.t=p,t.i=c,t.path=i,t.segment=s,t.segIndex=o,t}function rr(i,e,t,n){var o=i[0],s=n||{},r,a,u,l,h,c,p,f,d;if((e<0||e>1)&&(e=Xr(e)),o.lookup||jo(i),i.length>1){for(u=i.totalLength*e,h=c=0;(h+=i[c++].totalLength)<u;)o=i[c];l=h-o.totalLength,e=(u-l)/(h-l)||0}return r=o.samples,a=o.resolution,u=o.totalLength*e,c=o.lookup.length?o.lookup[e<1?~~(u/o.minLength):o.lookup.length-1]||0:$r(r,u,e),l=c?r[c-1]:0,h=r[c],h<u&&(l=h,h=r[++c]),p=1/a*((u-l)/(h-l)+c%a)||0,d=1-p,c=~~(c/a)*6,f=o[c],s.x=Qe((p*p*(o[c+6]-f)+3*d*(p*(o[c+4]-f)+d*(o[c+2]-f)))*p+f),s.y=Qe((p*p*(o[c+7]-(f=o[c+1]))+3*d*(p*(o[c+5]-f)+d*(o[c+3]-f)))*p+f),t&&(s.angle=o.totalLength?Zr(o,c,p>=1?1-1e-9:p||1e-9):o.angle||0),s}function _n(i,e,t,n,o,s,r){for(var a=i.length,u,l,h,c,p;--a>-1;)for(u=i[a],l=u.length,h=0;h<l;h+=2)c=u[h],p=u[h+1],u[h]=c*e+p*n+s,u[h+1]=c*t+p*o+r;return i._dirty=1,i}function Yl(i,e,t,n,o,s,r,a,u){if(!(i===a&&e===u)){t=Jt(t),n=Jt(n);var l=o%360*Pl,h=rs(l),c=is(l),p=Math.PI,f=p*2,d=(i-a)/2,D=(e-u)/2,g=h*d+c*D,y=-c*d+h*D,x=g*g,b=y*y,C=x/(t*t)+b/(n*n);C>1&&(t=po(C)*t,n=po(C)*n);var R=t*t,F=n*n,w=(R*F-R*b-F*x)/(R*b+F*x);w<0&&(w=0);var U=(s===r?-1:1)*po(w),P=U*(t*y/n),E=U*-(n*g/t),G=(i+a)/2,T=(e+u)/2,M=G+(h*P-c*E),ee=T+(c*P+h*E),te=(g-P)/t,De=(y-E)/n,W=(-g-P)/t,ce=(-y-E)/n,se=te*te+De*De,m=(De<0?-1:1)*Math.acos(te/po(se)),Y=(te*ce-De*W<0?-1:1)*Math.acos((te*W+De*ce)/po(se*(W*W+ce*ce)));isNaN(Y)&&(Y=p),!r&&Y>0?Y-=f:r&&Y<0&&(Y+=f),m%=f,Y%=f;var ae=Math.ceil(Jt(Y)/(f/4)),ie=[],_e=Y/ae,Ze=4/3*is(_e/2)/(1+rs(_e/2)),k=h*t,q=c*t,V=c*-n,N=h*n,B;for(B=0;B<ae;B++)o=m+B*_e,g=rs(o),y=is(o),te=rs(o+=_e),De=is(o),ie.push(g-Ze*y,y+Ze*g,te+Ze*De,De-Ze*te,te,De);for(B=0;B<ie.length;B+=2)g=ie[B],y=ie[B+1],ie[B]=g*k+y*V+M,ie[B+1]=g*q+y*N+ee;return ie[B-2]=a,ie[B-1]=u,ie}}function Ms(i){var e=(i+"").replace(Tl,function(P){var E=+P;return E<1e-4&&E>-1e-4?0:E}).match(El)||[],t=[],n=0,o=0,s=2/3,r=e.length,a=0,u="ERROR: malformed path: "+i,l,h,c,p,f,d,D,g,y,x,b,C,R,F,w,U=function(E,G,T,M){x=(T-E)/3,b=(M-G)/3,D.push(E+x,G+b,T-x,M-b,T,M)};if(!i||!isNaN(e[0])||isNaN(e[1]))return console.log(u),t;for(l=0;l<r;l++)if(R=f,isNaN(e[l])?(f=e[l].toUpperCase(),d=f!==e[l]):l--,c=+e[l+1],p=+e[l+2],d&&(c+=n,p+=o),l||(g=c,y=p),f==="M")D&&(D.length<8?t.length-=1:a+=D.length),n=g=c,o=y=p,D=[c,p],t.push(D),l+=2,f="L";else if(f==="C")D||(D=[0,0]),d||(n=o=0),D.push(c,p,n+e[l+3]*1,o+e[l+4]*1,n+=e[l+5]*1,o+=e[l+6]*1),l+=6;else if(f==="S")x=n,b=o,(R==="C"||R==="S")&&(x+=n-D[D.length-4],b+=o-D[D.length-3]),d||(n=o=0),D.push(x,b,c,p,n+=e[l+3]*1,o+=e[l+4]*1),l+=4;else if(f==="Q")x=n+(c-n)*s,b=o+(p-o)*s,d||(n=o=0),n+=e[l+3]*1,o+=e[l+4]*1,D.push(x,b,n+(c-n)*s,o+(p-o)*s,n,o),l+=4;else if(f==="T")x=n-D[D.length-4],b=o-D[D.length-3],D.push(n+x,o+b,c+(n+x*1.5-c)*s,p+(o+b*1.5-p)*s,n=c,o=p),l+=2;else if(f==="H")U(n,o,n=c,o),l+=1;else if(f==="V")U(n,o,n,o=c+(d?o-n:0)),l+=1;else if(f==="L"||f==="Z")f==="Z"&&(c=g,p=y,D.closed=!0),(f==="L"||Jt(n-c)>.5||Jt(o-p)>.5)&&(U(n,o,c,p),f==="L"&&(l+=2)),n=c,o=p;else if(f==="A"){if(F=e[l+4],w=e[l+5],x=e[l+6],b=e[l+7],h=7,F.length>1&&(F.length<3?(b=x,x=w,h--):(b=w,x=F.substr(2),h-=2),w=F.charAt(1),F=F.charAt(0)),C=Yl(n,o,+e[l+1],+e[l+2],+e[l+3],+F,+w,(d?n:0)+x*1,(d?o:0)+b*1),l+=h,C)for(h=0;h<C.length;h++)D.push(C[h]);n=D[D.length-2],o=D[D.length-1]}else console.log(u);return l=D.length,l<6?(t.pop(),l=0):D[0]===D[l-2]&&D[1]===D[l-1]&&(D.closed=!0),t.totalPoints=a+l,t}function Vl(i,e){e===void 0&&(e=1);for(var t=i[0],n=0,o=[t,n],s=2;s<i.length;s+=2)o.push(t,n,i[s],n=(i[s]-t)*e/2,t=i[s],-n);return o}function pi(i,e){Jt(i[0]-i[2])<1e-4&&Jt(i[1]-i[3])<1e-4&&(i=i.slice(2));var t=i.length-2,n=+i[0],o=+i[1],s=+i[2],r=+i[3],a=[n,o,n,o],u=s-n,l=r-o,h=Math.abs(i[t]-n)<.001&&Math.abs(i[t+1]-o)<.001,c,p,f,d,D,g,y,x,b,C,R,F,w,U,P;for(h&&(i.push(s,r),s=n,r=o,n=i[t-2],o=i[t-1],i.unshift(n,o),t+=4),e=e||e===0?+e:1,f=2;f<t;f+=2)c=n,p=o,n=s,o=r,s=+i[f+2],r=+i[f+3],!(n===s&&o===r)&&(d=u,D=l,u=s-n,l=r-o,g=po(d*d+D*D),y=po(u*u+l*l),x=po(Math.pow(u/y+d/g,2)+Math.pow(l/y+D/g,2)),b=(g+y)*e*.25/x,C=n-(n-c)*(g?b/g:0),R=n+(s-n)*(y?b/y:0),F=n-(C+((R-C)*(g*3/(g+y)+.5)/4||0)),w=o-(o-p)*(g?b/g:0),U=o+(r-o)*(y?b/y:0),P=o-(w+((U-w)*(g*3/(g+y)+.5)/4||0)),(n!==c||o!==p)&&a.push(Qe(C+F),Qe(w+P),Qe(n),Qe(o),Qe(R+F),Qe(U+P)));return n!==s||o!==r||a.length<4?a.push(Qe(s),Qe(r),Qe(s),Qe(r)):a.length-=2,a.length===2?a.push(n,o,n,o,n,o):h&&(a.splice(0,6),a.length=a.length-6),a}function Qr(i){Wr(i[0])&&(i=[i]);var e="",t=i.length,n,o,s,r;for(o=0;o<t;o++){for(r=i[o],e+="M"+Qe(r[0])+","+Qe(r[1])+" C",n=r.length,s=2;s<n;s++)e+=Qe(r[s++])+","+Qe(r[s++])+" "+Qe(r[s++])+","+Qe(r[s++])+" "+Qe(r[s++])+","+Qe(r[s])+" ";r.closed&&(e+="z")}return e}/*!
 * matrix 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Do,Go,Fi,Rs,bn,ys,Ps,On,no="transform",di=no+"Origin",Jr,Kr=function(e){var t=e.ownerDocument||e;for(!(no in e.style)&&("msTransform"in e.style)&&(no="msTransform",di=no+"Origin");t.parentNode&&(t=t.parentNode););if(Go=window,Ps=new Gn,t){Do=t,Fi=t.documentElement,Rs=t.body,On=Do.createElementNS("http://www.w3.org/2000/svg","g"),On.style.transform="none";var n=t.createElement("div"),o=t.createElement("div"),s=t&&(t.body||t.firstElementChild);s&&s.appendChild&&(s.appendChild(n),n.appendChild(o),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Jr=o.offsetParent!==n,s.removeChild(n))}return t},Wl=function(e){for(var t,n;e&&e!==Rs;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},ea=[],ta=[],Xl=function(){return Go.pageYOffset||Do.scrollTop||Fi.scrollTop||Rs.scrollTop||0},$l=function(){return Go.pageXOffset||Do.scrollLeft||Fi.scrollLeft||Rs.scrollLeft||0},Ti=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},Zl=function i(e){if(Go.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return i(e)},Vs=function i(e,t){if(e.parentNode&&(Do||Kr(e))){var n=Ti(e),o=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=n?t?"rect":"g":"div",r=t!==2?0:100,a=t===3?100:0,u="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",l=Do.createElementNS?Do.createElementNS(o.replace(/^https/,"http"),s):Do.createElement(s);return t&&(n?(ys||(ys=i(e)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+r+","+a+")"),ys.appendChild(l)):(bn||(bn=i(e),bn.style.cssText=u),l.style.cssText=u+"width:0.1px;height:0.1px;top:"+a+"px;left:"+r+"px",bn.appendChild(l))),l}throw"Need document and parent."},ql=function(e){for(var t=new Gn,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},Ql=function(e){var t=e.getCTM(),n;return t||(n=e.style[no],e.style[no]="none",e.appendChild(On),t=On.getCTM(),e.removeChild(On),n?e.style[no]=n:e.style.removeProperty(no.replace(/([A-Z])/g,"-$1").toLowerCase())),t||Ps.clone()},Jl=function(e,t){var n=Ti(e),o=e===n,s=n?ea:ta,r=e.parentNode,a,u,l,h,c,p;if(e===Go)return e;if(s.length||s.push(Vs(e,1),Vs(e,2),Vs(e,3)),a=n?ys:bn,n)o?(l=Ql(e),h=-l.e/l.a,c=-l.f/l.d,u=Ps):e.getBBox?(l=e.getBBox(),u=e.transform?e.transform.baseVal:{},u=u.numberOfItems?u.numberOfItems>1?ql(u):u.getItem(0).matrix:Ps,h=u.a*l.x+u.c*l.y,c=u.b*l.x+u.d*l.y):(u=new Gn,h=c=0),t&&e.tagName.toLowerCase()==="g"&&(h=c=0),(o?n:r).appendChild(a),a.setAttribute("transform","matrix("+u.a+","+u.b+","+u.c+","+u.d+","+(u.e+h)+","+(u.f+c)+")");else{if(h=c=0,Jr)for(u=e.offsetParent,l=e;l&&(l=l.parentNode)&&l!==u&&l.parentNode;)(Go.getComputedStyle(l)[no]+"").length>4&&(h=l.offsetLeft,c=l.offsetTop,l=0);if(p=Go.getComputedStyle(e),p.position!=="absolute"&&p.position!=="fixed")for(u=e.offsetParent;r&&r!==u;)h+=r.scrollLeft||0,c+=r.scrollTop||0,r=r.parentNode;l=a.style,l.top=e.offsetTop-c+"px",l.left=e.offsetLeft-h+"px",l[no]=p[no],l[di]=p[di],l.position=p.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(a)}return a},Ws=function(e,t,n,o,s,r,a){return e.a=t,e.b=n,e.c=o,e.d=s,e.e=r,e.f=a,e},Gn=function(){function i(t,n,o,s,r,a){t===void 0&&(t=1),n===void 0&&(n=0),o===void 0&&(o=0),s===void 0&&(s=1),r===void 0&&(r=0),a===void 0&&(a=0),Ws(this,t,n,o,s,r,a)}var e=i.prototype;return e.inverse=function(){var n=this.a,o=this.b,s=this.c,r=this.d,a=this.e,u=this.f,l=n*r-o*s||1e-10;return Ws(this,r/l,-o/l,-s/l,n/l,(s*u-r*a)/l,-(n*u-o*a)/l)},e.multiply=function(n){var o=this.a,s=this.b,r=this.c,a=this.d,u=this.e,l=this.f,h=n.a,c=n.c,p=n.b,f=n.d,d=n.e,D=n.f;return Ws(this,h*o+p*r,h*s+p*a,c*o+f*r,c*s+f*a,u+d*o+D*r,l+d*s+D*a)},e.clone=function(){return new i(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var o=this.a,s=this.b,r=this.c,a=this.d,u=this.e,l=this.f;return o===n.a&&s===n.b&&r===n.c&&a===n.d&&u===n.e&&l===n.f},e.apply=function(n,o){o===void 0&&(o={});var s=n.x,r=n.y,a=this.a,u=this.b,l=this.c,h=this.d,c=this.e,p=this.f;return o.x=s*a+r*l+c||0,o.y=s*u+r*h+p||0,o},i}();function rn(i,e,t,n){if(!i||!i.parentNode||(Do||Kr(i)).documentElement===i)return new Gn;var o=Wl(i),s=Ti(i),r=s?ea:ta,a=Jl(i,t),u=r[0].getBoundingClientRect(),l=r[1].getBoundingClientRect(),h=r[2].getBoundingClientRect(),c=a.parentNode,p=!n&&Zl(i),f=new Gn((l.left-u.left)/100,(l.top-u.top)/100,(h.left-u.left)/100,(h.top-u.top)/100,u.left+(p?0:$l()),u.top+(p?0:Xl()));if(c.removeChild(a),o)for(u=o.length;u--;)l=o[u],l.scaleX=l.scaleY=0,l.renderTransform(1,l);return e?f.inverse():f}/*!
 * MotionPathPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Kl="x,translateX,left,marginLeft,xPercent".split(","),eu="y,translateY,top,marginTop,yPercent".split(","),tu=Math.PI/180,Qt,oa,Jo,hi,Xs,ar,ou=function(){return Qt||typeof window<"u"&&(Qt=window.gsap)&&Qt.registerPlugin&&Qt},mn=function(e,t,n,o){for(var s=t.length,r=o===2?0:o,a=0;a<s;a++)e[r]=parseFloat(t[a][n]),o===2&&(e[r+1]=0),r+=2;return e},tn=function(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},na=function(e){var t=e[0],n=e[1],o;for(o=2;o<e.length;o+=2)t=e[o]+=t,n=e[o+1]+=n},lr=function(e,t,n,o,s,r,a,u,l){if(a.type==="cubic")t=[t];else{a.fromCurrent!==!1&&t.unshift(tn(n,o,u),s?tn(n,s,l):0),a.relative&&na(t);var h=s?pi:Vl;t=[h(t,a.curviness)]}return t=r(sa(t,n,a)),Ss(e,n,o,t,"x",u),s&&Ss(e,n,s,t,"y",l),jo(t,a.resolution||(a.curviness===0?20:12))},nu=function(e){return e},su=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,ur=function(e,t,n){var o=rn(e),s=0,r=0,a;return(e.tagName+"").toLowerCase()==="svg"?(a=e.viewBox.baseVal,a.width||(a={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):a=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(s=t.push?t[0]*(a?a.width:e.offsetWidth||0):t.x,r=t.push?t[1]*(a?a.height:e.offsetHeight||0):t.y),n.apply(s||r?o.apply({x:s,y:r}):{x:o.e,y:o.f})},Di=function(e,t,n,o){var s=rn(e.parentNode,!0,!0),r=s.clone().multiply(rn(t)),a=ur(e,n,s),u=ur(t,o,s),l=u.x,h=u.y,c;return r.e=r.f=0,o==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(c=t.getAttribute("d").match(su)||[],c=r.apply({x:+c[0],y:+c[1]}),l+=c.x,h+=c.y),c&&(c=r.apply(t.getBBox()),l-=c.x,h-=c.y),r.e=l-a.x,r.f=h-a.y,r},sa=function(e,t,n){var o=n.align,s=n.matrix,r=n.offsetX,a=n.offsetY,u=n.alignOrigin,l=e[0][0],h=e[0][1],c=tn(t,"x"),p=tn(t,"y"),f,d,D;return!e||!e.length?xs("M0,0L0,0"):(o&&(o==="self"||(f=hi(o)[0]||t)===t?_n(e,1,0,0,1,c-l,p-h):(u&&u[2]!==!1?Qt.set(t,{transformOrigin:u[0]*100+"% "+u[1]*100+"%"}):u=[tn(t,"xPercent")/-100,tn(t,"yPercent")/-100],d=Di(t,f,u,"auto"),D=d.apply({x:l,y:h}),_n(e,d.a,d.b,d.c,d.d,c+d.e-(D.x-d.e),p+d.f-(D.y-d.f)))),s?_n(e,s.a,s.b,s.c,s.d,s.e,s.f):(r||a)&&_n(e,1,0,0,1,r||0,a||0),e)},Ss=function(e,t,n,o,s,r){var a=t._gsap,u=a.harness,l=u&&u.aliases&&u.aliases[n],h=l&&l.indexOf(",")<0?l:n,c=e._pt=new oa(e._pt,t,h,0,0,nu,0,a.set(t,h,e));c.u=Jo(a.get(t,h,r))||0,c.path=o,c.pp=s,e._props.push(h)},iu=function(e,t){return function(n){return e||t!==1?qr(n,e,t):n}},ia={version:"3.12.7",name:"motionPath",register:function(e,t,n){Qt=e,Jo=Qt.utils.getUnit,hi=Qt.utils.toArray,Xs=Qt.core.getStyleSaver,ar=Qt.core.reverting||function(){},oa=n},init:function(e,t,n){if(!Qt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var o=[],s=t,r=s.path,a=s.autoRotate,u=s.unitX,l=s.unitY,h=s.x,c=s.y,p=r[0],f=iu(t.start,"end"in t?t.end:1),d,D;if(this.rawPaths=o,this.target=e,this.tween=n,this.styles=Xs&&Xs(e,"transform"),(this.rotate=a||a===0)&&(this.rOffset=parseFloat(a)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=Jo(e._gsap.get(e,this.rProp))||0),Array.isArray(r)&&!("closed"in r)&&typeof p!="number"){for(D in p)!h&&~Kl.indexOf(D)?h=D:!c&&~eu.indexOf(D)&&(c=D);h&&c?o.push(lr(this,mn(mn([],r,h,0),r,c,1),e,h,c,f,t,u||Jo(r[0][h]),l||Jo(r[0][c]))):h=c=0;for(D in p)D!==h&&D!==c&&o.push(lr(this,mn([],r,D,2),e,D,0,f,t,Jo(r[0][D])))}else d=f(sa(xs(t.path),e,t)),jo(d,t.resolution),o.push(d),Ss(this,e,t.x||"x",d,"x",t.unitX||"px"),Ss(this,e,t.y||"y",d,"y",t.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function(e,t){var n=t.rawPaths,o=n.length,s=t._pt;if(t.tween._time||!ar()){for(e>1?e=1:e<0&&(e=0);o--;)rr(n[o],e,!o&&t.rotate,n[o]);for(;s;)s.set(s.t,s.p,s.path[s.pp]+s.u,s.d,e),s=s._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?tu:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function(e){return jo(xs(e)).totalLength},sliceRawPath:qr,getRawPath:xs,pointsToSegment:pi,stringToRawPath:Ms,rawPathToString:Qr,transformRawPath:_n,getGlobalMatrix:rn,getPositionOnPath:rr,cacheRawPathMeasurements:jo,convertToPath:function(e,t){return hi(e).map(function(n){return jl(n,t!==!1)})},convertCoordinates:function(e,t,n){var o=rn(t,!0,!0).multiply(rn(e));return n?o.apply(n):o},getAlignMatrix:Di,getRelativePosition:function(e,t,n,o){var s=Di(e,t,n,o);return{x:s.e,y:s.f}},arrayToRawPath:function(e,t){t=t||{};var n=mn(mn([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&na(n),[t.type==="cubic"?n:pi(n,t.curviness)]}};ou()&&Qt.registerPlugin(ia);oe.registerPlugin(ia);function ru(i,e,t){const n=Mo(),o=5,s="/3D/jet.obj",r="/3D/ufo.obj",a=1200,u=500,l=-500,h=75,c=2,p={xMin:-800,xMax:800,yMin:100,yMax:800},f={xMin:-250,xMax:250,yMin:-250,yMax:250};let d=[],D=[],g=null,y=null,x=null,b=[],C=[],R=!1,F=null,w=null,U=null,P=1,E=0;const G=()=>new Promise((k,q)=>{new er().load(s,N=>{const B=N;B.name="jet";const _=new Cs().setFromObject(B),A=_.getCenter(new Te);B.position.sub(A),B.traverse(S=>{var O,Q;if(S instanceof Be){const fe=new zo(S.geometry,1),v=new dt({color:65280,depthTest:!0,fog:!0}),ye=new rt(fe,v);ye.frustumCulled=!1,(O=S.parent)==null||O.add(ye),(Q=S.parent)==null||Q.remove(S)}}),w=_,k(B)},void 0,N=>q(N))}),T=()=>new Promise((k,q)=>{new er().load(r,N=>{const B=N;B.name="ufo";const A=new Cs().setFromObject(B).getCenter(new Te);B.position.sub(A);const S=[];B.traverse(O=>{O instanceof Be&&S.push(O)}),S.forEach(O=>{var ye,Le;const Q=new zo(O.geometry,1),fe=new dt({color:O.name==="UFO_TOP_CAP"||O.name==="UFO_BOT_CAP"?16777215:255,depthTest:!0,fog:!0}),v=new rt(Q,fe);v.frustumCulled=!1,(ye=O.parent)==null||ye.add(v),(Le=O.parent)==null||Le.remove(O)}),k(B)},void 0,N=>{console.error("Failed to load UFO model:",N),q(N)})}),M=()=>{const k=new gr(10,90,8),q=new Ta(k),V=new dt({color:16777215,depthTest:!0,fog:!0}),N=new rt(q,V);if(N.frustumCulled=!1,N.name="flame",w){const B=w.max.y-w.min.y,_=w.max.z,A=w.min.y+B/2;N.position.set(0,A-20,_+45)}else N.position.set(0,0,45);return N.rotation.x=Math.PI/2,N},ee=(k,q)=>{const V=new Si(3),N=new ft({color:16711680,depthTest:!0,fog:!0}),B=new Be(V,N);return B.position.copy(k),B.quaternion.setFromUnitVectors(new Te(0,0,-1),q),B.frustumCulled=!1,B},te=k=>{const q=new Si(4),V=new ft({color:16777215,transparent:!0,opacity:.35,depthTest:!0,fog:!0}),N=new Be(q,V);return N.position.copy(k),N.frustumCulled=!1,N},De=k=>{if(!k||!k.visible)return;const q=k.position.clone(),V=new Te(0,0,-1).applyQuaternion(k.quaternion),N=new Te(0,1,0).applyQuaternion(k.quaternion),B=w?-(w.max.z+45):-65,_=q.clone().add(V.clone().multiplyScalar(B)).add(N.clone().multiplyScalar(5)),A=te(_);i.add(A),C.push(A),oe.to(A.material,{opacity:0,duration:1,ease:"none",onComplete:()=>{i.remove(A),A.geometry.dispose(),A.material.dispose();const S=C.indexOf(A);S>-1&&C.splice(S,1)}})},W=()=>{if(!g||!g.visible)return;const k=Ae.randInt(10,30),q=w?w.max.z:20;for(let V=0;V<k;V++)oe.delayedCall(V*.05,()=>{const N=g.position.clone(),B=new Te(0,0,-1).applyQuaternion(g.quaternion),_=new Te(0,1,0).applyQuaternion(g.quaternion),A=N.clone().add(B.clone().multiplyScalar(q)).add(_.clone().multiplyScalar(5)),S=ee(A,B);i.add(S),b.push(S);const O=1200,Q=3600,fe=Q/O;oe.to(S.position,{x:`+=${B.x*Q}`,y:`+=${B.y*Q}`,z:`+=${B.z*Q}`,duration:fe,ease:"none",onComplete:()=>{i.remove(S),S.geometry.dispose(),S.material.dispose();const v=b.indexOf(S);v>-1&&b.splice(v,1)}})})},ce=()=>{const k=[],q=Ae.degToRad(h),N=2*Math.tan(q/2)*(u-l)/(o-1)*c,B=N*(o-1)/2;for(let _=0;_<o;_++){const A=-B+_*N;k.push(new Te(A,u,l))}return k},se=()=>{const k=[],N=160/(o-1);for(let B=0;B<o;B++){const _=-80+B*N;k.push(Ae.degToRad(_))}return k},m=(k,q,V,N)=>{k.position.copy(V),k.rotation.z=N,k.visible=!0;const _=Math.abs(-1e4-V.z)/a,A=_*.3;let S=0;const O=Q=>{S+=Q,S>=1&&(De(k),S-=1)};oe.ticker.add(O),oe.to(k.position,{z:-1e4,duration:_,ease:"none",onComplete:()=>{oe.ticker.remove(O),i.remove(k),Y(k);const Q=d.indexOf(k);Q>-1&&(d.splice(Q,1),D.splice(Q,1))}}),oe.to(k.rotation,{z:0,duration:A,ease:"none"})},Y=k=>{k.traverse(q=>{(q instanceof Be||q instanceof rt)&&(q.geometry&&q.geometry.dispose(),q.material&&(Array.isArray(q.material)?q.material.forEach(V=>V.dispose()):q.material instanceof Ks&&q.material.dispose()))})},ae=()=>{const k=[],q=t.position.z-250,V=q-2e3,N=Ae.degToRad(t.fov),B=window.innerWidth/window.innerHeight,_=Math.abs(t.position.z-q),A=Math.abs(t.position.z-V),S=2*Math.tan(N/2)*_*B,O=2*Math.tan(N/2)*A*B,Q=S/2+200,fe=O/2+200,v=P;P=-P;const ye=v*Q,Le=-v*fe;k.push(new Te(ye,Ae.randFloat(p.yMin,p.yMax),q));let xe,Pe,ot;do xe=Ae.randFloat(p.xMin/2,p.xMax/2),Pe=Ae.randFloat(p.yMin,p.yMax),ot=Ae.randFloat(q,V);while(xe>f.xMin&&xe<f.xMax&&Pe>f.yMin&&Pe<f.yMax);return k.push(new Te(xe,Pe,ot)),k.push(new Te(Le,Ae.randFloat(p.yMin,p.yMax),V)),new ps(k,!1,"catmullrom",.5)},ie=(k,q)=>{U&&(U.kill(),U=null);const V=ae(),N=V.getLength(),B=450,_=N/B,A=Ae.randFloat(-.1,.1),S=B*(.9+A),O=450/B;x||(x=q.clone(),x.visible=!1,i.add(x)),x.visible=!0,x.position.copy(V.getPointAt(0)),x.rotation.set(0,0,0),g||(g=k.clone(),y=M(),g.add(y),g.visible=!1,i.add(g)),g.visible=!0,g.position.copy(V.getPointAt(0)),g.rotation.set(0,0,0);const Q={x:x.position.x,y:x.position.y,z:x.position.z,progress:0},fe={x:g.position.x,y:g.position.y,z:g.position.z,progress:0},v={x:0,y:0,z:0};U=oe.timeline({onComplete:()=>{x.visible=!1,g.visible=!1,b.forEach(xe=>{i.remove(xe),xe.geometry.dispose(),xe.material.dispose()}),b=[],C.forEach(xe=>{i.remove(xe),xe.geometry.dispose(),xe.material.dispose()}),C=[],oe.ticker.remove(Le),E=0,oe.delayedCall(1,ie,[k,q])}}),U.to(Q,{motionPath:{path:V.getPoints(50),autoRotate:!1},progress:1,duration:_,ease:"none",onUpdate:()=>{const xe=Q.progress;if(xe===void 0||xe<0||xe>1)return;const Pe=V.getPointAt(xe);x.position.set(Pe.x+v.x,Pe.y+v.y,Pe.z+v.z)}},0),oe.to(x.rotation,{y:"+=6.2832",duration:3,repeat:-1,ease:"none"});const ye=()=>{!x||!x.visible||oe.to(v,{x:Ae.randFloat(-20,20),y:Ae.randFloat(-20,20),z:Ae.randFloat(-20,20),duration:Ae.randFloat(.8,1.5),ease:"sine.inOut",onComplete:ye})};ye(),U.to(fe,{motionPath:{path:V.getPoints(50),autoRotate:!1},progress:1,duration:_*(B/S),ease:"none",onUpdate:()=>{const xe=fe.progress;if(xe===void 0||xe<0||xe>1)return;const Pe=V.getPointAt(xe);g.position.copy(Pe);const ot=V.getPointAt(Math.max(xe-.01,0)),st=Pe,Ke=V.getPointAt(Math.min(xe+.01,1)).clone().sub(st).normalize(),_t=st.clone().sub(ot).normalize();g.quaternion.setFromUnitVectors(new Te(0,0,-1),Ke);const tt=new Te().crossVectors(_t,Ke).normalize(),yt=_t.angleTo(Ke)*20,lt=Ae.clamp(yt,-Math.PI/4,Math.PI/4);g.rotateZ(tt.z>0?lt:-lt)}},O),oe.to({},{duration:2,repeat:Math.floor(_/2)-1,onRepeat:W});const Le=xe=>{E+=xe,E>=32&&(De(g),E-=32)};oe.ticker.add(Le)},_e=async()=>{try{const k=await G(),q=await T(),V=ce(),N=se();for(let B=0;B<o;B++){const _=k.clone(),A=M();_.add(A),_.position.copy(V[B]),_.rotation.z=N[B],_.visible=!1,i.add(_),d.push(_),D.push(A)}R=!0}catch(k){console.error("Jets initialization failed:",k),d=[],D=[]}};return{getInitializedData:async()=>{if(R)return Promise.resolve({jets:d,flames:D,dispose:F||(()=>{}),startJetAnimation:_});const k=2;let q=0;const V=()=>{q++;const A=q/k*100;n.setLoadingProgress(A,"jets")},N=await G().then(A=>(V(),A)),B=await T().then(A=>(V(),A));await _e(),F=()=>{d.forEach(A=>{i.remove(A),Y(A)}),g&&(i.remove(g),Y(g),g=null),x&&(i.remove(x),Y(x),x=null),b.forEach(A=>{i.remove(A),A.geometry.dispose(),A.material.dispose()}),b=[],C.forEach(A=>{i.remove(A),A.geometry.dispose(),A.material.dispose()}),C=[],d=[],D=[],U&&U.kill()};const _=()=>{const A=ce(),S=se();d.forEach((O,Q)=>{m(O,D[Q],A[Q],S[Q])}),oe.delayedCall(2,()=>ie(N,B))};return{jets:d,flames:D,dispose:F,startJetAnimation:_}}}}const $s=-520,cr=-720,fr=4e3,au=cn({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},emits:["camera-ready","scene-ready"],setup(i,{emit:e}){oe.registerPlugin(ke);const t=i,n=e,o=Mo();o.projects=t.projects;const s=vo(),r=Xe(!1),a=o.cubeSize,u=o.cubeSpacing,l=o.firstCubeZ,h={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0,showJets:!0},c=Xe(null),p=Xe(null),f=Xe(!1),d=Xe(!1),D=new Map;t.projects.filter(_=>_.keyart).length;let g,y,x,b,C,R,F,w=null,U=null,P=null,E=null,G=null,T=null,M=[],ee=null,te=null,De=0,W=null,ce,se=null,m=null,Y=null,ae=null,ie=null;const _e=xl("/fonts/Poppins_Regular.json"),Ze=()=>{const _=c.value?c.value.getBoundingClientRect().width:window.innerWidth,A=window.innerHeight,S=1,O=s.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;x.setSize(_*S,A*S),x.setPixelRatio(O),b.setSize(_*S,A*S),y.aspect=_/A,y.updateProjectionMatrix(),x.domElement.style.width=`${_}px`,x.domElement.style.height=`${A}px`},k=_=>D.has(_)?Promise.resolve(D.get(_)):new Promise((A,S)=>{new Ba().load(_,Q=>{Q.encoding=Js,D.set(_,Q),A(Q)},void 0,Q=>S(Q))}),q=async()=>{g=new Ma,g.background=new bt(0),g.fog=new Pa(0,700,fr),y=new Sa(s.isMobile?s.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,fr+6e3),y.position.set(0,0,0),y.lookAt(0,0,1e3),x=new Aa({antialias:!0}),s.isMobile?x.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):x.setPixelRatio(window.devicePixelRatio),x.toneMapping=Ra,x.toneMappingExposure=1,x.outputEncoding=Js,b=new rl(x);const _=new al(g,y);b.addPass(_);const A=new Xt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(s.isMobile?C=new Xo(A,1,.1,0):C=new Xo(A,1.6,.2,0),C.renderToScreen=!0,b.addPass(C),c.value)c.value.appendChild(x.domElement),x.domElement.style.opacity="0";else return;R=new In,R.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; z-index: 1000;"),document.body.appendChild(R.dom);const O=t.projects.filter(v=>v.keyart).length+2+1+1;let Q=0;const fe=()=>{Q++;const v=Q/O*100,ye=_e.loadingProgress.value;o.setLoadingProgress((v+ye/O)/(1+1/O)),Q===O&&_e.isLoaded.value&&(f.value=!0)};await _e.initialize().then(()=>{fe()}).catch(v=>{console.error("Font initialization failed:",v),fe()}),await k(t.projectGridFile).then(()=>fe()).catch(()=>fe()),await k(t.projectGridFile2).then(()=>fe()).catch(()=>fe());for(const v of t.projects)v.keyart?await k(v.keyart).then(()=>fe()).catch(()=>fe()):fe();W=cl(g,{CUBE_SIZE:a,CUBE_SPACING:u,FIRST_CUBE_Z:l},t.projects,t.projectGridFile,t.projectGridFile2,h,D,_e.font),ae=ru(g,h,y),await ae.getInitializedData().then(({dispose:v,startJetAnimation:ye})=>{T=v,ie=ye,fe()}).catch(v=>{console.error("Jets initialization failed:",v),fe()});try{if(await W.getInitializedData().then(({maxZ:v,updateCubeColors:ye,projectCubes:Le})=>{if(ce=v,ce===void 0||isNaN(ce))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:xe}=ul(g,_e.font,{CUBE_SIZE:a,FIRST_CUBE_Z:l},h);M=[...xe,...Le],ee=ye,n("camera-ready",y)}),h.showCars){const{cityGroup:v,updateParticles:ye,dispose:Le}=fl(g,g,ce,h);F=ye,G=Le}if(h.showStarfield){const{dispose:v}=dl(g,y,ce);w=v}if(h.showChasers){const{dispose:v,updateChasers:ye}=hl(g,ce);P=v,E=ye}Ze(),n("scene-ready")}catch(v){console.error("Error initializing project cubes:",v),ce=l-(t.projects.length+1)*u}},V=(_=0)=>{if(te=requestAnimationFrame(V),x&&b){const A=(_-De)/1e3;De=_,F(A),E&&E(A),W!=null&&W.updateClickHereParticles&&W.updateClickHereParticles(y,A);const S=4e3,O=1e3,Q=Math.abs(y.position.z-ce);y.far=Math.max(S+O,Q),y.updateProjectionMatrix();const fe=cr-$s;let v=0;y.position.z>=$s?v=0:y.position.z<=cr?v=1:v=(y.position.z-$s)/fe;const ye=.375,Le=1-Math.pow(1-v,2);let xe;s.isMobile?xe=Ae.lerp(1.3,ye,Le):xe=Ae.lerp(1.6,ye,Le),C.strength=xe,b.render()}R.update()},N=()=>{console.log("handleResize()"),Ze(),ke.refresh()},B=()=>{if(s.isMobile){const _=s.orientation;console.log("Resize: orientation",_,"lastOrientation",m),_!==m&&(m=_,Y&&clearTimeout(Y),Y=setTimeout(()=>{N(),Y=null},500))}else N()};return fn(()=>{q().then(()=>{if(f.value){te=requestAnimationFrame(V);let _=null;const A=W.getInitializedData().then(({projectCubes:O,maxZ:Q})=>{if(O.forEach(fe=>{fe.userData.isActive=!0}),y.position.set(0,0,5e3),y.lookAt(0,0,Q),y.updateProjectionMatrix(),ee(y),b.render(),ke.getAll().forEach(fe=>fe.kill()),M.length&&ee){const fe=pl(g,y,p,M,ee,{CUBE_SPACING:u,FIRST_CUBE_Z:l},{scrub:s.isMobile?.5:1},h,R);_=fe.setReverting,se=fe.isScrollTriggerActive}x&&U===null&&(U=W.setupInteractivity(y,x.domElement,x,fe=>{_&&_(fe)},se)),r.value=!0,window.scrollTo({top:0,behavior:"auto"})}),S=()=>{A.then(()=>{y.position.set(0,0,5e3),y.updateProjectionMatrix(),oe.to(x.domElement,{opacity:1,duration:.5,ease:"power4.out"});const O={z:5e3};oe.to(O,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{y.position.z=O.z,y.updateProjectionMatrix()},onComplete:()=>{y.position.z=0,d.value=!0,ie&&ie()}})})};oe.delayedCall(.5,S)}}).catch(_=>{console.error("Initialization failed:",_)}),window.addEventListener("resize",B)}),mi(()=>{te!==null&&cancelAnimationFrame(te),U&&U(),window.removeEventListener("resize",B),ke.getAll().forEach(_=>_.kill()),b&&(b.passes.forEach(_=>{_.dispose&&_.dispose()}),b.dispose()),C&&C.dispose(),D.forEach(_=>{_.dispose()}),D.clear(),g.traverse(_=>{_ instanceof Be&&(_.geometry&&_.geometry.dispose(),_.material&&(Array.isArray(_.material)?_.material.forEach(A=>A.dispose()):_.material.dispose()))}),g.fog&&(g.fog=null),g.background instanceof bt&&(g.background=null),g.clear(),x&&(x.dispose(),x.forceContextLoss(),x.domElement&&x.domElement.parentNode&&x.domElement.parentNode.removeChild(x.domElement)),R&&R.dom&&R.dom.parentNode&&R.dom.parentNode.removeChild(R.dom),w&&w(),P&&P(),G&&G(),T&&T(),te=null,x=null,b=null,C=null,g=null,y=null,R=null,F=null,w=null,U=null,P=null,E=null,G=null,M=[],ee=null,W=null,se=null}),(_,A)=>($e(),et("section",{ref_key:"wrapper",ref:p,class:Oo(["wrapper",{ready:r.value}])},[Re("div",{ref_key:"tunnelWrapper",ref:c,class:"tunnel-wrapper"},null,512)],2))}}),lu=pn(au,[["__scopeId","data-v-1727b700"]]),uu={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-28"},cu={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},fu={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},pu={key:2},du={key:3},hu=cn({__name:"IntroMessage",setup(i){const e=vo(),t=Mo(),{progress:n}=zn(t),o=Xe(null),s=oo(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return fn(()=>{const r=o.value.querySelector("svg path:nth-child(2)");r&&oe.to(r,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{r.position.y=0},repeat:-1})}),Eo(n,(r,a)=>{if(!o.value)return;const u=r>a,l=r<80,h=r>=80;(u&&h||!u&&l)&&(oe.killTweensOf(o.value),oe.to(o.value,{y:u?s.value:0,scale:u?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(r,a)=>($e(),et("div",uu,[Re("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm drop-shadow-white"},[an(e).isMobile?($e(),et("svg",cu,a[0]||(a[0]=[Re("g",null,[Re("g",null,[Re("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),Re("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):($e(),et("svg",fu,a[1]||(a[1]=[Re("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),Re("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),an(e).isMobile?($e(),et("div",pu,"SWIPE UP TO CONTINUE")):($e(),et("div",du,"SCROLL TO CONTINUE"))],512)]))}}),Du=pn(hu,[["__scopeId","data-v-282fe946"]]);/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gu=/(?:^\s+|\s+$)/g,mu=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function ra(i){var e=i.nodeType,t="";if(e===1||e===9||e===11){if(typeof i.textContent=="string")return i.textContent;for(i=i.firstChild;i;i=i.nextSibling)t+=ra(i)}else if(e===3||e===4)return i.nodeValue;return t}function gi(i,e,t,n,o){for(var s=i.firstChild,r=[],a;s;)s.nodeType===3?(a=(s.nodeValue+"").replace(/^\n+/g,""),n||(a=a.replace(/\s+/g," ")),r.push.apply(r,aa(a,e,t,n,o))):(s.nodeName+"").toLowerCase()==="br"?r[r.length-1]+="<br>":r.push(s.outerHTML),s=s.nextSibling;if(!o)for(a=r.length;a--;)r[a]==="&"&&r.splice(a,1,"&amp;");return r}function aa(i,e,t,n,o){if(i+="",t&&(i=i.trim?i.trim():i.replace(gu,"")),e&&e!=="")return i.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var s=[],r=i.length,a=0,u,l;a<r;a++)l=i.charAt(a),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||i.charCodeAt(a+1)>=65024&&i.charCodeAt(a+1)<=65039)&&(u=((i.substr(a,12).split(mu)||[])[1]||"").length||2,l=i.substr(a,u),s.emoji=1,a+=u-1),s.push(o?l:l===">"?"&gt;":l==="<"?"&lt;":n&&l===" "&&(i.charAt(a-1)===" "||i.charAt(a+1)===" ")?"&nbsp;":l);return s}/*!
 * TextPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var En,as,vu=function(){return En||typeof window<"u"&&(En=window.gsap)&&En.registerPlugin&&En},dn={version:"3.12.7",name:"text",init:function(e,t,n){typeof t!="object"&&(t={value:t});var o=e.nodeName.toUpperCase(),s=this,r=t,a=r.newClass,u=r.oldClass,l=r.preserveSpaces,h=r.rtl,c=s.delimiter=t.delimiter||"",p=s.fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),f,d,D,g,y,x,b,C;if(s.svg=e.getBBox&&(o==="TEXT"||o==="TSPAN"),!("innerHTML"in e)&&!s.svg)return!1;if(s.target=e,!("value"in t)){s.text=s.original=[""];return}for(D=gi(e,c,!1,l,s.svg),as||(as=document.createElement("div")),as.innerHTML=t.value,d=gi(as,c,!1,l,s.svg),s.from=n._from,(s.from||h)&&!(h&&s.from)&&(o=D,D=d,d=o),s.hasClass=!!(a||u),s.newClass=h?u:a,s.oldClass=h?a:u,o=D.length-d.length,f=o<0?D:d,o<0&&(o=-o);--o>-1;)f.push(p);if(t.type==="diff"){for(g=0,y=[],x=[],b="",o=0;o<d.length;o++)C=d[o],C===D[o]?b+=C:(y[g]=b+C,x[g++]=b+D[o],b="");d=y,D=x,b&&(d.push(b),D.push(b))}t.speed&&n.duration(Math.min(.05/t.speed*f.length,t.maxDuration||9999)),s.rtl=h,s.original=D,s.text=d,s._props.push("text")},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var n=t.text,o=t.hasClass,s=t.newClass,r=t.oldClass,a=t.delimiter,u=t.target,l=t.fillChar,h=t.original,c=t.rtl,p=n.length,f=(c?1-e:e)*p+.5|0,d,D,g;o&&e?(d=s&&f,D=r&&f!==p,g=(d?"<span class='"+s+"'>":"")+n.slice(0,f).join(a)+(d?"</span>":"")+(D?"<span class='"+r+"'>":"")+a+h.slice(f).join(a)+(D?"</span>":"")):g=n.slice(0,f).join(a)+a+h.slice(f).join(a),t.svg?u.textContent=g:u.innerHTML=l==="&nbsp;"&&~g.indexOf("  ")?g.split("  ").join("&nbsp;&nbsp;"):g}};dn.splitInnerHTML=gi;dn.emojiSafeSplit=aa;dn.getText=ra;vu()&&En.registerPlugin(dn);const xu=1e4,yu=cn({__name:"HUDMiniMap",props:{project:{}},setup(i){const e=i,t=vo(),n=Mo(),o=n.projects||[],{progress:s,isInPortalLock:r,activeProjectIndex:a,cubeMetadata:u}=zn(n),{screenWidth:l}=zn(t),h=n.cubeSpacing,c=n.firstCubeZ,p=oo(()=>l.value<768),f=1+o.length,d=oo(()=>p.value?l.value-16:(f-1)*16*2),D=oo(()=>p.value?d.value/((f-1)*2):16),g=oo(()=>D.value/2),y=oo(()=>d.value/xu),x=Xe(0),b=Xe(0),C=Xe(null),R=Xe(null),F=Xe(null),w=Xe([]),U=Xe(null),P=oo(()=>Math.abs(c)*y.value),E=oo(()=>o.map((M,ee)=>(Math.abs(c)+(ee+1)*h)*y.value)),G=M=>{const ee=M*y.value+D.value/2;x.value=Math.min(Math.max(ee,0),d.value-g.value)};Eo(s,M=>{r.value||oe.to(x,{value:M*y.value+D.value/2,duration:.3,ease:"power2.out",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),d.value-g.value)}})},{immediate:!0}),Eo(o,()=>{console.log("Projects changed, re-rendering cubes")}),Eo([r,a],([M,ee],[te])=>{var De,W;if(M&&ee!==null&&!te){const ce=E.value[ee]+D.value/2;let se=0;const m=(De=o[ee])==null?void 0:De.keyartLocation,Y=(W=u.value)==null?void 0:W.find(ie=>ie.index===ee),ae=(Y==null?void 0:Y.flipped)||!1;switch(m){case"left":case"bottom":se=ae?-90:90;break;case"right":case"top":se=ae?90:-90;break}oe.to(x,{value:ce,duration:1,ease:"power2.out",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),d.value-g.value)}}),oe.to(U.value,{rotation:se,duration:1,ease:"power2.out",onUpdate:()=>{var ie;b.value=((ie=U.value)==null?void 0:ie.rotation)||0}})}else!M&&te&&(oe.to(x,{value:s.value*y.value+D.value/2,duration:2,ease:"power3.inOut",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),d.value-g.value)}}),oe.to(U.value,{rotation:0,duration:2,ease:"power3.inOut",onUpdate:()=>{var ce;b.value=((ce=U.value)==null?void 0:ce.rotation)||0}}))});const T=()=>{G(s.value)};return fn(()=>{var M;if(G(s.value),C.value){const ee=[R.value,F.value,...((M=F.value)==null?void 0:M.querySelectorAll("div"))||[],...w.value,U.value].filter(Boolean);oe.to(ee,{opacity:1,duration:.5,ease:"power2.out",stagger:.1,delay:.5,overwrite:!1})}window.addEventListener("resize",T)}),mi(()=>{window.removeEventListener("resize",T)}),(M,ee)=>($e(),et("div",{ref_key:"mapContainer",ref:C,class:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bottom-4 h-4",style:xo({width:`${d.value}px`,position:"relative"})},[Re("div",{ref_key:"dashedPath",ref:R,class:"absolute top-1/2 -translate-y-1/2 h-px border-dotted border-t border-green-500/60 hidden-el",style:xo({width:`${d.value-g.value}px`,left:`${g.value/2}px`})},null,4),Re("div",{ref_key:"introCube",ref:F,class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 hidden-el introCube",style:xo({width:`${D.value}px`,height:`${D.value}px`,left:`${P.value}px`})},[Re("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:xo({width:`${D.value*.75}px`,height:`${D.value*.75}px`})},[Re("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:xo({width:`${D.value*.5}px`,height:`${D.value*.5}px`})},[Re("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:xo({width:`${D.value*.25}px`,height:`${D.value*.25}px`})},null,4)],4)],4)],4),($e(!0),et(Nn,null,Hn(an(o),(te,De)=>{var W,ce;return $e(),et("div",{key:De,ref_for:!0,ref:se=>w.value[De]=se,class:Oo(["border absolute top-1/2 -translate-y-1/2 hidden-el",{"border-fuchsia-600 shadow-fuchsia":((W=e.project)==null?void 0:W.slug)===te.slug&&e.project!==null,"border-cyan-600/60":((ce=e.project)==null?void 0:ce.slug)!==te.slug||e.project===null}]),style:xo({width:`${D.value}px`,height:`${D.value}px`,left:`${E.value[De]}px`})},null,6)}),128)),($e(),et("svg",{ref_key:"cameraSvg",ref:U,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 hidden-el",style:xo({width:`${g.value}px`,left:`${x.value}px`})},ee[0]||(ee[0]=[Re("path",{class:"fill-green-500",d:"M0,0l32,18.3,383.8,219.3,32.2,18.4-32.2,18.4L32,493.7,0,512V0ZM383.5,256L32,55.1v401.7l351.5-200.8Z"},null,-1)]),4))],4))}}),Cu=pn(yu,[["__scopeId","data-v-e1752c14"]]),wu={class:"fixed inset-0 pointer-events-none z-10 font-sans"},_u={class:"px-2 md:px-4 py-2 md:py-4 bg-black/70 md:h-[3.75vw] 3xl:h-[3.75rem] flex items-center"},bu=["innerHTML"],Eu={key:1,class:"md:flex items-center justify-between w-full"},Fu={class:"md:flex items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto"},Tu={class:"flex-shrink-0 tracking-tighter md:tracking-normal font-mono text-white md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem] drop-shadow-white"},Mu={class:"flex-shrink-0 font-mono text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},Pu=["innerHTML"],Su=["innerHTML"],Au={key:0,class:"contributions flex flex-wrap md:flex-nowrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0"},Ru={key:1,class:"segments flex flex-wrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0 drop-shadow-white"},Bu={class:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-black/70 h-12 w-full"},ku={class:"absolute hidden font-mono md:block text-green-400/50 text-xxxs left-[90%] top-1/2 -translate-y-1/2"},pr=.125,Lu=cn({__name:"HUD",props:{camera:{},ready:{type:Boolean}},emits:["scene-ready"],setup(i,{emit:e}){oe.registerPlugin(dn);const t=i,n=e,o=Mo(),s=vo(),{projects:r,isInPortalLock:a,activeProjectIndex:u}=zn(o),l=Xe(!0),h=Xe(0),c=Xe(null),p=Xe(null),f=Xe(null),d=Xe(null),D=Xe(null),g=Xe(null),y=o.cubeSpacing,x=Xe(!1),b=Xe(!1),C=Xe("WEB DESIGN + DEVELOPMENT: ENTERTAINMENT, ECOMMERCE, HOSPITALITY + TECHNOLOGY");let R=null,F=null;const w=(T,M)=>{if(!t.ready)return!1;const ee=T;let te=!1,De=h.value,W=c.value;r.value.forEach((se,m)=>{const Y=700+m*y,ae=1e3+m*y;ee>=Y&&ee<ae&&(te=!0,De=m,W=se)});const ce=[p.value,f.value].filter(Boolean);ce.length&&(te&&!x.value?(x.value=!0,h.value=De,c.value=W,F&&F.kill(),R=oe.to(ce,{autoAlpha:1,duration:pr,overwrite:"auto"})):!te&&x.value&&(x.value=!1,R&&R.kill(),F=oe.to(ce,{autoAlpha:0,duration:pr,overwrite:"auto",onComplete:()=>{c.value=null}})))},U=oo(()=>{if(!c.value)return"text-white/50";switch(c.value.classification){case Ht.Enums.Classification.ENTERTAINMENT:return"text-red-600 drop-shadow-red";case Ht.Enums.Classification.ECOMMERCE:return"text-green-600 drop-shadow-green";case Ht.Enums.Classification.OTHER:return"text-blue-600";default:return"text-white/50"}}),P=T=>{switch(T){case Ht.Enums.Contributions.BACKEND:return"fill-red-400";case Ht.Enums.Contributions.FRONTEND:return"fill-blue-400";case Ht.Enums.Contributions.DEVOPS:return"fill-green-500";case Ht.Enums.Contributions.DESIGN:return"fill-purple-400";case Ht.Enums.Contributions.IDEATION:return"fill-magenta-400";case Ht.Enums.Contributions.UX:return"fill-yellow-400";default:return"fill-green-500"}},E=()=>{g.value&&!b.value&&oe.to(g.value,{duration:2,text:{value:C.value},delay:1,onComplete:()=>{b.value=!0}})},G=()=>{c.value&&(o.setScrollPosition(window.scrollY),dr.visit(route("project.show",{project:c.value.slug}),{}))};return fn(()=>{var ee,te;const T=(ee=d.value)==null?void 0:ee.querySelector("div"),M=(te=D.value)==null?void 0:te.querySelector("div");if(T&&M){const De=window.innerWidth-(s.isMobile?16:42);oe.to([T,M],{opacity:1,width:De,duration:2,onComplete:()=>{n("scene-ready")}})}E()}),mi(()=>{R&&R.kill(),F&&F.kill()}),Eo(()=>o.progress,(T,M)=>{l.value=T<500,w(T)},{immediate:!0}),Eo(()=>t.camera,T=>{T&&w(o.progress)},{immediate:!1}),Eo(()=>t.ready,T=>{T&&w(0)}),(T,M)=>($e(),et("div",wu,[M[4]||(M[4]=Da('<svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true" data-v-0aae0fd5><defs data-v-0aae0fd5><pattern id="grid-pattern2" width="12" height="12" patternUnits="userSpaceOnUse" data-v-0aae0fd5><line x1="0" y1="0" x2="0" y2="12" stroke="green" stroke-width="1" opacity="0.15" data-v-0aae0fd5></line><line x1="0" y1="0" x2="12" y2="0" stroke="green" stroke-width="1" opacity="0.15" data-v-0aae0fd5></line></pattern></defs><rect width="100%" height="100%" fill="url(#grid-pattern2)" data-v-0aae0fd5></rect></svg>',1)),Re("div",_u,[Ro(hr,{name:"slide-up",mode:"out-in"},{default:Zs(()=>{var ee,te,De,W,ce,se,m;return[l.value?($e(),et("div",{key:0,ref_key:"introMessageRef",ref:g,class:"relative pointer-events-auto font-mono text-xs text-green-500 text-center w-full text-white drop-shadow-white",innerHTML:b.value?C.value:"X540%512053%)4KF405=31650-3215-503=4400%254=053-50135FFKMFLKFJ04-3515-FFLH>F"},null,8,bu)):($e(),et("div",Eu,[Re("div",{ref_key:"projectTitleEl",ref:f,class:"md:flex md:items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto",style:{opacity:"0"}},[Re("div",Fu,[Re("h1",Tu,Ko(((ee=c.value)==null?void 0:ee.title)||""),1),Re("h2",Mu,[Re("span",{class:"text-white/50 font-medium",innerHTML:((te=c.value)==null?void 0:te.client)||""},null,8,Pu),M[0]||(M[0]=qs(" · ")),Re("span",{class:Oo(U.value),innerHTML:((De=c.value)==null?void 0:De.classification)||""},null,10,Su)])]),((W=c.value)==null?void 0:W.contributions.length)>0?($e(),et("div",Au,[($e(!0),et(Nn,null,Hn((ce=c.value)==null?void 0:ce.contributions,(Y,ae)=>($e(),et("span",{key:ae,class:"inline-flex items-center gap-x-2 md:gap-x-[.5vw] 3xl:gap-x-[.5rem] rounded-full px-2 md:px-[.5vw] 3xl:px-[.5rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.575vw] 3xl:text-[.575rem] font-medium ring-1 ring-inset"},[($e(),et("svg",{class:Oo(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",P(Y)]),viewBox:"0 0 6 6","aria-hidden":"true"},M[1]||(M[1]=[Re("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),qs(" "+Ko(Y),1)]))),128))])):Fn("",!0),((se=c.value)==null?void 0:se.segments.length)>0?($e(),et("div",Ru,[($e(!0),et(Nn,null,Hn((m=c.value)==null?void 0:m.segments,(Y,ae)=>($e(),et("span",{key:ae,class:"inline-flex items-center rounded-full px-2 md:px-[.375vw] 3xl:px-[.375rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.5vw] 3xl:text-[.5rem] font-medium ring-1 ring-inset fill-white-400/10 text-white-400 ring-white/20"},Ko(Y),1))),128))])):Fn("",!0)],512),Re("div",{class:"flex justify-end md:block",ref_key:"clickHereEl",ref:p,style:{opacity:"0"}},[Re("button",{onClick:G,class:"border border-current rounded-none px-2 py-1 mt-2 md:mt-0 whitespace-nowrap font-mono text-xxs text-white rounded transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"}," SEE PROJECT DETAILS ")],512)]))]}),_:1})]),Re("div",{ref_key:"borderTopEl",ref:d,class:"flex justify-center"},M[2]||(M[2]=[Re("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),Re("div",Bu,[Re("div",{ref_key:"borderBottomEl",ref:D,class:"flex justify-center"},M[3]||(M[3]=[Re("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),T.ready?($e(),ls(Cu,{key:0,project:c.value},null,8,["project"])):Fn("",!0),Re("div",ku,[Re("span",null,Ko(an(o).progress.toString().padStart(10,"0")+".00"),1)])])]))}}),Iu=pn(Lu,[["__scopeId","data-v-0aae0fd5"]]),Ou={class:"preloader"},zu={key:1,class:"progress-label font-mono drop-shadow-white"},Nu=cn({__name:"Preloader",props:{progress:{}},setup(i){const e=Xe(null);oe.registerPlugin(dn);const t=Xe(!1),n=Xe(!1),o=i;return Eo(()=>o.progress,s=>{s>0&&!n&&(n.value=!0)}),fn(()=>{oe.to(e.value,{duration:.5,text:{value:"INITIALIZING..."},delay:.25,onComplete:()=>{oe.to(e.value,{duration:.5,alpha:0,y:-30,onComplete:()=>{t.value=!0}})}})}),(s,r)=>($e(),et("div",Ou,[t.value?($e(),et("div",zu,Ko(Math.round(s.progress))+"%",1)):($e(),et("div",{key:0,ref_key:"initTextRef",ref:e,class:"drop-shadow-white"},null,512))]))}}),Hu=pn(Nu,[["__scopeId","data-v-014ad8ef"]]),Uu={class:"relative bg-black text-white"},ju={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Gu={class:"mt-16 px-4 md:px-16"},Yu={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Vu=["innerHTML"],Wu={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},Xu=cn({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(i){const e=i,t=Mo(),{loadingProgress:n}=zn(t),o=Xe(null),s=Xe(!1);Xe(!1);const r=Xe(!1),a=c=>{o.value=c},u=oo(()=>[...e.archived].sort((c,p)=>c.title.localeCompare(p.title))),l=oo(()=>Object.values(Ht.Enums.Classification)),h=c=>{switch(c){case Ht.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case Ht.Enums.Classification.ECOMMERCE:return"fill-green-500";case Ht.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return fn(()=>{}),(c,p)=>($e(),ls(Ia,null,{default:Zs(()=>[Ro(an(ga),{title:"Welcome"}),Re("div",Uu,[Re("nav",ju,[Ro(ka)]),Re("div",{class:Oo(["scene-wrap overflow-hidden relative",{ready:s.value}])},[r.value?($e(),ls(lu,{key:0,projects:c.projects,"project-grid-file":c.projectGridFile,"project-grid-file2":c.projectGridFile2,onCameraReady:a,onSceneReady:p[0]||(p[0]=f=>s.value=!0)},null,8,["projects","project-grid-file","project-grid-file2"])):Fn("",!0),Ro(hr,{name:"fade"},{default:Zs(()=>[s.value?Fn("",!0):($e(),ls(Hu,{key:0,progress:an(n)||0},null,8,["progress"]))]),_:1}),Ro(Du),Ro(Iu,{camera:o.value,ready:s.value,onSceneReady:p[1]||(p[1]=f=>r.value=!0)},null,8,["camera","ready"])],2),Re("div",Gu,[p[4]||(p[4]=Re("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),Re("ul",Yu,[($e(!0),et(Nn,null,Hn(u.value,(f,d)=>($e(),et("li",{class:"text-xs text-white/80 flex items-center gap-2",key:d},[($e(),et("svg",{class:Oo(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",h(f.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},p[2]||(p[2]=[Re("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Re("span",{innerHTML:f.title},null,8,Vu)]))),128))]),Re("ul",Wu,[($e(!0),et(Nn,null,Hn(l.value,f=>($e(),et("li",{class:"flex items-center gap-2",key:f},[($e(),et("svg",{class:Oo(["size-3",h(f)]),viewBox:"0 0 6 6","aria-hidden":"true"},p[3]||(p[3]=[Re("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),qs(" "+Ko(f),1)]))),128))])]),p[5]||(p[5]=Re("div",{class:"flex justify-center items-center"},null,-1)),p[6]||(p[6]=Re("div",{class:"flex justify-center items-center"},null,-1)),Ro(La)])]),_:1}))}}),Ju=pn(Xu,[["__scopeId","data-v-eb984488"]]);export{Ju as default};
