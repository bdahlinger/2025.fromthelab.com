import{W as Dr,d as Je,M as ln,E as mo,I as fn,x as pn,y as Bi,e as ot,o as Qe,a as Le,n as zo,j as no,u as Wo,G as wo,F as Hn,h as Un,p as Da,b as Bo,w as Ji,f as Tn,t as Lo,g as Qi,T as gr,c as ui,N as ga,m as ma}from"./app-C25qxT3z.js";import{c as Ie,O as va,h as eo,F as bo,l as Io,U as Ki,V as Xt,m as ci,H as fi,N as xa,C as wa,n as Tt,f as Te,b as uo,o as ht,e as mt,G as Zt,g as te,p as xe,B as un,E as No,L as ct,q as ya,u as Mo,R as Ca,r as ws,s as mr,P as yo,a as $t,t as Mn,v as Ci,w as As,Q as ba,I as _a,x as Ii,y as es,z as pi,J as di,K as Oi,T as Ea,X as vr,Y as xr,Z as Fa,_ as ts,$ as os,a0 as Yn,M as Ta,a1 as Ma,a2 as Sa,a3 as Bs,S as Pa,a4 as Aa,a5 as Ba,W as Ra,a6 as ka,a7 as La,d as Ht,j as Ia,k as Oa}from"./GlobalFooter-DI-09nbS.js";import{u as xo,_ as za}from"./App.vue_vue_type_script_setup_true_lang-Bor5zxf1.js";import{_ as dn}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Na(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function Ha(s,e,t){return e&&Na(s.prototype,e),s}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Mt,hi,Vt,_o,Eo,nn,wr,Ro,Sn,yr,Do,oo,Cr,br=function(){return Mt||typeof window<"u"&&(Mt=window.gsap)&&Mt.registerPlugin&&Mt},_r=1,tn=[],$e=[],fo=[],Pn=Date.now,ns=function(e,t){return t},Ua=function(){var e=Sn.core,t=e.bridge||{},n=e._scrollers,o=e._proxies;n.push.apply(n,$e),o.push.apply(o,fo),$e=n,fo=o,ns=function(r,a){return t[r](a)}},Fo=function(e,t){return~fo.indexOf(e)&&fo[fo.indexOf(e)+1][t]},An=function(e){return!!~yr.indexOf(e)},kt=function(e,t,n,o,i){return e.addEventListener(t,n,{passive:o!==!1,capture:!!i})},Rt=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},$n="scrollLeft",Xn="scrollTop",is=function(){return Do&&Do.isPressed||$e.cache++},bi=function(e,t){var n=function o(i){if(i||i===0){_r&&(Vt.history.scrollRestoration="manual");var r=Do&&Do.isPressed;i=o.v=Math.round(i)||(Do&&Do.iOS?1:0),e(i),o.cacheID=$e.cache,r&&ns("ss",i)}else(t||$e.cache!==o.cacheID||ns("ref"))&&(o.cacheID=$e.cache,o.v=e());return o.v+o.offset};return n.offset=0,e&&n},zt={s:$n,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:bi(function(s){return arguments.length?Vt.scrollTo(s,_t.sc()):Vt.pageXOffset||_o[$n]||Eo[$n]||nn[$n]||0})},_t={s:Xn,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:zt,sc:bi(function(s){return arguments.length?Vt.scrollTo(zt.sc(),s):Vt.pageYOffset||_o[Xn]||Eo[Xn]||nn[Xn]||0})},Nt=function(e,t){return(t&&t._ctx&&t._ctx.selector||Mt.utils.toArray)(e)[0]||(typeof e=="string"&&Mt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},To=function(e,t){var n=t.s,o=t.sc;An(e)&&(e=_o.scrollingElement||Eo);var i=$e.indexOf(e),r=o===_t.sc?1:2;!~i&&(i=$e.push(e)-1),$e[i+r]||kt(e,"scroll",is);var a=$e[i+r],u=a||($e[i+r]=bi(Fo(e,n),!0)||(An(e)?o:bi(function(l){return arguments.length?e[n]=l:e[n]})));return u.target=e,a||(u.smooth=Mt.getProperty(e,"scrollBehavior")==="smooth"),u},ss=function(e,t,n){var o=e,i=e,r=Pn(),a=r,u=t||50,l=Math.max(500,u*3),d=function(h,D){var v=Pn();D||v-r>u?(i=o,o=h,a=r,r=v):n?o+=h:o=i+(h-i)/(v-a)*(r-a)},c=function(){i=o=n?0:o,a=r=0},p=function(h){var D=a,v=i,y=Pn();return(h||h===0)&&h!==o&&d(h),r===a||y-a>l?0:(o+(n?v:-v))/((n?y:r)-D)*1e3};return{update:d,reset:c,getVelocity:p}},gn=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Rs=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Er=function(){Sn=Mt.core.globals().ScrollTrigger,Sn&&Sn.core&&Ua()},Fr=function(e){return Mt=e||br(),!hi&&Mt&&typeof document<"u"&&document.body&&(Vt=window,_o=document,Eo=_o.documentElement,nn=_o.body,yr=[Vt,_o,Eo,nn],Mt.utils.clamp,Cr=Mt.core.context||function(){},Ro="onpointerenter"in nn?"pointer":"mouse",wr=Dt.isTouch=Vt.matchMedia&&Vt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Vt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,oo=Dt.eventTypes=("ontouchstart"in Eo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Eo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _r=0},500),Er(),hi=1),hi};zt.op=_t;$e.cache=0;var Dt=function(){function s(t){this.init(t)}var e=s.prototype;return e.init=function(n){hi||Fr(Mt)||console.warn("Please gsap.registerPlugin(Observer)"),Sn||Er();var o=n.tolerance,i=n.dragMinimum,r=n.type,a=n.target,u=n.lineHeight,l=n.debounce,d=n.preventDefault,c=n.onStop,p=n.onStopDelay,f=n.ignore,h=n.wheelSpeed,D=n.event,v=n.onDragStart,y=n.onDragEnd,C=n.onDrag,M=n.onPress,_=n.onRelease,j=n.onRight,T=n.onLeft,E=n.onUp,P=n.onDown,N=n.onChangeX,x=n.onChangeY,Y=n.onChange,L=n.onToggleX,U=n.onToggleY,Z=n.onHover,q=n.onHoverEnd,ce=n.onMove,$=n.ignoreCheck,se=n.isNormalizer,re=n.onGestureStart,m=n.onGestureEnd,J=n.onWheel,ue=n.onEnable,oe=n.onDisable,we=n.onClick,Xe=n.scrollSpeed,Se=n.capture,Re=n.allowClicks,Pe=n.lockAxis,W=n.onLockAxis;this.target=a=Nt(a)||Eo,this.vars=n,f&&(f=Mt.utils.toArray(f)),o=o||1e-9,i=i||0,h=h||1,Xe=Xe||1,r=r||"wheel,touch,pointer",l=l!==!1,u||(u=parseFloat(Vt.getComputedStyle(nn).lineHeight)||22);var Ae,H,Ee,ae,fe,ye,Be,w=this,be=0,Oe=0,qe=n.passive||!d&&n.passive!==!1,Ne=To(a,zt),ft=To(a,_t),ut=Ne(),pt=ft(),st=~r.indexOf("touch")&&!~r.indexOf("pointer")&&oo[0]==="pointerdown",vt=An(a),rt=a.ownerDocument||_o,xt=[0,0,0],nt=[0,0,0],it=0,V=function(){return it=Pn()},Q=function(B,De){return(w.event=B)&&f&&~f.indexOf(B.target)||De&&st&&B.pointerType!=="touch"||$&&$(B,De)},g=function(){w._vx.reset(),w._vy.reset(),H.pause(),c&&c(w)},O=function(){var B=w.deltaX=Rs(xt),De=w.deltaY=Rs(nt),z=Math.abs(B)>=o,Ce=Math.abs(De)>=o;Y&&(z||Ce)&&Y(w,B,De,xt,nt),z&&(j&&w.deltaX>0&&j(w),T&&w.deltaX<0&&T(w),N&&N(w),L&&w.deltaX<0!=be<0&&L(w),be=w.deltaX,xt[0]=xt[1]=xt[2]=0),Ce&&(P&&w.deltaY>0&&P(w),E&&w.deltaY<0&&E(w),x&&x(w),U&&w.deltaY<0!=Oe<0&&U(w),Oe=w.deltaY,nt[0]=nt[1]=nt[2]=0),(ae||Ee)&&(ce&&ce(w),Ee&&(v&&Ee===1&&v(w),C&&C(w),Ee=0),ae=!1),ye&&!(ye=!1)&&W&&W(w),fe&&(J(w),fe=!1),Ae=0},R=function(B,De,z){xt[z]+=B,nt[z]+=De,w._vx.update(B),w._vy.update(De),l?Ae||(Ae=requestAnimationFrame(O)):O()},I=function(B,De){Pe&&!Be&&(w.axis=Be=Math.abs(B)>Math.abs(De)?"x":"y",ye=!0),Be!=="y"&&(xt[2]+=B,w._vx.update(B,!0)),Be!=="x"&&(nt[2]+=De,w._vy.update(De,!0)),l?Ae||(Ae=requestAnimationFrame(O)):O()},k=function(B){if(!Q(B,1)){B=gn(B,d);var De=B.clientX,z=B.clientY,Ce=De-w.x,S=z-w.y,A=w.isDragging;w.x=De,w.y=z,(A||(Ce||S)&&(Math.abs(w.startX-De)>=i||Math.abs(w.startY-z)>=i))&&(Ee=A?2:1,A||(w.isDragging=!0),I(Ce,S))}},F=w.onPress=function(le){Q(le,1)||le&&le.button||(w.axis=Be=null,H.pause(),w.isPressed=!0,le=gn(le),be=Oe=0,w.startX=w.x=le.clientX,w.startY=w.y=le.clientY,w._vx.reset(),w._vy.reset(),kt(se?a:rt,oo[1],k,qe,!0),w.deltaX=w.deltaY=0,M&&M(w))},b=w.onRelease=function(le){if(!Q(le,1)){Rt(se?a:rt,oo[1],k,!0);var B=!isNaN(w.y-w.startY),De=w.isDragging,z=De&&(Math.abs(w.x-w.startX)>3||Math.abs(w.y-w.startY)>3),Ce=gn(le);!z&&B&&(w._vx.reset(),w._vy.reset(),d&&Re&&Mt.delayedCall(.08,function(){if(Pn()-it>300&&!le.defaultPrevented){if(le.target.click)le.target.click();else if(rt.createEvent){var S=rt.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,Vt,1,Ce.screenX,Ce.screenY,Ce.clientX,Ce.clientY,!1,!1,!1,!1,0,null),le.target.dispatchEvent(S)}}})),w.isDragging=w.isGesturing=w.isPressed=!1,c&&De&&!se&&H.restart(!0),Ee&&O(),y&&De&&y(w),_&&_(w,z)}},ne=function(B){return B.touches&&B.touches.length>1&&(w.isGesturing=!0)&&re(B,w.isDragging)},G=function(){return(w.isGesturing=!1)||m(w)},ge=function(B){if(!Q(B)){var De=Ne(),z=ft();R((De-ut)*Xe,(z-pt)*Xe,1),ut=De,pt=z,c&&H.restart(!0)}},K=function(B){if(!Q(B)){B=gn(B,d),J&&(fe=!0);var De=(B.deltaMode===1?u:B.deltaMode===2?Vt.innerHeight:1)*h;R(B.deltaX*De,B.deltaY*De,0),c&&!se&&H.restart(!0)}},Fe=function(B){if(!Q(B)){var De=B.clientX,z=B.clientY,Ce=De-w.x,S=z-w.y;w.x=De,w.y=z,ae=!0,c&&H.restart(!0),(Ce||S)&&I(Ce,S)}},ke=function(B){w.event=B,Z(w)},et=function(B){w.event=B,q(w)},Ze=function(B){return Q(B)||gn(B,d)&&we(w)};H=w._dc=Mt.delayedCall(p||.25,g).pause(),w.deltaX=w.deltaY=0,w._vx=ss(0,50,!0),w._vy=ss(0,50,!0),w.scrollX=Ne,w.scrollY=ft,w.isDragging=w.isGesturing=w.isPressed=!1,Cr(this),w.enable=function(le){return w.isEnabled||(kt(vt?rt:a,"scroll",is),r.indexOf("scroll")>=0&&kt(vt?rt:a,"scroll",ge,qe,Se),r.indexOf("wheel")>=0&&kt(a,"wheel",K,qe,Se),(r.indexOf("touch")>=0&&wr||r.indexOf("pointer")>=0)&&(kt(a,oo[0],F,qe,Se),kt(rt,oo[2],b),kt(rt,oo[3],b),Re&&kt(a,"click",V,!0,!0),we&&kt(a,"click",Ze),re&&kt(rt,"gesturestart",ne),m&&kt(rt,"gestureend",G),Z&&kt(a,Ro+"enter",ke),q&&kt(a,Ro+"leave",et),ce&&kt(a,Ro+"move",Fe)),w.isEnabled=!0,w.isDragging=w.isGesturing=w.isPressed=ae=Ee=!1,w._vx.reset(),w._vy.reset(),ut=Ne(),pt=ft(),le&&le.type&&F(le),ue&&ue(w)),w},w.disable=function(){w.isEnabled&&(tn.filter(function(le){return le!==w&&An(le.target)}).length||Rt(vt?rt:a,"scroll",is),w.isPressed&&(w._vx.reset(),w._vy.reset(),Rt(se?a:rt,oo[1],k,!0)),Rt(vt?rt:a,"scroll",ge,Se),Rt(a,"wheel",K,Se),Rt(a,oo[0],F,Se),Rt(rt,oo[2],b),Rt(rt,oo[3],b),Rt(a,"click",V,!0),Rt(a,"click",Ze),Rt(rt,"gesturestart",ne),Rt(rt,"gestureend",G),Rt(a,Ro+"enter",ke),Rt(a,Ro+"leave",et),Rt(a,Ro+"move",Fe),w.isEnabled=w.isPressed=w.isDragging=!1,oe&&oe(w))},w.kill=w.revert=function(){w.disable();var le=tn.indexOf(w);le>=0&&tn.splice(le,1),Do===w&&(Do=0)},tn.push(w),se&&An(a)&&(Do=w),w.enable(D)},Ha(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();Dt.version="3.12.7";Dt.create=function(s){return new Dt(s)};Dt.register=Fr;Dt.getAll=function(){return tn.slice()};Dt.getById=function(s){return tn.filter(function(e){return e.vars.id===s})[0]};br()&&Mt.registerPlugin(Dt);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var he,Qo,Ye,at,Gt,tt,ys,_i,jn,Bn,xn,Zn,Pt,Ri,rs,It,ks,Ls,Ko,Tr,zi,Mr,Lt,as,Sr,Pr,Co,ls,Cs,sn,bs,Ei,us,Ni,qn=1,At=Date.now,Hi=At(),to=0,wn=0,Is=function(e,t,n){var o=jt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=o,o?e.substr(6,e.length-7):e},Os=function(e,t){return t&&(!jt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},ja=function s(){return wn&&requestAnimationFrame(s)},zs=function(){return Ri=1},Ns=function(){return Ri=0},lo=function(e){return e},yn=function(e){return Math.round(e*1e5)/1e5||0},Ar=function(){return typeof window<"u"},Br=function(){return he||Ar()&&(he=window.gsap)&&he.registerPlugin&&he},Yo=function(e){return!!~ys.indexOf(e)},Rr=function(e){return(e==="Height"?bs:Ye["inner"+e])||Gt["client"+e]||tt["client"+e]},kr=function(e){return Fo(e,"getBoundingClientRect")||(Yo(e)?function(){return xi.width=Ye.innerWidth,xi.height=bs,xi}:function(){return po(e)})},Ga=function(e,t,n){var o=n.d,i=n.d2,r=n.a;return(r=Fo(e,"getBoundingClientRect"))?function(){return r()[o]}:function(){return(t?Rr(i):e["client"+i])||0}},Va=function(e,t){return!t||~fo.indexOf(e)?kr(e):function(){return xi}},co=function(e,t){var n=t.s,o=t.d2,i=t.d,r=t.a;return Math.max(0,(n="scroll"+o)&&(r=Fo(e,n))?r()-kr(e)()[i]:Yo(e)?(Gt[n]||tt[n])-Rr(o):e[n]-e["offset"+o])},Jn=function(e,t){for(var n=0;n<Ko.length;n+=3)(!t||~t.indexOf(Ko[n+1]))&&e(Ko[n],Ko[n+1],Ko[n+2])},jt=function(e){return typeof e=="string"},Bt=function(e){return typeof e=="function"},Cn=function(e){return typeof e=="number"},ko=function(e){return typeof e=="object"},mn=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Ui=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},qo=Math.abs,Lr="left",Ir="top",_s="right",Es="bottom",Ho="width",Uo="height",Rn="Right",kn="Left",Ln="Top",In="Bottom",gt="padding",qt="margin",cn="Width",Fs="Height",bt="px",Jt=function(e){return Ye.getComputedStyle(e)},Wa=function(e){var t=Jt(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},Hs=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},po=function(e,t){var n=t&&Jt(e)[rs]!=="matrix(1, 0, 0, 1, 0, 0)"&&he.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return n&&n.progress(0).kill(),o},Fi=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},Or=function(e){var t=[],n=e.labels,o=e.duration(),i;for(i in n)t.push(n[i]/o);return t},Ya=function(e){return function(t){return he.utils.snap(Or(e),t)}},Ts=function(e){var t=he.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(o,i){return o-i});return n?function(o,i,r){r===void 0&&(r=.001);var a;if(!i)return t(o);if(i>0){for(o-=r,a=0;a<n.length;a++)if(n[a]>=o)return n[a];return n[a-1]}else for(a=n.length,o+=r;a--;)if(n[a]<=o)return n[a];return n[0]}:function(o,i,r){r===void 0&&(r=.001);var a=t(o);return!i||Math.abs(a-o)<r||a-o<0==i<0?a:t(i<0?o-e:o+e)}},$a=function(e){return function(t,n){return Ts(Or(e))(t,n.direction)}},Qn=function(e,t,n,o){return n.split(",").forEach(function(i){return e(t,i,o)})},Ft=function(e,t,n,o,i){return e.addEventListener(t,n,{passive:!o,capture:!!i})},Et=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Kn=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},Us={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ei={toggleActions:"play",anticipatePin:0},Ti={top:0,left:0,center:.5,bottom:1,right:1},Di=function(e,t){if(jt(e)){var n=e.indexOf("="),o=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(o*=t/100),e=e.substr(0,n-1)),e=o+(e in Ti?Ti[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},ti=function(e,t,n,o,i,r,a,u){var l=i.startColor,d=i.endColor,c=i.fontSize,p=i.indent,f=i.fontWeight,h=at.createElement("div"),D=Yo(n)||Fo(n,"pinType")==="fixed",v=e.indexOf("scroller")!==-1,y=D?tt:n,C=e.indexOf("start")!==-1,M=C?l:d,_="border-color:"+M+";font-size:"+c+";color:"+M+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((v||u)&&D?"fixed;":"absolute;"),(v||u||!D)&&(_+=(o===_t?_s:Es)+":"+(r+parseFloat(p))+"px;"),a&&(_+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),h._isStart=C,h.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),h.style.cssText=_,h.innerText=t||t===0?e+"-"+t:e,y.children[0]?y.insertBefore(h,y.children[0]):y.appendChild(h),h._offset=h["offset"+o.op.d2],gi(h,0,o,C),h},gi=function(e,t,n,o){var i={display:"block"},r=n[o?"os2":"p2"],a=n[o?"p2":"os2"];e._isFlipped=o,i[n.a+"Percent"]=o?-100:0,i[n.a]=o?"1px":0,i["border"+r+cn]=1,i["border"+a+cn]=0,i[n.p]=t+"px",he.set(e,i)},We=[],cs={},Gn,js=function(){return At()-to>34&&(Gn||(Gn=requestAnimationFrame(vo)))},Jo=function(){(!Lt||!Lt.isPressed||Lt.startX>tt.clientWidth)&&($e.cache++,Lt?Gn||(Gn=requestAnimationFrame(vo)):vo(),to||Xo("scrollStart"),to=At())},ji=function(){Pr=Ye.innerWidth,Sr=Ye.innerHeight},bn=function(e){$e.cache++,(e===!0||!Pt&&!Mr&&!at.fullscreenElement&&!at.webkitFullscreenElement&&(!as||Pr!==Ye.innerWidth||Math.abs(Ye.innerHeight-Sr)>Ye.innerHeight*.25))&&_i.restart(!0)},$o={},Xa=[],zr=function s(){return Et(ze,"scrollEnd",s)||Oo(!0)},Xo=function(e){return $o[e]&&$o[e].map(function(t){return t()})||Xa},Ut=[],Nr=function(e){for(var t=0;t<Ut.length;t+=5)(!e||Ut[t+4]&&Ut[t+4].query===e)&&(Ut[t].style.cssText=Ut[t+1],Ut[t].getBBox&&Ut[t].setAttribute("transform",Ut[t+2]||""),Ut[t+3].uncache=1)},Ms=function(e,t){var n;for(It=0;It<We.length;It++)n=We[It],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));Ei=!0,t&&Nr(t),t||Xo("revert")},Hr=function(e,t){$e.cache++,(t||!Ot)&&$e.forEach(function(n){return Bt(n)&&n.cacheID++&&(n.rec=0)}),jt(e)&&(Ye.history.scrollRestoration=Cs=e)},Ot,jo=0,Gs,Za=function(){if(Gs!==jo){var e=Gs=jo;requestAnimationFrame(function(){return e===jo&&Oo(!0)})}},Ur=function(){tt.appendChild(sn),bs=!Lt&&sn.offsetHeight||Ye.innerHeight,tt.removeChild(sn)},Vs=function(e){return jn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Oo=function(e,t){if(Gt=at.documentElement,tt=at.body,ys=[Ye,at,Gt,tt],to&&!e&&!Ei){Ft(ze,"scrollEnd",zr);return}Ur(),Ot=ze.isRefreshing=!0,$e.forEach(function(o){return Bt(o)&&++o.cacheID&&(o.rec=o())});var n=Xo("refreshInit");Tr&&ze.sort(),t||Ms(),$e.forEach(function(o){Bt(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),We.slice(0).forEach(function(o){return o.refresh()}),Ei=!1,We.forEach(function(o){if(o._subPinOffset&&o.pin){var i=o.vars.horizontal?"offsetWidth":"offsetHeight",r=o.pin[i];o.revert(!0,1),o.adjustPinSpacing(o.pin[i]-r),o.refresh()}}),us=1,Vs(!0),We.forEach(function(o){var i=co(o.scroller,o._dir),r=o.vars.end==="max"||o._endClamp&&o.end>i,a=o._startClamp&&o.start>=i;(r||a)&&o.setPositions(a?i-1:o.start,r?Math.max(a?i:o.start+1,i):o.end,!0)}),Vs(!1),us=0,n.forEach(function(o){return o&&o.render&&o.render(-1)}),$e.forEach(function(o){Bt(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),Hr(Cs,1),_i.pause(),jo++,Ot=2,vo(2),We.forEach(function(o){return Bt(o.vars.onRefresh)&&o.vars.onRefresh(o)}),Ot=ze.isRefreshing=!1,Xo("refresh")},fs=0,mi=1,On,vo=function(e){if(e===2||!Ot&&!Ei){ze.isUpdating=!0,On&&On.update(0);var t=We.length,n=At(),o=n-Hi>=50,i=t&&We[0].scroll();if(mi=fs>i?-1:1,Ot||(fs=i),o&&(to&&!Ri&&n-to>200&&(to=0,Xo("scrollEnd")),xn=Hi,Hi=n),mi<0){for(It=t;It-- >0;)We[It]&&We[It].update(0,o);mi=1}else for(It=0;It<t;It++)We[It]&&We[It].update(0,o);ze.isUpdating=!1}Gn=0},ps=[Lr,Ir,Es,_s,qt+In,qt+Rn,qt+Ln,qt+kn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],vi=ps.concat([Ho,Uo,"boxSizing","max"+cn,"max"+Fs,"position",qt,gt,gt+Ln,gt+Rn,gt+In,gt+kn]),qa=function(e,t,n){rn(n);var o=e._gsap;if(o.spacerIsNative)rn(o.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},Gi=function(e,t,n,o){if(!e._gsap.swappedIn){for(var i=ps.length,r=t.style,a=e.style,u;i--;)u=ps[i],r[u]=n[u];r.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(r.display="inline-block"),a[Es]=a[_s]="auto",r.flexBasis=n.flexBasis||"auto",r.overflow="visible",r.boxSizing="border-box",r[Ho]=Fi(e,zt)+bt,r[Uo]=Fi(e,_t)+bt,r[gt]=a[qt]=a[Ir]=a[Lr]="0",rn(o),a[Ho]=a["max"+cn]=n[Ho],a[Uo]=a["max"+Fs]=n[Uo],a[gt]=n[gt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Ja=/([A-Z])/g,rn=function(e){if(e){var t=e.t.style,n=e.length,o=0,i,r;for((e.t._gsap||he.core.getCache(e.t)).uncache=1;o<n;o+=2)r=e[o+1],i=e[o],r?t[i]=r:t[i]&&t.removeProperty(i.replace(Ja,"-$1").toLowerCase())}},oi=function(e){for(var t=vi.length,n=e.style,o=[],i=0;i<t;i++)o.push(vi[i],n[vi[i]]);return o.t=e,o},Qa=function(e,t,n){for(var o=[],i=e.length,r=n?8:0,a;r<i;r+=2)a=e[r],o.push(a,a in t?t[a]:e[r+1]);return o.t=e.t,o},xi={left:0,top:0},Ws=function(e,t,n,o,i,r,a,u,l,d,c,p,f,h){Bt(e)&&(e=e(u)),jt(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?Di("0"+e.substr(3),n):0));var D=f?f.time():0,v,y,C;if(f&&f.seek(0),isNaN(e)||(e=+e),Cn(e))f&&(e=he.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,p,e)),a&&gi(a,n,o,!0);else{Bt(t)&&(t=t(u));var M=(e||"0").split(" "),_,j,T,E;C=Nt(t,u)||tt,_=po(C)||{},(!_||!_.left&&!_.top)&&Jt(C).display==="none"&&(E=C.style.display,C.style.display="block",_=po(C),E?C.style.display=E:C.style.removeProperty("display")),j=Di(M[0],_[o.d]),T=Di(M[1]||"0",n),e=_[o.p]-l[o.p]-d+j+i-T,a&&gi(a,T,o,n-T<20||a._isStart&&T>20),n-=n-T}if(h&&(u[h]=e||-.001,e<0&&(e=0)),r){var P=e+n,N=r._isStart;v="scroll"+o.d2,gi(r,P,o,N&&P>20||!N&&(c?Math.max(tt[v],Gt[v]):r.parentNode[v])<=P+1),c&&(l=po(a),c&&(r.style[o.op.p]=l[o.op.p]-o.op.m-r._offset+bt))}return f&&C&&(v=po(C),f.seek(p),y=po(C),f._caScrollDist=v[o.p]-y[o.p],e=e/f._caScrollDist*p),f&&f.seek(D),f?e:Math.round(e)},Ka=/(webkit|moz|length|cssText|inset)/i,Ys=function(e,t,n,o){if(e.parentNode!==t){var i=e.style,r,a;if(t===tt){e._stOrig=i.cssText,a=Jt(e);for(r in a)!+r&&!Ka.test(r)&&a[r]&&typeof i[r]=="string"&&r!=="0"&&(i[r]=a[r]);i.top=n,i.left=o}else i.cssText=e._stOrig;he.core.getCache(e).uncache=1,t.appendChild(e)}},jr=function(e,t,n){var o=t,i=o;return function(r){var a=Math.round(e());return a!==o&&a!==i&&Math.abs(a-o)>3&&Math.abs(a-i)>3&&(r=a,n&&n()),i=o,o=Math.round(r),o}},ni=function(e,t,n){var o={};o[t.p]="+="+n,he.set(e,o)},$s=function(e,t){var n=To(e,t),o="_scroll"+t.p2,i=function r(a,u,l,d,c){var p=r.tween,f=u.onComplete,h={};l=l||n();var D=jr(n,l,function(){p.kill(),r.tween=0});return c=d&&c||0,d=d||a-l,p&&p.kill(),u[o]=a,u.inherit=!1,u.modifiers=h,h[o]=function(){return D(l+d*p.ratio+c*p.ratio*p.ratio)},u.onUpdate=function(){$e.cache++,r.tween&&vo()},u.onComplete=function(){r.tween=0,f&&f.call(p)},p=r.tween=he.to(e,u),p};return e[o]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Ft(e,"wheel",n.wheelHandler),ze.isTouch&&Ft(e,"touchmove",n.wheelHandler),i},ze=function(){function s(t,n){Qo||s.register(he)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ls(this),this.init(t,n)}var e=s.prototype;return e.init=function(n,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!wn){this.update=this.refresh=this.kill=lo;return}n=Hs(jt(n)||Cn(n)||n.nodeType?{trigger:n}:n,ei);var i=n,r=i.onUpdate,a=i.toggleClass,u=i.id,l=i.onToggle,d=i.onRefresh,c=i.scrub,p=i.trigger,f=i.pin,h=i.pinSpacing,D=i.invalidateOnRefresh,v=i.anticipatePin,y=i.onScrubComplete,C=i.onSnapComplete,M=i.once,_=i.snap,j=i.pinReparent,T=i.pinSpacer,E=i.containerAnimation,P=i.fastScrollEnd,N=i.preventOverlaps,x=n.horizontal||n.containerAnimation&&n.horizontal!==!1?zt:_t,Y=!c&&c!==0,L=Nt(n.scroller||Ye),U=he.core.getCache(L),Z=Yo(L),q=("pinType"in n?n.pinType:Fo(L,"pinType")||Z&&"fixed")==="fixed",ce=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],$=Y&&n.toggleActions.split(" "),se="markers"in n?n.markers:ei.markers,re=Z?0:parseFloat(Jt(L)["border"+x.p2+cn])||0,m=this,J=n.onRefreshInit&&function(){return n.onRefreshInit(m)},ue=Ga(L,Z,x),oe=Va(L,Z),we=0,Xe=0,Se=0,Re=To(L,x),Pe,W,Ae,H,Ee,ae,fe,ye,Be,w,be,Oe,qe,Ne,ft,ut,pt,st,vt,rt,xt,nt,it,V,Q,g,O,R,I,k,F,b,ne,G,ge,K,Fe,ke,et;if(m._startClamp=m._endClamp=!1,m._dir=x,v*=45,m.scroller=L,m.scroll=E?E.time.bind(E):Re,H=Re(),m.vars=n,o=o||n.animation,"refreshPriority"in n&&(Tr=1,n.refreshPriority===-9999&&(On=m)),U.tweenScroll=U.tweenScroll||{top:$s(L,_t),left:$s(L,zt)},m.tweenTo=Pe=U.tweenScroll[x.p],m.scrubDuration=function(z){ne=Cn(z)&&z,ne?b?b.duration(z):b=he.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ne,paused:!0,onComplete:function(){return y&&y(m)}}):(b&&b.progress(1).kill(),b=0)},o&&(o.vars.lazy=!1,o._initted&&!m.isReverted||o.vars.immediateRender!==!1&&n.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),m.animation=o.pause(),o.scrollTrigger=m,m.scrubDuration(c),k=0,u||(u=o.vars.id)),_&&((!ko(_)||_.push)&&(_={snapTo:_}),"scrollBehavior"in tt.style&&he.set(Z?[tt,Gt]:L,{scrollBehavior:"auto"}),$e.forEach(function(z){return Bt(z)&&z.target===(Z?at.scrollingElement||Gt:L)&&(z.smooth=!1)}),Ae=Bt(_.snapTo)?_.snapTo:_.snapTo==="labels"?Ya(o):_.snapTo==="labelsDirectional"?$a(o):_.directional!==!1?function(z,Ce){return Ts(_.snapTo)(z,At()-Xe<500?0:Ce.direction)}:he.utils.snap(_.snapTo),G=_.duration||{min:.1,max:2},G=ko(G)?Bn(G.min,G.max):Bn(G,G),ge=he.delayedCall(_.delay||ne/2||.1,function(){var z=Re(),Ce=At()-Xe<500,S=Pe.tween;if((Ce||Math.abs(m.getVelocity())<10)&&!S&&!Ri&&we!==z){var A=(z-ae)/Ne,X=o&&!Y?o.totalProgress():A,pe=Ce?0:(X-F)/(At()-xn)*1e3||0,me=he.utils.clamp(-A,1-A,qo(pe/2)*pe/.185),_e=A+(_.inertia===!1?0:me),ee,ve,ie=_,Ue=ie.onStart,de=ie.onInterrupt,Me=ie.onComplete;if(ee=Ae(_e,m),Cn(ee)||(ee=_e),ve=Math.max(0,Math.round(ae+ee*Ne)),z<=fe&&z>=ae&&ve!==z){if(S&&!S._initted&&S.data<=qo(ve-z))return;_.inertia===!1&&(me=ee-A),Pe(ve,{duration:G(qo(Math.max(qo(_e-X),qo(ee-X))*.185/pe/.05||0)),ease:_.ease||"power3",data:qo(ve-z),onInterrupt:function(){return ge.restart(!0)&&de&&de(m)},onComplete:function(){m.update(),we=Re(),o&&!Y&&(b?b.resetTo("totalProgress",ee,o._tTime/o._tDur):o.progress(ee)),k=F=o&&!Y?o.totalProgress():m.progress,C&&C(m),Me&&Me(m)}},z,me*Ne,ve-z-me*Ne),Ue&&Ue(m,Pe.tween)}}else m.isActive&&we!==z&&ge.restart(!0)}).pause()),u&&(cs[u]=m),p=m.trigger=Nt(p||f!==!0&&f),et=p&&p._gsap&&p._gsap.stRevert,et&&(et=et(m)),f=f===!0?p:Nt(f),jt(a)&&(a={targets:p,className:a}),f&&(h===!1||h===qt||(h=!h&&f.parentNode&&f.parentNode.style&&Jt(f.parentNode).display==="flex"?!1:gt),m.pin=f,W=he.core.getCache(f),W.spacer?ft=W.pinState:(T&&(T=Nt(T),T&&!T.nodeType&&(T=T.current||T.nativeElement),W.spacerIsNative=!!T,T&&(W.spacerState=oi(T))),W.spacer=st=T||at.createElement("div"),st.classList.add("pin-spacer"),u&&st.classList.add("pin-spacer-"+u),W.pinState=ft=oi(f)),n.force3D!==!1&&he.set(f,{force3D:!0}),m.spacer=st=W.spacer,I=Jt(f),V=I[h+x.os2],rt=he.getProperty(f),xt=he.quickSetter(f,x.a,bt),Gi(f,st,I),pt=oi(f)),se){Oe=ko(se)?Hs(se,Us):Us,w=ti("scroller-start",u,L,x,Oe,0),be=ti("scroller-end",u,L,x,Oe,0,w),vt=w["offset"+x.op.d2];var Ze=Nt(Fo(L,"content")||L);ye=this.markerStart=ti("start",u,Ze,x,Oe,vt,0,E),Be=this.markerEnd=ti("end",u,Ze,x,Oe,vt,0,E),E&&(ke=he.quickSetter([ye,Be],x.a,bt)),!q&&!(fo.length&&Fo(L,"fixedMarkers")===!0)&&(Wa(Z?tt:L),he.set([w,be],{force3D:!0}),g=he.quickSetter(w,x.a,bt),R=he.quickSetter(be,x.a,bt))}if(E){var le=E.vars.onUpdate,B=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){m.update(0,0,1),le&&le.apply(E,B||[])})}if(m.previous=function(){return We[We.indexOf(m)-1]},m.next=function(){return We[We.indexOf(m)+1]},m.revert=function(z,Ce){if(!Ce)return m.kill(!0);var S=z!==!1||!m.enabled,A=Pt;S!==m.isReverted&&(S&&(K=Math.max(Re(),m.scroll.rec||0),Se=m.progress,Fe=o&&o.progress()),ye&&[ye,Be,w,be].forEach(function(X){return X.style.display=S?"none":"block"}),S&&(Pt=m,m.update(S)),f&&(!j||!m.isActive)&&(S?qa(f,st,ft):Gi(f,st,Jt(f),Q)),S||m.update(S),Pt=A,m.isReverted=S)},m.refresh=function(z,Ce,S,A){if(!((Pt||!m.enabled)&&!Ce)){if(f&&z&&to){Ft(s,"scrollEnd",zr);return}!Ot&&J&&J(m),Pt=m,Pe.tween&&!S&&(Pe.tween.kill(),Pe.tween=0),b&&b.pause(),D&&o&&o.revert({kill:!1}).invalidate(),m.isReverted||m.revert(!0,!0),m._subPinOffset=!1;var X=ue(),pe=oe(),me=E?E.duration():co(L,x),_e=Ne<=.01,ee=0,ve=A||0,ie=ko(S)?S.end:n.end,Ue=n.endTrigger||p,de=ko(S)?S.start:n.start||(n.start===0||!p?0:f?"0 0":"0 100%"),Me=m.pinnedContainer=n.pinnedContainer&&Nt(n.pinnedContainer,m),je=p&&Math.max(0,We.indexOf(m))||0,He=je,Ge,Ve,so,So,wt,dt,Wt,Dn,Po,lt,yt,St,Ct;for(se&&ko(S)&&(St=he.getProperty(w,x.p),Ct=he.getProperty(be,x.p));He-- >0;)dt=We[He],dt.end||dt.refresh(0,1)||(Pt=m),Wt=dt.pin,Wt&&(Wt===p||Wt===f||Wt===Me)&&!dt.isReverted&&(lt||(lt=[]),lt.unshift(dt),dt.revert(!0,!0)),dt!==We[He]&&(je--,He--);for(Bt(de)&&(de=de(m)),de=Is(de,"start",m),ae=Ws(de,p,X,x,Re(),ye,w,m,pe,re,q,me,E,m._startClamp&&"_startClamp")||(f?-.001:0),Bt(ie)&&(ie=ie(m)),jt(ie)&&!ie.indexOf("+=")&&(~ie.indexOf(" ")?ie=(jt(de)?de.split(" ")[0]:"")+ie:(ee=Di(ie.substr(2),X),ie=jt(de)?de:(E?he.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,ae):ae)+ee,Ue=p)),ie=Is(ie,"end",m),fe=Math.max(ae,Ws(ie||(Ue?"100% 0":me),Ue,X,x,Re()+ee,Be,be,m,pe,re,q,me,E,m._endClamp&&"_endClamp"))||-.001,ee=0,He=je;He--;)dt=We[He],Wt=dt.pin,Wt&&dt.start-dt._pinPush<=ae&&!E&&dt.end>0&&(Ge=dt.end-(m._startClamp?Math.max(0,dt.start):dt.start),(Wt===p&&dt.start-dt._pinPush<ae||Wt===Me)&&isNaN(de)&&(ee+=Ge*(1-dt.progress)),Wt===f&&(ve+=Ge));if(ae+=ee,fe+=ee,m._startClamp&&(m._startClamp+=ee),m._endClamp&&!Ot&&(m._endClamp=fe||-.001,fe=Math.min(fe,co(L,x))),Ne=fe-ae||(ae-=.01)&&.001,_e&&(Se=he.utils.clamp(0,1,he.utils.normalize(ae,fe,K))),m._pinPush=ve,ye&&ee&&(Ge={},Ge[x.a]="+="+ee,Me&&(Ge[x.p]="-="+Re()),he.set([ye,Be],Ge)),f&&!(us&&m.end>=co(L,x)))Ge=Jt(f),So=x===_t,so=Re(),nt=parseFloat(rt(x.a))+ve,!me&&fe>1&&(yt=(Z?at.scrollingElement||Gt:L).style,yt={style:yt,value:yt["overflow"+x.a.toUpperCase()]},Z&&Jt(tt)["overflow"+x.a.toUpperCase()]!=="scroll"&&(yt.style["overflow"+x.a.toUpperCase()]="scroll")),Gi(f,st,Ge),pt=oi(f),Ve=po(f,!0),Dn=q&&To(L,So?zt:_t)(),h?(Q=[h+x.os2,Ne+ve+bt],Q.t=st,He=h===gt?Fi(f,x)+Ne+ve:0,He&&(Q.push(x.d,He+bt),st.style.flexBasis!=="auto"&&(st.style.flexBasis=He+bt)),rn(Q),Me&&We.forEach(function(ro){ro.pin===Me&&ro.vars.pinSpacing!==!1&&(ro._subPinOffset=!0)}),q&&Re(K)):(He=Fi(f,x),He&&st.style.flexBasis!=="auto"&&(st.style.flexBasis=He+bt)),q&&(wt={top:Ve.top+(So?so-ae:Dn)+bt,left:Ve.left+(So?Dn:so-ae)+bt,boxSizing:"border-box",position:"fixed"},wt[Ho]=wt["max"+cn]=Math.ceil(Ve.width)+bt,wt[Uo]=wt["max"+Fs]=Math.ceil(Ve.height)+bt,wt[qt]=wt[qt+Ln]=wt[qt+Rn]=wt[qt+In]=wt[qt+kn]="0",wt[gt]=Ge[gt],wt[gt+Ln]=Ge[gt+Ln],wt[gt+Rn]=Ge[gt+Rn],wt[gt+In]=Ge[gt+In],wt[gt+kn]=Ge[gt+kn],ut=Qa(ft,wt,j),Ot&&Re(0)),o?(Po=o._initted,zi(1),o.render(o.duration(),!0,!0),it=rt(x.a)-nt+Ne+ve,O=Math.abs(Ne-it)>1,q&&O&&ut.splice(ut.length-2,2),o.render(0,!0,!0),Po||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),zi(0)):it=Ne,yt&&(yt.value?yt.style["overflow"+x.a.toUpperCase()]=yt.value:yt.style.removeProperty("overflow-"+x.a));else if(p&&Re()&&!E)for(Ve=p.parentNode;Ve&&Ve!==tt;)Ve._pinOffset&&(ae-=Ve._pinOffset,fe-=Ve._pinOffset),Ve=Ve.parentNode;lt&&lt.forEach(function(ro){return ro.revert(!1,!0)}),m.start=ae,m.end=fe,H=Ee=Ot?K:Re(),!E&&!Ot&&(H<K&&Re(K),m.scroll.rec=0),m.revert(!1,!0),Xe=At(),ge&&(we=-1,ge.restart(!0)),Pt=0,o&&Y&&(o._initted||Fe)&&o.progress()!==Fe&&o.progress(Fe||0,!0).render(o.time(),!0,!0),(_e||Se!==m.progress||E||D||o&&!o._initted)&&(o&&!Y&&o.totalProgress(E&&ae<-.001&&!Se?he.utils.normalize(ae,fe,0):Se,!0),m.progress=_e||(H-ae)/Ne===Se?0:Se),f&&h&&(st._pinOffset=Math.round(m.progress*it)),b&&b.invalidate(),isNaN(St)||(St-=he.getProperty(w,x.p),Ct-=he.getProperty(be,x.p),ni(w,x,St),ni(ye,x,St-(A||0)),ni(be,x,Ct),ni(Be,x,Ct-(A||0))),_e&&!Ot&&m.update(),d&&!Ot&&!qe&&(qe=!0,d(m),qe=!1)}},m.getVelocity=function(){return(Re()-Ee)/(At()-xn)*1e3||0},m.endAnimation=function(){mn(m.callbackAnimation),o&&(b?b.progress(1):o.paused()?Y||mn(o,m.direction<0,1):mn(o,o.reversed()))},m.labelToScroll=function(z){return o&&o.labels&&(ae||m.refresh()||ae)+o.labels[z]/o.duration()*Ne||0},m.getTrailing=function(z){var Ce=We.indexOf(m),S=m.direction>0?We.slice(0,Ce).reverse():We.slice(Ce+1);return(jt(z)?S.filter(function(A){return A.vars.preventOverlaps===z}):S).filter(function(A){return m.direction>0?A.end<=ae:A.start>=fe})},m.update=function(z,Ce,S){if(!(E&&!S&&!z)){var A=Ot===!0?K:m.scroll(),X=z?0:(A-ae)/Ne,pe=X<0?0:X>1?1:X||0,me=m.progress,_e,ee,ve,ie,Ue,de,Me,je;if(Ce&&(Ee=H,H=E?Re():A,_&&(F=k,k=o&&!Y?o.totalProgress():pe)),v&&f&&!Pt&&!qn&&to&&(!pe&&ae<A+(A-Ee)/(At()-xn)*v?pe=1e-4:pe===1&&fe>A+(A-Ee)/(At()-xn)*v&&(pe=.9999)),pe!==me&&m.enabled){if(_e=m.isActive=!!pe&&pe<1,ee=!!me&&me<1,de=_e!==ee,Ue=de||!!pe!=!!me,m.direction=pe>me?1:-1,m.progress=pe,Ue&&!Pt&&(ve=pe&&!me?0:pe===1?1:me===1?2:3,Y&&(ie=!de&&$[ve+1]!=="none"&&$[ve+1]||$[ve],je=o&&(ie==="complete"||ie==="reset"||ie in o))),N&&(de||je)&&(je||c||!o)&&(Bt(N)?N(m):m.getTrailing(N).forEach(function(so){return so.endAnimation()})),Y||(b&&!Pt&&!qn?(b._dp._time-b._start!==b._time&&b.render(b._dp._time-b._start),b.resetTo?b.resetTo("totalProgress",pe,o._tTime/o._tDur):(b.vars.totalProgress=pe,b.invalidate().restart())):o&&o.totalProgress(pe,!!(Pt&&(Xe||z)))),f){if(z&&h&&(st.style[h+x.os2]=V),!q)xt(yn(nt+it*pe));else if(Ue){if(Me=!z&&pe>me&&fe+1>A&&A+1>=co(L,x),j)if(!z&&(_e||Me)){var He=po(f,!0),Ge=A-ae;Ys(f,tt,He.top+(x===_t?Ge:0)+bt,He.left+(x===_t?0:Ge)+bt)}else Ys(f,st);rn(_e||Me?ut:pt),O&&pe<1&&_e||xt(nt+(pe===1&&!Me?it:0))}}_&&!Pe.tween&&!Pt&&!qn&&ge.restart(!0),a&&(de||M&&pe&&(pe<1||!Ni))&&jn(a.targets).forEach(function(so){return so.classList[_e||M?"add":"remove"](a.className)}),r&&!Y&&!z&&r(m),Ue&&!Pt?(Y&&(je&&(ie==="complete"?o.pause().totalProgress(1):ie==="reset"?o.restart(!0).pause():ie==="restart"?o.restart(!0):o[ie]()),r&&r(m)),(de||!Ni)&&(l&&de&&Ui(m,l),ce[ve]&&Ui(m,ce[ve]),M&&(pe===1?m.kill(!1,1):ce[ve]=0),de||(ve=pe===1?1:3,ce[ve]&&Ui(m,ce[ve]))),P&&!_e&&Math.abs(m.getVelocity())>(Cn(P)?P:2500)&&(mn(m.callbackAnimation),b?b.progress(1):mn(o,ie==="reverse"?1:!pe,1))):Y&&r&&!Pt&&r(m)}if(R){var Ve=E?A/E.duration()*(E._caScrollDist||0):A;g(Ve+(w._isFlipped?1:0)),R(Ve)}ke&&ke(-A/E.duration()*(E._caScrollDist||0))}},m.enable=function(z,Ce){m.enabled||(m.enabled=!0,Ft(L,"resize",bn),Z||Ft(L,"scroll",Jo),J&&Ft(s,"refreshInit",J),z!==!1&&(m.progress=Se=0,H=Ee=we=Re()),Ce!==!1&&m.refresh())},m.getTween=function(z){return z&&Pe?Pe.tween:b},m.setPositions=function(z,Ce,S,A){if(E){var X=E.scrollTrigger,pe=E.duration(),me=X.end-X.start;z=X.start+me*z/pe,Ce=X.start+me*Ce/pe}m.refresh(!1,!1,{start:Os(z,S&&!!m._startClamp),end:Os(Ce,S&&!!m._endClamp)},A),m.update()},m.adjustPinSpacing=function(z){if(Q&&z){var Ce=Q.indexOf(x.d)+1;Q[Ce]=parseFloat(Q[Ce])+z+bt,Q[1]=parseFloat(Q[1])+z+bt,rn(Q)}},m.disable=function(z,Ce){if(m.enabled&&(z!==!1&&m.revert(!0,!0),m.enabled=m.isActive=!1,Ce||b&&b.pause(),K=0,W&&(W.uncache=1),J&&Et(s,"refreshInit",J),ge&&(ge.pause(),Pe.tween&&Pe.tween.kill()&&(Pe.tween=0)),!Z)){for(var S=We.length;S--;)if(We[S].scroller===L&&We[S]!==m)return;Et(L,"resize",bn),Z||Et(L,"scroll",Jo)}},m.kill=function(z,Ce){m.disable(z,Ce),b&&!Ce&&b.kill(),u&&delete cs[u];var S=We.indexOf(m);S>=0&&We.splice(S,1),S===It&&mi>0&&It--,S=0,We.forEach(function(A){return A.scroller===m.scroller&&(S=1)}),S||Ot||(m.scroll.rec=0),o&&(o.scrollTrigger=null,z&&o.revert({kill:!1}),Ce||o.kill()),ye&&[ye,Be,w,be].forEach(function(A){return A.parentNode&&A.parentNode.removeChild(A)}),On===m&&(On=0),f&&(W&&(W.uncache=1),S=0,We.forEach(function(A){return A.pin===f&&S++}),S||(W.spacer=0)),n.onKill&&n.onKill(m)},We.push(m),m.enable(!1,!1),et&&et(m),o&&o.add&&!Ne){var De=m.update;m.update=function(){m.update=De,$e.cache++,ae||fe||m.refresh()},he.delayedCall(.01,m.update),Ne=.01,ae=fe=0}else m.refresh();f&&Za()},s.register=function(n){return Qo||(he=n||Br(),Ar()&&window.document&&s.enable(),Qo=wn),Qo},s.defaults=function(n){if(n)for(var o in n)ei[o]=n[o];return ei},s.disable=function(n,o){wn=0,We.forEach(function(r){return r[o?"kill":"disable"](n)}),Et(Ye,"wheel",Jo),Et(at,"scroll",Jo),clearInterval(Zn),Et(at,"touchcancel",lo),Et(tt,"touchstart",lo),Qn(Et,at,"pointerdown,touchstart,mousedown",zs),Qn(Et,at,"pointerup,touchend,mouseup",Ns),_i.kill(),Jn(Et);for(var i=0;i<$e.length;i+=3)Kn(Et,$e[i],$e[i+1]),Kn(Et,$e[i],$e[i+2])},s.enable=function(){if(Ye=window,at=document,Gt=at.documentElement,tt=at.body,he&&(jn=he.utils.toArray,Bn=he.utils.clamp,ls=he.core.context||lo,zi=he.core.suppressOverwrites||lo,Cs=Ye.history.scrollRestoration||"auto",fs=Ye.pageYOffset||0,he.core.globals("ScrollTrigger",s),tt)){wn=1,sn=document.createElement("div"),sn.style.height="100vh",sn.style.position="absolute",Ur(),ja(),Dt.register(he),s.isTouch=Dt.isTouch,Co=Dt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),as=Dt.isTouch===1,Ft(Ye,"wheel",Jo),ys=[Ye,at,Gt,tt],he.matchMedia?(s.matchMedia=function(l){var d=he.matchMedia(),c;for(c in l)d.add(c,l[c]);return d},he.addEventListener("matchMediaInit",function(){return Ms()}),he.addEventListener("matchMediaRevert",function(){return Nr()}),he.addEventListener("matchMedia",function(){Oo(0,1),Xo("matchMedia")}),he.matchMedia().add("(orientation: portrait)",function(){return ji(),ji})):console.warn("Requires GSAP 3.11.0 or later"),ji(),Ft(at,"scroll",Jo);var n=tt.hasAttribute("style"),o=tt.style,i=o.borderTopStyle,r=he.core.Animation.prototype,a,u;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",a=po(tt),_t.m=Math.round(a.top+_t.sc())||0,zt.m=Math.round(a.left+zt.sc())||0,i?o.borderTopStyle=i:o.removeProperty("border-top-style"),n||(tt.setAttribute("style",""),tt.removeAttribute("style")),Zn=setInterval(js,250),he.delayedCall(.5,function(){return qn=0}),Ft(at,"touchcancel",lo),Ft(tt,"touchstart",lo),Qn(Ft,at,"pointerdown,touchstart,mousedown",zs),Qn(Ft,at,"pointerup,touchend,mouseup",Ns),rs=he.utils.checkPrefix("transform"),vi.push(rs),Qo=At(),_i=he.delayedCall(.2,Oo).pause(),Ko=[at,"visibilitychange",function(){var l=Ye.innerWidth,d=Ye.innerHeight;at.hidden?(ks=l,Ls=d):(ks!==l||Ls!==d)&&bn()},at,"DOMContentLoaded",Oo,Ye,"load",Oo,Ye,"resize",bn],Jn(Ft),We.forEach(function(l){return l.enable(0,1)}),u=0;u<$e.length;u+=3)Kn(Et,$e[u],$e[u+1]),Kn(Et,$e[u],$e[u+2])}},s.config=function(n){"limitCallbacks"in n&&(Ni=!!n.limitCallbacks);var o=n.syncInterval;o&&clearInterval(Zn)||(Zn=o)&&setInterval(js,o),"ignoreMobileResize"in n&&(as=s.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Jn(Et)||Jn(Ft,n.autoRefreshEvents||"none"),Mr=(n.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(n,o){var i=Nt(n),r=$e.indexOf(i),a=Yo(i);~r&&$e.splice(r,a?6:2),o&&(a?fo.unshift(Ye,o,tt,o,Gt,o):fo.unshift(i,o))},s.clearMatchMedia=function(n){We.forEach(function(o){return o._ctx&&o._ctx.query===n&&o._ctx.kill(!0,!0)})},s.isInViewport=function(n,o,i){var r=(jt(n)?Nt(n):n).getBoundingClientRect(),a=r[i?Ho:Uo]*o||0;return i?r.right-a>0&&r.left+a<Ye.innerWidth:r.bottom-a>0&&r.top+a<Ye.innerHeight},s.positionInViewport=function(n,o,i){jt(n)&&(n=Nt(n));var r=n.getBoundingClientRect(),a=r[i?Ho:Uo],u=o==null?a/2:o in Ti?Ti[o]*a:~o.indexOf("%")?parseFloat(o)*a/100:parseFloat(o)||0;return i?(r.left+u)/Ye.innerWidth:(r.top+u)/Ye.innerHeight},s.killAll=function(n){if(We.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var o=$o.killAll||[];$o={},o.forEach(function(i){return i()})}},s}();ze.version="3.12.7";ze.saveStyles=function(s){return s?jn(s).forEach(function(e){if(e&&e.style){var t=Ut.indexOf(e);t>=0&&Ut.splice(t,5),Ut.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),he.core.getCache(e),ls())}}):Ut};ze.revert=function(s,e){return Ms(!s,e)};ze.create=function(s,e){return new ze(s,e)};ze.refresh=function(s){return s?bn(!0):(Qo||ze.register())&&Oo(!0)};ze.update=function(s){return++$e.cache&&vo(s===!0?2:0)};ze.clearScrollMemory=Hr;ze.maxScroll=function(s,e){return co(s,e?zt:_t)};ze.getScrollFunc=function(s,e){return To(Nt(s),e?zt:_t)};ze.getById=function(s){return cs[s]};ze.getAll=function(){return We.filter(function(s){return s.vars.id!=="ScrollSmoother"})};ze.isScrolling=function(){return!!to};ze.snapDirectional=Ts;ze.addEventListener=function(s,e){var t=$o[s]||($o[s]=[]);~t.indexOf(e)||t.push(e)};ze.removeEventListener=function(s,e){var t=$o[s],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};ze.batch=function(s,e){var t=[],n={},o=e.interval||.016,i=e.batchMax||1e9,r=function(l,d){var c=[],p=[],f=he.delayedCall(o,function(){d(c,p),c=[],p=[]}).pause();return function(h){c.length||f.restart(!0),c.push(h.trigger),p.push(h),i<=c.length&&f.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&Bt(e[a])&&a!=="onRefreshInit"?r(a,e[a]):e[a];return Bt(i)&&(i=i(),Ft(ze,"refresh",function(){return i=e.batchMax()})),jn(s).forEach(function(u){var l={};for(a in n)l[a]=n[a];l.trigger=u,t.push(ze.create(l))}),t};var Xs=function(e,t,n,o){return t>o?e(o):t<0&&e(0),n>o?(o-t)/(n-t):n<0?t/(t-n):1},Vi=function s(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Dt.isTouch?" pinch-zoom":""):"none",e===Gt&&s(tt,t)},ii={auto:1,scroll:1},el=function(e){var t=e.event,n=e.target,o=e.axis,i=(t.changedTouches?t.changedTouches[0]:t).target,r=i._gsap||he.core.getCache(i),a=At(),u;if(!r._isScrollT||a-r._isScrollT>2e3){for(;i&&i!==tt&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(ii[(u=Jt(i)).overflowY]||ii[u.overflowX]));)i=i.parentNode;r._isScroll=i&&i!==n&&!Yo(i)&&(ii[(u=Jt(i)).overflowY]||ii[u.overflowX]),r._isScrollT=a}(r._isScroll||o==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},Gr=function(e,t,n,o){return Dt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:o=o&&el,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return n&&Ft(at,Dt.eventTypes[0],qs,!1,!0)},onDisable:function(){return Et(at,Dt.eventTypes[0],qs,!0)}})},tl=/(input|label|select|textarea)/i,Zs,qs=function(e){var t=tl.test(e.target.tagName);(t||Zs)&&(e._gsapAllow=!0,Zs=t)},ol=function(e){ko(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,o=t.momentum,i=t.allowNestedScroll,r=t.onRelease,a,u,l=Nt(e.target)||Gt,d=he.core.globals().ScrollSmoother,c=d&&d.get(),p=Co&&(e.content&&Nt(e.content)||c&&e.content!==!1&&!c.smooth()&&c.content()),f=To(l,_t),h=To(l,zt),D=1,v=(Dt.isTouch&&Ye.visualViewport?Ye.visualViewport.scale*Ye.visualViewport.width:Ye.outerWidth)/Ye.innerWidth,y=0,C=Bt(o)?function(){return o(a)}:function(){return o||2.8},M,_,j=Gr(l,e.type,!0,i),T=function(){return _=!1},E=lo,P=lo,N=function(){u=co(l,_t),P=Bn(Co?1:0,u),n&&(E=Bn(0,co(l,zt))),M=jo},x=function(){p._gsap.y=yn(parseFloat(p._gsap.y)+f.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},Y=function(){if(_){requestAnimationFrame(T);var se=yn(a.deltaY/2),re=P(f.v-se);if(p&&re!==f.v+f.offset){f.offset=re-f.v;var m=yn((parseFloat(p&&p._gsap.y)||0)-f.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+m+", 0, 1)",p._gsap.y=m+"px",f.cacheID=$e.cache,vo()}return!0}f.offset&&x(),_=!0},L,U,Z,q,ce=function(){N(),L.isActive()&&L.vars.scrollY>u&&(f()>u?L.progress(1)&&f(u):L.resetTo("scrollY",u))};return p&&he.set(p,{y:"+=0"}),e.ignoreCheck=function($){return Co&&$.type==="touchmove"&&Y()||D>1.05&&$.type!=="touchstart"||a.isGesturing||$.touches&&$.touches.length>1},e.onPress=function(){_=!1;var $=D;D=yn((Ye.visualViewport&&Ye.visualViewport.scale||1)/v),L.pause(),$!==D&&Vi(l,D>1.01?!0:n?!1:"x"),U=h(),Z=f(),N(),M=jo},e.onRelease=e.onGestureStart=function($,se){if(f.offset&&x(),!se)q.restart(!0);else{$e.cache++;var re=C(),m,J;n&&(m=h(),J=m+re*.05*-$.velocityX/.227,re*=Xs(h,m,J,co(l,zt)),L.vars.scrollX=E(J)),m=f(),J=m+re*.05*-$.velocityY/.227,re*=Xs(f,m,J,co(l,_t)),L.vars.scrollY=P(J),L.invalidate().duration(re).play(.01),(Co&&L.vars.scrollY>=u||m>=u-1)&&he.to({},{onUpdate:ce,duration:re})}r&&r($)},e.onWheel=function(){L._ts&&L.pause(),At()-y>1e3&&(M=0,y=At())},e.onChange=function($,se,re,m,J){if(jo!==M&&N(),se&&n&&h(E(m[2]===se?U+($.startX-$.x):h()+se-m[1])),re){f.offset&&x();var ue=J[2]===re,oe=ue?Z+$.startY-$.y:f()+re-J[1],we=P(oe);ue&&oe!==we&&(Z+=we-oe),f(we)}(re||se)&&vo()},e.onEnable=function(){Vi(l,n?!1:"x"),ze.addEventListener("refresh",ce),Ft(Ye,"resize",ce),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=h.smooth=!1),j.enable()},e.onDisable=function(){Vi(l,!0),Et(Ye,"resize",ce),ze.removeEventListener("refresh",ce),j.kill()},e.lockAxis=e.lockAxis!==!1,a=new Dt(e),a.iOS=Co,Co&&!f()&&f(1),Co&&he.ticker.add(lo),q=a._dc,L=he.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:jr(f,f(),function(){return L.pause()})},onUpdate:vo,onComplete:q.vars.onComplete}),a};ze.sort=function(s){if(Bt(s))return We.sort(s);var e=Ye.pageYOffset||0;return ze.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Ye.innerHeight}),We.sort(s||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};ze.observe=function(s){return new Dt(s)};ze.normalizeScroll=function(s){if(typeof s>"u")return Lt;if(s===!0&&Lt)return Lt.enable();if(s===!1){Lt&&Lt.kill(),Lt=s;return}var e=s instanceof Dt?s:ol(s);return Lt&&Lt.target===e.target&&Lt.kill(),Yo(e.target)&&(Lt=e),e};ze.core={_getVelocityProp:ss,_inputObserver:Gr,_scrollers:$e,_proxies:fo,bridge:{ss:function(){to||Xo("scrollStart"),to=At()},ref:function(){return Pt}}};Br()&&he.registerPlugin(ze);var zn=function(){var s=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(d){d.preventDefault(),n(++s%e.children.length)},!1);function t(d){return e.appendChild(d.dom),d}function n(d){for(var c=0;c<e.children.length;c++)e.children[c].style.display=c===d?"block":"none";s=d}var o=(performance||Date).now(),i=o,r=0,a=t(new zn.Panel("FPS","#0ff","#002")),u=t(new zn.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new zn.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){r++;var d=(performance||Date).now();if(u.update(d-o,200),d>=i+1e3&&(a.update(r*1e3/(d-i),100),i=d,r=0,l)){var c=performance.memory;l.update(c.usedJSHeapSize/1048576,c.jsHeapSizeLimit/1048576)}return d},update:function(){o=this.end()},domElement:e,setMode:n}};zn.Panel=function(s,e,t){var n=1/0,o=0,i=Math.round,r=i(window.devicePixelRatio||1),a=80*r,u=48*r,l=3*r,d=2*r,c=3*r,p=15*r,f=74*r,h=30*r,D=document.createElement("canvas");D.width=a,D.height=u,D.style.cssText="width:80px;height:48px";var v=D.getContext("2d");return v.font="bold "+9*r+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=t,v.fillRect(0,0,a,u),v.fillStyle=e,v.fillText(s,l,d),v.fillRect(c,p,f,h),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(c,p,f,h),{dom:D,update:function(y,C){n=Math.min(n,y),o=Math.max(o,y),v.fillStyle=t,v.globalAlpha=1,v.fillRect(0,0,a,p),v.fillStyle=e,v.fillText(i(y)+" "+s+" ("+i(n)+"-"+i(o)+")",l,d),v.drawImage(D,c+r,p,f-r,h,c,p,f-r,h),v.fillRect(c+f-r,p,r,h),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(c+f-r,p,r,i((1-y/C)*h))}}};const Vr={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Wn{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const nl=new va(-1,1,1,-1,0,1);class il extends eo{constructor(){super(),this.setAttribute("position",new bo([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new bo([0,2,0,0,2,0],2))}}const sl=new il;class Wr{constructor(e){this._mesh=new Ie(sl,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,nl)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class rl extends Wn{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Io?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ki.clone(e.uniforms),this.material=new Io({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Wr(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Js extends Wn{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const o=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let r,a;this.inverse?(r=0,a=1):(r=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),i.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(o.EQUAL,1,4294967295),i.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),i.buffers.stencil.setLocked(!0)}}class al extends Wn{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class ll{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const n=e.getSize(new Xt);this._width=n.width,this._height=n.height,t=new ci(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:fi}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new rl(Vr),this.copyPass.material.blending=xa,this.clock=new wa}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let o=0,i=this.passes.length;o<i;o++){const r=this.passes[o];if(r.enabled!==!1){if(r.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),r.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),r.needsSwap){if(n){const a=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}Js!==void 0&&(r instanceof Js?n=!0:r instanceof al&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Xt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(n,o),this.renderTarget2.setSize(n,o);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class ul extends Wn{constructor(e,t,n=null,o=null,i=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Tt}render(e,t,n){const o=e.autoClear;e.autoClear=!1;let i,r;this.overrideMaterial!==null&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=r),e.autoClear=o}}const cl={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Tt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Zo extends Wn{constructor(e,t,n,o){super(),this.strength=t!==void 0?t:1,this.radius=n,this.threshold=o,this.resolution=e!==void 0?new Xt(e.x,e.y):new Xt(256,256),this.clearColor=new Tt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);this.renderTargetBright=new ci(i,r,{type:fi}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const p=new ci(i,r,{type:fi});p.texture.name="UnrealBloomPass.h"+c,p.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(p);const f=new ci(i,r,{type:fi});f.texture.name="UnrealBloomPass.v"+c,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),i=Math.round(i/2),r=Math.round(r/2)}const a=cl;this.highPassUniforms=Ki.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Io({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const u=[3,5,7,9,11];i=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(u[c])),this.separableBlurMaterials[c].uniforms.invSize.value=new Xt(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new Te(1,1,1),new Te(1,1,1),new Te(1,1,1),new Te(1,1,1),new Te(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const d=Vr;this.copyUniforms=Ki.clone(d.uniforms),this.blendMaterial=new Io({uniforms:this.copyUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:uo,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Tt,this.oldClearAlpha=1,this.basic=new ht,this.fsQuad=new Wr(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let n=Math.round(e/2),o=Math.round(t/2);this.renderTargetBright.setSize(n,o);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,o),this.renderTargetsVertical[i].setSize(n,o),this.separableBlurMaterials[i].uniforms.invSize.value=new Xt(1/n,1/o),n=Math.round(n/2),o=Math.round(o/2)}render(e,t,n,o,i){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[u].uniforms.direction.value=Zo.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=Zo.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}getSeparableBlurMaterial(e){const t=[];for(let n=0;n<e;n++)t.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new Io({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Xt(.5,.5)},direction:{value:new Xt(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Io({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Zo.BlurDirectionX=new Xt(1,0);Zo.BlurDirectionY=new Xt(0,1);function fl(s,e,t,n){xo();const{CUBE_SIZE:o,FIRST_CUBE_Z:i}=t,r=8,a=24,u=.075;let l,d=[],c=[],p=[],f=[];const h=(v,y,C,M)=>{const _=new un(v,v,v),j=new No(_),T=[new mt({color:16711680,transparent:!0,opacity:M.opacity,blending:uo}),new mt({color:65280,transparent:!0,opacity:M.opacity,blending:uo}),new mt({color:255,transparent:!0,opacity:M.opacity,blending:uo}),new mt({color:65535,transparent:!0,opacity:M.opacity,blending:uo}),new mt({color:16711935,transparent:!0,opacity:M.opacity,blending:uo}),new mt({color:16776960,transparent:!0,opacity:M.opacity,blending:uo})],E=new Zt,P=j.getAttribute("position").array,N=[];for(let L=0;L<P.length/3;L+=2)N.push(L,L+1);const x=Array(6).fill(null).map(()=>new eo),Y=Array(6).fill(null).map(()=>[]);for(let L=0;L<N.length/2;L++){const U=L%6;Y[U].push(N[L*2],N[L*2+1])}return x.forEach((L,U)=>{L.setIndex(Y[U]),L.setAttribute("position",j.getAttribute("position"));const Z=new ct(L,T[U]);E.add(Z)}),E.position.z=y,E.rotation.z=C,E};return(()=>{const C=.9/(a-1);for(let N=0;N<a;N++)c[N]=new mt({transparent:!0,opacity:1-N*C});if(l=new Zt,!l){console.error("introGroup failed to initialize");return}for(let N=0;N<a;N++){const x=o-N*r,Y=h(x,0,0,c[N]),L=Y.children.map(U=>U.material);f.push(L.map(U=>({material:U,originalColor:U.color.clone()}))),l.add(Y)}l.position.z=i,s.add(l),d.push(l),p=c.map(N=>N.opacity);const M=te.timeline({repeat:-1});M.to(l.rotation,{x:xe.degToRad(360),duration:12,ease:"none"},0),M.to(l.rotation,{y:xe.degToRad(360),duration:10,ease:"none"},0),M.to(l.rotation,{z:xe.degToRad(360),duration:14,ease:"none"},0);let _=-1,j=0;const T=u*1e3,E=a*T,P=N=>{const x=N%E/T,Y=Math.floor(x)%a;_!==-1&&N-j>=T&&(f[_].forEach(Z=>{Z.material.opacity=p[_],Z.material.color.copy(Z.originalColor)}),_=-1),_===-1&&Y!==_&&(_=Y,j=N,f[_].forEach(U=>{U.material.opacity=1,U.material.color.set(1,1,1)})),requestAnimationFrame(P)};requestAnimationFrame(P)})(),{introCubes:d}}class Wi extends ya{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const o=n.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(o,t)}this.type="TextGeometry"}}function pl(s,e,t,n,o,i,r,a){const u=xo(),l=Mo(),{CUBE_SIZE:d,CUBE_SPACING:c,FIRST_CUBE_Z:p}=e,f=p-(t.length+1)*c,h=65535,D=16711935,v=(h>>16&255)/255,y=(h>>8&255)/255,C=(h&255)/255,M=(D>>16&255)/255,_=(D>>8&255)/255,j=(D&255)/255,T=xe.degToRad(15),E=1e3,P=.5,N=65280,x=80,Y=1,L=15,U=.1,Z="ENTER TO LEARN MORE",q=u.isMobile?1:.5,ce=40,$=.125,se=100,re=8,m=u.isMobile?2.5:2,J=u.isMobile?4:3.5,ue=1;let oe=[];oe.length=0;let we=[],Xe=!1,Se=new Ca,Re=new Xt,Pe=null,W=null,Ae=null,H=!1,Ee=null,ae=[];const fe=new Map,ye=new Map,Be=new Map,w=(V,Q,g,O,R,I,k)=>{const F=new Zt;F.name="group",F.position.z=g,F.rotation.z=O,F.userData.isActive=!1,F.userData.cubeIndex=k;const b=new un(Q,Q,Q),ne=new No(b),G=new mt({color:new Tt(h),transparent:!0,opacity:0}),ge=new ct(ne,G);ge.geometry.computeBoundingSphere(),F.add(ge);let K="right";const Fe=Q/2,ke=()=>{const B=u.isMobile?2:1,De=25*B,z=40*B,Ce=new As(z,75),S=new No(Ce),A=new mt({color:new Tt(h),transparent:!0,opacity:0,visible:!0}),X=new ct(S,A);X.name="portal",X.userData.isPortal=!0,X.userData.isAnimating=!1,X.geometry.computeBoundingSphere();const pe=80*B,me=new yo(pe,pe),_e=new ht({visible:!1,side:$t}),ee=new Ie(me,_e);ee.userData.isPortalHitbox=!0,ee.userData.portal=X,ee.geometry.computeBoundingSphere();const ve=new Zt,ie=Y*B,Ue=L*B,de=new yo(ie,Ue),Me=(De+z)/2;for(let lt=0;lt<x;lt++){const yt=new ht({color:new Tt(D),transparent:!0,opacity:0,visible:!1,side:$t}),St=new Ie(de,yt),Ct=lt/x*Math.PI*2;St.position.set(Math.cos(Ct)*Me,Math.sin(Ct)*Me,0),St.rotation.z=Ct+Math.PI/2,St.userData.baseOpacity=.01,St.userData.index=lt,St.geometry.computeBoundingSphere(),ve.add(St)}X.userData.pulsesGroup=ve;const je=2*B,He=25;for(let lt=1;lt<He;lt++){const yt=new As(z,75),St=new No(yt),Ct=xe.lerp(.125,.1,lt/(He-1)),ro=new mt({color:new Tt(h),transparent:!0,opacity:0}),ao=new ct(St,ro);ao.userData.isPortal=!0,ao.userData.maxOpacity=Ct,ao.position.z=-lt*je,ao.geometry.computeBoundingSphere(),X.add(ao)}X.userData.maxOpacity=.125;let Ge=null;if(a.value){const lt=3*B,yt=new Wi(Z,{font:a.value,size:lt,depth:0,curveSegments:4,bevelEnabled:!1});yt.computeBoundingBox(),yt.center();const St=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),Ct=new Ie(yt,St);Ct.visible=!1,Ct.userData.isVisible=!1,Ct.userData.isExploreText=!0,Ct.userData.skipTextMeshes=!0;const ro=-45*B;Ct.position.set(0,ro,0),Ct.name="textMesh",X.add(Ct),X.userData.exploreText=Ct;const ao=yt.boundingBox,la=(ao.max.x-ao.min.x+10)*B,ua=(ao.max.y-ao.min.y+10)*B,ca=new yo(la,ua),fa=new ht({transparent:!0,opacity:0,side:$t,visible:!1});Ge=new Ie(ca,fa),Ge.position.set(0,ro,0),Ge.userData.isExploreTextHitbox=!0,Ge.userData.portal=X,Ge.geometry.computeBoundingSphere(),Ge.name="textHitbox",X.add(Ge),X.userData.exploreTextHitbox=Ge;const pa=5,Li=new Wi(V.title,{font:a.value,size:pa,depth:0,curveSegments:4,bevelEnabled:!1});Li.computeBoundingBox(),Li.center();const da=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),Ao=new Ie(Li,da);Ao.visible=!1,Ao.userData.isVisible=!1,Ao.userData.isTitleText=!0,Ao.userData.skipTextMeshes=!0;const ha=u.isMobile?u.orientation==="portrait"?100:106:60;Ao.position.set(0,ha,0),X.add(Ao),X.userData.titleText=Ao}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const Ve=new Zt;Ve.name="closeGroup",Ve.position.set(u.isMobile?z-10:z,z,2);const so=new yo(12,u.isMobile?1:.5),So=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),wt=new Ie(so,So);wt.rotation.z=Math.PI/4;const dt=new Ie(so,So);dt.rotation.z=-Math.PI/4,Ve.add(wt,dt);const Wt=new yo(15*B,15*B),Dn=new ht({side:$t,visible:!1}),Po=new Ie(Wt,Dn);switch(Po.userData.isCloseHitbox=!0,Po.geometry.computeBoundingSphere(),Po.renderOrder=2,Ve.add(Po),K){case"left":X.position.set(-Fe,0,0),X.rotation.y=Math.PI/2,ee.position.set(-Fe,0,0),ee.rotation.y=Math.PI/2,O>=xe.degToRad(120)&&(X.rotation.z=Math.PI),ve.children.forEach(lt=>lt.position.x+=U);break;case"top":X.position.set(0,-Fe,0),X.rotation.x=-Math.PI/2,X.rotation.z=-Math.PI/2,ee.position.set(0,-Fe,0),ee.rotation.x=Math.PI/2,O>=xe.degToRad(100)&&O>=xe.degToRad(180)&&(X.rotation.z=Math.PI/2),ve.children.forEach(lt=>lt.position.y+=U);break;case"right":X.position.set(Fe,0,0),X.rotation.y=-Math.PI/2,ee.position.set(Fe,0,0),ee.rotation.y=-Math.PI/2,O>=xe.degToRad(120)&&(X.rotation.z=Math.PI),ve.children.forEach(lt=>lt.position.x+=U);break;case"bottom":X.position.set(0,Fe,0),X.rotation.x=Math.PI/2,X.rotation.z=-Math.PI/2,ee.position.set(0,Fe,0),ee.rotation.x=Math.PI/2,ve.children.forEach(lt=>lt.position.y+=U);break}X.add(Ve),X.userData.closeButton=Ve,Ve.updateMatrixWorld(!0),X.add(ve),F.add(X),F.add(ee),F.userData.closeButton=Ve,X.updateMatrixWorld(!0),ve.updateMatrixWorld(!0),Ve.updateMatrixWorld(!0),fe.set(F,[]),ye.set(F,0),Be.set(F,0)},et=B=>{(B instanceof ct||B instanceof Ie)&&B.geometry&&B.geometry.computeBoundingSphere(),F.add(B)};if(R&&i.showKeyarts){switch(["left","top","right","bottom"].includes(I)?I:"left"){case"left":K="right";break;case"top":K="bottom";break;case"right":K="left";break;case"bottom":K="top";break}const De=r.get(R);if(De){const z=new yo(Q-1,Q-1),Ce=new ht({map:De,transparent:!0,opacity:0,blending:uo,side:$t}),S=new Ie(z,Ce);switch(S.userData.isLoaded=!0,I){case"left":S.position.set(-Fe,0,0),O>=xe.degToRad(120)?(S.rotation.y=Math.PI/2,S.rotation.z=-Math.PI,F.userData.flipped=!0):S.rotation.y=Math.PI/2;break;case"top":S.position.set(0,-Fe,0),S.rotation.x=-Math.PI/2,S.rotation.z=-Math.PI/2;break;case"right":S.position.set(Fe,0,0),O>=xe.degToRad(120)?(S.rotation.y=-Math.PI/2,S.rotation.z=-Math.PI,F.userData.flipped=!0):S.rotation.y=-Math.PI/2;break;case"bottom":S.position.set(0,Fe,0),O>=xe.degToRad(180)?O>=xe.degToRad(220)?(S.rotation.x=Math.PI/2,S.rotation.z=Math.PI/2,F.userData.flipped=!0):(S.rotation.x=-Math.PI/2,S.rotation.z=Math.PI/2,F.userData.flipped=!0):(S.rotation.x=Math.PI/2,S.rotation.z=-Math.PI/2);break}S.geometry.computeBoundingSphere(),et(S),ke()}else console.warn(`Keyart texture not preloaded for ${V.title}: ${R}`),ke()}else ke();F.userData.portalLocation=K;{const B=(pe,me,_e,ee)=>{const ve=new yo(Q-1,Q-1),ie={map:pe,transparent:!0,opacity:0,blending:uo,side:$t,depthWrite:!1};ee&&(ie.color=ee);const Ue=new ht(ie),de=new Ie(ve,Ue);de.position.copy(me),_e.x&&(de.rotation.x=_e.x),_e.y&&(de.rotation.y=_e.y),de.userData.isGridPlane=!0,de.geometry.computeBoundingSphere(),et(de)},De=r.get(n),z=r.get(o),Ce=["left","top","right","bottom"],A=[R&&i.showKeyarts?I||"left":null,K].filter(Boolean),X=Ce.filter(pe=>!A.includes(pe));if(De)switch(B(De,new Te(0,0,-Q/2-1),{y:0}),B(De,new Te(0,0,Q/2+1),{y:0},new Tt(16744448)),X[0]){case"left":B(De,new Te(-Fe,0,0),{y:-Math.PI/2},new Tt(255));break;case"top":B(De,new Te(0,Fe,0),{x:Math.PI/2},new Tt(255));break;case"right":B(De,new Te(Fe,0,0),{y:Math.PI/2},new Tt(255));break;case"bottom":B(De,new Te(0,-Fe,0),{x:-Math.PI/2},new Tt(255));break}else console.warn(`Grid texture not preloaded: ${n}`);if(z)switch(X[1]){case"left":B(z,new Te(-Fe,0,0),{y:-Math.PI/2});break;case"top":B(z,new Te(0,Fe,0),{x:Math.PI/2});break;case"right":B(z,new Te(Fe,0,0),{y:Math.PI/2});break;case"bottom":B(z,new Te(0,-Fe,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}F.children.forEach(B=>{B.updateMatrixWorld(!0),B instanceof Zt&&B.children.forEach(De=>{De.updateMatrixWorld(!0)})}),F.updateMatrixWorld(!0);const Ze=new Mn().setFromObject(F),le=new Ci;return Ze.getBoundingSphere(le),F.boundingSphere=le,F},be=new ws,Oe=(V,Q,g,O,R)=>{if(!a.value){console.warn("Font not available; skipping text creation for:",V);const Ze=new eo,le=new ht({visible:!1});return new Ie(Ze,le)}const I=new Wi(V,{font:a.value,size:R,depth:0,curveSegments:4,bevelEnabled:!1});I.computeBoundingBox(),I.center();const k=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),F=new Ie(I,k);F.position.set(Q,g,O);const b=I.boundingBox,ne=b.max.x-b.min.x,G=b.max.y-b.min.y,ge=ne+8,K=G+4,Fe=new yo(ge,K),ke=new ht({color:0,transparent:!0,opacity:0,side:$t}),et=new Ie(Fe,ke);return et.position.set(Q,g,O-1),s.add(et),s.add(F),F.userData.backgroundPlane=et,F},qe=()=>{const V=Array.isArray(t)?t:[];Array.isArray(t)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",t);let Q=0;V.forEach((g,O)=>{const R=p-(O+1)*c,I=(O+1)*T,k=w(g,d,R,I,g.keyart,g.keyartLocation,Q);s.add(k),oe.push(k),Q++,Oe(g.title,0,g.size-15,p+90-(O+1)*c,g.size)}),s.traverse(g=>{var O;g instanceof Ie&&((O=g.geometry)==null?void 0:O.type)==="TextGeometry"&&!g.userData.skipTextMeshes&&we.push(g)})},Ne=()=>Xe?Promise.resolve({projectCubes:oe,updateCubeColors:vt,maxZ:f,cubeMetadata:ae}):(qe(),Xe=!0,ae=oe.map(V=>({index:V.userData.cubeIndex,rotation:xe.radToDeg(V.rotation.z),flipped:V.userData.flipped})),l.setCubeMetadata(ae),Promise.resolve({projectCubes:oe,updateCubeColors:vt,maxZ:f,cubeMetadata:ae})),ft=V=>{if(V.userData.isAnimating)return;V.userData.isAnimating=!0;const Q=V.userData.pulsesGroup;if(!Q){console.warn("Pulses group not found in portal.userData");return}const g=Q.children,O=g.length,R=te.timeline({repeat:-1,defaults:{ease:"none"}}),I={value:0};R.to(I,{value:1,duration:1.5,onUpdate:()=>{g.forEach(F=>{const b=F.material;if(b.visible){const ne=(F.userData.index/O+I.value)%1,ge=(Math.sin(ne*Math.PI*2)+1)/2;b.opacity=.01+(1-.01)*Math.pow(ge,4)}})}}),V.userData.animationTimeline=R},ut=V=>{if(!V.userData.isAnimating)return;V.userData.isAnimating=!1;const Q=V.userData.pulsesGroup;if(!Q){console.warn("Pulses group not found in portal.userData");return}V.userData.animationTimeline&&(V.userData.animationTimeline.kill(),delete V.userData.animationTimeline),Q.children.forEach(g=>{const O=g.material;O.opacity=0})},pt=(V,Q)=>{let g;const O=(Be.get(V)||0)+1;Be.set(V,O),O%re===0?g=new mr(m,J,12,1):g=new un(q,q,q);const R=new ht({color:16777215,transparent:!0,opacity:0}),I=new Ie(g,R);I.position.set(0,0,0);const k=Q.position.clone(),F=k.clone().normalize(),b=k.length()+se;if(O%re===0){const G=I.position.clone().add(F);I.lookAt(G),I.rotateX(Math.PI/2)}V.add(I),te.to(R,{opacity:.5,duration:ue,ease:"power2.in",overwrite:"auto"});const ne=fe.get(V)||[];ne.push({mesh:I,direction:F,distanceTraveled:0,totalDistance:b}),fe.set(V,ne)},st=V=>{(fe.get(V)||[]).forEach(g=>{V.remove(g.mesh),g.mesh.geometry.dispose(),g.mesh.material.dispose()}),fe.set(V,[])},vt=V=>{be.setFromProjectionMatrix(V.projectionMatrix.clone().multiply(V.matrixWorldInverse));const Q=V.position.z;oe.forEach((g,O)=>{const R=g.boundingSphere;if(R){const b=R.clone();if(b.radius*=1.5,!be.intersectsSphere(b))return}else console.warn(`Cube ${O} has no boundingSphere`);const I=g.position.z,k=Math.abs(Q-I);let F=0;k<=E&&(F=1-k/E),g.userData.isActive=F>=P,g.children.forEach(b=>{if(b instanceof ct&&!b.userData.isPortal&&!b.userData.isPortalHitbox){const ne=b.material;if(k<=E){const G=xe.lerp(v,M,F),ge=xe.lerp(y,_,F),K=xe.lerp(C,j,F);ne.color.set(G,ge,K),ne.opacity=Math.min(1,F*2)}else ne.opacity=0}else if(b instanceof ct&&b.userData.isPortal){b.children.forEach(G=>{if(G instanceof Ie&&G.userData.isExploreText){const ge=G.material;if(G===b.userData.titleText&&H)return;if(k<=E){const K=1-k/E;ge.opacity=Math.min(1,K*2),G.visible=!0}else ge.opacity=0,G.visible=!1}});const ne=b.userData.pulsesGroup;F>.1?ne&&ne.children.forEach(G=>{G instanceof Ie&&(G.material.visible=!0,!b.userData.animationStarted&&i.showPortalPulses&&(ft(b),b.userData.animationStarted=!0))}):F<=.1&&b.userData.animationStarted&&(ne&&ne.children.forEach(G=>{G instanceof Ie&&(G.material.visible=!1)}),ut(b),delete b.userData.animationStarted)}else if(b instanceof Ie&&!b.userData.isPortalHitbox&&!b.userData.isCloseHitbox){const ne=b.material;if(b.userData.isLoaded||b.userData.isGridPlane)if(k<=E){const G=1-k/E;ne.opacity=Math.min(.8,G*2),b.visible=!0}else ne.opacity=0,b.visible=!1}})}),we.forEach(g=>{if(!be.intersectsObject(g))return;const O=g.material,R=g.userData.backgroundPlane,I=R==null?void 0:R.material,k=g.position.z,F=Math.abs(Q-k+120);if(H){O.opacity=0,I&&(I.opacity=0);return}if(F<=E){const b=1-F/E,ne=Math.min(1,b*2);O.opacity=ne,I&&(I.opacity=ne*.8)}else O.opacity=0,I&&(I.opacity=0)})},rt=(V,Q)=>{const g=performance.now()/1e3,O=V.position.z;oe.forEach(R=>{const I=R.position.z;if(Math.abs(O-I+90)<=E&&!H){const F=ye.get(R)||0;if(g-F>=$){const G=R.children.find(ge=>ge instanceof ct&&ge.userData.isPortal);G&&(pt(R,G),ye.set(R,g))}const ne=(fe.get(R)||[]).filter(G=>{if(G.distanceTraveled+=ce*Q,G.mesh.position.copy(G.direction.clone().multiplyScalar(G.distanceTraveled)),(G.totalDistance-G.distanceTraveled)/ce<=ue&&!G.isFadingOut){G.isFadingOut=!0;const Fe=G.mesh.material;te.to(Fe,{opacity:0,duration:ue,ease:"power2.out",overwrite:"auto"})}return G.distanceTraveled>=G.totalDistance?(R.remove(G.mesh),G.mesh.geometry.dispose(),G.mesh.material.dispose(),!1):!0});fe.set(R,ne)}else st(R)})},xt=V=>{const Q=[V,...V.children.filter(R=>R instanceof ct&&R.userData.isPortal)],g=2,O=.1;Q.forEach((R,I)=>{const k=R.material;k.opacity=R.userData.maxOpacity;const F=te.timeline({repeat:-1,delay:I*O});F.to(k,{opacity:0,duration:g/2,ease:"power2.inOut"}).to(k,{opacity:R.userData.maxOpacity,duration:g/2,ease:"power2.inOut"}),R.userData.marqueeTimeline=F})},nt=V=>{const Q=[V,...V.children.filter(g=>g instanceof ct&&g.userData.isPortal)];Q.forEach(g=>{g.userData.marqueeTimeline&&(g.userData.marqueeTimeline.kill(),delete g.userData.marqueeTimeline)}),V.userData.ringExpandTimeline&&(V.userData.ringExpandTimeline.kill(),delete V.userData.ringExpandTimeline),Q.forEach((g,O)=>{const R=g.material;te.killTweensOf(g.position),te.killTweensOf(R),g.position.z=-O*2,R.opacity=0})};return{getInitializedData:Ne,updateCubeColors:vt,setupInteractivity:(V,Q,g,O,R)=>{Ee=O;let I=null,k=null,F=null,b=!1,ne=!1,G=!1,ge=!1,K=!1;const Fe=A=>{H&&(I=A.touches[0].clientY,k=k??window.scrollY,b=!0)},ke=A=>{if(!H||!F||!I||ge)return;const pe=A.touches[0].clientY-I;u.isMobile&&pe<-50&&!ne&&(A.cancelable&&A.preventDefault(),le(),I=null)},et=A=>{I=null,b=!1,G=!0,te.delayedCall(.5,()=>{G=!1})},Ze=A=>{if(b||ne||G||ge){A.preventDefault(),A.stopPropagation(),k!==null&&(window.scrollTo(0,k),te.to(window,{scrollTo:{y:k},duration:0}));return}if(!H||!F||!W||!Ae)return;if(u.isMobile){A.preventDefault(),A.stopPropagation();return}let X=0;if(A instanceof WheelEvent?X=A.deltaY:X=window.scrollY-(k||0),A.preventDefault(),A.stopPropagation(),X>0){window.scrollTo(0,k);return}X<0&&le()},le=()=>{const A=F,X=Ae?Ae.clone():new Te(0,0,f),pe=(W==null?void 0:W.z)??V.position.z,me=A==null?void 0:A.parent,_e=A?oe.indexOf(me):-1;if(ge=!0,l.setPortalLock(!1),A){nt(A);const ie=A.userData.titleText;if(ie){const Ue=ie.material;te.to(Ue,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ie.visible=!1}})}if(A.userData.closeButton){const Ue=A.userData.closeButton,de=Ue.children.filter(Me=>Me instanceof Ie&&!Me.userData.isCloseHitbox).map(Me=>Me.material);de.length>0&&te.to(de,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{Ue.visible=!1}})}}te.to(V.position,{x:(W==null?void 0:W.x)??V.position.x,y:(W==null?void 0:W.y)??V.position.y,z:pe,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const ie=we[_e];if(_e!==-1&&ie){const Ue=ie.material,de=ie.userData.backgroundPlane,Me=Math.abs(V.position.z-ie.position.z+120),je=Me<=E?Math.min(1,(1-Me/E)*2):0;te.to(Ue,{opacity:je,duration:.5,ease:"power2.in"}),de&&te.to(de.material,{opacity:je*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const ie=ve.progress,Ue=xe.lerp(ee.x,X.x,ie),de=xe.lerp(ee.y,X.y,ie),Me=xe.lerp(ee.z,X.z,ie);V.lookAt(Ue,de,Me),V.updateMatrixWorld(!0)},onComplete:()=>{V.lookAt(X),H=!1,F=null,document.body.classList.remove("no-scrollbar"),u.isMobile&&(document.body.style.overflow=""),Ee&&Ee(!1),k=null,W=null,Ae=null,V.userData.lockedLookAt=null,ge=!1,oe.forEach(ie=>{Math.abs(V.position.z-ie.position.z+90)<=E&&ye.set(ie,0)})}});const ee=V.userData.lockedLookAt?V.userData.lockedLookAt.clone():V.getWorldDirection(new Te).multiplyScalar(1e3).add(V.position),ve={progress:0};te.to(ve,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},B=(A,X=!0)=>{const pe=[A,...A.children.filter(ee=>ee instanceof ct&&ee.userData.isPortal)],me=X?25:2,_e=te.timeline({onComplete:()=>{X&&pe[0]===A&&xt(A)}});pe.forEach((ee,ve)=>{let ie=-ve*me;(A.position.y>0&&A.rotation.x===-Math.PI/2||A.position.y<0&&A.rotation.x===Math.PI/2)&&(ie=ve*me);const Ue=X?ee.userData.maxOpacity:0;_e.to(ee.position,{z:ie,duration:1,ease:"power3.out",delay:.5},0),_e.to(ee.material,{opacity:Ue,duration:1,ease:"power3.out",delay:.5},0)}),A.userData.ringExpandTimeline=_e},De=A=>{Re.x=A.clientX/window.innerWidth*2-1,Re.y=-(A.clientY/window.innerHeight)*2+1,Se.setFromCamera(Re,V),V.userData.lockedLookAt&&(V.lookAt(V.userData.lockedLookAt),V.updateMatrixWorld(!0)),oe.forEach(me=>{me.userData.lockedPosition&&(me.position.equals(me.userData.lockedPosition)||me.position.copy(me.userData.lockedPosition)),me.updateMatrixWorld(!0),me.children.forEach(_e=>_e.updateMatrixWorld(!0))});const X=oe.flatMap(me=>{const _e=[];return!H&&me.userData.isActive&&me.children.forEach(ee=>{ee instanceof Ie&&(ee.userData.isPortalHitbox||ee.userData.isExploreTextHitbox)&&_e.push(ee)}),H&&F&&me===F.parent&&me.children.forEach(ee=>{if(ee instanceof Ie&&ee.userData.isPortalHitbox&&_e.push(ee),ee instanceof ct&&ee.userData.isPortal){const ve=ee;ve.children.forEach(ie=>{ie instanceof Ie&&ie.userData.isExploreTextHitbox&&_e.push(ie),ie instanceof Zt&&ie===ve.userData.closeButton&&ie.children.forEach(Ue=>{Ue instanceof Ie&&Ue.userData.isCloseHitbox&&_e.push(Ue)})})}}),_e}),pe=Se.intersectObjects(X);if(pe.length>0){const me=pe[0].object;if(me.userData.isPortalHitbox||me.userData.isExploreTextHitbox){const _e=me.userData.portal;Pe!==_e&&(Pe&&[Pe,...Pe.children.filter(ie=>ie instanceof ct&&ie.userData.isPortal)].forEach(ie=>{const Ue=ie.material;te.to(Ue.color,{r:(h>>16&255)/255,g:(h>>8&255)/255,b:(h&255)/255,duration:.5})}),Pe=_e,[Pe,...Pe.children.filter(ve=>ve instanceof ct&&ve.userData.isPortal)].forEach(ve=>{const ie=ve.material;te.to(ie.color,{r:(N>>16&255)/255,g:(N>>8&255)/255,b:(N&255)/255,duration:.5})})),Q.style.cursor="pointer"}else if(me.userData.isCloseHitbox&&H){if(!K){K=!0;const _e=me.parent;te.to(_e.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}Q.style.cursor="pointer"}}else{if(Pe&&([Pe,...Pe.children.filter(_e=>_e instanceof ct&&_e.userData.isPortal)].forEach(_e=>{const ee=_e.material;te.to(ee.color,{r:(h>>16&255)/255,g:(h>>8&255)/255,b:(h&255)/255,duration:.5})}),Pe=null),H&&F&&K){const me=F.userData.closeButton;me&&(K=!1,te.to(me.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}Q.style.cursor="auto"}},z=A=>{if(ge)return;Re.x=A.clientX/window.innerWidth*2-1,Re.y=-(A.clientY/window.innerHeight)*2+1,Se.setFromCamera(Re,V);const X=oe.flatMap(de=>{const Me=[];return H&&F&&de===F.parent&&de.children.forEach(je=>{if(je instanceof ct&&je.userData.isPortal){const He=je;He.children.forEach(Ge=>{Ge instanceof Zt&&Ge===He.userData.closeButton&&Ge.children.forEach(Ve=>{Ve instanceof Ie&&Ve.userData.isCloseHitbox&&Me.push(Ve)})})}}),Me}),pe=oe.flatMap(de=>{const Me=[];return!H&&de.userData.isActive&&de.children.forEach(je=>{je instanceof Ie&&(je.userData.isPortalHitbox||je.userData.isExploreTextHitbox)&&Me.push(je)}),H&&F&&de===F.parent&&de.children.forEach(je=>{je instanceof Ie&&je.userData.isPortalHitbox&&Me.push(je),je instanceof ct&&je.userData.isPortal&&je.children.forEach(He=>{He instanceof Ie&&He.userData.isExploreTextHitbox&&Me.push(He)})}),Me});let me=Se.intersectObjects(X);for(const de of me)if(de.object.userData.isCloseHitbox){le();return}if(me=Se.intersectObjects(pe),me.length===0)return;const ee=me[0].object.userData.portal,ve=ee.parent,ie=oe.indexOf(ve),Ue=t[ie];if(H&&ee===F){let de=new Te;const Me=e.CUBE_SIZE/2;ee.position.x===Me?de.set(-1,0,0):ee.position.x===-Me?de.set(1,0,0):ee.position.y===Me?de.set(0,-1,0):ee.position.y===-Me&&de.set(0,1,0),de.applyQuaternion(ve.getWorldQuaternion(new ba)).normalize();const He=V.position.clone().clone().add(de.clone().multiplyScalar(-675)),Ge=de.clone().multiplyScalar(-1e3),Ve=He.clone().add(Ge);ge=!0,te.to(V.position,{x:He.x,y:He.y,z:He.z,duration:1,ease:"power2.in",onUpdate:()=>V.lookAt(Ve),onStart:()=>{te.to(g.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{Ue!=null&&Ue.slug&&(l.setScrollPosition(window.scrollY),Dr.visit(route("project.show",{project:Ue.slug}),{preserveScroll:!1})),ge=!1}})}else if(!H){W||(W=V.position.clone(),Ae=new Te(0,0,f)),Ee&&O(!0,W,Ae);const de=ee.getWorldPosition(new Te);ne=!0,ge=!0,k=window.scrollY,te.to(V.position,{x:0,y:0,z:ve.getWorldPosition(new Te).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{H=!0,F=ee,document.body.classList.add("no-scrollbar"),u.isMobile&&(document.body.style.overflow="hidden"),ve.userData.lockedPosition=ve.position.clone(),st(ve);const Me=we[ie];if(Me){const He=Me.material,Ge=Me.userData.backgroundPlane;te.to(He,{opacity:0,duration:.5,ease:"power2.out"}),Ge&&te.to(Ge.material,{opacity:0,duration:.5,ease:"power2.out"})}const je=ee.userData.titleText;if(je){je.visible=!0;const He=je.material;te.to(He,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(ee.userData.closeButton){const He=ee.userData.closeButton;He.visible=!0;const Ge=He.children.filter(Ve=>Ve instanceof Ie&&!Ve.userData.isCloseHitbox).map(Ve=>Ve.material);Ge.length>0&&te.to(Ge,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}l.setPortalLock(!0,ie)},onComplete:()=>{B(ee,!0),ne=!1,ge=!1,V.userData.lockedLookAt=de.clone()}}),te.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const Me=this.progress(),je=V.getWorldDirection(new Te).multiplyScalar(1e3).add(V.position),He=xe.lerp(je.x,de.x,Me),Ge=xe.lerp(je.y,de.y,Me),Ve=xe.lerp(je.z,de.z,Me);V.lookAt(He,Ge,Ve)},onComplete:()=>{V.lookAt(de.x,de.y,de.z),V.updateMatrixWorld(!0)}})}};Q.addEventListener("mousemove",De),Q.addEventListener("click",z),Q.addEventListener("touchstart",Fe,{passive:!1}),Q.addEventListener("touchmove",ke,{passive:!1}),Q.addEventListener("touchend",et,{passive:!0}),window.addEventListener("wheel",Ze,{passive:!1}),window.addEventListener("scroll",Ze,{passive:!1});const Ce=()=>{fe.forEach((A,X)=>{A.forEach(pe=>{X.remove(pe.mesh),pe.mesh.geometry.dispose(),pe.mesh.material.dispose()})}),fe.clear(),ye.clear(),Be.clear()},S=()=>{Q.removeEventListener("mousemove",De),Q.removeEventListener("click",z),Q.removeEventListener("touchstart",Fe),Q.removeEventListener("touchmove",ke),Q.removeEventListener("touchend",et),window.removeEventListener("wheel",Ze),window.removeEventListener("scroll",Ze),F&&nt(F),u.isMobile&&(document.body.style.overflow="")};return()=>{S(),Ce()}},updateClickHereParticles:rt}}function dl(s,e,t,n){const o=xo(),i=100,r=100,a=300,u=3355443,l=o.isMobile?24:32,d=-600,c=-500,p=500,f=o.isMobile?5:10,h=.05,D=1,v=o.isMobile?6:4,y=o.isMobile?4:6,C=100,M=-450,_=60,j=t-p,T=Math.abs(c-j),E=Math.ceil(T/i),P=()=>{const m=new Zt;let J=null,ue=null;const oe=[],we=[],Xe=[],Se=[],Re=[];{const Pe=new un(i,i,i),W=new No(Pe),Ae=l*E,H=new _a;H.copy(W),H.instanceCount=Ae;const Ee=new mt({color:u,transparent:!0,fog:!0,vertexColors:!0}),ae=new Float32Array(Ae*3),fe=new Float32Array(Ae*3),ye=new Float32Array(Ae*3),Be=l*i,w=-Be/2+i/2,be=c;for(let Q=0;Q<l;Q++){const g=N(Q);for(let O=0;O<E;O++){const R=Q*E+O,I=w+Q*i,k=be-O*i,F=xe.randFloat(r,a),b=F/i,ne=d+F/2;ae[R*3]=I,ae[R*3+1]=ne,ae[R*3+2]=k,fe[R*3]=1,fe[R*3+1]=b,fe[R*3+2]=1,ye[R*3]=g,ye[R*3+1]=g,ye[R*3+2]=g}}H.setAttribute("instancePosition",new Ii(ae,3)),H.setAttribute("instanceScale",new Ii(fe,3)),H.setAttribute("color",new Ii(ye,3)),Ee.onBeforeCompile=Q=>{Q.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${Q.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},J=new ct(H,Ee);const Oe=-Be/2,qe=Be/2,Ne=d,ft=d+a,ut=j,pt=c;H.boundingBox=new Mn(new Te(Oe,Ne,ut),new Te(qe,ft,pt));const st=(Oe+qe)/2,vt=(Ne+ft)/2,rt=(ut+pt)/2,xt=qe-Oe,nt=ft-Ne,it=pt-ut,V=Math.sqrt(xt*xt+nt*nt+it*it)/2;H.boundingSphere=new Ci(new Te(st,vt,rt),V),m.add(J)}{ue=new Zt;const Pe=l*i/(y-1),W=-(l*i)/2;for(let H=0;H<y;H++){let ae=W+H*Pe,fe=c;const ye=[new Te(ae,M,fe)];let Be=0;for(;fe>j;){const w=fe===c?xe.randFloat(300,800):Math.min(xe.randFloat(300,800),Math.abs(fe-j));if(fe-=w,ye.push(new Te(ae,M,fe)),Be+=w,fe<=j){ye[ye.length-1].z=j;break}const be=Math.random()<.5?-1:1,Oe=xe.randFloat(100,300);ae+=be*Oe,ye.push(new Te(ae,M,fe)),Be+=Oe}we.push({points:ye,totalLength:Be})}const Ae=new un(v,v,v);for(let H=0;H<y;H++){const Ee=we[H],ae=Ee.totalLength,fe=ae/_;for(let ye=0;ye<_;ye++){const Be=new ht({color:16711680,fog:!0}),w=new Ie(Ae,Be),be=ye*fe;let Oe=be;for(let qe=0;qe<Ee.points.length-1;qe++){const Ne=Ee.points[qe],ft=Ee.points[qe+1],ut=Ne.distanceTo(ft);if(Oe<=ut){const pt=Oe/ut;w.position.lerpVectors(Ne,ft,pt);break}Oe-=ut}oe.push(w),Xe.push(be),Se.push(H),Re.push(1),ue.add(w)}for(let ye=0;ye<_;ye++){const Be=new ht({color:16777215,fog:!0}),w=new Ie(Ae,Be),be=ae-(ye*fe+fe/2);let Oe=ae-be;const qe=[...Ee.points].reverse();for(let Ne=0;Ne<qe.length-1;Ne++){const ft=qe[Ne],ut=qe[Ne+1],pt=ft.distanceTo(ut);if(Oe<=pt){const st=Oe/pt;w.position.lerpVectors(ft,ut,st);break}Oe-=pt}oe.push(w),Xe.push(be),Se.push(H),Re.push(-1),ue.add(w)}}e.add(ue)}return e.add(m),{cityGroup:m,instancedLines:J,particleGroup:ue,particles:oe,paths:we,particleDistances:Xe,particlePaths:Se,particleDirections:Re}},N=m=>{if(m<f){const J=(D-h)/(f-1);return h+m*J}else if(m>=l-f){const J=l-1-m,ue=(D-h)/(f-1);return h+J*ue}return D},{cityGroup:x,instancedLines:Y,particleGroup:L,particles:U,paths:Z,particleDistances:q,particlePaths:ce,particleDirections:$}=P();return{cityGroup:x,buildingLines:Y?[Y]:[],updateParticles:m=>{const J=C*m;for(let ue=0;ue<U.length;ue++){const oe=$[ue],we=ce[ue],Xe=Z[we],Se=Xe.totalLength;q[ue]+=J*oe,oe===1?(q[ue]=q[ue]%Se,q[ue]<0&&(q[ue]+=Se)):q[ue]=(q[ue]+Se)%Se;const Re=q[ue],Pe=oe===1?Xe.points:[...Xe.points].reverse();let W=oe===1?Re:Se-Re;for(let Ae=0;Ae<Pe.length-1;Ae++){const H=Pe[Ae],Ee=Pe[Ae+1],ae=H.distanceTo(Ee);if(W<=ae){const fe=W/ae;U[ue].position.lerpVectors(H,Ee,fe);break}W-=ae}}},dispose:()=>{Y&&(x.remove(Y),Y.geometry.dispose(),Y.material.dispose()),L&&(e.remove(L),L.children.forEach(m=>{m.geometry.dispose(),m.material.dispose()})),e.remove(x)}}}te.registerPlugin(ze);function hl(s,e,t,n,o,i,r={},a,u){const l=xo(),d=Mo(),{CUBE_SPACING:c,FIRST_CUBE_Z:p}=i,f=(n==null?void 0:n.length)||0,h=p-(f+1)*c;let D=!1,v=!1;const y=l.isMobile?(Math.abs(h)+(f-1)*c)*.7:Math.abs(h)+(f-1)*c;let C=te.timeline();ze.config({ignoreMobileResize:!0});{let j=0,T=0;const E=16;C=te.timeline({scrollTrigger:{trigger:t.value,start:"top top",end:`+=${y}`,scrub:r.scrub,pin:!0,onUpdate:P=>{const N=performance.now();if(N-T>=E){if(!D){const x=P.progress,Y=xe.lerp(0,h,x);e.position.set(0,0,Y),e.lookAt(0,0,h),j++,(j%4===0||Y<1)&&d.setProgress(Math.round(Math.abs(Y)))}o(e),T=N}u&&u.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),C.fromTo(e.position,{z:0},{z:h,duration:1,ease:"none"},0)}return{setReverting:j=>{D=j},timeline:C,isScrollTriggerActive:()=>v}}function Dl(s,e,t){const n=xo(),o=n.isMobile?25:20,i=n.isMobile?600:1800,r=4e3,a=-1e3,u=t-1e3,l=1e3,d=t,c=150,p=-500,f=t,h=new eo,D=new Float32Array(i*3),v=new Float32Array(i),y=new Float32Array(i);let C=0;for(;C<i;){const P=(Math.random()-.5)*r,N=(Math.random()-.5)*r,x=a+Math.random()*(u-a),Y=x>d&&Math.abs(P)<l&&Math.abs(N)<l,L=Math.abs(P)<c&&Math.abs(N)<c&&x>f&&x<p;if(!Y&&!L){const U=C*3;D[U]=P,D[U+1]=N,D[U+2]=x;const Z=.1+Math.random()*(.7-.1);v[C]=Z,y[C]=Z,C++}}h.setAttribute("position",new es(D,3)),h.setAttribute("opacity",new es(y,1));const M=new Io({uniforms:{color:{value:new Tt(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),_=new pi(h,M);_.frustumCulled=!0,s.add(_);const j={values:y.slice()},T=h.attributes.opacity;return te.to(j,{duration:2,onUpdate:()=>{const P=Date.now()*.001;for(let N=0;N<i;N++)j.values[N]=v[N]*(.05+.95*Math.abs(Math.sin(P+N*.01)));T.array.set(j.values),T.needsUpdate=!0},repeat:-1,ease:"none"}),new ws,{dispose:()=>{te.killTweensOf(y),s.remove(_),h.dispose(),M.dispose()}}}function gl(s,e){const n=e-1500,o=100,i=2,r=64,a=1e3,u=r*3,l=[4,4.5,5],d=6;let c,p,f,h,D,v;const y=[],C=[[],[],[]],M=[[],[],[]],_=[[],[],[]];let j=[0,0,0];const T=()=>{const x=0-n,Y=[];for(let re=0;re<o;re++){const m=re/(o-1),J=0-m*x,ue=m*5*2*Math.PI,oe=90*(.8+.2*Math.sin(ue*2)),we=new Te(oe*Math.cos(ue),oe*Math.sin(ue),J);(isNaN(we.x)||isNaN(we.y)||isNaN(we.z))&&console.error("NaN in chaserPath points",{t:m,z:J,projectMaxZ:e}),Y.push(we)}c=new di(Y);const L=new eo().setFromPoints(c.getPoints(200));h=new Oi(L,new mt({color:16711935,linewidth:2,visible:!1})),s.add(h);const U=[];for(let re=0;re<o;re++){const m=re/(o-1),J=0-m*x,ue=m*3*2*Math.PI,oe=60*(.8+.2*Math.sin(ue*4)),we=new Te(oe*Math.cos(ue),oe*Math.sin(ue),J);(isNaN(we.x)||isNaN(we.y)||isNaN(we.z))&&console.error("NaN in chaserPath2 points",{t:m,z:J,projectMaxZ:e}),U.push(we)}p=new di(U);const Z=new eo().setFromPoints(p.getPoints(200));D=new Oi(Z,new mt({color:65535,linewidth:2,visible:!1})),s.add(D);const q=[];for(let re=0;re<o;re++){const m=re/(o-1),J=0-m*x,ue=m*7*2*Math.PI,oe=100,we=90,Xe=.1*Math.sin(ue),Se=new Te(oe*(1+Xe)*Math.cos(ue),we*(1-Xe)*Math.sin(ue),J);(isNaN(Se.x)||isNaN(Se.y)||isNaN(Se.z))&&console.error("NaN in chaserPath3 points",{t:m,z:J,projectMaxZ:e}),q.push(Se)}f=new di(q);const ce=new eo().setFromPoints(f.getPoints(200));v=new Oi(ce,new mt({color:16776960,linewidth:2,visible:!1})),s.add(v);const $=[16711680,65280,255],se=new un(i,i,i);se.attributes.color&&delete se.attributes.color;for(let re=0;re<3;re++){const m=new Zt;m.opacity=1,m.renderOrder=1,y[re]=m,s.add(m);for(let J=0;J<u;J++){const ue=new ht({color:$[re],transparent:!0,opacity:0,blending:Ea,fog:!0,depthWrite:!1}),oe=new Ie(se,ue);oe.renderOrder=1,oe.visible=!1,m.add(oe),C[re][J]=oe,M[re][J]=0,_[re][J]=!1}}},E=x=>{const Y=[c,p,f][x],L=Y.getLength(),U=_[x].filter(q=>q).length;if(u-U>=r){let q=0;for(let ce=0;ce<r;ce++){const $=_[x].findIndex(we=>!we);if($===-1){console.warn(`No available chasers for path ${x}, emitted ${q}/${r}`);break}const se=q/(r-1),re=.05+(1-.05)*Math.pow(se,3),m=new ht({color:[16711680,65280,255][x],transparent:!0,opacity:re,blending:uo,fog:!0,depthWrite:!1});C[x][$].material=m,C[x][$].visible=!0;const J=q*d;M[x][$]=J,_[x][$]=!0;const ue=J/L,oe=Y.getPointAt(ue);C[x][$].position.copy(oe),q++}}},P=x=>{const Y=performance.now()/1e3,L=[c,p,f];for(let U=0;U<3;U++){Y-j[U]>=l[U]&&(E(U),j[U]=Y);const Z=L[U],q=Z.getLength(),ce=a*x;for(let $=0;$<u;$++)if(_[U][$]){M[U][$]+=ce;const se=M[U][$]/q;if(se>=1)C[U][$].visible=!1,_[U][$]=!1,M[U][$]=0;else{const re=Z.getPointAt(se);C[U][$].position.copy(re)}}}};return T(),{chaserPath:c,chaserPath2:p,chaserPath3:f,updateChasers:P,dispose:()=>{s.remove(h),s.remove(D),s.remove(v),h.geometry.dispose(),h.material.dispose(),D.geometry.dispose(),D.material.dispose(),v.geometry.dispose(),v.material.dispose(),y.forEach(x=>{x.children.forEach(Y=>{Y.geometry.dispose(),Y.material.dispose()}),s.remove(x)})}}}class ml extends vr{constructor(e){super(e)}load(e,t,n,o){const i=this,r=new xr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){const u=i.parse(JSON.parse(a));t&&t(u)},n,o)}parse(e){return new vl(e)}}class vl{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],o=xl(e,t,this.data);for(let i=0,r=o.length;i<r;i++)n.push(...o[i].toShapes());return n}}function xl(s,e,t){const n=Array.from(s),o=e/t.resolution,i=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*o,r=[];let a=0,u=0;for(let l=0;l<n.length;l++){const d=n[l];if(d===`
`)a=0,u-=i;else{const c=wl(d,o,a,u,t);a+=c.offsetX,r.push(c.path)}}return r}function wl(s,e,t,n,o){const i=o.glyphs[s]||o.glyphs["?"];if(!i){console.error('THREE.Font: character "'+s+'" does not exists in font family '+o.familyName+".");return}const r=new Fa;let a,u,l,d,c,p,f,h;if(i.o){const D=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let v=0,y=D.length;v<y;)switch(D[v++]){case"m":a=D[v++]*e+t,u=D[v++]*e+n,r.moveTo(a,u);break;case"l":a=D[v++]*e+t,u=D[v++]*e+n,r.lineTo(a,u);break;case"q":l=D[v++]*e+t,d=D[v++]*e+n,c=D[v++]*e+t,p=D[v++]*e+n,r.quadraticCurveTo(c,p,l,d);break;case"b":l=D[v++]*e+t,d=D[v++]*e+n,c=D[v++]*e+t,p=D[v++]*e+n,f=D[v++]*e+t,h=D[v++]*e+n,r.bezierCurveTo(c,p,f,h,l,d);break}}return{offsetX:i.ha*e,path:r}}function yl(s="/fonts/Poppins_Regular.json"){const e=Je(null),t=Je(0),n=Je(!1),o=()=>new Promise((r,a)=>{new ml().load(s,l=>{e.value=l,t.value=100,n.value=!0,r(l)},l=>{l.lengthComputable&&(t.value=l.loaded/l.total*100)},l=>{t.value=100,n.value=!0,a(l)})});return{font:e,loadingProgress:t,isLoaded:n,initialize:()=>o()}}const Cl=/^[og]\s*(.+)?/,bl=/^mtllib /,_l=/^usemtl /,El=/^usemap /,Qs=/\s+/,Ks=new Te,Yi=new Te,er=new Te,tr=new Te,Yt=new Te,si=new Tt;function Fl(){const s={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,i){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const a={index:this.materials.length,name:o||"",mtllib:Array.isArray(i)&&i.length>0?i[i.length-1]:"",smooth:r!==void 0?r.smooth:this.smooth,groupStart:r!==void 0?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(u){const l={index:typeof u=="number"?u:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const i=this.currentMaterial();if(i&&i.groupEnd===-1&&(i.groupEnd=this.geometry.vertices.length/3,i.groupCount=i.groupEnd-i.groupStart,i.inherited=!1),o&&this.materials.length>1)for(let r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),i}},n&&n.name&&typeof n.clone=="function"){const o=n.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseNormalIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseUVIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/2)*2},addVertex:function(e,t,n){const o=this.vertices,i=this.object.geometry.vertices;i.push(o[e+0],o[e+1],o[e+2]),i.push(o[t+0],o[t+1],o[t+2]),i.push(o[n+0],o[n+1],o[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const o=this.normals,i=this.object.geometry.normals;i.push(o[e+0],o[e+1],o[e+2]),i.push(o[t+0],o[t+1],o[t+2]),i.push(o[n+0],o[n+1],o[n+2])},addFaceNormal:function(e,t,n){const o=this.vertices,i=this.object.geometry.normals;Ks.fromArray(o,e),Yi.fromArray(o,t),er.fromArray(o,n),Yt.subVectors(er,Yi),tr.subVectors(Ks,Yi),Yt.cross(tr),Yt.normalize(),i.push(Yt.x,Yt.y,Yt.z),i.push(Yt.x,Yt.y,Yt.z),i.push(Yt.x,Yt.y,Yt.z)},addColor:function(e,t,n){const o=this.colors,i=this.object.geometry.colors;o[e]!==void 0&&i.push(o[e+0],o[e+1],o[e+2]),o[t]!==void 0&&i.push(o[t+0],o[t+1],o[t+2]),o[n]!==void 0&&i.push(o[n+0],o[n+1],o[n+2])},addUV:function(e,t,n){const o=this.uvs,i=this.object.geometry.uvs;i.push(o[e+0],o[e+1]),i.push(o[t+0],o[t+1]),i.push(o[n+0],o[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,o,i,r,a,u,l){const d=this.vertices.length;let c=this.parseVertexIndex(e,d),p=this.parseVertexIndex(t,d),f=this.parseVertexIndex(n,d);if(this.addVertex(c,p,f),this.addColor(c,p,f),a!==void 0&&a!==""){const h=this.normals.length;c=this.parseNormalIndex(a,h),p=this.parseNormalIndex(u,h),f=this.parseNormalIndex(l,h),this.addNormal(c,p,f)}else this.addFaceNormal(c,p,f);if(o!==void 0&&o!==""){const h=this.uvs.length;c=this.parseUVIndex(o,h),p=this.parseUVIndex(i,h),f=this.parseUVIndex(r,h),this.addUV(c,p,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,o=e.length;n<o;n++){const i=this.parseVertexIndex(e[n],t);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,o=this.uvs.length;for(let i=0,r=e.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(let i=0,r=t.length;i<r;i++)this.addUVLine(this.parseUVIndex(t[i],o))}};return s.startObject("",!1),s}class or extends vr{constructor(e){super(e),this.materials=null}load(e,t,n,o){const i=this,r=new xr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){try{t(i.parse(a))}catch(u){o?o(u):console.error(u),i.manager.itemError(e)}},n,o)}setMaterials(e){return this.materials=e,this}parse(e){const t=new Fl;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const n=e.split(`
`);let o=[];for(let a=0,u=n.length;a<u;a++){const l=n[a].trimStart();if(l.length===0)continue;const d=l.charAt(0);if(d!=="#")if(d==="v"){const c=l.split(Qs);switch(c[0]){case"v":t.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),c.length>=7?(si.setRGB(parseFloat(c[4]),parseFloat(c[5]),parseFloat(c[6]),ts),t.colors.push(si.r,si.g,si.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));break;case"vt":t.uvs.push(parseFloat(c[1]),parseFloat(c[2]));break}}else if(d==="f"){const p=l.slice(1).trim().split(Qs),f=[];for(let D=0,v=p.length;D<v;D++){const y=p[D];if(y.length>0){const C=y.split("/");f.push(C)}}const h=f[0];for(let D=1,v=f.length-1;D<v;D++){const y=f[D],C=f[D+1];t.addFace(h[0],y[0],C[0],h[1],y[1],C[1],h[2],y[2],C[2])}}else if(d==="l"){const c=l.substring(1).trim().split(" ");let p=[];const f=[];if(l.indexOf("/")===-1)p=c;else for(let h=0,D=c.length;h<D;h++){const v=c[h].split("/");v[0]!==""&&p.push(v[0]),v[1]!==""&&f.push(v[1])}t.addLineGeometry(p,f)}else if(d==="p"){const p=l.slice(1).trim().split(" ");t.addPointGeometry(p)}else if((o=Cl.exec(l))!==null){const c=(" "+o[0].slice(1).trim()).slice(1);t.startObject(c)}else if(_l.test(l))t.object.startMaterial(l.substring(7).trim(),t.materialLibraries);else if(bl.test(l))t.materialLibraries.push(l.substring(7).trim());else if(El.test(l))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(d==="s"){if(o=l.split(" "),o.length>1){const p=o[1].trim().toLowerCase();t.object.smooth=p!=="0"&&p!=="off"}else t.object.smooth=!0;const c=t.object.currentMaterial();c&&(c.smooth=t.object.smooth)}else{if(l==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+l+'"')}}t.finalize();const i=new Zt;if(i.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,u=t.objects.length;a<u;a++){const l=t.objects[a],d=l.geometry,c=l.materials,p=d.type==="Line",f=d.type==="Points";let h=!1;if(d.vertices.length===0)continue;const D=new eo;D.setAttribute("position",new bo(d.vertices,3)),d.normals.length>0&&D.setAttribute("normal",new bo(d.normals,3)),d.colors.length>0&&(h=!0,D.setAttribute("color",new bo(d.colors,3))),d.hasUVIndices===!0&&D.setAttribute("uv",new bo(d.uvs,2));const v=[];for(let C=0,M=c.length;C<M;C++){const _=c[C],j=_.name+"_"+_.smooth+"_"+h;let T=t.materials[j];if(this.materials!==null){if(T=this.materials.create(_.name),p&&T&&!(T instanceof mt)){const E=new mt;os.prototype.copy.call(E,T),E.color.copy(T.color),T=E}else if(f&&T&&!(T instanceof Yn)){const E=new Yn({size:10,sizeAttenuation:!1});os.prototype.copy.call(E,T),E.color.copy(T.color),E.map=T.map,T=E}}T===void 0&&(p?T=new mt:f?T=new Yn({size:1,sizeAttenuation:!1}):T=new Ta,T.name=_.name,T.flatShading=!_.smooth,T.vertexColors=h,t.materials[j]=T),v.push(T)}let y;if(v.length>1){for(let C=0,M=c.length;C<M;C++){const _=c[C];D.addGroup(_.groupStart,_.groupCount,C)}p?y=new ct(D,v):f?y=new pi(D,v):y=new Ie(D,v)}else p?y=new ct(D,v[0]):f?y=new pi(D,v[0]):y=new Ie(D,v[0]);y.name=l.name,i.add(y)}else if(t.vertices.length>0){const a=new Yn({size:1,sizeAttenuation:!1}),u=new eo;u.setAttribute("position",new bo(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(u.setAttribute("color",new bo(t.colors,3)),a.vertexColors=!0);const l=new pi(u,a);i.add(l)}return i}}/*!
 * paths 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tl=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Ml=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Sl=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Pl=/(^[#\.][a-z]|[a-y][a-z])/i,Al=Math.PI/180,Bl=180/Math.PI,ri=Math.sin,ai=Math.cos,Kt=Math.abs,ho=Math.sqrt,Rl=Math.atan2,ds=1e8,nr=function(e){return typeof e=="string"},Yr=function(e){return typeof e=="number"},kl=function(e){return typeof e>"u"},Ll={},Il={},Mi=1e5,$r=function(e){return Math.round((e+ds)%1*Mi)/Mi||(e<0?0:1)},Ke=function(e){return Math.round(e*Mi)/Mi||0},ir=function(e){return Math.round(e*1e10)/1e10||0},sr=function(e,t,n,o){var i=e[t],r=o===1?6:hs(i,n,o);if((r||!o)&&r+n+2<i.length)return e.splice(t,0,i.slice(0,n+r+2)),i.splice(0,n+r),1},Xr=function(e,t,n){var o=e.length,i=~~(n*o);if(e[i]>t){for(;--i&&e[i]>t;);i<0&&(i=0)}else for(;e[++i]<t&&i<o;);return i<o?i:o-1},Ol=function(e,t){var n=e.length;for(e.reverse();n--;)e[n].reversed||Hl(e[n])},rr=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},zl=function(e,t){var n=e.length,o=e[n-1]||[],i=o.length;n&&t[0]===o[i-2]&&t[1]===o[i-1]&&(t=o.concat(t.slice(2)),n--),e[n]=t};function wi(s){s=nr(s)&&Pl.test(s)&&document.querySelector(s)||s;var e=s.getAttribute?s:0,t;return e&&(s=s.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[s],t&&!t._dirty?t:e._gsPath[s]=Si(s)):s?nr(s)?Si(s):Yr(s[0])?[s]:s:console.warn("Expecting a <path> element or an SVG path data string")}function Nl(s){for(var e=[],t=0;t<s.length;t++)e[t]=rr(s[t],s[t].slice(0));return rr(s,e)}function Hl(s){var e=0,t;for(s.reverse();e<s.length;e+=2)t=s[e],s[e]=s[e+1],s[e+1]=t;s.reversed=!s.reversed}var Ul=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),o=[].slice.call(e.attributes),i=o.length,r;for(t=","+t+",";--i>-1;)r=o[i].nodeName.toLowerCase(),t.indexOf(","+r+",")<0&&n.setAttributeNS(null,r,o[i].nodeValue);return n},jl={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},Gl=function(e,t){for(var n=t?t.split(","):[],o={},i=n.length;--i>-1;)o[n[i]]=+e.getAttribute(n[i])||0;return o};function Vl(s,e){var t=s.tagName.toLowerCase(),n=.552284749831,o,i,r,a,u,l,d,c,p,f,h,D,v,y,C,M,_,j,T,E,P,N;return t==="path"||!s.getBBox?s:(l=Ul(s,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),N=Gl(s,jl[t]),t==="rect"?(a=N.rx,u=N.ry||a,i=N.x,r=N.y,f=N.width-a*2,h=N.height-u*2,a||u?(D=i+a*(1-n),v=i+a,y=v+f,C=y+a*n,M=y+a,_=r+u*(1-n),j=r+u,T=j+h,E=T+u*n,P=T+u,o="M"+M+","+j+" V"+T+" C"+[M,E,C,P,y,P,y-(y-v)/3,P,v+(y-v)/3,P,v,P,D,P,i,E,i,T,i,T-(T-j)/3,i,j+(T-j)/3,i,j,i,_,D,r,v,r,v+(y-v)/3,r,y-(y-v)/3,r,y,r,C,r,M,_,M,j].join(",")+"z"):o="M"+(i+f)+","+r+" v"+h+" h"+-f+" v"+-h+" h"+f+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(a=u=N.r,c=a*n):(a=N.rx,u=N.ry,c=u*n),i=N.cx,r=N.cy,d=a*n,o="M"+(i+a)+","+r+" C"+[i+a,r+c,i+d,r+u,i,r+u,i-d,r+u,i-a,r+c,i-a,r,i-a,r-c,i-d,r-u,i,r-u,i+d,r-u,i+a,r-c,i+a,r].join(",")+"z"):t==="line"?o="M"+N.x1+","+N.y1+" L"+N.x2+","+N.y2:(t==="polyline"||t==="polygon")&&(p=(s.getAttribute("points")+"").match(Ml)||[],i=p.shift(),r=p.shift(),o="M"+i+","+r+" L"+p.join(","),t==="polygon"&&(o+=","+i+","+r+"z")),l.setAttribute("d",Jr(l._gsRawPath=Si(o))),e&&s.parentNode&&(s.parentNode.insertBefore(l,s),s.parentNode.removeChild(s)),l)}function Zr(s,e,t){var n=s[e],o=s[e+2],i=s[e+4],r;return n+=(o-n)*t,o+=(i-o)*t,n+=(o-n)*t,r=o+(i+(s[e+6]-i)*t-o)*t-n,n=s[e+1],o=s[e+3],i=s[e+5],n+=(o-n)*t,o+=(i-o)*t,n+=(o-n)*t,Ke(Rl(o+(i+(s[e+7]-i)*t-o)*t-n,r)*Bl)}function qr(s,e,t){t=kl(t)?1:ir(t)||0,e=ir(e)||0;var n=Math.max(0,~~(Kt(t-e)-1e-8)),o=Nl(s);if(e>t&&(e=1-e,t=1-t,Ol(o),o.totalLength=0),e<0||t<0){var i=Math.abs(~~Math.min(e,t))+1;e+=i,t+=i}o.totalLength||Go(o);var r=t>1,a=ar(o,e,Ll,!0),u=ar(o,t,Il),l=u.segment,d=a.segment,c=u.segIndex,p=a.segIndex,f=u.i,h=a.i,D=p===c,v=f===h&&D,y,C,M,_,j,T,E,P;if(r||n){for(y=c<p||D&&f<h||v&&u.t<a.t,sr(o,p,h,a.t)&&(p++,y||(c++,v?(u.t=(u.t-a.t)/(1-a.t),f=0):D&&(f-=h))),Math.abs(1-(t-e))<1e-5?c=p-1:!u.t&&c?c--:sr(o,c,f,u.t)&&y&&p++,a.t===1&&(p=(p+1)%o.length),j=[],T=o.length,E=1+T*n,P=p,E+=(T-p+c)%T,_=0;_<E;_++)zl(j,o[P++%T]);o=j}else if(M=u.t===1?6:hs(l,f,u.t),e!==t)for(C=hs(d,h,v?a.t/u.t:a.t),D&&(M+=C),l.splice(f+M+2),(C||h)&&d.splice(0,h+C),_=o.length;_--;)(_<p||_>c)&&o.splice(_,1);else l.angle=Zr(l,f+M,0),f+=M,a=l[f],u=l[f+1],l.length=l.totalLength=0,l.totalPoints=o.totalPoints=8,l.push(a,u,a,u,a,u,a,u);return o.totalLength=0,o}function Wl(s,e,t){e=e||0,s.samples||(s.samples=[],s.lookup=[]);var n=~~s.resolution||12,o=1/n,i=s.length,r=s[e],a=s[e+1],u=e?e/6*n:0,l=s.samples,d=s.lookup,c=(e?s.minLength:ds)||ds,p=l[u+t*n-1],f=e?l[u-1]:0,h,D,v,y,C,M,_,j,T,E,P,N,x,Y,L,U,Z;for(l.length=d.length=0,D=e+2;D<i;D+=6){if(v=s[D+4]-r,y=s[D+2]-r,C=s[D]-r,j=s[D+5]-a,T=s[D+3]-a,E=s[D+1]-a,M=_=P=N=0,Kt(v)<.01&&Kt(j)<.01&&Kt(C)+Kt(E)<.01)s.length>8&&(s.splice(D,6),D-=6,i-=6);else for(h=1;h<=n;h++)Y=o*h,x=1-Y,M=_-(_=(Y*Y*v+3*x*(Y*y+x*C))*Y),P=N-(N=(Y*Y*j+3*x*(Y*T+x*E))*Y),U=ho(P*P+M*M),U<c&&(c=U),f+=U,l[u++]=f;r+=v,a+=j}if(p)for(p-=f;u<l.length;u++)l[u]+=p;if(l.length&&c){if(s.totalLength=Z=l[l.length-1]||0,s.minLength=c,Z/c<9999)for(U=L=0,h=0;h<Z;h+=c)d[U++]=l[L]<h?++L:L}else s.totalLength=l[0]=0;return e?f-l[e/2-1]:f}function Go(s,e){var t,n,o;for(o=t=n=0;o<s.length;o++)s[o].resolution=~~e||12,n+=s[o].length,t+=Wl(s[o]);return s.totalPoints=n,s.totalLength=t,s}function hs(s,e,t){if(t<=0||t>=1)return 0;var n=s[e],o=s[e+1],i=s[e+2],r=s[e+3],a=s[e+4],u=s[e+5],l=s[e+6],d=s[e+7],c=n+(i-n)*t,p=i+(a-i)*t,f=o+(r-o)*t,h=r+(u-r)*t,D=c+(p-c)*t,v=f+(h-f)*t,y=a+(l-a)*t,C=u+(d-u)*t;return p+=(y-p)*t,h+=(C-h)*t,s.splice(e+2,4,Ke(c),Ke(f),Ke(D),Ke(v),Ke(D+(p-D)*t),Ke(v+(h-v)*t),Ke(p),Ke(h),Ke(y),Ke(C)),s.samples&&s.samples.splice(e/6*s.resolution|0,0,0,0,0,0,0,0),6}function ar(s,e,t,n){t=t||{},s.totalLength||Go(s),(e<0||e>1)&&(e=$r(e));var o=0,i=s[0],r,a,u,l,d,c,p;if(!e)p=c=o=0,i=s[0];else if(e===1)p=1,o=s.length-1,i=s[o],c=i.length-8;else{if(s.length>1){for(u=s.totalLength*e,d=c=0;(d+=s[c++].totalLength)<u;)o=c;i=s[o],l=d-i.totalLength,e=(u-l)/(d-l)||0}r=i.samples,a=i.resolution,u=i.totalLength*e,c=i.lookup.length?i.lookup[~~(u/i.minLength)]||0:Xr(r,u,e),l=c?r[c-1]:0,d=r[c],d<u&&(l=d,d=r[++c]),p=1/a*((u-l)/(d-l)+c%a),c=~~(c/a)*6,n&&p===1&&(c+6<i.length?(c+=6,p=0):o+1<s.length&&(c=p=0,i=s[++o]))}return t.t=p,t.i=c,t.path=s,t.segment=i,t.segIndex=o,t}function lr(s,e,t,n){var o=s[0],i=n||{},r,a,u,l,d,c,p,f,h;if((e<0||e>1)&&(e=$r(e)),o.lookup||Go(s),s.length>1){for(u=s.totalLength*e,d=c=0;(d+=s[c++].totalLength)<u;)o=s[c];l=d-o.totalLength,e=(u-l)/(d-l)||0}return r=o.samples,a=o.resolution,u=o.totalLength*e,c=o.lookup.length?o.lookup[e<1?~~(u/o.minLength):o.lookup.length-1]||0:Xr(r,u,e),l=c?r[c-1]:0,d=r[c],d<u&&(l=d,d=r[++c]),p=1/a*((u-l)/(d-l)+c%a)||0,h=1-p,c=~~(c/a)*6,f=o[c],i.x=Ke((p*p*(o[c+6]-f)+3*h*(p*(o[c+4]-f)+h*(o[c+2]-f)))*p+f),i.y=Ke((p*p*(o[c+7]-(f=o[c+1]))+3*h*(p*(o[c+5]-f)+h*(o[c+3]-f)))*p+f),t&&(i.angle=o.totalLength?Zr(o,c,p>=1?1-1e-9:p||1e-9):o.angle||0),i}function _n(s,e,t,n,o,i,r){for(var a=s.length,u,l,d,c,p;--a>-1;)for(u=s[a],l=u.length,d=0;d<l;d+=2)c=u[d],p=u[d+1],u[d]=c*e+p*n+i,u[d+1]=c*t+p*o+r;return s._dirty=1,s}function Yl(s,e,t,n,o,i,r,a,u){if(!(s===a&&e===u)){t=Kt(t),n=Kt(n);var l=o%360*Al,d=ai(l),c=ri(l),p=Math.PI,f=p*2,h=(s-a)/2,D=(e-u)/2,v=d*h+c*D,y=-c*h+d*D,C=v*v,M=y*y,_=C/(t*t)+M/(n*n);_>1&&(t=ho(_)*t,n=ho(_)*n);var j=t*t,T=n*n,E=(j*T-j*M-T*C)/(j*M+T*C);E<0&&(E=0);var P=(i===r?-1:1)*ho(E),N=P*(t*y/n),x=P*-(n*v/t),Y=(s+a)/2,L=(e+u)/2,U=Y+(d*N-c*x),Z=L+(c*N+d*x),q=(v-N)/t,ce=(y-x)/n,$=(-v-N)/t,se=(-y-x)/n,re=q*q+ce*ce,m=(ce<0?-1:1)*Math.acos(q/ho(re)),J=(q*se-ce*$<0?-1:1)*Math.acos((q*$+ce*se)/ho(re*($*$+se*se)));isNaN(J)&&(J=p),!r&&J>0?J-=f:r&&J<0&&(J+=f),m%=f,J%=f;var ue=Math.ceil(Kt(J)/(f/4)),oe=[],we=J/ue,Xe=4/3*ri(we/2)/(1+ai(we/2)),Se=d*t,Re=c*t,Pe=c*-n,W=d*n,Ae;for(Ae=0;Ae<ue;Ae++)o=m+Ae*we,v=ai(o),y=ri(o),q=ai(o+=we),ce=ri(o),oe.push(v-Xe*y,y+Xe*v,q+Xe*ce,ce-Xe*q,q,ce);for(Ae=0;Ae<oe.length;Ae+=2)v=oe[Ae],y=oe[Ae+1],oe[Ae]=v*Se+y*Pe+U,oe[Ae+1]=v*Re+y*W+Z;return oe[Ae-2]=a,oe[Ae-1]=u,oe}}function Si(s){var e=(s+"").replace(Sl,function(N){var x=+N;return x<1e-4&&x>-1e-4?0:x}).match(Tl)||[],t=[],n=0,o=0,i=2/3,r=e.length,a=0,u="ERROR: malformed path: "+s,l,d,c,p,f,h,D,v,y,C,M,_,j,T,E,P=function(x,Y,L,U){C=(L-x)/3,M=(U-Y)/3,D.push(x+C,Y+M,L-C,U-M,L,U)};if(!s||!isNaN(e[0])||isNaN(e[1]))return console.log(u),t;for(l=0;l<r;l++)if(j=f,isNaN(e[l])?(f=e[l].toUpperCase(),h=f!==e[l]):l--,c=+e[l+1],p=+e[l+2],h&&(c+=n,p+=o),l||(v=c,y=p),f==="M")D&&(D.length<8?t.length-=1:a+=D.length),n=v=c,o=y=p,D=[c,p],t.push(D),l+=2,f="L";else if(f==="C")D||(D=[0,0]),h||(n=o=0),D.push(c,p,n+e[l+3]*1,o+e[l+4]*1,n+=e[l+5]*1,o+=e[l+6]*1),l+=6;else if(f==="S")C=n,M=o,(j==="C"||j==="S")&&(C+=n-D[D.length-4],M+=o-D[D.length-3]),h||(n=o=0),D.push(C,M,c,p,n+=e[l+3]*1,o+=e[l+4]*1),l+=4;else if(f==="Q")C=n+(c-n)*i,M=o+(p-o)*i,h||(n=o=0),n+=e[l+3]*1,o+=e[l+4]*1,D.push(C,M,n+(c-n)*i,o+(p-o)*i,n,o),l+=4;else if(f==="T")C=n-D[D.length-4],M=o-D[D.length-3],D.push(n+C,o+M,c+(n+C*1.5-c)*i,p+(o+M*1.5-p)*i,n=c,o=p),l+=2;else if(f==="H")P(n,o,n=c,o),l+=1;else if(f==="V")P(n,o,n,o=c+(h?o-n:0)),l+=1;else if(f==="L"||f==="Z")f==="Z"&&(c=v,p=y,D.closed=!0),(f==="L"||Kt(n-c)>.5||Kt(o-p)>.5)&&(P(n,o,c,p),f==="L"&&(l+=2)),n=c,o=p;else if(f==="A"){if(T=e[l+4],E=e[l+5],C=e[l+6],M=e[l+7],d=7,T.length>1&&(T.length<3?(M=C,C=E,d--):(M=E,C=T.substr(2),d-=2),E=T.charAt(1),T=T.charAt(0)),_=Yl(n,o,+e[l+1],+e[l+2],+e[l+3],+T,+E,(h?n:0)+C*1,(h?o:0)+M*1),l+=d,_)for(d=0;d<_.length;d++)D.push(_[d]);n=D[D.length-2],o=D[D.length-1]}else console.log(u);return l=D.length,l<6?(t.pop(),l=0):D[0]===D[l-2]&&D[1]===D[l-1]&&(D.closed=!0),t.totalPoints=a+l,t}function $l(s,e){e===void 0&&(e=1);for(var t=s[0],n=0,o=[t,n],i=2;i<s.length;i+=2)o.push(t,n,s[i],n=(s[i]-t)*e/2,t=s[i],-n);return o}function Ds(s,e){Kt(s[0]-s[2])<1e-4&&Kt(s[1]-s[3])<1e-4&&(s=s.slice(2));var t=s.length-2,n=+s[0],o=+s[1],i=+s[2],r=+s[3],a=[n,o,n,o],u=i-n,l=r-o,d=Math.abs(s[t]-n)<.001&&Math.abs(s[t+1]-o)<.001,c,p,f,h,D,v,y,C,M,_,j,T,E,P,N;for(d&&(s.push(i,r),i=n,r=o,n=s[t-2],o=s[t-1],s.unshift(n,o),t+=4),e=e||e===0?+e:1,f=2;f<t;f+=2)c=n,p=o,n=i,o=r,i=+s[f+2],r=+s[f+3],!(n===i&&o===r)&&(h=u,D=l,u=i-n,l=r-o,v=ho(h*h+D*D),y=ho(u*u+l*l),C=ho(Math.pow(u/y+h/v,2)+Math.pow(l/y+D/v,2)),M=(v+y)*e*.25/C,_=n-(n-c)*(v?M/v:0),j=n+(i-n)*(y?M/y:0),T=n-(_+((j-_)*(v*3/(v+y)+.5)/4||0)),E=o-(o-p)*(v?M/v:0),P=o+(r-o)*(y?M/y:0),N=o-(E+((P-E)*(v*3/(v+y)+.5)/4||0)),(n!==c||o!==p)&&a.push(Ke(_+T),Ke(E+N),Ke(n),Ke(o),Ke(j+T),Ke(P+N)));return n!==i||o!==r||a.length<4?a.push(Ke(i),Ke(r),Ke(i),Ke(r)):a.length-=2,a.length===2?a.push(n,o,n,o,n,o):d&&(a.splice(0,6),a.length=a.length-6),a}function Jr(s){Yr(s[0])&&(s=[s]);var e="",t=s.length,n,o,i,r;for(o=0;o<t;o++){for(r=s[o],e+="M"+Ke(r[0])+","+Ke(r[1])+" C",n=r.length,i=2;i<n;i++)e+=Ke(r[i++])+","+Ke(r[i++])+" "+Ke(r[i++])+","+Ke(r[i++])+" "+Ke(r[i++])+","+Ke(r[i])+" ";r.closed&&(e+="z")}return e}/*!
 * matrix 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var go,Vo,Ss,ki,En,yi,Pi,Nn,io="transform",gs=io+"Origin",Qr,Kr=function(e){var t=e.ownerDocument||e;for(!(io in e.style)&&("msTransform"in e.style)&&(io="msTransform",gs=io+"Origin");t.parentNode&&(t=t.parentNode););if(Vo=window,Pi=new Vn,t){go=t,Ss=t.documentElement,ki=t.body,Nn=go.createElementNS("http://www.w3.org/2000/svg","g"),Nn.style.transform="none";var n=t.createElement("div"),o=t.createElement("div"),i=t&&(t.body||t.firstElementChild);i&&i.appendChild&&(i.appendChild(n),n.appendChild(o),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Qr=o.offsetParent!==n,i.removeChild(n))}return t},Xl=function(e){for(var t,n;e&&e!==ki;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},ea=[],ta=[],Zl=function(){return Vo.pageYOffset||go.scrollTop||Ss.scrollTop||ki.scrollTop||0},ql=function(){return Vo.pageXOffset||go.scrollLeft||Ss.scrollLeft||ki.scrollLeft||0},Ps=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},Jl=function s(e){if(Vo.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return s(e)},$i=function s(e,t){if(e.parentNode&&(go||Kr(e))){var n=Ps(e),o=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i=n?t?"rect":"g":"div",r=t!==2?0:100,a=t===3?100:0,u="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",l=go.createElementNS?go.createElementNS(o.replace(/^https/,"http"),i):go.createElement(i);return t&&(n?(yi||(yi=s(e)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+r+","+a+")"),yi.appendChild(l)):(En||(En=s(e),En.style.cssText=u),l.style.cssText=u+"width:0.1px;height:0.1px;top:"+a+"px;left:"+r+"px",En.appendChild(l))),l}throw"Need document and parent."},Ql=function(e){for(var t=new Vn,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},Kl=function(e){var t=e.getCTM(),n;return t||(n=e.style[io],e.style[io]="none",e.appendChild(Nn),t=Nn.getCTM(),e.removeChild(Nn),n?e.style[io]=n:e.style.removeProperty(io.replace(/([A-Z])/g,"-$1").toLowerCase())),t||Pi.clone()},eu=function(e,t){var n=Ps(e),o=e===n,i=n?ea:ta,r=e.parentNode,a,u,l,d,c,p;if(e===Vo)return e;if(i.length||i.push($i(e,1),$i(e,2),$i(e,3)),a=n?yi:En,n)o?(l=Kl(e),d=-l.e/l.a,c=-l.f/l.d,u=Pi):e.getBBox?(l=e.getBBox(),u=e.transform?e.transform.baseVal:{},u=u.numberOfItems?u.numberOfItems>1?Ql(u):u.getItem(0).matrix:Pi,d=u.a*l.x+u.c*l.y,c=u.b*l.x+u.d*l.y):(u=new Vn,d=c=0),t&&e.tagName.toLowerCase()==="g"&&(d=c=0),(o?n:r).appendChild(a),a.setAttribute("transform","matrix("+u.a+","+u.b+","+u.c+","+u.d+","+(u.e+d)+","+(u.f+c)+")");else{if(d=c=0,Qr)for(u=e.offsetParent,l=e;l&&(l=l.parentNode)&&l!==u&&l.parentNode;)(Vo.getComputedStyle(l)[io]+"").length>4&&(d=l.offsetLeft,c=l.offsetTop,l=0);if(p=Vo.getComputedStyle(e),p.position!=="absolute"&&p.position!=="fixed")for(u=e.offsetParent;r&&r!==u;)d+=r.scrollLeft||0,c+=r.scrollTop||0,r=r.parentNode;l=a.style,l.top=e.offsetTop-c+"px",l.left=e.offsetLeft-d+"px",l[io]=p[io],l[gs]=p[gs],l.position=p.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(a)}return a},Xi=function(e,t,n,o,i,r,a){return e.a=t,e.b=n,e.c=o,e.d=i,e.e=r,e.f=a,e},Vn=function(){function s(t,n,o,i,r,a){t===void 0&&(t=1),n===void 0&&(n=0),o===void 0&&(o=0),i===void 0&&(i=1),r===void 0&&(r=0),a===void 0&&(a=0),Xi(this,t,n,o,i,r,a)}var e=s.prototype;return e.inverse=function(){var n=this.a,o=this.b,i=this.c,r=this.d,a=this.e,u=this.f,l=n*r-o*i||1e-10;return Xi(this,r/l,-o/l,-i/l,n/l,(i*u-r*a)/l,-(n*u-o*a)/l)},e.multiply=function(n){var o=this.a,i=this.b,r=this.c,a=this.d,u=this.e,l=this.f,d=n.a,c=n.c,p=n.b,f=n.d,h=n.e,D=n.f;return Xi(this,d*o+p*r,d*i+p*a,c*o+f*r,c*i+f*a,u+h*o+D*r,l+h*i+D*a)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var o=this.a,i=this.b,r=this.c,a=this.d,u=this.e,l=this.f;return o===n.a&&i===n.b&&r===n.c&&a===n.d&&u===n.e&&l===n.f},e.apply=function(n,o){o===void 0&&(o={});var i=n.x,r=n.y,a=this.a,u=this.b,l=this.c,d=this.d,c=this.e,p=this.f;return o.x=i*a+r*l+c||0,o.y=i*u+r*d+p||0,o},s}();function an(s,e,t,n){if(!s||!s.parentNode||(go||Kr(s)).documentElement===s)return new Vn;var o=Xl(s),i=Ps(s),r=i?ea:ta,a=eu(s,t),u=r[0].getBoundingClientRect(),l=r[1].getBoundingClientRect(),d=r[2].getBoundingClientRect(),c=a.parentNode,p=!n&&Jl(s),f=new Vn((l.left-u.left)/100,(l.top-u.top)/100,(d.left-u.left)/100,(d.top-u.top)/100,u.left+(p?0:ql()),u.top+(p?0:Zl()));if(c.removeChild(a),o)for(u=o.length;u--;)l=o[u],l.scaleX=l.scaleY=0,l.renderTransform(1,l);return e?f.inverse():f}/*!
 * MotionPathPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var tu="x,translateX,left,marginLeft,xPercent".split(","),ou="y,translateY,top,marginTop,yPercent".split(","),nu=Math.PI/180,Qt,oa,en,ms,Zi,ur,iu=function(){return Qt||typeof window<"u"&&(Qt=window.gsap)&&Qt.registerPlugin&&Qt},vn=function(e,t,n,o){for(var i=t.length,r=o===2?0:o,a=0;a<i;a++)e[r]=parseFloat(t[a][n]),o===2&&(e[r+1]=0),r+=2;return e},on=function(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},na=function(e){var t=e[0],n=e[1],o;for(o=2;o<e.length;o+=2)t=e[o]+=t,n=e[o+1]+=n},cr=function(e,t,n,o,i,r,a,u,l){if(a.type==="cubic")t=[t];else{a.fromCurrent!==!1&&t.unshift(on(n,o,u),i?on(n,i,l):0),a.relative&&na(t);var d=i?Ds:$l;t=[d(t,a.curviness)]}return t=r(ia(t,n,a)),Ai(e,n,o,t,"x",u),i&&Ai(e,n,i,t,"y",l),Go(t,a.resolution||(a.curviness===0?20:12))},su=function(e){return e},ru=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,fr=function(e,t,n){var o=an(e),i=0,r=0,a;return(e.tagName+"").toLowerCase()==="svg"?(a=e.viewBox.baseVal,a.width||(a={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):a=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(i=t.push?t[0]*(a?a.width:e.offsetWidth||0):t.x,r=t.push?t[1]*(a?a.height:e.offsetHeight||0):t.y),n.apply(i||r?o.apply({x:i,y:r}):{x:o.e,y:o.f})},vs=function(e,t,n,o){var i=an(e.parentNode,!0,!0),r=i.clone().multiply(an(t)),a=fr(e,n,i),u=fr(t,o,i),l=u.x,d=u.y,c;return r.e=r.f=0,o==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(c=t.getAttribute("d").match(ru)||[],c=r.apply({x:+c[0],y:+c[1]}),l+=c.x,d+=c.y),c&&(c=r.apply(t.getBBox()),l-=c.x,d-=c.y),r.e=l-a.x,r.f=d-a.y,r},ia=function(e,t,n){var o=n.align,i=n.matrix,r=n.offsetX,a=n.offsetY,u=n.alignOrigin,l=e[0][0],d=e[0][1],c=on(t,"x"),p=on(t,"y"),f,h,D;return!e||!e.length?wi("M0,0L0,0"):(o&&(o==="self"||(f=ms(o)[0]||t)===t?_n(e,1,0,0,1,c-l,p-d):(u&&u[2]!==!1?Qt.set(t,{transformOrigin:u[0]*100+"% "+u[1]*100+"%"}):u=[on(t,"xPercent")/-100,on(t,"yPercent")/-100],h=vs(t,f,u,"auto"),D=h.apply({x:l,y:d}),_n(e,h.a,h.b,h.c,h.d,c+h.e-(D.x-h.e),p+h.f-(D.y-h.f)))),i?_n(e,i.a,i.b,i.c,i.d,i.e,i.f):(r||a)&&_n(e,1,0,0,1,r||0,a||0),e)},Ai=function(e,t,n,o,i,r){var a=t._gsap,u=a.harness,l=u&&u.aliases&&u.aliases[n],d=l&&l.indexOf(",")<0?l:n,c=e._pt=new oa(e._pt,t,d,0,0,su,0,a.set(t,d,e));c.u=en(a.get(t,d,r))||0,c.path=o,c.pp=i,e._props.push(d)},au=function(e,t){return function(n){return e||t!==1?qr(n,e,t):n}},sa={version:"3.12.7",name:"motionPath",register:function(e,t,n){Qt=e,en=Qt.utils.getUnit,ms=Qt.utils.toArray,Zi=Qt.core.getStyleSaver,ur=Qt.core.reverting||function(){},oa=n},init:function(e,t,n){if(!Qt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var o=[],i=t,r=i.path,a=i.autoRotate,u=i.unitX,l=i.unitY,d=i.x,c=i.y,p=r[0],f=au(t.start,"end"in t?t.end:1),h,D;if(this.rawPaths=o,this.target=e,this.tween=n,this.styles=Zi&&Zi(e,"transform"),(this.rotate=a||a===0)&&(this.rOffset=parseFloat(a)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=en(e._gsap.get(e,this.rProp))||0),Array.isArray(r)&&!("closed"in r)&&typeof p!="number"){for(D in p)!d&&~tu.indexOf(D)?d=D:!c&&~ou.indexOf(D)&&(c=D);d&&c?o.push(cr(this,vn(vn([],r,d,0),r,c,1),e,d,c,f,t,u||en(r[0][d]),l||en(r[0][c]))):d=c=0;for(D in p)D!==d&&D!==c&&o.push(cr(this,vn([],r,D,2),e,D,0,f,t,en(r[0][D])))}else h=f(ia(wi(t.path),e,t)),Go(h,t.resolution),o.push(h),Ai(this,e,t.x||"x",h,"x",t.unitX||"px"),Ai(this,e,t.y||"y",h,"y",t.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function(e,t){var n=t.rawPaths,o=n.length,i=t._pt;if(t.tween._time||!ur()){for(e>1?e=1:e<0&&(e=0);o--;)lr(n[o],e,!o&&t.rotate,n[o]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,e),i=i._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?nu:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function(e){return Go(wi(e)).totalLength},sliceRawPath:qr,getRawPath:wi,pointsToSegment:Ds,stringToRawPath:Si,rawPathToString:Jr,transformRawPath:_n,getGlobalMatrix:an,getPositionOnPath:lr,cacheRawPathMeasurements:Go,convertToPath:function(e,t){return ms(e).map(function(n){return Vl(n,t!==!1)})},convertCoordinates:function(e,t,n){var o=an(t,!0,!0).multiply(an(e));return n?o.apply(n):o},getAlignMatrix:vs,getRelativePosition:function(e,t,n,o){var i=vs(e,t,n,o);return{x:i.e,y:i.f}},arrayToRawPath:function(e,t){t=t||{};var n=vn(vn([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&na(n),[t.type==="cubic"?n:Ds(n,t.curviness)]}};iu()&&Qt.registerPlugin(sa);te.registerPlugin(sa);function lu(s,e,t){const n=Mo(),{audioEnabled:o}=ln(n),i=new(window.AudioContext||window.webkitAudioContext),r=5,a="/3D/jet.obj",u="/3D/ufo.obj",l=1200,d="/sounds/spaceship.mp3",c="/sounds/ufo.mp3",p="/sounds/minigun.mp3",f="/sounds/minigun-wind-down.mp3",h="/sounds/explosion.mp3",D=500,v=-500,y=75,C=2,M=2500,_={xMin:-800,xMax:800,yMin:100,yMax:800},j={xMin:-250,xMax:250,yMin:-250,yMax:250};let T=[],E=[],P=null,N=null,x=null,Y=[],L=[],U=[],Z=!1,q=null,ce=null,$=[],se=null,re=1,m=0,J=!1,ue=null,oe=null,we=null,Xe=null,Se=null,Re={};const Pe={initialJet:1,battleJet:.6,battleUfo:.2,minigun:.2,minigunWindDown:.2,explosion:.8},W={initialJet:{source:null,panner:null,gain:null,active:!1},battleJet:{source:null,panner:null,gain:null,active:!1},battleUfo:{source:null,panner:null,gain:null,active:!1},minigun:{source:null,panner:null,gain:null,active:!1},minigunWindDown:{source:null,panner:null,gain:null,active:!1},explosion:{source:null,panner:null,gain:null,active:!1}},Ae=()=>new Promise((g,O)=>{new or().load(a,I=>{const k=I;k.name="jet";const F=new Mn().setFromObject(k),b=F.getCenter(new Te);k.position.sub(b),k.traverse(ne=>{var G,ge;if(ne instanceof Ie){const K=new No(ne.geometry,1),Fe=new mt({color:65280,depthTest:!0,fog:!0}),ke=new ct(K,Fe);ke.frustumCulled=!1,(G=ne.parent)==null||G.add(ke),(ge=ne.parent)==null||ge.remove(ne)}}),ce=F,g(k)},void 0,I=>O(I))}),H=()=>new Promise((g,O)=>{new or().load(u,I=>{const k=I;k.name="ufo";const F=new Mn().setFromObject(k),b=F.getCenter(new Te);k.position.sub(b);const ne=[];k.traverse(G=>{G instanceof Ie&&(ne.push(G),G.geometry.computeBoundingSphere(),$.push(G.geometry.clone()))}),ne.forEach(G=>{var ke,et;const ge=new No(G.geometry,1),K=new mt({color:G.name==="UFO_TOP_CAP"||G.name==="UFO_BOT_CAP"?16777215:255,depthTest:!0,fog:!0}),Fe=new ct(ge,K);Fe.frustumCulled=!1,(ke=G.parent)==null||ke.add(Fe),(et=G.parent)==null||et.remove(G)}),k.geometry=new eo,k.geometry.boundingSphere=new Ci,F.getBoundingSphere(k.geometry.boundingSphere),k.geometry.boundingSphere.radius*=10,g(k)},void 0,I=>{console.error("Failed to load UFO model:",I),O(I)})}),Ee=()=>fetch(d).then(g=>{if(!g.ok)throw new Error(`Failed to fetch ${d}: ${g.status}`);return g.arrayBuffer()}).then(g=>i.decodeAudioData(g)).then(g=>(ue=g,g)).catch(g=>{throw console.error("Failed to load jet sound:",g),g}),ae=()=>fetch(c).then(g=>{if(!g.ok)throw new Error(`Failed to fetch ${c}: ${g.status}`);return g.arrayBuffer()}).then(g=>i.decodeAudioData(g)).then(g=>(oe=g,g)).catch(g=>{throw console.error("Failed to load UFO sound:",g),g}),fe=()=>fetch(p).then(g=>{if(!g.ok)throw new Error(`Failed to fetch ${p}: ${g.status}`);return g.arrayBuffer()}).then(g=>i.decodeAudioData(g)).then(g=>(we=g,g)).catch(g=>{throw console.error("Failed to load minigun sound:",g),g}),ye=()=>fetch(f).then(g=>{if(!g.ok)throw new Error(`Failed to fetch ${f}: ${g.status}`);return g.arrayBuffer()}).then(g=>i.decodeAudioData(g)).then(g=>(Xe=g,g)).catch(g=>{throw console.error("Failed to load minigun wind-down sound:",g),g}),Be=()=>fetch(h).then(g=>{if(!g.ok)throw new Error(`Failed to fetch ${h}: ${g.status}`);return g.arrayBuffer()}).then(g=>i.decodeAudioData(g)).then(g=>(Se=g,g)).catch(g=>{throw console.error("Failed to load explosion sound:",g),g}),w=()=>{const g=new mr(10,90,8),O=new Ma(g),R=new mt({color:16777215,depthTest:!0,fog:!0}),I=new ct(O,R);if(I.frustumCulled=!1,I.name="flame",ce){const k=ce.max.y-ce.min.y,F=ce.max.z,b=ce.min.y+k/2;I.position.set(0,b-20,F+45)}else I.position.set(0,0,45);return I.rotation.x=Math.PI/2,I},be=g=>{const O=new Bs(4),R=new ht({color:16777215,transparent:!0,opacity:.35,depthTest:!0,fog:!0}),I=new Ie(O,R);return I.position.copy(g),I.frustumCulled=!1,I},Oe=g=>{if(!g||!g.visible)return;const O=g.position.clone(),R=new Te(0,0,-1).applyQuaternion(g.quaternion),I=new Te(0,1,0).applyQuaternion(g.quaternion),k=ce?-(ce.max.z+45):-65,F=O.clone().add(R.clone().multiplyScalar(k)).add(I.clone().multiplyScalar(5)),b=be(F);s.add(b),L.push(b),te.to(b.material,{opacity:0,duration:1,ease:"none",onComplete:()=>{s.remove(b),b.geometry.dispose(),b.material.dispose();const ne=L.indexOf(b);ne>-1&&L.splice(ne,1)}})},qe=(g,O)=>{const R=new Bs(3),I=new ht({color:16711680,depthTest:!0,fog:!0}),k=new Ie(R,I);return k.position.copy(g),k.quaternion.setFromUnitVectors(new Te(0,0,-1),O),k.frustumCulled=!1,k.geometry.computeBoundingSphere(),k.geometry.boundingSphere.radius*=5,k},Ne=()=>{if(!x||!x.visible||U.length>0)return;x.visible=!1,it("battleUfo"),o.value&&nt("explosion",x);const g=x.position.clone(),O=new ht({color:16753920,side:$t,transparent:!0,depthTest:!0,fog:!0});$.forEach(R=>{const I=R.getAttribute("position"),k=R.index,F=k?k.array:null,b=I.count,ne=F?F.length/3:b/3;for(let G=0;G<ne;G++){const ge=new eo,K=new Float32Array(9),Fe=F?[F[G*3],F[G*3+1],F[G*3+2]]:[G*3,G*3+1,G*3+2];for(let B=0;B<3;B++){const De=Fe[B];K[B*3]=I.array[De*3],K[B*3+1]=I.array[De*3+1],K[B*3+2]=I.array[De*3+2]}ge.setAttribute("position",new es(K,3)),ge.computeVertexNormals();const ke=new Ie(ge,O.clone());ke.position.copy(g),s.add(ke),U.push(ke);const Ze=new Te((K[0]+K[3]+K[6])/3,(K[1]+K[4]+K[7])/3,(K[2]+K[5]+K[8])/3).add(g).clone().sub(g).normalize(),le=xe.randFloat(100,200);te.to(ke.position,{x:g.x+Ze.x*le,y:g.y+Ze.y*le,z:g.z+Ze.z*le,duration:1.5,ease:"power2.out",onComplete:()=>{s.remove(ke),ke.geometry.dispose(),ke.material.dispose();const B=U.indexOf(ke);B>-1&&U.splice(B,1)}}),te.to(ke.scale,{x:1.5,y:1.5,z:1.5,duration:.5,ease:"power1.in",yoyo:!0,repeat:1}),te.to(ke.material,{opacity:0,duration:1.5,ease:"power2.out"})}}),o.value&&Se&&te.delayedCall(Se.duration,()=>it("explosion"))},ft=()=>{if(!P||!P.visible||J)return;const g=xe.randInt(10,30),O=ce?ce.max.z:20;let R=!1;const I=new ws,k=.2;for(let F=0;F<g;F++)te.delayedCall(F*.05,()=>{const b=P.position.clone(),ne=new Te(0,0,-1).applyQuaternion(P.quaternion),G=new Te(0,1,0).applyQuaternion(P.quaternion),ge=b.clone().add(ne.clone().multiplyScalar(O)).add(G.clone().multiplyScalar(5)),K=qe(ge,ne);if(s.add(K),Y.push(K),!R&&o.value){nt("minigun",P),R=!0;const Ze=()=>{W.minigun.panner&&W.minigun.gain?Re.minigun=te.to(W.minigun,{duration:(g-F)*.05+.5,onUpdate:()=>{if(!P||!W.minigun.panner||!W.minigun.gain){console.warn("Minigun update skipped: invalid state",{battleJet:P,panner:W.minigun.panner,gain:W.minigun.gain,active:W.minigun.active});return}const le=xe.clamp(P.position.x/500*2,-1,1);W.minigun.panner.pan.value=le;const B=Math.abs(t.position.z-P.position.z),De=xe.clamp(1-B/M,0,1),z=Pe.minigun*De;if(!Number.isFinite(z)){console.error("Non-finite volume for minigun",{zDistance:B,maxDistance,distanceFactor:De,maxVol:Pe.minigun});return}W.minigun.gain.gain.value=z},onComplete:()=>{Re.minigun=null}}):console.error("Minigun audio not initialized properly",W.minigun)};i.state==="suspended"?i.resume().then(Ze):Ze()}const Fe=1200,ke=3600,et=ke/Fe;te.to(K.position,{x:`+=${ne.x*ke}`,y:`+=${ne.y*ke}`,z:`+=${ne.z*ke}`,duration:et,ease:"none",onUpdate:()=>{var Ze;if(K.geometry.boundingSphere&&K.geometry.boundingSphere.center.copy(K.position),!J&&x&&x.visible&&K.geometry.boundingSphere&&((Ze=x.geometry)!=null&&Ze.boundingSphere)){t.updateMatrixWorld(),I.setFromProjectionMatrix(new Sa().multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse));const le=I.containsPoint(P.position),B=I.containsPoint(x.position),De=S=>{const A=S.clone().project(t);return Math.abs(A.x)<1-k&&Math.abs(A.y)<1-k},z=le&&De(P.position),Ce=B&&De(x.position);if(z&&Ce){x.updateMatrixWorld();const S=x.geometry.boundingSphere.clone();S.applyMatrix4(x.matrixWorld);const A=K.geometry.boundingSphere.clone();A.applyMatrix4(K.matrixWorld),A.intersectsSphere(S)&&(J=!0,Ne())}}},onComplete:()=>{s.remove(K),K.geometry.dispose(),K.material.dispose();const Ze=Y.indexOf(K);Ze>-1&&Y.splice(Ze,1)}}),F===g-1&&o.value&&(it("minigun"),nt("minigunWindDown",P),Xe&&te.delayedCall(Xe.duration,()=>{it("minigunWindDown")}))})},ut=()=>{const g=[],O=xe.degToRad(y),I=2*Math.tan(O/2)*(D-v)/(r-1)*C,k=I*(r-1)/2;for(let F=0;F<r;F++){const b=-k+F*I;g.push(new Te(b,D,v))}return g},pt=()=>{const g=[],I=160/(r-1);for(let k=0;k<r;k++){const F=-80+k*I;g.push(xe.degToRad(F))}return g},st=(g,O,R,I)=>{const k=T.indexOf(g)===2;k&&o.value&&nt("initialJet",g),g.position.copy(R),g.rotation.z=I,g.visible=!0;const b=Math.abs(-1e4-R.z)/l,ne=b*.3;let G=0;const ge=K=>{G+=K,G>=1&&(Oe(g),G-=1)};te.ticker.add(ge),te.to(g.position,{z:-1e4,duration:b,ease:"none",onUpdate:()=>{if(k&&W.initialJet.panner&&W.initialJet.gain&&g.visible&&o.value){const K=xe.clamp(g.position.x/500*2,-1,1);W.initialJet.panner.pan.value=K;const Fe=Math.abs(t.position.z-g.position.z),ke=M+1e3,Ze=Math.max(Fe-400,0),le=xe.clamp(1-Ze/ke,0,1),B=Pe.initialJet*le;W.initialJet.gain.gain.value=B}},onComplete:()=>{te.ticker.remove(ge),k&&setTimeout(()=>it("initialJet"),3e3),s.remove(g),vt(g);const K=T.indexOf(g);K>-1&&(T.splice(K,1),E.splice(K,1))}}),te.to(g.rotation,{z:0,duration:ne,ease:"none"})},vt=g=>{g.traverse(O=>{(O instanceof Ie||O instanceof ct)&&(O.geometry&&O.geometry.dispose(),O.material&&(Array.isArray(O.material)?O.material.forEach(R=>R.dispose()):O.material instanceof os&&O.material.dispose()))})},rt=()=>{const g=[],O=t.position.z-250,R=O-2e3,I=xe.degToRad(t.fov),k=window.innerWidth/window.innerHeight,F=Math.abs(t.position.z-O),b=Math.abs(t.position.z-R),ne=2*Math.tan(I/2)*F*k,G=2*Math.tan(I/2)*b*k,ge=ne/2+200,K=G/2+200,Fe=re;re=-re;const ke=Fe*ge,et=-Fe*K;g.push(new Te(ke,xe.randFloat(_.yMin,_.yMax),O));let Ze,le,B;do Ze=xe.randFloat(_.xMin/2,_.xMax/2),le=xe.randFloat(_.yMin,_.yMax),B=xe.randFloat(O,R);while(Ze>j.xMin&&Ze<j.xMax&&le>j.yMin&&le<j.yMax);return g.push(new Te(Ze,le,B)),g.push(new Te(et,xe.randFloat(_.yMin,_.yMax),R)),new di(g,!1,"catmullrom",.5)},xt=(g,O)=>{console.log("startBattle"),se&&(se.kill(),se=null),it("battleJet"),it("battleUfo"),it("explosion");const R=rt(),I=R.getLength(),k=450,F=I/k,b=xe.randFloat(-.1,.1),ne=k*(.9+b),G=450/k;if(P||(P=g.clone(),N=w(),P.add(N),s.add(P)),P.visible=!0,P.position.copy(R.getPointAt(0)),P.rotation.set(0,0,0),!x){if(x=O.clone(),!x.geometry||!x.geometry.boundingSphere){const S=new Mn().setFromObject(x);x.geometry=new eo,x.geometry.boundingSphere=new Ci,S.getBoundingSphere(x.geometry.boundingSphere),x.geometry.boundingSphere.radius*=10}x.visible=!1,s.add(x)}x.visible=!0,x.position.copy(R.getPointAt(0)),x.rotation.set(0,0,0),J=!1;const ge={x:x.position.x,y:x.position.y,z:x.position.z,progress:0},K={x:0,y:0,z:0},Fe={x:P.position.x,y:P.position.y,z:P.position.z,progress:0};o.value&&(P&&nt("battleJet",P),x&&nt("battleUfo",x)),se=te.timeline({onUpdate:()=>{if(P&&W.battleJet.panner&&W.battleJet.gain&&P.visible&&o.value){const S=xe.clamp(P.position.x/500*2,-1,1);W.battleJet.panner.pan.value=S;const A=Math.abs(t.position.z-P.position.z),X=xe.clamp(1-A/M,0,1);W.battleJet.gain.gain.value=Pe.battleJet*X}if(!J&&x&&W.battleUfo.panner&&W.battleUfo.gain&&x.visible&&o.value){const S=xe.clamp(x.position.x/500*2,-1,1);W.battleUfo.panner.pan.value=S;const A=Math.abs(t.position.z-x.position.z),X=xe.clamp(1-A/M,0,1),pe=Pe.battleUfo*X;W.battleUfo.gain.gain.value=pe}},onComplete:()=>{x.visible=!1,P.visible=!1,it("battleJet"),it("battleUfo"),it("explosion"),Y.forEach(S=>{s.remove(S),S.geometry.dispose(),S.material.dispose()}),Y=[],L.forEach(S=>{s.remove(S),S.geometry.dispose(),S.material.dispose()}),L=[],U.forEach(S=>{s.remove(S),S.geometry.dispose(),S.material.dispose()}),U=[],te.ticker.remove(Ce),m=0,te.delayedCall(1.5+Math.random()*(3-1.5),xt,[g,O])}}),se.to(ge,{motionPath:{path:R.getPoints(50),autoRotate:!1},progress:1,duration:F,ease:"none",onUpdate:()=>{if(J)return;const S=ge.progress;if(S===void 0||S<0||S>1)return;const A=R.getPointAt(S);x.position.set(A.x+K.x,A.y+K.y,A.z+K.z)}},0),te.to(x.rotation,{y:"+=6.2832",duration:3,repeat:-1,ease:"none"});const ke=()=>{!x||!x.visible||J||te.to(K,{x:xe.randFloat(-20,20),y:xe.randFloat(-20,20),z:xe.randFloat(-20,20),duration:xe.randFloat(.8,1.5),ease:"sine.inOut",onComplete:ke})};ke(),se.to(Fe,{motionPath:{path:R.getPoints(50),autoRotate:!1},progress:1,duration:F*(k/ne),ease:"none",onStart:()=>{P.visible=!0},onUpdate:()=>{const S=Fe.progress;if(S===void 0||S<0||S>1)return;const A=R.getPointAt(S);P.position.copy(A);const X=R.getPointAt(Math.max(S-.01,0)),pe=A,_e=R.getPointAt(Math.min(S+.01,1)).clone().sub(pe).normalize(),ee=pe.clone().sub(X).normalize();P.quaternion.setFromUnitVectors(new Te(0,0,-1),_e);const ve=new Te().crossVectors(ee,_e).normalize(),ie=ee.angleTo(_e)*20,Ue=xe.clamp(ie,-Math.PI/4,Math.PI/4);P.rotateZ(ve.z>0?Ue:-Ue)}},G);const et=1,Ze=4,le=3,B=xe.randInt(et,Ze),De=F-(B-1)*le,z=[];for(let S=0;S<B;S++)if(S===0)z.push(xe.randFloat(0,De/B));else{const A=z[S-1]+le,X=A+De/B;z.push(xe.randFloat(A,Math.min(X,F)))}z.sort((S,A)=>S-A),z.forEach(S=>{te.delayedCall(S,ft)});const Ce=S=>{m+=S,m>=32&&(Oe(P),m-=32)};te.ticker.add(Ce)},nt=(g,O)=>{if(!o.value||W[g]&&W[g].active||!O)return;W[g]&&W[g].source&&it(g);const R=g==="battleUfo"?oe:g==="minigun"?we:g==="minigunWindDown"?Xe:g==="explosion"?Se:ue;if(!R)return;const I=i.createBufferSource();I.buffer=R,I.loop=g==="minigun";const k=W[g].gain||i.createGain(),F=W[g].panner||i.createStereoPanner(),b=Pe[g],ne=Math.abs(t.position.z-O.position.z),G=xe.clamp(1-ne/M,0,1),ge=xe.clamp(O.position.x/500*2,-1,1);k.gain.value=b*G,F.pan.value=ge,I.connect(k).connect(F).connect(i.destination),i.state==="suspended"?i.resume().then(()=>{I.start(),W[g]={source:I,panner:F,gain:k,active:!0}}).catch(K=>console.error(`Failed to resume audioContext for ${g}:`,K)):(I.start(),W[g]={source:I,panner:F,gain:k,active:!0})},it=g=>{W[g]&&W[g].source&&W[g].active&&(Re[g]&&(Re[g].kill(),Re[g]=null),W[g].source.stop(),W[g].source.disconnect(),W[g].source=null,W[g].panner=null,W[g].gain=null,W[g].active=!1)},V=async()=>{try{const g=await Ae(),O=await H(),R=ut(),I=pt();for(let k=0;k<r;k++){const F=g.clone(),b=w();F.add(b),F.position.copy(R[k]),F.rotation.z=I[k],F.visible=!1,s.add(F),T.push(F),E.push(b)}Z=!0}catch(g){console.error("Jets initialization failed:",g),T=[],E=[]}};return{getInitializedData:async()=>{if(Z)return Promise.resolve({jets:T,flames:E,dispose:q||(()=>{}),startJetAnimation:F});const g=7;let O=0;const R=()=>{O++;const b=O/g*100;n.setLoadingProgress(b,"jets")},I=await Ae().then(b=>(R(),b)),k=await H().then(b=>(R(),b));await Ee().then(()=>R()),await ae().then(()=>R()),await fe().then(()=>R()),await ye().then(()=>R()),await Be().then(()=>R()),await V(),q=()=>{T.forEach(b=>{s.remove(b),vt(b)}),P&&(s.remove(P),vt(P),P=null),x&&(s.remove(x),vt(x),x=null),Y.forEach(b=>{s.remove(b),b.geometry.dispose(),b.material.dispose()}),Y=[],L.forEach(b=>{s.remove(b),b.geometry.dispose(),b.material.dispose()}),L=[],U.forEach(b=>{s.remove(b),b.geometry.dispose(),b.material.dispose()}),U=[],$.forEach(b=>b.dispose()),$=[],se&&se.kill(),Object.keys(W).forEach(b=>it(b))},mo(o,b=>{b?(T.length>2&&T[2]&&T[2].visible&&nt("initialJet",T[2]),P&&P.visible&&!W.battleJet.active&&nt("battleJet",P),x&&x.visible&&!J&&!W.battleUfo.active&&nt("battleUfo",x)):Object.keys(W).forEach(ne=>{it(ne)})},{immediate:!1});const F=()=>{const b=ut(),ne=pt();T.forEach((G,ge)=>{st(G,E[ge],b[ge],ne[ge])}),te.delayedCall(3,()=>xt(I,k))};return{jets:T,flames:E,dispose:q,startJetAnimation:F}}}}const qi=-520,pr=-720,dr=4e3,uu=fn({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},emits:["camera-ready","scene-ready"],setup(s,{emit:e}){te.registerPlugin(ze);const t=s,n=e,o=Mo();o.projects=t.projects;const i=xo(),r=Je(!1),a=o.cubeSize,u=o.cubeSpacing,l=o.firstCubeZ,d={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0,showJets:!0},c=Je(null),p=Je(null),f=Je(!1),h=Je(!1),D=new Map;let v,y,C,M,_,j,T,E=null,P=null,N=null,x=null,Y=null,L=null,U=[],Z=null,q=null,ce=0,$=null,se,re=null,m=null,J=null,ue=null,oe=null;const we=yl("/fonts/Poppins_Regular.json"),Xe=()=>{const H=c.value?c.value.getBoundingClientRect().width:window.innerWidth,Ee=window.innerHeight,ae=1,fe=i.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;C.setSize(H*ae,Ee*ae),C.setPixelRatio(fe),M.setSize(H*ae,Ee*ae),y.aspect=H/Ee,y.updateProjectionMatrix(),C.domElement.style.width=`${H}px`,C.domElement.style.height=`${Ee}px`},Se=H=>D.has(H)?Promise.resolve(D.get(H)):new Promise((Ee,ae)=>{new La().load(H,ye=>{ye.encoding=ts,D.set(H,ye),Ee(ye)},void 0,ye=>ae(ye))}),Re=async()=>{v=new Pa,v.background=new Tt(0),v.fog=new Aa(0,700,dr),y=new Ba(i.isMobile?i.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,dr+6e3),y.position.set(0,0,0),y.lookAt(0,0,1e3),C=new Ra({antialias:!0}),i.isMobile?C.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):C.setPixelRatio(window.devicePixelRatio),C.toneMapping=ka,C.toneMappingExposure=1,C.outputEncoding=ts,M=new ll(C);const H=new ul(v,y);M.addPass(H);const Ee=new Xt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(i.isMobile?_=new Zo(Ee,1,.1,0):_=new Zo(Ee,1.6,.2,0),_.renderToScreen=!0,M.addPass(_),c.value)c.value.appendChild(C.domElement),C.domElement.style.opacity="0";else return;j=new zn,j.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; z-index: 1000;"),document.body.appendChild(j.dom);const ae=t.projects.filter(be=>be.keyart).length,fe=7,ye=ae+2+1+fe;let Be=0;const w=(be=1)=>{Be+=be;const Oe=Be/ye*100,qe=we.loadingProgress.value,Ne=Oe*(ye/(ye+1))+qe/(ye+1);o.setLoadingProgress(Math.min(Ne,100)),Be===ye&&we.isLoaded.value&&(f.value=!0)};await we.initialize().then(()=>{w()}).catch(be=>{console.error("Font initialization failed:",be),w()}),await Se(t.projectGridFile).then(()=>w()).catch(()=>w()),await Se(t.projectGridFile2).then(()=>w()).catch(()=>w());for(const be of t.projects)be.keyart?await Se(be.keyart).then(()=>w()).catch(()=>w()):w();$=pl(v,{CUBE_SIZE:a,CUBE_SPACING:u,FIRST_CUBE_Z:l},t.projects,t.projectGridFile,t.projectGridFile2,d,D,we.font),ue=lu(v,d,y),await ue.getInitializedData().then(({dispose:be,startJetAnimation:Oe})=>{L=be,oe=Oe,w(fe)}).catch(be=>{console.error("Jets initialization failed:",be),w(fe)});try{if(await $.getInitializedData().then(({maxZ:be,updateCubeColors:Oe,projectCubes:qe})=>{if(se=be,se===void 0||isNaN(se))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:Ne}=fl(v,we.font,{CUBE_SIZE:a,FIRST_CUBE_Z:l},d);U=[...Ne,...qe],Z=Oe,n("camera-ready",y)}),d.showCars){const{cityGroup:be,updateParticles:Oe,dispose:qe}=dl(v,v,se,d);T=Oe,Y=qe}if(d.showStarfield){const{dispose:be}=Dl(v,y,se);E=be}if(d.showChasers){const{dispose:be,updateChasers:Oe}=gl(v,se);N=be,x=Oe}Xe(),n("scene-ready")}catch(be){console.error("Error initializing project cubes:",be),se=l-(t.projects.length+1)*u}},Pe=(H=0)=>{if(q=requestAnimationFrame(Pe),C&&M){const Ee=(H-ce)/1e3;ce=H,T(Ee),x&&x(Ee),$!=null&&$.updateClickHereParticles&&$.updateClickHereParticles(y,Ee);const ae=4e3,fe=1e3,ye=Math.abs(y.position.z-se);y.far=Math.max(ae+fe,ye),y.updateProjectionMatrix();const Be=pr-qi;let w=0;y.position.z>=qi?w=0:y.position.z<=pr?w=1:w=(y.position.z-qi)/Be;const be=.375,Oe=1-Math.pow(1-w,2);let qe;i.isMobile?qe=xe.lerp(1.3,be,Oe):qe=xe.lerp(1.6,be,Oe),_.strength=qe,M.render()}j.update()},W=()=>{console.log("handleResize()"),Xe(),ze.refresh()},Ae=()=>{if(i.isMobile){const H=i.orientation;console.log("Resize: orientation",H,"lastOrientation",m),H!==m&&(m=H,J&&clearTimeout(J),J=setTimeout(()=>{W(),J=null},500))}else W()};return pn(()=>{Re().then(()=>{if(f.value){q=requestAnimationFrame(Pe);let H=null;const Ee=$.getInitializedData().then(({projectCubes:fe,maxZ:ye})=>{if(fe.forEach(Be=>{Be.userData.isActive=!0}),y.position.set(0,0,5e3),y.lookAt(0,0,ye),y.updateProjectionMatrix(),Z(y),M.render(),ze.getAll().forEach(Be=>Be.kill()),U.length&&Z){const Be=hl(v,y,p,U,Z,{CUBE_SPACING:u,FIRST_CUBE_Z:l},{scrub:i.isMobile?.5:1},d,j);H=Be.setReverting,re=Be.isScrollTriggerActive}C&&P===null&&(P=$.setupInteractivity(y,C.domElement,C,Be=>{H&&H(Be)},re)),r.value=!0,window.scrollTo({top:0,behavior:"auto"})}),ae=()=>{Ee.then(()=>{y.position.set(0,0,5e3),y.updateProjectionMatrix(),te.to(C.domElement,{opacity:1,duration:.5,ease:"power4.out"});const fe={z:5e3};te.to(fe,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{y.position.z=fe.z,y.updateProjectionMatrix()},onComplete:()=>{y.position.z=0,h.value=!0,oe&&oe()}})})};te.delayedCall(.5,ae)}}).catch(H=>{console.error("Initialization failed:",H)})}),Bi(()=>{q!==null&&cancelAnimationFrame(q),P&&P(),window.removeEventListener("resize",Ae),window.removeEventListener("click",handleGesture),window.removeEventListener("touchstart",handleGesture),window.removeEventListener("keydown",handleGesture),ze.getAll().forEach(H=>H.kill()),M&&(M.passes.forEach(H=>{H.dispose&&H.dispose()}),M.dispose()),_&&_.dispose(),D.forEach(H=>{H.dispose()}),D.clear(),v.traverse(H=>{H instanceof Ie&&(H.geometry&&H.geometry.dispose(),H.material&&(Array.isArray(H.material)?H.material.forEach(Ee=>Ee.dispose()):H.material.dispose()))}),v.fog&&(v.fog=null),v.background instanceof Tt&&(v.background=null),v.clear(),C&&(C.dispose(),C.forceContextLoss(),C.domElement&&C.domElement.parentNode&&C.domElement.parentNode.removeChild(C.domElement)),j&&j.dom&&j.dom.parentNode&&j.dom.parentNode.removeChild(j.dom),E&&E(),N&&N(),Y&&Y(),L&&L(),q=null,C=null,M=null,_=null,v=null,y=null,j=null,T=null,E=null,P=null,N=null,x=null,Y=null,U=[],Z=null,$=null,re=null}),(H,Ee)=>(Qe(),ot("section",{ref_key:"wrapper",ref:p,class:zo(["wrapper",{ready:r.value}])},[Le("div",{ref_key:"tunnelWrapper",ref:c,class:"tunnel-wrapper"},null,512)],2))}}),cu=dn(uu,[["__scopeId","data-v-10d88716"]]),fu={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-28"},pu={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},du={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},hu={key:2},Du={key:3},gu=fn({__name:"IntroMessage",setup(s){const e=xo(),t=Mo(),{progress:n}=ln(t),o=Je(null),i=no(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return pn(()=>{const r=o.value.querySelector("svg path:nth-child(2)");r&&te.to(r,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{r.position.y=0},repeat:-1})}),mo(n,(r,a)=>{if(!o.value)return;const u=r>a,l=r<80,d=r>=80;(u&&d||!u&&l)&&(te.killTweensOf(o.value),te.to(o.value,{y:u?i.value:0,scale:u?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(r,a)=>(Qe(),ot("div",fu,[Le("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm drop-shadow-white"},[Wo(e).isMobile?(Qe(),ot("svg",pu,a[0]||(a[0]=[Le("g",null,[Le("g",null,[Le("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),Le("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):(Qe(),ot("svg",du,a[1]||(a[1]=[Le("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),Le("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),Wo(e).isMobile?(Qe(),ot("div",hu,"SWIPE UP TO CONTINUE")):(Qe(),ot("div",Du,"SCROLL TO CONTINUE"))],512)]))}}),mu=dn(gu,[["__scopeId","data-v-282fe946"]]);/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var vu=/(?:^\s+|\s+$)/g,xu=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function ra(s){var e=s.nodeType,t="";if(e===1||e===9||e===11){if(typeof s.textContent=="string")return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)t+=ra(s)}else if(e===3||e===4)return s.nodeValue;return t}function xs(s,e,t,n,o){for(var i=s.firstChild,r=[],a;i;)i.nodeType===3?(a=(i.nodeValue+"").replace(/^\n+/g,""),n||(a=a.replace(/\s+/g," ")),r.push.apply(r,aa(a,e,t,n,o))):(i.nodeName+"").toLowerCase()==="br"?r[r.length-1]+="<br>":r.push(i.outerHTML),i=i.nextSibling;if(!o)for(a=r.length;a--;)r[a]==="&"&&r.splice(a,1,"&amp;");return r}function aa(s,e,t,n,o){if(s+="",t&&(s=s.trim?s.trim():s.replace(vu,"")),e&&e!=="")return s.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var i=[],r=s.length,a=0,u,l;a<r;a++)l=s.charAt(a),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||s.charCodeAt(a+1)>=65024&&s.charCodeAt(a+1)<=65039)&&(u=((s.substr(a,12).split(xu)||[])[1]||"").length||2,l=s.substr(a,u),i.emoji=1,a+=u-1),i.push(o?l:l===">"?"&gt;":l==="<"?"&lt;":n&&l===" "&&(s.charAt(a-1)===" "||s.charAt(a+1)===" ")?"&nbsp;":l);return i}/*!
 * TextPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Fn,li,wu=function(){return Fn||typeof window<"u"&&(Fn=window.gsap)&&Fn.registerPlugin&&Fn},hn={version:"3.12.7",name:"text",init:function(e,t,n){typeof t!="object"&&(t={value:t});var o=e.nodeName.toUpperCase(),i=this,r=t,a=r.newClass,u=r.oldClass,l=r.preserveSpaces,d=r.rtl,c=i.delimiter=t.delimiter||"",p=i.fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),f,h,D,v,y,C,M,_;if(i.svg=e.getBBox&&(o==="TEXT"||o==="TSPAN"),!("innerHTML"in e)&&!i.svg)return!1;if(i.target=e,!("value"in t)){i.text=i.original=[""];return}for(D=xs(e,c,!1,l,i.svg),li||(li=document.createElement("div")),li.innerHTML=t.value,h=xs(li,c,!1,l,i.svg),i.from=n._from,(i.from||d)&&!(d&&i.from)&&(o=D,D=h,h=o),i.hasClass=!!(a||u),i.newClass=d?u:a,i.oldClass=d?a:u,o=D.length-h.length,f=o<0?D:h,o<0&&(o=-o);--o>-1;)f.push(p);if(t.type==="diff"){for(v=0,y=[],C=[],M="",o=0;o<h.length;o++)_=h[o],_===D[o]?M+=_:(y[v]=M+_,C[v++]=M+D[o],M="");h=y,D=C,M&&(h.push(M),D.push(M))}t.speed&&n.duration(Math.min(.05/t.speed*f.length,t.maxDuration||9999)),i.rtl=d,i.original=D,i.text=h,i._props.push("text")},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var n=t.text,o=t.hasClass,i=t.newClass,r=t.oldClass,a=t.delimiter,u=t.target,l=t.fillChar,d=t.original,c=t.rtl,p=n.length,f=(c?1-e:e)*p+.5|0,h,D,v;o&&e?(h=i&&f,D=r&&f!==p,v=(h?"<span class='"+i+"'>":"")+n.slice(0,f).join(a)+(h?"</span>":"")+(D?"<span class='"+r+"'>":"")+a+d.slice(f).join(a)+(D?"</span>":"")):v=n.slice(0,f).join(a)+a+d.slice(f).join(a),t.svg?u.textContent=v:u.innerHTML=l==="&nbsp;"&&~v.indexOf("  ")?v.split("  ").join("&nbsp;&nbsp;"):v}};hn.splitInnerHTML=xs;hn.emojiSafeSplit=aa;hn.getText=ra;wu()&&Fn.registerPlugin(hn);const yu=1e4,Cu=fn({__name:"HUDMiniMap",props:{project:{}},setup(s){const e=s,t=xo(),n=Mo(),o=n.projects||[],{progress:i,isInPortalLock:r,activeProjectIndex:a,cubeMetadata:u}=ln(n),{screenWidth:l}=ln(t),d=n.cubeSpacing,c=n.firstCubeZ,p=no(()=>l.value<768),f=1+o.length,h=no(()=>p.value?l.value-16:(f-1)*16*2),D=no(()=>p.value?h.value/((f-1)*2):16),v=no(()=>D.value/2),y=no(()=>h.value/yu),C=Je(0),M=Je(0),_=Je(null),j=Je(null),T=Je(null),E=Je([]),P=Je(null),N=no(()=>Math.abs(c)*y.value),x=no(()=>o.map((U,Z)=>(Math.abs(c)+(Z+1)*d)*y.value)),Y=U=>{const Z=U*y.value+D.value/2;C.value=Math.min(Math.max(Z,0),h.value-v.value)};mo(i,U=>{r.value||te.to(C,{value:U*y.value+D.value/2,duration:.3,ease:"power2.out",onUpdate:()=>{C.value=Math.min(Math.max(C.value,0),h.value-v.value)}})},{immediate:!0}),mo(o,()=>{console.log("Projects changed, re-rendering cubes")}),mo([r,a],([U,Z],[q])=>{var ce,$;if(U&&Z!==null&&!q){const se=x.value[Z]+D.value/2;let re=0;const m=(ce=o[Z])==null?void 0:ce.keyartLocation,J=($=u.value)==null?void 0:$.find(oe=>oe.index===Z),ue=(J==null?void 0:J.flipped)||!1;switch(m){case"left":case"bottom":re=ue?-90:90;break;case"right":case"top":re=ue?90:-90;break}te.to(C,{value:se,duration:1,ease:"power2.out",onUpdate:()=>{C.value=Math.min(Math.max(C.value,0),h.value-v.value)}}),te.to(P.value,{rotation:re,duration:1,ease:"power2.out",onUpdate:()=>{var oe;M.value=((oe=P.value)==null?void 0:oe.rotation)||0}})}else!U&&q&&(te.to(C,{value:i.value*y.value+D.value/2,duration:2,ease:"power3.inOut",onUpdate:()=>{C.value=Math.min(Math.max(C.value,0),h.value-v.value)}}),te.to(P.value,{rotation:0,duration:2,ease:"power3.inOut",onUpdate:()=>{var se;M.value=((se=P.value)==null?void 0:se.rotation)||0}}))});const L=()=>{Y(i.value)};return pn(()=>{var U;if(Y(i.value),_.value){const Z=[j.value,T.value,...((U=T.value)==null?void 0:U.querySelectorAll("div"))||[],...E.value,P.value].filter(Boolean);te.to(Z,{opacity:1,duration:.5,ease:"power2.out",stagger:.1,delay:.5,overwrite:!1})}window.addEventListener("resize",L)}),Bi(()=>{window.removeEventListener("resize",L)}),(U,Z)=>(Qe(),ot("div",{ref_key:"mapContainer",ref:_,class:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bottom-4 h-4",style:wo({width:`${h.value}px`,position:"relative"})},[Le("div",{ref_key:"dashedPath",ref:j,class:"absolute top-1/2 -translate-y-1/2 h-px border-dotted border-t border-green-500/60 hidden-el",style:wo({width:`${h.value-v.value}px`,left:`${v.value/2}px`})},null,4),Le("div",{ref_key:"introCube",ref:T,class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 hidden-el introCube",style:wo({width:`${D.value}px`,height:`${D.value}px`,left:`${N.value}px`})},[Le("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:wo({width:`${D.value*.75}px`,height:`${D.value*.75}px`})},[Le("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:wo({width:`${D.value*.5}px`,height:`${D.value*.5}px`})},[Le("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:wo({width:`${D.value*.25}px`,height:`${D.value*.25}px`})},null,4)],4)],4)],4),(Qe(!0),ot(Hn,null,Un(Wo(o),(q,ce)=>{var $,se;return Qe(),ot("div",{key:ce,ref_for:!0,ref:re=>E.value[ce]=re,class:zo(["border absolute top-1/2 -translate-y-1/2 hidden-el",{"border-fuchsia-600 shadow-fuchsia":(($=e.project)==null?void 0:$.slug)===q.slug&&e.project!==null,"border-cyan-600/60":((se=e.project)==null?void 0:se.slug)!==q.slug||e.project===null}]),style:wo({width:`${D.value}px`,height:`${D.value}px`,left:`${x.value[ce]}px`})},null,6)}),128)),(Qe(),ot("svg",{ref_key:"cameraSvg",ref:P,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 hidden-el",style:wo({width:`${v.value}px`,left:`${C.value}px`})},Z[0]||(Z[0]=[Le("path",{class:"fill-green-500",d:"M0,0l32,18.3,383.8,219.3,32.2,18.4-32.2,18.4L32,493.7,0,512V0ZM383.5,256L32,55.1v401.7l351.5-200.8Z"},null,-1)]),4))],4))}}),bu=dn(Cu,[["__scopeId","data-v-e1752c14"]]),_u={class:"fixed inset-0 pointer-events-none z-10 font-sans"},Eu={class:"px-2 md:px-4 py-2 md:py-4 bg-black/70 md:h-[3.75vw] 3xl:h-[3.75rem] flex items-center"},Fu=["innerHTML"],Tu={key:1,class:"md:flex items-center justify-between w-full"},Mu={class:"md:flex items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto"},Su={class:"flex-shrink-0 tracking-tighter md:tracking-normal font-mono text-white md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem] drop-shadow-white"},Pu={class:"flex-shrink-0 font-mono text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},Au=["innerHTML"],Bu=["innerHTML"],Ru={key:0,class:"contributions flex flex-wrap md:flex-nowrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0"},ku={key:1,class:"segments flex flex-wrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0 drop-shadow-white"},Lu={class:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-black/70 h-12 w-full"},Iu={class:"flex items-center gap-4 absolute hidden font-mono md:flex text-green-400/50 text-xxxs left-[90%] top-1/2 -translate-y-1/2"},hr=.125,Ou=fn({__name:"HUD",props:{camera:{},ready:{type:Boolean}},emits:["scene-ready"],setup(s,{emit:e}){te.registerPlugin(hn);const t=s,n=e,o=Mo(),i=xo(),{projects:r,isInPortalLock:a,activeProjectIndex:u,audioEnabled:l}=ln(o),d=Je(!0),c=Je(0),p=Je(null),f=Je(null),h=Je(null),D=Je(null),v=Je(null),y=Je(null),C=o.cubeSpacing,M=Je(!1),_=Je(!1),j=Je("WEB DESIGN + DEVELOPMENT: ENTERTAINMENT, ECOMMERCE, HOSPITALITY + TECHNOLOGY");let T=null,E=null;const P=(Z,q)=>{if(!t.ready)return!1;const ce=Z;let $=!1,se=c.value,re=p.value;r.value.forEach((J,ue)=>{const oe=700+ue*C,we=1e3+ue*C;ce>=oe&&ce<we&&($=!0,se=ue,re=J)});const m=[f.value,h.value].filter(Boolean);m.length&&($&&!M.value?(M.value=!0,c.value=se,p.value=re,E&&E.kill(),T=te.to(m,{autoAlpha:1,duration:hr,overwrite:"auto"})):!$&&M.value&&(M.value=!1,T&&T.kill(),E=te.to(m,{autoAlpha:0,duration:hr,overwrite:"auto",onComplete:()=>{p.value=null}})))},N=no(()=>{if(!p.value)return"text-white/50";switch(p.value.classification){case Ht.Enums.Classification.ENTERTAINMENT:return"text-red-600 drop-shadow-red";case Ht.Enums.Classification.ECOMMERCE:return"text-green-600 drop-shadow-green";case Ht.Enums.Classification.OTHER:return"text-blue-600";default:return"text-white/50"}}),x=Z=>{switch(Z){case Ht.Enums.Contributions.BACKEND:return"fill-red-400";case Ht.Enums.Contributions.FRONTEND:return"fill-blue-400";case Ht.Enums.Contributions.DEVOPS:return"fill-green-500";case Ht.Enums.Contributions.DESIGN:return"fill-purple-400";case Ht.Enums.Contributions.IDEATION:return"fill-magenta-400";case Ht.Enums.Contributions.UX:return"fill-yellow-400";default:return"fill-green-500"}},Y=()=>{y.value&&!_.value&&te.to(y.value,{duration:2,text:{value:j.value},delay:1,onComplete:()=>{_.value=!0}})},L=()=>{p.value&&(o.setScrollPosition(window.scrollY),Dr.visit(route("project.show",{project:p.value.slug}),{}))},U=()=>{o.userEngaged&&o.toggleAudio()};return pn(()=>{var ce,$;const Z=(ce=D.value)==null?void 0:ce.querySelector("div"),q=($=v.value)==null?void 0:$.querySelector("div");if(Z&&q){const se=window.innerWidth-(i.isMobile?16:42);te.to([Z,q],{opacity:1,width:se,duration:2,onComplete:()=>{n("scene-ready")}})}Y()}),Bi(()=>{T&&T.kill(),E&&E.kill()}),mo(()=>o.progress,(Z,q)=>{d.value=Z<500,P(Z)},{immediate:!0}),mo(()=>t.camera,Z=>{Z&&P(o.progress)},{immediate:!1}),mo(()=>t.ready,Z=>{Z&&P(0)}),(Z,q)=>(Qe(),ot("div",_u,[q[4]||(q[4]=Da('<svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true" data-v-4543c5e8><defs data-v-4543c5e8><pattern id="grid-pattern2" width="12" height="12" patternUnits="userSpaceOnUse" data-v-4543c5e8><line x1="0" y1="0" x2="0" y2="12" stroke="green" stroke-width="1" opacity="0.15" data-v-4543c5e8></line><line x1="0" y1="0" x2="12" y2="0" stroke="green" stroke-width="1" opacity="0.15" data-v-4543c5e8></line></pattern></defs><rect width="100%" height="100%" fill="url(#grid-pattern2)" data-v-4543c5e8></rect></svg>',1)),Le("div",Eu,[Bo(gr,{name:"slide-up",mode:"out-in"},{default:Ji(()=>{var ce,$,se,re,m,J,ue;return[d.value?(Qe(),ot("div",{key:0,ref_key:"introMessageRef",ref:y,class:"relative pointer-events-auto font-mono text-xs text-green-500 text-center w-full text-white drop-shadow-white",innerHTML:_.value?j.value:"X540%512053%)4KF405=31650-3215-503=4400%254=053-50135FFKMFLKFJ04-3515-FFLH>F"},null,8,Fu)):(Qe(),ot("div",Tu,[Le("div",{ref_key:"projectTitleEl",ref:h,class:"md:flex md:items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto",style:{opacity:"0"}},[Le("div",Mu,[Le("h1",Su,Lo(((ce=p.value)==null?void 0:ce.title)||""),1),Le("h2",Pu,[Le("span",{class:"text-white/50 font-medium",innerHTML:(($=p.value)==null?void 0:$.client)||""},null,8,Au),q[0]||(q[0]=Qi(" · ")),Le("span",{class:zo(N.value),innerHTML:((se=p.value)==null?void 0:se.classification)||""},null,10,Bu)])]),((re=p.value)==null?void 0:re.contributions.length)>0?(Qe(),ot("div",Ru,[(Qe(!0),ot(Hn,null,Un((m=p.value)==null?void 0:m.contributions,(oe,we)=>(Qe(),ot("span",{key:we,class:"inline-flex items-center gap-x-2 md:gap-x-[.5vw] 3xl:gap-x-[.5rem] rounded-full px-2 md:px-[.5vw] 3xl:px-[.5rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.575vw] 3xl:text-[.575rem] font-medium ring-1 ring-inset"},[(Qe(),ot("svg",{class:zo(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",x(oe)]),viewBox:"0 0 6 6","aria-hidden":"true"},q[1]||(q[1]=[Le("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Qi(" "+Lo(oe),1)]))),128))])):Tn("",!0),((J=p.value)==null?void 0:J.segments.length)>0?(Qe(),ot("div",ku,[(Qe(!0),ot(Hn,null,Un((ue=p.value)==null?void 0:ue.segments,(oe,we)=>(Qe(),ot("span",{key:we,class:"inline-flex items-center rounded-full px-2 md:px-[.375vw] 3xl:px-[.375rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.5vw] 3xl:text-[.5rem] font-medium ring-1 ring-inset fill-white-400/10 text-white-400 ring-white/20"},Lo(oe),1))),128))])):Tn("",!0)],512),Le("div",{class:"flex justify-end md:block",ref_key:"clickHereEl",ref:f,style:{opacity:"0"}},[Le("button",{onClick:L,class:"border border-current rounded-none px-2 py-1 mt-2 md:mt-0 whitespace-nowrap font-mono text-xxs text-white rounded transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"}," SEE PROJECT DETAILS ")],512)]))]}),_:1})]),Le("div",{ref_key:"borderTopEl",ref:D,class:"flex justify-center"},q[2]||(q[2]=[Le("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),Le("div",Lu,[Le("div",{ref_key:"borderBottomEl",ref:v,class:"flex justify-center"},q[3]||(q[3]=[Le("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),Z.ready?(Qe(),ui(bu,{key:0,project:p.value},null,8,["project"])):Tn("",!0),Le("div",Iu,[Le("div",null,Lo(Wo(o).progress.toString().padStart(10,"0")+".00"),1),Le("button",{onClick:U,class:"border border-current rounded-none px-2 py-1 whitespace-nowrap text-xxxs text-white transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"},Lo(Wo(l)?"Audio: On":"Audio: Off"),1)])])]))}}),zu=dn(Ou,[["__scopeId","data-v-4543c5e8"]]),Nu={class:"preloader"},Hu={key:1,class:"progress-label font-mono drop-shadow-white"},Uu=fn({__name:"Preloader",props:{progress:{}},setup(s){const e=Je(null);te.registerPlugin(hn);const t=Je(!1),n=Je(!1),o=s;return mo(()=>o.progress,i=>{i>0&&!n&&(n.value=!0)}),pn(()=>{te.to(e.value,{duration:.5,text:{value:"INITIALIZING..."},delay:.25,onComplete:()=>{te.to(e.value,{duration:.5,alpha:0,y:-30,onComplete:()=>{t.value=!0}})}})}),(i,r)=>(Qe(),ot("div",Nu,[t.value?(Qe(),ot("div",Hu,Lo(Math.round(i.progress))+"%",1)):(Qe(),ot("div",{key:0,ref_key:"initTextRef",ref:e,class:"drop-shadow-white"},null,512))]))}}),ju=dn(Uu,[["__scopeId","data-v-014ad8ef"]]),Gu={class:"relative bg-black text-white"},Vu={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Wu={class:"mt-16 px-4 md:px-16"},Yu={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},$u=["innerHTML"],Xu={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},Zu=fn({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(s){const e=s,t=Mo(),{loadingProgress:n}=ln(t),o=Je(null),i=Je(!1);Je(!1);const r=Je(!1),a=p=>{o.value=p},u=no(()=>[...e.archived].sort((p,f)=>p.title.localeCompare(f.title))),l=no(()=>Object.values(Ht.Enums.Classification)),d=()=>{console.log("handleGesture()",t.audioEnabled),t.audioEnabled||(t.audioEnabled=!0,t.userEngaged=!0,window.removeEventListener("click",d),window.removeEventListener("touchstart",d),window.removeEventListener("keydown",d))},c=p=>{switch(p){case Ht.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case Ht.Enums.Classification.ECOMMERCE:return"fill-green-500";case Ht.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return ga(()=>{}),pn(()=>{window.addEventListener("click",d),window.addEventListener("touchstart",d),window.addEventListener("keydown",d)}),Bi(()=>{window.removeEventListener("click",d),window.removeEventListener("touchstart",d),window.removeEventListener("keydown",d)}),(p,f)=>(Qe(),ui(za,null,{default:Ji(()=>[Bo(Wo(ma),{title:"Welcome"}),Le("div",Gu,[Le("nav",Vu,[Bo(Ia)]),Le("div",{class:zo(["scene-wrap overflow-hidden relative",{ready:i.value}])},[r.value?(Qe(),ui(cu,{key:0,projects:p.projects,"project-grid-file":p.projectGridFile,"project-grid-file2":p.projectGridFile2,onCameraReady:a,onSceneReady:f[0]||(f[0]=h=>i.value=!0)},null,8,["projects","project-grid-file","project-grid-file2"])):Tn("",!0),Bo(gr,{name:"fade"},{default:Ji(()=>[i.value?Tn("",!0):(Qe(),ui(ju,{key:0,progress:Wo(n)||0},null,8,["progress"]))]),_:1}),Bo(mu),Bo(zu,{camera:o.value,ready:i.value,onSceneReady:f[1]||(f[1]=h=>r.value=!0)},null,8,["camera","ready"])],2),Le("div",Wu,[f[4]||(f[4]=Le("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),Le("ul",Yu,[(Qe(!0),ot(Hn,null,Un(u.value,(h,D)=>(Qe(),ot("li",{class:"text-xs text-white/80 flex items-center gap-2",key:D},[(Qe(),ot("svg",{class:zo(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",c(h.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},f[2]||(f[2]=[Le("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Le("span",{innerHTML:h.title},null,8,$u)]))),128))]),Le("ul",Xu,[(Qe(!0),ot(Hn,null,Un(l.value,h=>(Qe(),ot("li",{class:"flex items-center gap-2",key:h},[(Qe(),ot("svg",{class:zo(["size-3",c(h)]),viewBox:"0 0 6 6","aria-hidden":"true"},f[3]||(f[3]=[Le("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Qi(" "+Lo(h),1)]))),128))])]),f[5]||(f[5]=Le("div",{class:"flex justify-center items-center"},null,-1)),f[6]||(f[6]=Le("div",{class:"flex justify-center items-center"},null,-1)),Bo(Oa)])]),_:1}))}}),ec=dn(Zu,[["__scopeId","data-v-6f6fa0e4"]]);export{ec as default};
