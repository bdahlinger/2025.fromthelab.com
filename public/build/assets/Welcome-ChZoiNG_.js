import{I as In,d as Wt,D as Ti,x as Uo,y as Go,e as Dn,o as Qr,J as Ci,W as Pi,a as ir,t as Mi,b as tr,T as Ei,w as Ai,c as ki,f as Ri,u as Ii,m as Di,F as Oi}from"./app-7VUe5pm0.js";import{M as ft,O as Wo,B as so,F as Fr,C as xt,V as fe,W as mn,H as yn,U as Xn,S as wr,a as Ve,A as rr,b as Cr,N as Ni,c as zi,d as jo,e as Yo,f as Cn,P as qn,E as Li,g as Vo,h as Xo,i as gr,j as Bi,k as Fi,l as Hi,m as zn,n as Ui,o as jt,p as Ft,q as Gi,D as Zn,r as It,s as Fe,t as Je,u as xn,v as Yt,R as Wi,w as ji,x as Yi,y as Vi,z as yo,Q as Xi,I as Vs,J as Xs,K as qs,T as Zs,X as Qs,Y as qi,Z as Zi,_ as Qi,$ as $i,L as Ki,G as Ji}from"./GlobalFooter-kVdfp7WG.js";import{_ as qo}from"./_plugin-vue_export-helper-DlAUqK2U.js";class Jr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const es=new Wo(-1,1,1,-1,0,1);class ts extends so{constructor(){super(),this.setAttribute("position",new Fr([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Fr([0,2,0,0,2,0],2))}}const rs=new ts;class Zo{constructor(e){this._mesh=new ft(rs,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,es)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const Qo={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},ns={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new xt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class ur extends Jr{constructor(e,n,t,r){super(),this.strength=n!==void 0?n:1,this.radius=t,this.threshold=r,this.resolution=e!==void 0?new fe(e.x,e.y):new fe(256,256),this.clearColor=new xt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new mn(o,l,{type:yn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let T=0;T<this.nMips;T++){const _=new mn(o,l,{type:yn});_.texture.name="UnrealBloomPass.h"+T,_.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(_);const y=new mn(o,l,{type:yn});y.texture.name="UnrealBloomPass.v"+T,y.texture.generateMipmaps=!1,this.renderTargetsVertical.push(y),o=Math.round(o/2),l=Math.round(l/2)}const c=ns;this.highPassUniforms=Xn.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new wr({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}),this.separableBlurMaterials=[];const w=[3,5,7,9,11];o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);for(let T=0;T<this.nMips;T++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(w[T])),this.separableBlurMaterials[T].uniforms.invSize.value=new fe(1/o,1/l),o=Math.round(o/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1;const A=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=A,this.bloomTintColors=[new Ve(1,1,1),new Ve(1,1,1),new Ve(1,1,1),new Ve(1,1,1),new Ve(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const k=Qo;this.copyUniforms=Xn.clone(k.uniforms),this.blendMaterial=new wr({uniforms:this.copyUniforms,vertexShader:k.vertexShader,fragmentShader:k.fragmentShader,blending:rr,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new xt,this.oldClearAlpha=1,this.basic=new Cr,this.fsQuad=new Zo(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,n){let t=Math.round(e/2),r=Math.round(n/2);this.renderTargetBright.setSize(t,r);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(t,r),this.renderTargetsVertical[o].setSize(t,r),this.separableBlurMaterials[o].uniforms.invSize.value=new fe(1/t,1/r),t=Math.round(t/2),r=Math.round(r/2)}render(e,n,t,r,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const l=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let c=this.renderTargetBright;for(let w=0;w<this.nMips;w++)this.fsQuad.material=this.separableBlurMaterials[w],this.separableBlurMaterials[w].uniforms.colorTexture.value=c.texture,this.separableBlurMaterials[w].uniforms.direction.value=ur.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[w]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[w].uniforms.colorTexture.value=this.renderTargetsHorizontal[w].texture,this.separableBlurMaterials[w].uniforms.direction.value=ur.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[w]),e.clear(),this.fsQuad.render(e),c=this.renderTargetsVertical[w];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=l}getSeparableBlurMaterial(e){const n=[];for(let t=0;t<e;t++)n.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new wr({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new fe(.5,.5)},direction:{value:new fe(.5,.5)},gaussianCoefficients:{value:n}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new wr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}ur.BlurDirectionX=new fe(1,0);ur.BlurDirectionY=new fe(0,1);class os extends Jr{constructor(e,n){super(),this.textureID=n!==void 0?n:"tDiffuse",e instanceof wr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Xn.clone(e.uniforms),this.material=new wr({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Zo(this.material)}render(e,n,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class xo extends Jr{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,t){const r=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let l,c;this.inverse?(l=0,c=1):(l=1,c=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,l,4294967295),o.buffers.stencil.setClear(c),o.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),o.buffers.stencil.setLocked(!0)}}class is extends Jr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class $o{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const t=e.getSize(new fe);this._width=t.width,this._height=t.height,n=new mn(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:yn}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new os(Qo),this.copyPass.material.blending=Ni,this.clock=new zi}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let t=!1;for(let r=0,o=this.passes.length;r<o;r++){const l=this.passes[r];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),l.needsSwap){if(t){const c=this.renderer.getContext(),w=this.renderer.state.buffers.stencil;w.setFunc(c.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),w.setFunc(c.EQUAL,1,4294967295)}this.swapBuffers()}xo!==void 0&&(l instanceof xo?t=!0:l instanceof is&&(t=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new fe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const t=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(t,r),this.renderTarget2.setSize(t,r);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(t,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Ko extends Jr{constructor(e,n,t=null,r=null,o=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=t,this.clearColor=r,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new xt}render(e,n,t){const r=e.autoClear;e.autoClear=!1;let o,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=r}}const er=.01,bo=45/3,ss=3,Ln=45,wo=In({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(f){const e=f,n=Wt(null);let t,r,o=null,l=null,c=null,w=[];const A=Ti({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),k=Ln/2+10;function T(m){const F=er*A.particleWidth,Q=er*A.particleHeight,U=A.useSquares?new qn(F,Q):new Cn(F,Q,F),P=Math.floor(Math.random()*3);let W;switch(P){case 0:W=new xt(1,0,0);break;case 1:W=new xt(0,1,0);break;case 2:W=new xt(0,0,1);break;default:W=new xt(1,0,0)}const j=new Cr({color:W,transparent:!0,opacity:.7}),N=new ft(U,j),G=Ln+k*2;N.position.set(-45-k+m/(A.particleCount-1)*G,0,er*(Math.random()-.5)*A.positionZRandomness*A.emitterDepth);const X=er*(Math.random()*(A.maxSpeed-A.minSpeed)+A.minSpeed);return N.speed=X+er*(Math.random()-.5)*A.speedRandomness,N.rotationSpeed=new Ve(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*A.rotationRandomness+.5),N}function _(){t=new jo;const m=ss*1.5,F=m*bo;r=new Wo(-67.5/2,F/2,m/2,-4.5/2,.1,1e3),r.position.z=150,o=new Yo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const Q=new Ko(t,r);c=new ur(new fe(window.innerWidth,window.innerHeight),A.bloomStrength,A.bloomRadius,.1),l=new $o(o),l.addPass(Q),l.addPass(c),R(),n.value&&n.value.appendChild(o.domElement),y(),M()}function y(){w.forEach(m=>t.remove(m)),w=[];for(let m=0;m<A.particleCount;m++){const F=T(m);w.push(F),t.add(F)}}function R(){if(!o||!l||!c)return;const m=window.innerWidth,F=m/bo;o.setSize(m,F),l.setSize(m,F),c.setSize(m,F),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function M(){requestAnimationFrame(M),w.forEach(m=>{m.position.x+=m.speed,!A.useSquares&&A.rotateParticles&&(m.rotation.x+=m.rotationSpeed.x*.016,m.rotation.y+=m.rotationSpeed.y*.016,m.rotation.z+=m.rotationSpeed.z*.016),m.position.x>Ln/2+k&&(w.indexOf(m),m.position.x=-45-k-er*(m.geometry instanceof Cn,m.geometry.parameters.width),m.position.y=0,m.position.z=er*(Math.random()-.5)*A.positionZRandomness*A.emitterDepth)}),l&&l.render()}return Uo(()=>{_(),window.addEventListener("resize",R)}),Go(()=>{window.removeEventListener("resize",R),o==null||o.dispose()}),(m,F)=>(Qr(),Dn("div",{ref_key:"container",ref:n,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}}),Jo=Ci("tunnel",{state:()=>({isMobile:!1,activeProjectSlug:null,scrollPosition:0}),mutations:{storeIsMobile(f,e){f.isMobile=e}},actions:{setActiveProject(f){this.activeProjectSlug=f},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(f){this.scrollPosition=f,console.log("Scroll position stored:",f)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function as(f,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,t.key,t)}}function ls(f,e,n){return e&&as(f.prototype,e),f}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xe,bn,yt,Xt,qt,vr,ei,nr,Hr,ti,Ut,Mt,ri,ni=function(){return Xe||typeof window<"u"&&(Xe=window.gsap)&&Xe.registerPlugin&&Xe},oi=1,_r=[],me=[],Nt=[],Ur=Date.now,Qn=function(e,n){return n},cs=function(){var e=Hr.core,n=e.bridge||{},t=e._scrollers,r=e._proxies;t.push.apply(t,me),r.push.apply(r,Nt),me=t,Nt=r,Qn=function(l,c){return n[l](c)}},Zt=function(e,n){return~Nt.indexOf(e)&&Nt[Nt.indexOf(e)+1][n]},Gr=function(e){return!!~ti.indexOf(e)},it=function(e,n,t,r,o){return e.addEventListener(n,t,{passive:r!==!1,capture:!!o})},ot=function(e,n,t,r){return e.removeEventListener(n,t,!!r)},rn="scrollLeft",nn="scrollTop",$n=function(){return Ut&&Ut.isPressed||me.cache++},Pn=function(e,n){var t=function r(o){if(o||o===0){oi&&(yt.history.scrollRestoration="manual");var l=Ut&&Ut.isPressed;o=r.v=Math.round(o)||(Ut&&Ut.iOS?1:0),e(o),r.cacheID=me.cache,l&&Qn("ss",o)}else(n||me.cache!==r.cacheID||Qn("ref"))&&(r.cacheID=me.cache,r.v=e());return r.v+r.offset};return t.offset=0,e&&t},ct={s:rn,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Pn(function(f){return arguments.length?yt.scrollTo(f,He.sc()):yt.pageXOffset||Xt[rn]||qt[rn]||vr[rn]||0})},He={s:nn,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ct,sc:Pn(function(f){return arguments.length?yt.scrollTo(ct.sc(),f):yt.pageYOffset||Xt[nn]||qt[nn]||vr[nn]||0})},pt=function(e,n){return(n&&n._ctx&&n._ctx.selector||Xe.utils.toArray)(e)[0]||(typeof e=="string"&&Xe.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Qt=function(e,n){var t=n.s,r=n.sc;Gr(e)&&(e=Xt.scrollingElement||qt);var o=me.indexOf(e),l=r===He.sc?1:2;!~o&&(o=me.push(e)-1),me[o+l]||it(e,"scroll",$n);var c=me[o+l],w=c||(me[o+l]=Pn(Zt(e,t),!0)||(Gr(e)?r:Pn(function(A){return arguments.length?e[t]=A:e[t]})));return w.target=e,c||(w.smooth=Xe.getProperty(e,"scrollBehavior")==="smooth"),w},Kn=function(e,n,t){var r=e,o=e,l=Ur(),c=l,w=n||50,A=Math.max(500,w*3),k=function(R,M){var m=Ur();M||m-l>w?(o=r,r=R,c=l,l=m):t?r+=R:r=o+(R-o)/(m-c)*(l-c)},T=function(){o=r=t?0:r,c=l=0},_=function(R){var M=c,m=o,F=Ur();return(R||R===0)&&R!==r&&k(R),l===c||F-c>A?0:(r+(t?m:-m))/((t?F:l)-M)*1e3};return{update:k,reset:T,getVelocity:_}},Rr=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},_o=function(e){var n=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(t)?n:t},ii=function(){Hr=Xe.core.globals().ScrollTrigger,Hr&&Hr.core&&cs()},si=function(e){return Xe=e||ni(),!bn&&Xe&&typeof document<"u"&&document.body&&(yt=window,Xt=document,qt=Xt.documentElement,vr=Xt.body,ti=[yt,Xt,qt,vr],Xe.utils.clamp,ri=Xe.core.context||function(){},nr="onpointerenter"in vr?"pointer":"mouse",ei=Oe.isTouch=yt.matchMedia&&yt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in yt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Mt=Oe.eventTypes=("ontouchstart"in qt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in qt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return oi=0},500),ii(),bn=1),bn};ct.op=He;me.cache=0;var Oe=function(){function f(n){this.init(n)}var e=f.prototype;return e.init=function(t){bn||si(Xe)||console.warn("Please gsap.registerPlugin(Observer)"),Hr||ii();var r=t.tolerance,o=t.dragMinimum,l=t.type,c=t.target,w=t.lineHeight,A=t.debounce,k=t.preventDefault,T=t.onStop,_=t.onStopDelay,y=t.ignore,R=t.wheelSpeed,M=t.event,m=t.onDragStart,F=t.onDragEnd,Q=t.onDrag,U=t.onPress,P=t.onRelease,W=t.onRight,j=t.onLeft,N=t.onUp,G=t.onDown,X=t.onChangeX,D=t.onChangeY,ee=t.onChange,E=t.onToggleX,J=t.onToggleY,K=t.onHover,ne=t.onHoverEnd,V=t.onMove,z=t.ignoreCheck,C=t.isNormalizer,te=t.onGestureStart,h=t.onGestureEnd,he=t.onWheel,ye=t.onEnable,rt=t.onDisable,g=t.onClick,p=t.scrollSpeed,s=t.capture,i=t.allowClicks,v=t.lockAxis,B=t.onLockAxis;this.target=c=pt(c)||qt,this.vars=t,y&&(y=Xe.utils.toArray(y)),r=r||1e-9,o=o||0,R=R||1,p=p||1,l=l||"wheel,touch,pointer",A=A!==!1,w||(w=parseFloat(yt.getComputedStyle(vr).lineHeight)||22);var x,O,L,S,b,I,H,u=this,d=0,a=0,Y=t.passive||!k&&t.passive!==!1,q=Qt(c,ct),de=Qt(c,He),Te=q(),be=de(),oe=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Mt[0]==="pointerdown",ze=Gr(c),Ce=c.ownerDocument||Xt,ve=[0,0,0],Re=[0,0,0],qe=0,vt=function(){return qe=Ur()},Me=function(ie,we){return(u.event=ie)&&y&&~y.indexOf(ie.target)||we&&oe&&ie.pointerType!=="touch"||z&&z(ie,we)},zt=function(){u._vx.reset(),u._vy.reset(),O.pause(),T&&T(u)},Ee=function(){var ie=u.deltaX=_o(ve),we=u.deltaY=_o(Re),Z=Math.abs(ie)>=r,ae=Math.abs(we)>=r;ee&&(Z||ae)&&ee(u,ie,we,ve,Re),Z&&(W&&u.deltaX>0&&W(u),j&&u.deltaX<0&&j(u),X&&X(u),E&&u.deltaX<0!=d<0&&E(u),d=u.deltaX,ve[0]=ve[1]=ve[2]=0),ae&&(G&&u.deltaY>0&&G(u),N&&u.deltaY<0&&N(u),D&&D(u),J&&u.deltaY<0!=a<0&&J(u),a=u.deltaY,Re[0]=Re[1]=Re[2]=0),(S||L)&&(V&&V(u),L&&(m&&L===1&&m(u),Q&&Q(u),L=0),S=!1),I&&!(I=!1)&&B&&B(u),b&&(he(u),b=!1),x=0},Et=function(ie,we,Z){ve[Z]+=ie,Re[Z]+=we,u._vx.update(ie),u._vy.update(we),A?x||(x=requestAnimationFrame(Ee)):Ee()},nt=function(ie,we){v&&!H&&(u.axis=H=Math.abs(ie)>Math.abs(we)?"x":"y",I=!0),H!=="y"&&(ve[2]+=ie,u._vx.update(ie,!0)),H!=="x"&&(Re[2]+=we,u._vy.update(we,!0)),A?x||(x=requestAnimationFrame(Ee)):Ee()},ut=function(ie){if(!Me(ie,1)){ie=Rr(ie,k);var we=ie.clientX,Z=ie.clientY,ae=we-u.x,re=Z-u.y,le=u.isDragging;u.x=we,u.y=Z,(le||(ae||re)&&(Math.abs(u.startX-we)>=o||Math.abs(u.startY-Z)>=o))&&(L=le?2:1,le||(u.isDragging=!0),nt(ae,re))}},Lt=u.onPress=function(ce){Me(ce,1)||ce&&ce.button||(u.axis=H=null,O.pause(),u.isPressed=!0,ce=Rr(ce),d=a=0,u.startX=u.x=ce.clientX,u.startY=u.y=ce.clientY,u._vx.reset(),u._vy.reset(),it(C?c:Ce,Mt[1],ut,Y,!0),u.deltaX=u.deltaY=0,U&&U(u))},se=u.onRelease=function(ce){if(!Me(ce,1)){ot(C?c:Ce,Mt[1],ut,!0);var ie=!isNaN(u.y-u.startY),we=u.isDragging,Z=we&&(Math.abs(u.x-u.startX)>3||Math.abs(u.y-u.startY)>3),ae=Rr(ce);!Z&&ie&&(u._vx.reset(),u._vy.reset(),k&&i&&Xe.delayedCall(.08,function(){if(Ur()-qe>300&&!ce.defaultPrevented){if(ce.target.click)ce.target.click();else if(Ce.createEvent){var re=Ce.createEvent("MouseEvents");re.initMouseEvent("click",!0,!0,yt,1,ae.screenX,ae.screenY,ae.clientX,ae.clientY,!1,!1,!1,!1,0,null),ce.target.dispatchEvent(re)}}})),u.isDragging=u.isGesturing=u.isPressed=!1,T&&we&&!C&&O.restart(!0),L&&Ee(),F&&we&&F(u),P&&P(u,Z)}},$t=function(ie){return ie.touches&&ie.touches.length>1&&(u.isGesturing=!0)&&te(ie,u.isDragging)},St=function(){return(u.isGesturing=!1)||h(u)},Tt=function(ie){if(!Me(ie)){var we=q(),Z=de();Et((we-Te)*p,(Z-be)*p,1),Te=we,be=Z,T&&O.restart(!0)}},Ct=function(ie){if(!Me(ie)){ie=Rr(ie,k),he&&(b=!0);var we=(ie.deltaMode===1?w:ie.deltaMode===2?yt.innerHeight:1)*R;Et(ie.deltaX*we,ie.deltaY*we,0),T&&!C&&O.restart(!0)}},Kt=function(ie){if(!Me(ie)){var we=ie.clientX,Z=ie.clientY,ae=we-u.x,re=Z-u.y;u.x=we,u.y=Z,S=!0,T&&O.restart(!0),(ae||re)&&nt(ae,re)}},dr=function(ie){u.event=ie,K(u)},Bt=function(ie){u.event=ie,ne(u)},Mr=function(ie){return Me(ie)||Rr(ie,k)&&g(u)};O=u._dc=Xe.delayedCall(_||.25,zt).pause(),u.deltaX=u.deltaY=0,u._vx=Kn(0,50,!0),u._vy=Kn(0,50,!0),u.scrollX=q,u.scrollY=de,u.isDragging=u.isGesturing=u.isPressed=!1,ri(this),u.enable=function(ce){return u.isEnabled||(it(ze?Ce:c,"scroll",$n),l.indexOf("scroll")>=0&&it(ze?Ce:c,"scroll",Tt,Y,s),l.indexOf("wheel")>=0&&it(c,"wheel",Ct,Y,s),(l.indexOf("touch")>=0&&ei||l.indexOf("pointer")>=0)&&(it(c,Mt[0],Lt,Y,s),it(Ce,Mt[2],se),it(Ce,Mt[3],se),i&&it(c,"click",vt,!0,!0),g&&it(c,"click",Mr),te&&it(Ce,"gesturestart",$t),h&&it(Ce,"gestureend",St),K&&it(c,nr+"enter",dr),ne&&it(c,nr+"leave",Bt),V&&it(c,nr+"move",Kt)),u.isEnabled=!0,u.isDragging=u.isGesturing=u.isPressed=S=L=!1,u._vx.reset(),u._vy.reset(),Te=q(),be=de(),ce&&ce.type&&Lt(ce),ye&&ye(u)),u},u.disable=function(){u.isEnabled&&(_r.filter(function(ce){return ce!==u&&Gr(ce.target)}).length||ot(ze?Ce:c,"scroll",$n),u.isPressed&&(u._vx.reset(),u._vy.reset(),ot(C?c:Ce,Mt[1],ut,!0)),ot(ze?Ce:c,"scroll",Tt,s),ot(c,"wheel",Ct,s),ot(c,Mt[0],Lt,s),ot(Ce,Mt[2],se),ot(Ce,Mt[3],se),ot(c,"click",vt,!0),ot(c,"click",Mr),ot(Ce,"gesturestart",$t),ot(Ce,"gestureend",St),ot(c,nr+"enter",dr),ot(c,nr+"leave",Bt),ot(c,nr+"move",Kt),u.isEnabled=u.isPressed=u.isDragging=!1,rt&&rt(u))},u.kill=u.revert=function(){u.disable();var ce=_r.indexOf(u);ce>=0&&_r.splice(ce,1),Ut===u&&(Ut=0)},_r.push(u),C&&Gr(c)&&(Ut=u),u.enable(M)},ls(f,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),f}();Oe.version="3.12.7";Oe.create=function(f){return new Oe(f)};Oe.register=si;Oe.getAll=function(){return _r.slice()};Oe.getById=function(f){return _r.filter(function(e){return e.vars.id===f})[0]};ni()&&Xe.registerPlugin(Oe);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $,xr,ge,Pe,mt,_e,ao,Mn,$r,Wr,Or,on,Ke,On,Jn,at,vo,So,br,ai,Bn,li,st,eo,ci,ui,Vt,to,lo,Sr,co,En,ro,Fn,sn=1,et=Date.now,Hn=et(),_t=0,Nr=0,To=function(e,n,t){var r=gt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+n+"Clamp"]=r,r?e.substr(6,e.length-7):e},Co=function(e,n){return n&&(!gt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},us=function f(){return Nr&&requestAnimationFrame(f)},Po=function(){return On=1},Mo=function(){return On=0},Dt=function(e){return e},zr=function(e){return Math.round(e*1e5)/1e5||0},fi=function(){return typeof window<"u"},pi=function(){return $||fi()&&($=window.gsap)&&$.registerPlugin&&$},fr=function(e){return!!~ao.indexOf(e)},hi=function(e){return(e==="Height"?co:ge["inner"+e])||mt["client"+e]||_e["client"+e]},di=function(e){return Zt(e,"getBoundingClientRect")||(fr(e)?function(){return Tn.width=ge.innerWidth,Tn.height=co,Tn}:function(){return Ht(e)})},fs=function(e,n,t){var r=t.d,o=t.d2,l=t.a;return(l=Zt(e,"getBoundingClientRect"))?function(){return l()[r]}:function(){return(n?hi(o):e["client"+o])||0}},ps=function(e,n){return!n||~Nt.indexOf(e)?di(e):function(){return Tn}},Ot=function(e,n){var t=n.s,r=n.d2,o=n.d,l=n.a;return Math.max(0,(t="scroll"+r)&&(l=Zt(e,t))?l()-di(e)()[o]:fr(e)?(mt[t]||_e[t])-hi(r):e[t]-e["offset"+r])},an=function(e,n){for(var t=0;t<br.length;t+=3)(!n||~n.indexOf(br[t+1]))&&e(br[t],br[t+1],br[t+2])},gt=function(e){return typeof e=="string"},tt=function(e){return typeof e=="function"},Lr=function(e){return typeof e=="number"},or=function(e){return typeof e=="object"},Ir=function(e,n,t){return e&&e.progress(n?0:1)&&t&&e.pause()},Un=function(e,n){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return n(e)}):n(e);t&&t.totalTime&&(e.callbackAnimation=t)}},mr=Math.abs,gi="left",mi="top",uo="right",fo="bottom",ar="width",lr="height",jr="Right",Yr="Left",Vr="Top",Xr="Bottom",Ne="padding",bt="margin",Pr="Width",po="Height",Be="px",wt=function(e){return ge.getComputedStyle(e)},hs=function(e){var n=wt(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},Eo=function(e,n){for(var t in n)t in e||(e[t]=n[t]);return e},Ht=function(e,n){var t=n&&wt(e)[Jn]!=="matrix(1, 0, 0, 1, 0, 0)"&&$.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return t&&t.progress(0).kill(),r},An=function(e,n){var t=n.d2;return e["offset"+t]||e["client"+t]||0},yi=function(e){var n=[],t=e.labels,r=e.duration(),o;for(o in t)n.push(t[o]/r);return n},ds=function(e){return function(n){return $.utils.snap(yi(e),n)}},ho=function(e){var n=$.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(r,o){return r-o});return t?function(r,o,l){l===void 0&&(l=.001);var c;if(!o)return n(r);if(o>0){for(r-=l,c=0;c<t.length;c++)if(t[c]>=r)return t[c];return t[c-1]}else for(c=t.length,r+=l;c--;)if(t[c]<=r)return t[c];return t[0]}:function(r,o,l){l===void 0&&(l=.001);var c=n(r);return!o||Math.abs(c-r)<l||c-r<0==o<0?c:n(o<0?r-e:r+e)}},gs=function(e){return function(n,t){return ho(yi(e))(n,t.direction)}},ln=function(e,n,t,r){return t.split(",").forEach(function(o){return e(n,o,r)})},We=function(e,n,t,r,o){return e.addEventListener(n,t,{passive:!r,capture:!!o})},Ge=function(e,n,t,r){return e.removeEventListener(n,t,!!r)},cn=function(e,n,t){t=t&&t.wheelHandler,t&&(e(n,"wheel",t),e(n,"touchmove",t))},Ao={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},un={toggleActions:"play",anticipatePin:0},kn={top:0,left:0,center:.5,bottom:1,right:1},wn=function(e,n){if(gt(e)){var t=e.indexOf("="),r=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(r*=n/100),e=e.substr(0,t-1)),e=r+(e in kn?kn[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},fn=function(e,n,t,r,o,l,c,w){var A=o.startColor,k=o.endColor,T=o.fontSize,_=o.indent,y=o.fontWeight,R=Pe.createElement("div"),M=fr(t)||Zt(t,"pinType")==="fixed",m=e.indexOf("scroller")!==-1,F=M?_e:t,Q=e.indexOf("start")!==-1,U=Q?A:k,P="border-color:"+U+";font-size:"+T+";color:"+U+";font-weight:"+y+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return P+="position:"+((m||w)&&M?"fixed;":"absolute;"),(m||w||!M)&&(P+=(r===He?uo:fo)+":"+(l+parseFloat(_))+"px;"),c&&(P+="box-sizing:border-box;text-align:left;width:"+c.offsetWidth+"px;"),R._isStart=Q,R.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),R.style.cssText=P,R.innerText=n||n===0?e+"-"+n:e,F.children[0]?F.insertBefore(R,F.children[0]):F.appendChild(R),R._offset=R["offset"+r.op.d2],_n(R,0,r,Q),R},_n=function(e,n,t,r){var o={display:"block"},l=t[r?"os2":"p2"],c=t[r?"p2":"os2"];e._isFlipped=r,o[t.a+"Percent"]=r?-100:0,o[t.a]=r?"1px":0,o["border"+l+Pr]=1,o["border"+c+Pr]=0,o[t.p]=n+"px",$.set(e,o)},pe=[],no={},Kr,ko=function(){return et()-_t>34&&(Kr||(Kr=requestAnimationFrame(Gt)))},yr=function(){(!st||!st.isPressed||st.startX>_e.clientWidth)&&(me.cache++,st?Kr||(Kr=requestAnimationFrame(Gt)):Gt(),_t||hr("scrollStart"),_t=et())},Gn=function(){ui=ge.innerWidth,ci=ge.innerHeight},Br=function(e){me.cache++,(e===!0||!Ke&&!li&&!Pe.fullscreenElement&&!Pe.webkitFullscreenElement&&(!eo||ui!==ge.innerWidth||Math.abs(ge.innerHeight-ci)>ge.innerHeight*.25))&&Mn.restart(!0)},pr={},ms=[],xi=function f(){return Ge(ue,"scrollEnd",f)||sr(!0)},hr=function(e){return pr[e]&&pr[e].map(function(n){return n()})||ms},dt=[],bi=function(e){for(var n=0;n<dt.length;n+=5)(!e||dt[n+4]&&dt[n+4].query===e)&&(dt[n].style.cssText=dt[n+1],dt[n].getBBox&&dt[n].setAttribute("transform",dt[n+2]||""),dt[n+3].uncache=1)},go=function(e,n){var t;for(at=0;at<pe.length;at++)t=pe[at],t&&(!n||t._ctx===n)&&(e?t.kill(1):t.revert(!0,!0));En=!0,n&&bi(n),n||hr("revert")},wi=function(e,n){me.cache++,(n||!lt)&&me.forEach(function(t){return tt(t)&&t.cacheID++&&(t.rec=0)}),gt(e)&&(ge.history.scrollRestoration=lo=e)},lt,cr=0,Ro,ys=function(){if(Ro!==cr){var e=Ro=cr;requestAnimationFrame(function(){return e===cr&&sr(!0)})}},_i=function(){_e.appendChild(Sr),co=!st&&Sr.offsetHeight||ge.innerHeight,_e.removeChild(Sr)},Io=function(e){return $r(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},sr=function(e,n){if(mt=Pe.documentElement,_e=Pe.body,ao=[ge,Pe,mt,_e],_t&&!e&&!En){We(ue,"scrollEnd",xi);return}_i(),lt=ue.isRefreshing=!0,me.forEach(function(r){return tt(r)&&++r.cacheID&&(r.rec=r())});var t=hr("refreshInit");ai&&ue.sort(),n||go(),me.forEach(function(r){tt(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),pe.slice(0).forEach(function(r){return r.refresh()}),En=!1,pe.forEach(function(r){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",l=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-l),r.refresh()}}),ro=1,Io(!0),pe.forEach(function(r){var o=Ot(r.scroller,r._dir),l=r.vars.end==="max"||r._endClamp&&r.end>o,c=r._startClamp&&r.start>=o;(l||c)&&r.setPositions(c?o-1:r.start,l?Math.max(c?o:r.start+1,o):r.end,!0)}),Io(!1),ro=0,t.forEach(function(r){return r&&r.render&&r.render(-1)}),me.forEach(function(r){tt(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),wi(lo,1),Mn.pause(),cr++,lt=2,Gt(2),pe.forEach(function(r){return tt(r.vars.onRefresh)&&r.vars.onRefresh(r)}),lt=ue.isRefreshing=!1,hr("refresh")},oo=0,vn=1,qr,Gt=function(e){if(e===2||!lt&&!En){ue.isUpdating=!0,qr&&qr.update(0);var n=pe.length,t=et(),r=t-Hn>=50,o=n&&pe[0].scroll();if(vn=oo>o?-1:1,lt||(oo=o),r&&(_t&&!On&&t-_t>200&&(_t=0,hr("scrollEnd")),Or=Hn,Hn=t),vn<0){for(at=n;at-- >0;)pe[at]&&pe[at].update(0,r);vn=1}else for(at=0;at<n;at++)pe[at]&&pe[at].update(0,r);ue.isUpdating=!1}Kr=0},io=[gi,mi,fo,uo,bt+Xr,bt+jr,bt+Vr,bt+Yr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Sn=io.concat([ar,lr,"boxSizing","max"+Pr,"max"+po,"position",bt,Ne,Ne+Vr,Ne+jr,Ne+Xr,Ne+Yr]),xs=function(e,n,t){Tr(t);var r=e._gsap;if(r.spacerIsNative)Tr(r.spacerState);else if(e._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(e,n),o.removeChild(n))}e._gsap.swappedIn=!1},Wn=function(e,n,t,r){if(!e._gsap.swappedIn){for(var o=io.length,l=n.style,c=e.style,w;o--;)w=io[o],l[w]=t[w];l.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(l.display="inline-block"),c[fo]=c[uo]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[ar]=An(e,ct)+Be,l[lr]=An(e,He)+Be,l[Ne]=c[bt]=c[mi]=c[gi]="0",Tr(r),c[ar]=c["max"+Pr]=t[ar],c[lr]=c["max"+po]=t[lr],c[Ne]=t[Ne],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},bs=/([A-Z])/g,Tr=function(e){if(e){var n=e.t.style,t=e.length,r=0,o,l;for((e.t._gsap||$.core.getCache(e.t)).uncache=1;r<t;r+=2)l=e[r+1],o=e[r],l?n[o]=l:n[o]&&n.removeProperty(o.replace(bs,"-$1").toLowerCase())}},pn=function(e){for(var n=Sn.length,t=e.style,r=[],o=0;o<n;o++)r.push(Sn[o],t[Sn[o]]);return r.t=e,r},ws=function(e,n,t){for(var r=[],o=e.length,l=t?8:0,c;l<o;l+=2)c=e[l],r.push(c,c in n?n[c]:e[l+1]);return r.t=e.t,r},Tn={left:0,top:0},Do=function(e,n,t,r,o,l,c,w,A,k,T,_,y,R){tt(e)&&(e=e(w)),gt(e)&&e.substr(0,3)==="max"&&(e=_+(e.charAt(4)==="="?wn("0"+e.substr(3),t):0));var M=y?y.time():0,m,F,Q;if(y&&y.seek(0),isNaN(e)||(e=+e),Lr(e))y&&(e=$.utils.mapRange(y.scrollTrigger.start,y.scrollTrigger.end,0,_,e)),c&&_n(c,t,r,!0);else{tt(n)&&(n=n(w));var U=(e||"0").split(" "),P,W,j,N;Q=pt(n,w)||_e,P=Ht(Q)||{},(!P||!P.left&&!P.top)&&wt(Q).display==="none"&&(N=Q.style.display,Q.style.display="block",P=Ht(Q),N?Q.style.display=N:Q.style.removeProperty("display")),W=wn(U[0],P[r.d]),j=wn(U[1]||"0",t),e=P[r.p]-A[r.p]-k+W+o-j,c&&_n(c,j,r,t-j<20||c._isStart&&j>20),t-=t-j}if(R&&(w[R]=e||-.001,e<0&&(e=0)),l){var G=e+t,X=l._isStart;m="scroll"+r.d2,_n(l,G,r,X&&G>20||!X&&(T?Math.max(_e[m],mt[m]):l.parentNode[m])<=G+1),T&&(A=Ht(c),T&&(l.style[r.op.p]=A[r.op.p]-r.op.m-l._offset+Be))}return y&&Q&&(m=Ht(Q),y.seek(_),F=Ht(Q),y._caScrollDist=m[r.p]-F[r.p],e=e/y._caScrollDist*_),y&&y.seek(M),y?e:Math.round(e)},_s=/(webkit|moz|length|cssText|inset)/i,Oo=function(e,n,t,r){if(e.parentNode!==n){var o=e.style,l,c;if(n===_e){e._stOrig=o.cssText,c=wt(e);for(l in c)!+l&&!_s.test(l)&&c[l]&&typeof o[l]=="string"&&l!=="0"&&(o[l]=c[l]);o.top=t,o.left=r}else o.cssText=e._stOrig;$.core.getCache(e).uncache=1,n.appendChild(e)}},vi=function(e,n,t){var r=n,o=r;return function(l){var c=Math.round(e());return c!==r&&c!==o&&Math.abs(c-r)>3&&Math.abs(c-o)>3&&(l=c,t&&t()),o=r,r=Math.round(l),r}},hn=function(e,n,t){var r={};r[n.p]="+="+t,$.set(e,r)},No=function(e,n){var t=Qt(e,n),r="_scroll"+n.p2,o=function l(c,w,A,k,T){var _=l.tween,y=w.onComplete,R={};A=A||t();var M=vi(t,A,function(){_.kill(),l.tween=0});return T=k&&T||0,k=k||c-A,_&&_.kill(),w[r]=c,w.inherit=!1,w.modifiers=R,R[r]=function(){return M(A+k*_.ratio+T*_.ratio*_.ratio)},w.onUpdate=function(){me.cache++,l.tween&&Gt()},w.onComplete=function(){l.tween=0,y&&y.call(_)},_=l.tween=$.to(e,w),_};return e[r]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},We(e,"wheel",t.wheelHandler),ue.isTouch&&We(e,"touchmove",t.wheelHandler),o},ue=function(){function f(n,t){xr||f.register($)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),to(this),this.init(n,t)}var e=f.prototype;return e.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Nr){this.update=this.refresh=this.kill=Dt;return}t=Eo(gt(t)||Lr(t)||t.nodeType?{trigger:t}:t,un);var o=t,l=o.onUpdate,c=o.toggleClass,w=o.id,A=o.onToggle,k=o.onRefresh,T=o.scrub,_=o.trigger,y=o.pin,R=o.pinSpacing,M=o.invalidateOnRefresh,m=o.anticipatePin,F=o.onScrubComplete,Q=o.onSnapComplete,U=o.once,P=o.snap,W=o.pinReparent,j=o.pinSpacer,N=o.containerAnimation,G=o.fastScrollEnd,X=o.preventOverlaps,D=t.horizontal||t.containerAnimation&&t.horizontal!==!1?ct:He,ee=!T&&T!==0,E=pt(t.scroller||ge),J=$.core.getCache(E),K=fr(E),ne=("pinType"in t?t.pinType:Zt(E,"pinType")||K&&"fixed")==="fixed",V=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],z=ee&&t.toggleActions.split(" "),C="markers"in t?t.markers:un.markers,te=K?0:parseFloat(wt(E)["border"+D.p2+Pr])||0,h=this,he=t.onRefreshInit&&function(){return t.onRefreshInit(h)},ye=fs(E,K,D),rt=ps(E,K),g=0,p=0,s=0,i=Qt(E,D),v,B,x,O,L,S,b,I,H,u,d,a,Y,q,de,Te,be,oe,ze,Ce,ve,Re,qe,vt,Me,zt,Ee,Et,nt,ut,Lt,se,$t,St,Tt,Ct,Kt,dr,Bt;if(h._startClamp=h._endClamp=!1,h._dir=D,m*=45,h.scroller=E,h.scroll=N?N.time.bind(N):i,O=i(),h.vars=t,r=r||t.animation,"refreshPriority"in t&&(ai=1,t.refreshPriority===-9999&&(qr=h)),J.tweenScroll=J.tweenScroll||{top:No(E,He),left:No(E,ct)},h.tweenTo=v=J.tweenScroll[D.p],h.scrubDuration=function(Z){$t=Lr(Z)&&Z,$t?se?se.duration(Z):se=$.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:$t,paused:!0,onComplete:function(){return F&&F(h)}}):(se&&se.progress(1).kill(),se=0)},r&&(r.vars.lazy=!1,r._initted&&!h.isReverted||r.vars.immediateRender!==!1&&t.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),h.animation=r.pause(),r.scrollTrigger=h,h.scrubDuration(T),ut=0,w||(w=r.vars.id)),P&&((!or(P)||P.push)&&(P={snapTo:P}),"scrollBehavior"in _e.style&&$.set(K?[_e,mt]:E,{scrollBehavior:"auto"}),me.forEach(function(Z){return tt(Z)&&Z.target===(K?Pe.scrollingElement||mt:E)&&(Z.smooth=!1)}),x=tt(P.snapTo)?P.snapTo:P.snapTo==="labels"?ds(r):P.snapTo==="labelsDirectional"?gs(r):P.directional!==!1?function(Z,ae){return ho(P.snapTo)(Z,et()-p<500?0:ae.direction)}:$.utils.snap(P.snapTo),St=P.duration||{min:.1,max:2},St=or(St)?Wr(St.min,St.max):Wr(St,St),Tt=$.delayedCall(P.delay||$t/2||.1,function(){var Z=i(),ae=et()-p<500,re=v.tween;if((ae||Math.abs(h.getVelocity())<10)&&!re&&!On&&g!==Z){var le=(Z-S)/q,Ue=r&&!ee?r.totalProgress():le,xe=ae?0:(Ue-Lt)/(et()-Or)*1e3||0,De=$.utils.clamp(-le,1-le,mr(xe/2)*xe/.185),Ze=le+(P.inertia===!1?0:De),Ie,Ae,Se=P,Pt=Se.onStart,ke=Se.onInterrupt,ht=Se.onComplete;if(Ie=x(Ze,h),Lr(Ie)||(Ie=Ze),Ae=Math.max(0,Math.round(S+Ie*q)),Z<=b&&Z>=S&&Ae!==Z){if(re&&!re._initted&&re.data<=mr(Ae-Z))return;P.inertia===!1&&(De=Ie-le),v(Ae,{duration:St(mr(Math.max(mr(Ze-Ue),mr(Ie-Ue))*.185/xe/.05||0)),ease:P.ease||"power3",data:mr(Ae-Z),onInterrupt:function(){return Tt.restart(!0)&&ke&&ke(h)},onComplete:function(){h.update(),g=i(),r&&!ee&&(se?se.resetTo("totalProgress",Ie,r._tTime/r._tDur):r.progress(Ie)),ut=Lt=r&&!ee?r.totalProgress():h.progress,Q&&Q(h),ht&&ht(h)}},Z,De*q,Ae-Z-De*q),Pt&&Pt(h,v.tween)}}else h.isActive&&g!==Z&&Tt.restart(!0)}).pause()),w&&(no[w]=h),_=h.trigger=pt(_||y!==!0&&y),Bt=_&&_._gsap&&_._gsap.stRevert,Bt&&(Bt=Bt(h)),y=y===!0?_:pt(y),gt(c)&&(c={targets:_,className:c}),y&&(R===!1||R===bt||(R=!R&&y.parentNode&&y.parentNode.style&&wt(y.parentNode).display==="flex"?!1:Ne),h.pin=y,B=$.core.getCache(y),B.spacer?de=B.pinState:(j&&(j=pt(j),j&&!j.nodeType&&(j=j.current||j.nativeElement),B.spacerIsNative=!!j,j&&(B.spacerState=pn(j))),B.spacer=oe=j||Pe.createElement("div"),oe.classList.add("pin-spacer"),w&&oe.classList.add("pin-spacer-"+w),B.pinState=de=pn(y)),t.force3D!==!1&&$.set(y,{force3D:!0}),h.spacer=oe=B.spacer,nt=wt(y),vt=nt[R+D.os2],Ce=$.getProperty(y),ve=$.quickSetter(y,D.a,Be),Wn(y,oe,nt),be=pn(y)),C){a=or(C)?Eo(C,Ao):Ao,u=fn("scroller-start",w,E,D,a,0),d=fn("scroller-end",w,E,D,a,0,u),ze=u["offset"+D.op.d2];var Mr=pt(Zt(E,"content")||E);I=this.markerStart=fn("start",w,Mr,D,a,ze,0,N),H=this.markerEnd=fn("end",w,Mr,D,a,ze,0,N),N&&(dr=$.quickSetter([I,H],D.a,Be)),!ne&&!(Nt.length&&Zt(E,"fixedMarkers")===!0)&&(hs(K?_e:E),$.set([u,d],{force3D:!0}),zt=$.quickSetter(u,D.a,Be),Et=$.quickSetter(d,D.a,Be))}if(N){var ce=N.vars.onUpdate,ie=N.vars.onUpdateParams;N.eventCallback("onUpdate",function(){h.update(0,0,1),ce&&ce.apply(N,ie||[])})}if(h.previous=function(){return pe[pe.indexOf(h)-1]},h.next=function(){return pe[pe.indexOf(h)+1]},h.revert=function(Z,ae){if(!ae)return h.kill(!0);var re=Z!==!1||!h.enabled,le=Ke;re!==h.isReverted&&(re&&(Ct=Math.max(i(),h.scroll.rec||0),s=h.progress,Kt=r&&r.progress()),I&&[I,H,u,d].forEach(function(Ue){return Ue.style.display=re?"none":"block"}),re&&(Ke=h,h.update(re)),y&&(!W||!h.isActive)&&(re?xs(y,oe,de):Wn(y,oe,wt(y),Me)),re||h.update(re),Ke=le,h.isReverted=re)},h.refresh=function(Z,ae,re,le){if(!((Ke||!h.enabled)&&!ae)){if(y&&Z&&_t){We(f,"scrollEnd",xi);return}!lt&&he&&he(h),Ke=h,v.tween&&!re&&(v.tween.kill(),v.tween=0),se&&se.pause(),M&&r&&r.revert({kill:!1}).invalidate(),h.isReverted||h.revert(!0,!0),h._subPinOffset=!1;var Ue=ye(),xe=rt(),De=N?N.duration():Ot(E,D),Ze=q<=.01,Ie=0,Ae=le||0,Se=or(re)?re.end:t.end,Pt=t.endTrigger||_,ke=or(re)?re.start:t.start||(t.start===0||!_?0:y?"0 0":"0 100%"),ht=h.pinnedContainer=t.pinnedContainer&&pt(t.pinnedContainer,h),At=_&&Math.max(0,pe.indexOf(h))||0,je=At,Ye,Qe,Jt,en,$e,Le,kt,Nn,mo,Er,Rt,Ar,tn;for(C&&or(re)&&(Ar=$.getProperty(u,D.p),tn=$.getProperty(d,D.p));je-- >0;)Le=pe[je],Le.end||Le.refresh(0,1)||(Ke=h),kt=Le.pin,kt&&(kt===_||kt===y||kt===ht)&&!Le.isReverted&&(Er||(Er=[]),Er.unshift(Le),Le.revert(!0,!0)),Le!==pe[je]&&(At--,je--);for(tt(ke)&&(ke=ke(h)),ke=To(ke,"start",h),S=Do(ke,_,Ue,D,i(),I,u,h,xe,te,ne,De,N,h._startClamp&&"_startClamp")||(y?-.001:0),tt(Se)&&(Se=Se(h)),gt(Se)&&!Se.indexOf("+=")&&(~Se.indexOf(" ")?Se=(gt(ke)?ke.split(" ")[0]:"")+Se:(Ie=wn(Se.substr(2),Ue),Se=gt(ke)?ke:(N?$.utils.mapRange(0,N.duration(),N.scrollTrigger.start,N.scrollTrigger.end,S):S)+Ie,Pt=_)),Se=To(Se,"end",h),b=Math.max(S,Do(Se||(Pt?"100% 0":De),Pt,Ue,D,i()+Ie,H,d,h,xe,te,ne,De,N,h._endClamp&&"_endClamp"))||-.001,Ie=0,je=At;je--;)Le=pe[je],kt=Le.pin,kt&&Le.start-Le._pinPush<=S&&!N&&Le.end>0&&(Ye=Le.end-(h._startClamp?Math.max(0,Le.start):Le.start),(kt===_&&Le.start-Le._pinPush<S||kt===ht)&&isNaN(ke)&&(Ie+=Ye*(1-Le.progress)),kt===y&&(Ae+=Ye));if(S+=Ie,b+=Ie,h._startClamp&&(h._startClamp+=Ie),h._endClamp&&!lt&&(h._endClamp=b||-.001,b=Math.min(b,Ot(E,D))),q=b-S||(S-=.01)&&.001,Ze&&(s=$.utils.clamp(0,1,$.utils.normalize(S,b,Ct))),h._pinPush=Ae,I&&Ie&&(Ye={},Ye[D.a]="+="+Ie,ht&&(Ye[D.p]="-="+i()),$.set([I,H],Ye)),y&&!(ro&&h.end>=Ot(E,D)))Ye=wt(y),en=D===He,Jt=i(),Re=parseFloat(Ce(D.a))+Ae,!De&&b>1&&(Rt=(K?Pe.scrollingElement||mt:E).style,Rt={style:Rt,value:Rt["overflow"+D.a.toUpperCase()]},K&&wt(_e)["overflow"+D.a.toUpperCase()]!=="scroll"&&(Rt.style["overflow"+D.a.toUpperCase()]="scroll")),Wn(y,oe,Ye),be=pn(y),Qe=Ht(y,!0),Nn=ne&&Qt(E,en?ct:He)(),R?(Me=[R+D.os2,q+Ae+Be],Me.t=oe,je=R===Ne?An(y,D)+q+Ae:0,je&&(Me.push(D.d,je+Be),oe.style.flexBasis!=="auto"&&(oe.style.flexBasis=je+Be)),Tr(Me),ht&&pe.forEach(function(kr){kr.pin===ht&&kr.vars.pinSpacing!==!1&&(kr._subPinOffset=!0)}),ne&&i(Ct)):(je=An(y,D),je&&oe.style.flexBasis!=="auto"&&(oe.style.flexBasis=je+Be)),ne&&($e={top:Qe.top+(en?Jt-S:Nn)+Be,left:Qe.left+(en?Nn:Jt-S)+Be,boxSizing:"border-box",position:"fixed"},$e[ar]=$e["max"+Pr]=Math.ceil(Qe.width)+Be,$e[lr]=$e["max"+po]=Math.ceil(Qe.height)+Be,$e[bt]=$e[bt+Vr]=$e[bt+jr]=$e[bt+Xr]=$e[bt+Yr]="0",$e[Ne]=Ye[Ne],$e[Ne+Vr]=Ye[Ne+Vr],$e[Ne+jr]=Ye[Ne+jr],$e[Ne+Xr]=Ye[Ne+Xr],$e[Ne+Yr]=Ye[Ne+Yr],Te=ws(de,$e,W),lt&&i(0)),r?(mo=r._initted,Bn(1),r.render(r.duration(),!0,!0),qe=Ce(D.a)-Re+q+Ae,Ee=Math.abs(q-qe)>1,ne&&Ee&&Te.splice(Te.length-2,2),r.render(0,!0,!0),mo||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Bn(0)):qe=q,Rt&&(Rt.value?Rt.style["overflow"+D.a.toUpperCase()]=Rt.value:Rt.style.removeProperty("overflow-"+D.a));else if(_&&i()&&!N)for(Qe=_.parentNode;Qe&&Qe!==_e;)Qe._pinOffset&&(S-=Qe._pinOffset,b-=Qe._pinOffset),Qe=Qe.parentNode;Er&&Er.forEach(function(kr){return kr.revert(!1,!0)}),h.start=S,h.end=b,O=L=lt?Ct:i(),!N&&!lt&&(O<Ct&&i(Ct),h.scroll.rec=0),h.revert(!1,!0),p=et(),Tt&&(g=-1,Tt.restart(!0)),Ke=0,r&&ee&&(r._initted||Kt)&&r.progress()!==Kt&&r.progress(Kt||0,!0).render(r.time(),!0,!0),(Ze||s!==h.progress||N||M||r&&!r._initted)&&(r&&!ee&&r.totalProgress(N&&S<-.001&&!s?$.utils.normalize(S,b,0):s,!0),h.progress=Ze||(O-S)/q===s?0:s),y&&R&&(oe._pinOffset=Math.round(h.progress*qe)),se&&se.invalidate(),isNaN(Ar)||(Ar-=$.getProperty(u,D.p),tn-=$.getProperty(d,D.p),hn(u,D,Ar),hn(I,D,Ar-(le||0)),hn(d,D,tn),hn(H,D,tn-(le||0))),Ze&&!lt&&h.update(),k&&!lt&&!Y&&(Y=!0,k(h),Y=!1)}},h.getVelocity=function(){return(i()-L)/(et()-Or)*1e3||0},h.endAnimation=function(){Ir(h.callbackAnimation),r&&(se?se.progress(1):r.paused()?ee||Ir(r,h.direction<0,1):Ir(r,r.reversed()))},h.labelToScroll=function(Z){return r&&r.labels&&(S||h.refresh()||S)+r.labels[Z]/r.duration()*q||0},h.getTrailing=function(Z){var ae=pe.indexOf(h),re=h.direction>0?pe.slice(0,ae).reverse():pe.slice(ae+1);return(gt(Z)?re.filter(function(le){return le.vars.preventOverlaps===Z}):re).filter(function(le){return h.direction>0?le.end<=S:le.start>=b})},h.update=function(Z,ae,re){if(!(N&&!re&&!Z)){var le=lt===!0?Ct:h.scroll(),Ue=Z?0:(le-S)/q,xe=Ue<0?0:Ue>1?1:Ue||0,De=h.progress,Ze,Ie,Ae,Se,Pt,ke,ht,At;if(ae&&(L=O,O=N?i():le,P&&(Lt=ut,ut=r&&!ee?r.totalProgress():xe)),m&&y&&!Ke&&!sn&&_t&&(!xe&&S<le+(le-L)/(et()-Or)*m?xe=1e-4:xe===1&&b>le+(le-L)/(et()-Or)*m&&(xe=.9999)),xe!==De&&h.enabled){if(Ze=h.isActive=!!xe&&xe<1,Ie=!!De&&De<1,ke=Ze!==Ie,Pt=ke||!!xe!=!!De,h.direction=xe>De?1:-1,h.progress=xe,Pt&&!Ke&&(Ae=xe&&!De?0:xe===1?1:De===1?2:3,ee&&(Se=!ke&&z[Ae+1]!=="none"&&z[Ae+1]||z[Ae],At=r&&(Se==="complete"||Se==="reset"||Se in r))),X&&(ke||At)&&(At||T||!r)&&(tt(X)?X(h):h.getTrailing(X).forEach(function(Jt){return Jt.endAnimation()})),ee||(se&&!Ke&&!sn?(se._dp._time-se._start!==se._time&&se.render(se._dp._time-se._start),se.resetTo?se.resetTo("totalProgress",xe,r._tTime/r._tDur):(se.vars.totalProgress=xe,se.invalidate().restart())):r&&r.totalProgress(xe,!!(Ke&&(p||Z)))),y){if(Z&&R&&(oe.style[R+D.os2]=vt),!ne)ve(zr(Re+qe*xe));else if(Pt){if(ht=!Z&&xe>De&&b+1>le&&le+1>=Ot(E,D),W)if(!Z&&(Ze||ht)){var je=Ht(y,!0),Ye=le-S;Oo(y,_e,je.top+(D===He?Ye:0)+Be,je.left+(D===He?0:Ye)+Be)}else Oo(y,oe);Tr(Ze||ht?Te:be),Ee&&xe<1&&Ze||ve(Re+(xe===1&&!ht?qe:0))}}P&&!v.tween&&!Ke&&!sn&&Tt.restart(!0),c&&(ke||U&&xe&&(xe<1||!Fn))&&$r(c.targets).forEach(function(Jt){return Jt.classList[Ze||U?"add":"remove"](c.className)}),l&&!ee&&!Z&&l(h),Pt&&!Ke?(ee&&(At&&(Se==="complete"?r.pause().totalProgress(1):Se==="reset"?r.restart(!0).pause():Se==="restart"?r.restart(!0):r[Se]()),l&&l(h)),(ke||!Fn)&&(A&&ke&&Un(h,A),V[Ae]&&Un(h,V[Ae]),U&&(xe===1?h.kill(!1,1):V[Ae]=0),ke||(Ae=xe===1?1:3,V[Ae]&&Un(h,V[Ae]))),G&&!Ze&&Math.abs(h.getVelocity())>(Lr(G)?G:2500)&&(Ir(h.callbackAnimation),se?se.progress(1):Ir(r,Se==="reverse"?1:!xe,1))):ee&&l&&!Ke&&l(h)}if(Et){var Qe=N?le/N.duration()*(N._caScrollDist||0):le;zt(Qe+(u._isFlipped?1:0)),Et(Qe)}dr&&dr(-le/N.duration()*(N._caScrollDist||0))}},h.enable=function(Z,ae){h.enabled||(h.enabled=!0,We(E,"resize",Br),K||We(E,"scroll",yr),he&&We(f,"refreshInit",he),Z!==!1&&(h.progress=s=0,O=L=g=i()),ae!==!1&&h.refresh())},h.getTween=function(Z){return Z&&v?v.tween:se},h.setPositions=function(Z,ae,re,le){if(N){var Ue=N.scrollTrigger,xe=N.duration(),De=Ue.end-Ue.start;Z=Ue.start+De*Z/xe,ae=Ue.start+De*ae/xe}h.refresh(!1,!1,{start:Co(Z,re&&!!h._startClamp),end:Co(ae,re&&!!h._endClamp)},le),h.update()},h.adjustPinSpacing=function(Z){if(Me&&Z){var ae=Me.indexOf(D.d)+1;Me[ae]=parseFloat(Me[ae])+Z+Be,Me[1]=parseFloat(Me[1])+Z+Be,Tr(Me)}},h.disable=function(Z,ae){if(h.enabled&&(Z!==!1&&h.revert(!0,!0),h.enabled=h.isActive=!1,ae||se&&se.pause(),Ct=0,B&&(B.uncache=1),he&&Ge(f,"refreshInit",he),Tt&&(Tt.pause(),v.tween&&v.tween.kill()&&(v.tween=0)),!K)){for(var re=pe.length;re--;)if(pe[re].scroller===E&&pe[re]!==h)return;Ge(E,"resize",Br),K||Ge(E,"scroll",yr)}},h.kill=function(Z,ae){h.disable(Z,ae),se&&!ae&&se.kill(),w&&delete no[w];var re=pe.indexOf(h);re>=0&&pe.splice(re,1),re===at&&vn>0&&at--,re=0,pe.forEach(function(le){return le.scroller===h.scroller&&(re=1)}),re||lt||(h.scroll.rec=0),r&&(r.scrollTrigger=null,Z&&r.revert({kill:!1}),ae||r.kill()),I&&[I,H,u,d].forEach(function(le){return le.parentNode&&le.parentNode.removeChild(le)}),qr===h&&(qr=0),y&&(B&&(B.uncache=1),re=0,pe.forEach(function(le){return le.pin===y&&re++}),re||(B.spacer=0)),t.onKill&&t.onKill(h)},pe.push(h),h.enable(!1,!1),Bt&&Bt(h),r&&r.add&&!q){var we=h.update;h.update=function(){h.update=we,me.cache++,S||b||h.refresh()},$.delayedCall(.01,h.update),q=.01,S=b=0}else h.refresh();y&&ys()},f.register=function(t){return xr||($=t||pi(),fi()&&window.document&&f.enable(),xr=Nr),xr},f.defaults=function(t){if(t)for(var r in t)un[r]=t[r];return un},f.disable=function(t,r){Nr=0,pe.forEach(function(l){return l[r?"kill":"disable"](t)}),Ge(ge,"wheel",yr),Ge(Pe,"scroll",yr),clearInterval(on),Ge(Pe,"touchcancel",Dt),Ge(_e,"touchstart",Dt),ln(Ge,Pe,"pointerdown,touchstart,mousedown",Po),ln(Ge,Pe,"pointerup,touchend,mouseup",Mo),Mn.kill(),an(Ge);for(var o=0;o<me.length;o+=3)cn(Ge,me[o],me[o+1]),cn(Ge,me[o],me[o+2])},f.enable=function(){if(ge=window,Pe=document,mt=Pe.documentElement,_e=Pe.body,$&&($r=$.utils.toArray,Wr=$.utils.clamp,to=$.core.context||Dt,Bn=$.core.suppressOverwrites||Dt,lo=ge.history.scrollRestoration||"auto",oo=ge.pageYOffset||0,$.core.globals("ScrollTrigger",f),_e)){Nr=1,Sr=document.createElement("div"),Sr.style.height="100vh",Sr.style.position="absolute",_i(),us(),Oe.register($),f.isTouch=Oe.isTouch,Vt=Oe.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),eo=Oe.isTouch===1,We(ge,"wheel",yr),ao=[ge,Pe,mt,_e],$.matchMedia?(f.matchMedia=function(A){var k=$.matchMedia(),T;for(T in A)k.add(T,A[T]);return k},$.addEventListener("matchMediaInit",function(){return go()}),$.addEventListener("matchMediaRevert",function(){return bi()}),$.addEventListener("matchMedia",function(){sr(0,1),hr("matchMedia")}),$.matchMedia().add("(orientation: portrait)",function(){return Gn(),Gn})):console.warn("Requires GSAP 3.11.0 or later"),Gn(),We(Pe,"scroll",yr);var t=_e.hasAttribute("style"),r=_e.style,o=r.borderTopStyle,l=$.core.Animation.prototype,c,w;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",c=Ht(_e),He.m=Math.round(c.top+He.sc())||0,ct.m=Math.round(c.left+ct.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),t||(_e.setAttribute("style",""),_e.removeAttribute("style")),on=setInterval(ko,250),$.delayedCall(.5,function(){return sn=0}),We(Pe,"touchcancel",Dt),We(_e,"touchstart",Dt),ln(We,Pe,"pointerdown,touchstart,mousedown",Po),ln(We,Pe,"pointerup,touchend,mouseup",Mo),Jn=$.utils.checkPrefix("transform"),Sn.push(Jn),xr=et(),Mn=$.delayedCall(.2,sr).pause(),br=[Pe,"visibilitychange",function(){var A=ge.innerWidth,k=ge.innerHeight;Pe.hidden?(vo=A,So=k):(vo!==A||So!==k)&&Br()},Pe,"DOMContentLoaded",sr,ge,"load",sr,ge,"resize",Br],an(We),pe.forEach(function(A){return A.enable(0,1)}),w=0;w<me.length;w+=3)cn(Ge,me[w],me[w+1]),cn(Ge,me[w],me[w+2])}},f.config=function(t){"limitCallbacks"in t&&(Fn=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(on)||(on=r)&&setInterval(ko,r),"ignoreMobileResize"in t&&(eo=f.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(an(Ge)||an(We,t.autoRefreshEvents||"none"),li=(t.autoRefreshEvents+"").indexOf("resize")===-1)},f.scrollerProxy=function(t,r){var o=pt(t),l=me.indexOf(o),c=fr(o);~l&&me.splice(l,c?6:2),r&&(c?Nt.unshift(ge,r,_e,r,mt,r):Nt.unshift(o,r))},f.clearMatchMedia=function(t){pe.forEach(function(r){return r._ctx&&r._ctx.query===t&&r._ctx.kill(!0,!0)})},f.isInViewport=function(t,r,o){var l=(gt(t)?pt(t):t).getBoundingClientRect(),c=l[o?ar:lr]*r||0;return o?l.right-c>0&&l.left+c<ge.innerWidth:l.bottom-c>0&&l.top+c<ge.innerHeight},f.positionInViewport=function(t,r,o){gt(t)&&(t=pt(t));var l=t.getBoundingClientRect(),c=l[o?ar:lr],w=r==null?c/2:r in kn?kn[r]*c:~r.indexOf("%")?parseFloat(r)*c/100:parseFloat(r)||0;return o?(l.left+w)/ge.innerWidth:(l.top+w)/ge.innerHeight},f.killAll=function(t){if(pe.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var r=pr.killAll||[];pr={},r.forEach(function(o){return o()})}},f}();ue.version="3.12.7";ue.saveStyles=function(f){return f?$r(f).forEach(function(e){if(e&&e.style){var n=dt.indexOf(e);n>=0&&dt.splice(n,5),dt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$.core.getCache(e),to())}}):dt};ue.revert=function(f,e){return go(!f,e)};ue.create=function(f,e){return new ue(f,e)};ue.refresh=function(f){return f?Br(!0):(xr||ue.register())&&sr(!0)};ue.update=function(f){return++me.cache&&Gt(f===!0?2:0)};ue.clearScrollMemory=wi;ue.maxScroll=function(f,e){return Ot(f,e?ct:He)};ue.getScrollFunc=function(f,e){return Qt(pt(f),e?ct:He)};ue.getById=function(f){return no[f]};ue.getAll=function(){return pe.filter(function(f){return f.vars.id!=="ScrollSmoother"})};ue.isScrolling=function(){return!!_t};ue.snapDirectional=ho;ue.addEventListener=function(f,e){var n=pr[f]||(pr[f]=[]);~n.indexOf(e)||n.push(e)};ue.removeEventListener=function(f,e){var n=pr[f],t=n&&n.indexOf(e);t>=0&&n.splice(t,1)};ue.batch=function(f,e){var n=[],t={},r=e.interval||.016,o=e.batchMax||1e9,l=function(A,k){var T=[],_=[],y=$.delayedCall(r,function(){k(T,_),T=[],_=[]}).pause();return function(R){T.length||y.restart(!0),T.push(R.trigger),_.push(R),o<=T.length&&y.progress(1)}},c;for(c in e)t[c]=c.substr(0,2)==="on"&&tt(e[c])&&c!=="onRefreshInit"?l(c,e[c]):e[c];return tt(o)&&(o=o(),We(ue,"refresh",function(){return o=e.batchMax()})),$r(f).forEach(function(w){var A={};for(c in t)A[c]=t[c];A.trigger=w,n.push(ue.create(A))}),n};var zo=function(e,n,t,r){return n>r?e(r):n<0&&e(0),t>r?(r-n)/(t-n):t<0?n/(n-t):1},jn=function f(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Oe.isTouch?" pinch-zoom":""):"none",e===mt&&f(_e,n)},dn={auto:1,scroll:1},vs=function(e){var n=e.event,t=e.target,r=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,l=o._gsap||$.core.getCache(o),c=et(),w;if(!l._isScrollT||c-l._isScrollT>2e3){for(;o&&o!==_e&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(dn[(w=wt(o)).overflowY]||dn[w.overflowX]));)o=o.parentNode;l._isScroll=o&&o!==t&&!fr(o)&&(dn[(w=wt(o)).overflowY]||dn[w.overflowX]),l._isScrollT=c}(l._isScroll||r==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},Si=function(e,n,t,r){return Oe.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&vs,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return t&&We(Pe,Oe.eventTypes[0],Bo,!1,!0)},onDisable:function(){return Ge(Pe,Oe.eventTypes[0],Bo,!0)}})},Ss=/(input|label|select|textarea)/i,Lo,Bo=function(e){var n=Ss.test(e.target.tagName);(n||Lo)&&(e._gsapAllow=!0,Lo=n)},Ts=function(e){or(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,t=n.normalizeScrollX,r=n.momentum,o=n.allowNestedScroll,l=n.onRelease,c,w,A=pt(e.target)||mt,k=$.core.globals().ScrollSmoother,T=k&&k.get(),_=Vt&&(e.content&&pt(e.content)||T&&e.content!==!1&&!T.smooth()&&T.content()),y=Qt(A,He),R=Qt(A,ct),M=1,m=(Oe.isTouch&&ge.visualViewport?ge.visualViewport.scale*ge.visualViewport.width:ge.outerWidth)/ge.innerWidth,F=0,Q=tt(r)?function(){return r(c)}:function(){return r||2.8},U,P,W=Si(A,e.type,!0,o),j=function(){return P=!1},N=Dt,G=Dt,X=function(){w=Ot(A,He),G=Wr(Vt?1:0,w),t&&(N=Wr(0,Ot(A,ct))),U=cr},D=function(){_._gsap.y=zr(parseFloat(_._gsap.y)+y.offset)+"px",_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(_._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},ee=function(){if(P){requestAnimationFrame(j);var C=zr(c.deltaY/2),te=G(y.v-C);if(_&&te!==y.v+y.offset){y.offset=te-y.v;var h=zr((parseFloat(_&&_._gsap.y)||0)-y.offset);_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+h+", 0, 1)",_._gsap.y=h+"px",y.cacheID=me.cache,Gt()}return!0}y.offset&&D(),P=!0},E,J,K,ne,V=function(){X(),E.isActive()&&E.vars.scrollY>w&&(y()>w?E.progress(1)&&y(w):E.resetTo("scrollY",w))};return _&&$.set(_,{y:"+=0"}),e.ignoreCheck=function(z){return Vt&&z.type==="touchmove"&&ee()||M>1.05&&z.type!=="touchstart"||c.isGesturing||z.touches&&z.touches.length>1},e.onPress=function(){P=!1;var z=M;M=zr((ge.visualViewport&&ge.visualViewport.scale||1)/m),E.pause(),z!==M&&jn(A,M>1.01?!0:t?!1:"x"),J=R(),K=y(),X(),U=cr},e.onRelease=e.onGestureStart=function(z,C){if(y.offset&&D(),!C)ne.restart(!0);else{me.cache++;var te=Q(),h,he;t&&(h=R(),he=h+te*.05*-z.velocityX/.227,te*=zo(R,h,he,Ot(A,ct)),E.vars.scrollX=N(he)),h=y(),he=h+te*.05*-z.velocityY/.227,te*=zo(y,h,he,Ot(A,He)),E.vars.scrollY=G(he),E.invalidate().duration(te).play(.01),(Vt&&E.vars.scrollY>=w||h>=w-1)&&$.to({},{onUpdate:V,duration:te})}l&&l(z)},e.onWheel=function(){E._ts&&E.pause(),et()-F>1e3&&(U=0,F=et())},e.onChange=function(z,C,te,h,he){if(cr!==U&&X(),C&&t&&R(N(h[2]===C?J+(z.startX-z.x):R()+C-h[1])),te){y.offset&&D();var ye=he[2]===te,rt=ye?K+z.startY-z.y:y()+te-he[1],g=G(rt);ye&&rt!==g&&(K+=g-rt),y(g)}(te||C)&&Gt()},e.onEnable=function(){jn(A,t?!1:"x"),ue.addEventListener("refresh",V),We(ge,"resize",V),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=R.smooth=!1),W.enable()},e.onDisable=function(){jn(A,!0),Ge(ge,"resize",V),ue.removeEventListener("refresh",V),W.kill()},e.lockAxis=e.lockAxis!==!1,c=new Oe(e),c.iOS=Vt,Vt&&!y()&&y(1),Vt&&$.ticker.add(Dt),ne=c._dc,E=$.to(c,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:vi(y,y(),function(){return E.pause()})},onUpdate:Gt,onComplete:ne.vars.onComplete}),c};ue.sort=function(f){if(tt(f))return pe.sort(f);var e=ge.pageYOffset||0;return ue.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+ge.innerHeight}),pe.sort(f||function(n,t){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};ue.observe=function(f){return new Oe(f)};ue.normalizeScroll=function(f){if(typeof f>"u")return st;if(f===!0&&st)return st.enable();if(f===!1){st&&st.kill(),st=f;return}var e=f instanceof Oe?f:Ts(f);return st&&st.target===e.target&&st.kill(),fr(e.target)&&(st=e),e};ue.core={_getVelocityProp:Kn,_inputObserver:Si,_scrollers:me,_proxies:Nt,bridge:{ss:function(){_t||hr("scrollStart"),_t=et()},ref:function(){return Ke}}};pi()&&$.registerPlugin(ue);var Zr=function(){var f=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(k){k.preventDefault(),t(++f%e.children.length)},!1);function n(k){return e.appendChild(k.dom),k}function t(k){for(var T=0;T<e.children.length;T++)e.children[T].style.display=T===k?"block":"none";f=k}var r=(performance||Date).now(),o=r,l=0,c=n(new Zr.Panel("FPS","#0ff","#002")),w=n(new Zr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var A=n(new Zr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:n,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){l++;var k=(performance||Date).now();if(w.update(k-r,200),k>=o+1e3&&(c.update(l*1e3/(k-o),100),o=k,l=0,A)){var T=performance.memory;A.update(T.usedJSHeapSize/1048576,T.jsHeapSizeLimit/1048576)}return k},update:function(){r=this.end()},domElement:e,setMode:t}};Zr.Panel=function(f,e,n){var t=1/0,r=0,o=Math.round,l=o(window.devicePixelRatio||1),c=80*l,w=48*l,A=3*l,k=2*l,T=3*l,_=15*l,y=74*l,R=30*l,M=document.createElement("canvas");M.width=c,M.height=w,M.style.cssText="width:80px;height:48px";var m=M.getContext("2d");return m.font="bold "+9*l+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,c,w),m.fillStyle=e,m.fillText(f,A,k),m.fillRect(T,_,y,R),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(T,_,y,R),{dom:M,update:function(F,Q){t=Math.min(t,F),r=Math.max(r,F),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,c,_),m.fillStyle=e,m.fillText(o(F)+" "+f+" ("+o(t)+"-"+o(r)+")",A,k),m.drawImage(M,T+l,_,y-l,R,T,_,y-l,R),m.fillRect(T+y-l,_,l,R),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(T+y-l,_,l,o((1-F/Q)*R))}}};class Cs extends Li{constructor(e,n={}){const t=n.font;if(t===void 0)super();else{const r=t.generateShapes(e,n.size);n.depth===void 0&&(n.depth=50),n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n)}this.type="TextGeometry"}}const Ps=Ui;class Rn extends Vo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,n,t,r){const o=this,l=new Xo(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{n(o.parse(c))}catch(w){r?r(w):console.error(w),o.manager.itemError(e)}},t,r)}parse(e){const n=this;function t(g,p){if(g.nodeType!==1)return;const s=P(g);let i=!1,v=null;switch(g.nodeName){case"svg":p=R(g,p);break;case"style":o(g);break;case"g":p=R(g,p);break;case"path":p=R(g,p),g.hasAttribute("d")&&(v=r(g));break;case"rect":p=R(g,p),v=w(g);break;case"polygon":p=R(g,p),v=A(g);break;case"polyline":p=R(g,p),v=k(g);break;case"circle":p=R(g,p),v=T(g);break;case"ellipse":p=R(g,p),v=_(g);break;case"line":p=R(g,p),v=y(g);break;case"defs":i=!0;break;case"use":p=R(g,p);const O=(g.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),L=g.viewportElement.getElementById(O);L?t(L,p):console.warn("SVGLoader: 'use node' references non-existent node id: "+O);break}v&&(p.fill!==void 0&&p.fill!=="none"&&v.color.setStyle(p.fill,Ps),j(v,he),E.push(v),v.userData={node:g,style:p});const B=g.childNodes;for(let x=0;x<B.length;x++){const O=B[x];i&&O.nodeName!=="style"&&O.nodeName!=="defs"||t(O,p)}s&&(K.pop(),K.length>0?he.copy(K[K.length-1]):he.identity())}function r(g){const p=new jt,s=new fe,i=new fe,v=new fe;let B=!0,x=!1;const O=g.getAttribute("d");if(O===""||O==="none")return null;const L=O.match(/[a-df-z][^a-df-z]*/ig);for(let S=0,b=L.length;S<b;S++){const I=L[S],H=I.charAt(0),u=I.slice(1).trim();B===!0&&(x=!0,B=!1);let d;switch(H){case"M":d=m(u);for(let a=0,Y=d.length;a<Y;a+=2)s.x=d[a+0],s.y=d[a+1],i.x=s.x,i.y=s.y,a===0?p.moveTo(s.x,s.y):p.lineTo(s.x,s.y),a===0&&v.copy(s);break;case"H":d=m(u);for(let a=0,Y=d.length;a<Y;a++)s.x=d[a],i.x=s.x,i.y=s.y,p.lineTo(s.x,s.y),a===0&&x===!0&&v.copy(s);break;case"V":d=m(u);for(let a=0,Y=d.length;a<Y;a++)s.y=d[a],i.x=s.x,i.y=s.y,p.lineTo(s.x,s.y),a===0&&x===!0&&v.copy(s);break;case"L":d=m(u);for(let a=0,Y=d.length;a<Y;a+=2)s.x=d[a+0],s.y=d[a+1],i.x=s.x,i.y=s.y,p.lineTo(s.x,s.y),a===0&&x===!0&&v.copy(s);break;case"C":d=m(u);for(let a=0,Y=d.length;a<Y;a+=6)p.bezierCurveTo(d[a+0],d[a+1],d[a+2],d[a+3],d[a+4],d[a+5]),i.x=d[a+2],i.y=d[a+3],s.x=d[a+4],s.y=d[a+5],a===0&&x===!0&&v.copy(s);break;case"S":d=m(u);for(let a=0,Y=d.length;a<Y;a+=4)p.bezierCurveTo(M(s.x,i.x),M(s.y,i.y),d[a+0],d[a+1],d[a+2],d[a+3]),i.x=d[a+0],i.y=d[a+1],s.x=d[a+2],s.y=d[a+3],a===0&&x===!0&&v.copy(s);break;case"Q":d=m(u);for(let a=0,Y=d.length;a<Y;a+=4)p.quadraticCurveTo(d[a+0],d[a+1],d[a+2],d[a+3]),i.x=d[a+0],i.y=d[a+1],s.x=d[a+2],s.y=d[a+3],a===0&&x===!0&&v.copy(s);break;case"T":d=m(u);for(let a=0,Y=d.length;a<Y;a+=2){const q=M(s.x,i.x),de=M(s.y,i.y);p.quadraticCurveTo(q,de,d[a+0],d[a+1]),i.x=q,i.y=de,s.x=d[a+0],s.y=d[a+1],a===0&&x===!0&&v.copy(s)}break;case"A":d=m(u,[3,4],7);for(let a=0,Y=d.length;a<Y;a+=7){if(d[a+5]==s.x&&d[a+6]==s.y)continue;const q=s.clone();s.x=d[a+5],s.y=d[a+6],i.x=s.x,i.y=s.y,l(p,d[a],d[a+1],d[a+2],d[a+3],d[a+4],q,s),a===0&&x===!0&&v.copy(s)}break;case"m":d=m(u);for(let a=0,Y=d.length;a<Y;a+=2)s.x+=d[a+0],s.y+=d[a+1],i.x=s.x,i.y=s.y,a===0?p.moveTo(s.x,s.y):p.lineTo(s.x,s.y),a===0&&v.copy(s);break;case"h":d=m(u);for(let a=0,Y=d.length;a<Y;a++)s.x+=d[a],i.x=s.x,i.y=s.y,p.lineTo(s.x,s.y),a===0&&x===!0&&v.copy(s);break;case"v":d=m(u);for(let a=0,Y=d.length;a<Y;a++)s.y+=d[a],i.x=s.x,i.y=s.y,p.lineTo(s.x,s.y),a===0&&x===!0&&v.copy(s);break;case"l":d=m(u);for(let a=0,Y=d.length;a<Y;a+=2)s.x+=d[a+0],s.y+=d[a+1],i.x=s.x,i.y=s.y,p.lineTo(s.x,s.y),a===0&&x===!0&&v.copy(s);break;case"c":d=m(u);for(let a=0,Y=d.length;a<Y;a+=6)p.bezierCurveTo(s.x+d[a+0],s.y+d[a+1],s.x+d[a+2],s.y+d[a+3],s.x+d[a+4],s.y+d[a+5]),i.x=s.x+d[a+2],i.y=s.y+d[a+3],s.x+=d[a+4],s.y+=d[a+5],a===0&&x===!0&&v.copy(s);break;case"s":d=m(u);for(let a=0,Y=d.length;a<Y;a+=4)p.bezierCurveTo(M(s.x,i.x),M(s.y,i.y),s.x+d[a+0],s.y+d[a+1],s.x+d[a+2],s.y+d[a+3]),i.x=s.x+d[a+0],i.y=s.y+d[a+1],s.x+=d[a+2],s.y+=d[a+3],a===0&&x===!0&&v.copy(s);break;case"q":d=m(u);for(let a=0,Y=d.length;a<Y;a+=4)p.quadraticCurveTo(s.x+d[a+0],s.y+d[a+1],s.x+d[a+2],s.y+d[a+3]),i.x=s.x+d[a+0],i.y=s.y+d[a+1],s.x+=d[a+2],s.y+=d[a+3],a===0&&x===!0&&v.copy(s);break;case"t":d=m(u);for(let a=0,Y=d.length;a<Y;a+=2){const q=M(s.x,i.x),de=M(s.y,i.y);p.quadraticCurveTo(q,de,s.x+d[a+0],s.y+d[a+1]),i.x=q,i.y=de,s.x=s.x+d[a+0],s.y=s.y+d[a+1],a===0&&x===!0&&v.copy(s)}break;case"a":d=m(u,[3,4],7);for(let a=0,Y=d.length;a<Y;a+=7){if(d[a+5]==0&&d[a+6]==0)continue;const q=s.clone();s.x+=d[a+5],s.y+=d[a+6],i.x=s.x,i.y=s.y,l(p,d[a],d[a+1],d[a+2],d[a+3],d[a+4],q,s),a===0&&x===!0&&v.copy(s)}break;case"Z":case"z":p.currentPath.autoClose=!0,p.currentPath.curves.length>0&&(s.copy(v),p.currentPath.currentPoint.copy(s),B=!0);break;default:console.warn(I)}x=!1}return p}function o(g){if(!(!g.sheet||!g.sheet.cssRules||!g.sheet.cssRules.length))for(let p=0;p<g.sheet.cssRules.length;p++){const s=g.sheet.cssRules[p];if(s.type!==1)continue;const i=s.selectorText.split(/,/gm).filter(Boolean).map(v=>v.trim());for(let v=0;v<i.length;v++){const B=Object.fromEntries(Object.entries(s.style).filter(([,x])=>x!==""));J[i[v]]=Object.assign(J[i[v]]||{},B)}}}function l(g,p,s,i,v,B,x,O){if(p==0||s==0){g.lineTo(O.x,O.y);return}i=i*Math.PI/180,p=Math.abs(p),s=Math.abs(s);const L=(x.x-O.x)/2,S=(x.y-O.y)/2,b=Math.cos(i)*L+Math.sin(i)*S,I=-Math.sin(i)*L+Math.cos(i)*S;let H=p*p,u=s*s;const d=b*b,a=I*I,Y=d/H+a/u;if(Y>1){const qe=Math.sqrt(Y);p=qe*p,s=qe*s,H=p*p,u=s*s}const q=H*a+u*d,de=(H*u-q)/q;let Te=Math.sqrt(Math.max(0,de));v===B&&(Te=-Te);const be=Te*p*I/s,oe=-Te*s*b/p,ze=Math.cos(i)*be-Math.sin(i)*oe+(x.x+O.x)/2,Ce=Math.sin(i)*be+Math.cos(i)*oe+(x.y+O.y)/2,ve=c(1,0,(b-be)/p,(I-oe)/s),Re=c((b-be)/p,(I-oe)/s,(-b-be)/p,(-I-oe)/s)%(Math.PI*2);g.currentPath.absellipse(ze,Ce,p,s,ve,ve+Re,B===0,i)}function c(g,p,s,i){const v=g*s+p*i,B=Math.sqrt(g*g+p*p)*Math.sqrt(s*s+i*i);let x=Math.acos(Math.max(-1,Math.min(1,v/B)));return g*i-p*s<0&&(x=-x),x}function w(g){const p=U(g.getAttribute("x")||0),s=U(g.getAttribute("y")||0),i=U(g.getAttribute("rx")||g.getAttribute("ry")||0),v=U(g.getAttribute("ry")||g.getAttribute("rx")||0),B=U(g.getAttribute("width")),x=U(g.getAttribute("height")),O=1-.551915024494,L=new jt;return L.moveTo(p+i,s),L.lineTo(p+B-i,s),(i!==0||v!==0)&&L.bezierCurveTo(p+B-i*O,s,p+B,s+v*O,p+B,s+v),L.lineTo(p+B,s+x-v),(i!==0||v!==0)&&L.bezierCurveTo(p+B,s+x-v*O,p+B-i*O,s+x,p+B-i,s+x),L.lineTo(p+i,s+x),(i!==0||v!==0)&&L.bezierCurveTo(p+i*O,s+x,p,s+x-v*O,p,s+x-v),L.lineTo(p,s+v),(i!==0||v!==0)&&L.bezierCurveTo(p,s+v*O,p+i*O,s,p+i,s),L}function A(g){function p(B,x,O){const L=U(x),S=U(O);v===0?i.moveTo(L,S):i.lineTo(L,S),v++}const s=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,i=new jt;let v=0;return g.getAttribute("points").replace(s,p),i.currentPath.autoClose=!0,i}function k(g){function p(B,x,O){const L=U(x),S=U(O);v===0?i.moveTo(L,S):i.lineTo(L,S),v++}const s=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,i=new jt;let v=0;return g.getAttribute("points").replace(s,p),i.currentPath.autoClose=!1,i}function T(g){const p=U(g.getAttribute("cx")||0),s=U(g.getAttribute("cy")||0),i=U(g.getAttribute("r")||0),v=new zn;v.absarc(p,s,i,0,Math.PI*2);const B=new jt;return B.subPaths.push(v),B}function _(g){const p=U(g.getAttribute("cx")||0),s=U(g.getAttribute("cy")||0),i=U(g.getAttribute("rx")||0),v=U(g.getAttribute("ry")||0),B=new zn;B.absellipse(p,s,i,v,0,Math.PI*2);const x=new jt;return x.subPaths.push(B),x}function y(g){const p=U(g.getAttribute("x1")||0),s=U(g.getAttribute("y1")||0),i=U(g.getAttribute("x2")||0),v=U(g.getAttribute("y2")||0),B=new jt;return B.moveTo(p,s),B.lineTo(i,v),B.currentPath.autoClose=!1,B}function R(g,p){p=Object.assign({},p);let s={};if(g.hasAttribute("class")){const x=g.getAttribute("class").split(/\s/).filter(Boolean).map(O=>O.trim());for(let O=0;O<x.length;O++)s=Object.assign(s,J["."+x[O]])}g.hasAttribute("id")&&(s=Object.assign(s,J["#"+g.getAttribute("id")]));function i(x,O,L){L===void 0&&(L=function(b){return b.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),b}),g.hasAttribute(x)&&(p[O]=L(g.getAttribute(x))),s[x]&&(p[O]=L(s[x])),g.style&&g.style[x]!==""&&(p[O]=L(g.style[x]))}function v(x){return Math.max(0,Math.min(1,U(x)))}function B(x){return Math.max(0,U(x))}return i("fill","fill"),i("fill-opacity","fillOpacity",v),i("fill-rule","fillRule"),i("opacity","opacity",v),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",v),i("stroke-width","strokeWidth",B),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",B),i("visibility","visibility"),p}function M(g,p){return g-(p-g)}function m(g,p,s){if(typeof g!="string")throw new TypeError("Invalid input: "+typeof g);const i={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},v=0,B=1,x=2,O=3;let L=v,S=!0,b="",I="";const H=[];function u(q,de,Te){const be=new SyntaxError('Unexpected character "'+q+'" at index '+de+".");throw be.partial=Te,be}function d(){b!==""&&(I===""?H.push(Number(b)):H.push(Number(b)*Math.pow(10,Number(I)))),b="",I=""}let a;const Y=g.length;for(let q=0;q<Y;q++){if(a=g[q],Array.isArray(p)&&p.includes(H.length%s)&&i.FLAGS.test(a)){L=B,b=a,d();continue}if(L===v){if(i.WHITESPACE.test(a))continue;if(i.DIGIT.test(a)||i.SIGN.test(a)){L=B,b=a;continue}if(i.POINT.test(a)){L=x,b=a;continue}i.COMMA.test(a)&&(S&&u(a,q,H),S=!0)}if(L===B){if(i.DIGIT.test(a)){b+=a;continue}if(i.POINT.test(a)){b+=a,L=x;continue}if(i.EXP.test(a)){L=O;continue}i.SIGN.test(a)&&b.length===1&&i.SIGN.test(b[0])&&u(a,q,H)}if(L===x){if(i.DIGIT.test(a)){b+=a;continue}if(i.EXP.test(a)){L=O;continue}i.POINT.test(a)&&b[b.length-1]==="."&&u(a,q,H)}if(L===O){if(i.DIGIT.test(a)){I+=a;continue}if(i.SIGN.test(a)){if(I===""){I+=a;continue}I.length===1&&i.SIGN.test(I)&&u(a,q,H)}}i.WHITESPACE.test(a)?(d(),L=v,S=!1):i.COMMA.test(a)?(d(),L=v,S=!0):i.SIGN.test(a)?(d(),L=B,b=a):i.POINT.test(a)?(d(),L=x,b=a):u(a,q,H)}return d(),H}const F=["mm","cm","in","pt","pc","px"],Q={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function U(g){let p="px";if(typeof g=="string"||g instanceof String)for(let i=0,v=F.length;i<v;i++){const B=F[i];if(g.endsWith(B)){p=B,g=g.substring(0,g.length-B.length);break}}let s;return p==="px"&&n.defaultUnit!=="px"?s=Q.in[n.defaultUnit]/n.defaultDPI:(s=Q[p][n.defaultUnit],s<0&&(s=Q[p].in*n.defaultDPI)),s*parseFloat(g)}function P(g){if(!(g.hasAttribute("transform")||g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))))return null;const p=W(g);return K.length>0&&p.premultiply(K[K.length-1]),he.copy(p),K.push(p),p}function W(g){const p=new gr,s=ne;if(g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))){const i=U(g.getAttribute("x")),v=U(g.getAttribute("y"));p.translate(i,v)}if(g.hasAttribute("transform")){const i=g.getAttribute("transform").split(")");for(let v=i.length-1;v>=0;v--){const B=i[v].trim();if(B==="")continue;const x=B.indexOf("("),O=B.length;if(x>0&&x<O){const L=B.slice(0,x),S=m(B.slice(x+1));switch(s.identity(),L){case"translate":if(S.length>=1){const b=S[0];let I=0;S.length>=2&&(I=S[1]),s.translate(b,I)}break;case"rotate":if(S.length>=1){let b=0,I=0,H=0;b=S[0]*Math.PI/180,S.length>=3&&(I=S[1],H=S[2]),V.makeTranslation(-I,-H),z.makeRotation(b),C.multiplyMatrices(z,V),V.makeTranslation(I,H),s.multiplyMatrices(V,C)}break;case"scale":if(S.length>=1){const b=S[0];let I=b;S.length>=2&&(I=S[1]),s.scale(b,I)}break;case"skewX":S.length===1&&s.set(1,Math.tan(S[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":S.length===1&&s.set(1,0,0,Math.tan(S[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":S.length===6&&s.set(S[0],S[2],S[4],S[1],S[3],S[5],0,0,1);break}}p.premultiply(s)}}return p}function j(g,p){function s(x){h.set(x.x,x.y,1).applyMatrix3(p),x.set(h.x,h.y)}function i(x){const O=x.xRadius,L=x.yRadius,S=Math.cos(x.aRotation),b=Math.sin(x.aRotation),I=new Ve(O*S,O*b,0),H=new Ve(-L*b,L*S,0),u=I.applyMatrix3(p),d=H.applyMatrix3(p),a=ne.set(u.x,d.x,0,u.y,d.y,0,0,0,1),Y=V.copy(a).invert(),Te=z.copy(Y).transpose().multiply(Y).elements,be=ee(Te[0],Te[1],Te[4]),oe=Math.sqrt(be.rt1),ze=Math.sqrt(be.rt2);if(x.xRadius=1/oe,x.yRadius=1/ze,x.aRotation=Math.atan2(be.sn,be.cs),!((x.aEndAngle-x.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const ve=V.set(oe,0,0,0,ze,0,0,0,1),Re=z.set(be.cs,be.sn,0,-be.sn,be.cs,0,0,0,1),qe=ve.multiply(Re).multiply(a),vt=Me=>{const{x:zt,y:Ee}=new Ve(Math.cos(Me),Math.sin(Me),0).applyMatrix3(qe);return Math.atan2(Ee,zt)};x.aStartAngle=vt(x.aStartAngle),x.aEndAngle=vt(x.aEndAngle),N(p)&&(x.aClockwise=!x.aClockwise)}}function v(x){const O=X(p),L=D(p);x.xRadius*=O,x.yRadius*=L;const S=O>Number.EPSILON?Math.atan2(p.elements[1],p.elements[0]):Math.atan2(-p.elements[3],p.elements[4]);x.aRotation+=S,N(p)&&(x.aStartAngle*=-1,x.aEndAngle*=-1,x.aClockwise=!x.aClockwise)}const B=g.subPaths;for(let x=0,O=B.length;x<O;x++){const S=B[x].curves;for(let b=0;b<S.length;b++){const I=S[b];I.isLineCurve?(s(I.v1),s(I.v2)):I.isCubicBezierCurve?(s(I.v0),s(I.v1),s(I.v2),s(I.v3)):I.isQuadraticBezierCurve?(s(I.v0),s(I.v1),s(I.v2)):I.isEllipseCurve&&(te.set(I.aX,I.aY),s(te),I.aX=te.x,I.aY=te.y,G(p)?i(I):v(I))}}}function N(g){const p=g.elements;return p[0]*p[4]-p[1]*p[3]<0}function G(g){const p=g.elements,s=p[0]*p[3]+p[1]*p[4];if(s===0)return!1;const i=X(g),v=D(g);return Math.abs(s/(i*v))>Number.EPSILON}function X(g){const p=g.elements;return Math.sqrt(p[0]*p[0]+p[1]*p[1])}function D(g){const p=g.elements;return Math.sqrt(p[3]*p[3]+p[4]*p[4])}function ee(g,p,s){let i,v,B,x,O;const L=g+s,S=g-s,b=Math.sqrt(S*S+4*p*p);return L>0?(i=.5*(L+b),O=1/i,v=g*O*s-p*O*p):L<0?v=.5*(L-b):(i=.5*b,v=-.5*b),S>0?B=S+b:B=S-b,Math.abs(B)>2*Math.abs(p)?(O=-2*p/B,x=1/Math.sqrt(1+O*O),B=O*x):Math.abs(p)===0?(B=1,x=0):(O=-.5*B/p,B=1/Math.sqrt(1+O*O),x=O*B),S>0&&(O=B,B=-x,x=O),{rt1:i,rt2:v,cs:B,sn:x}}const E=[],J={},K=[],ne=new gr,V=new gr,z=new gr,C=new gr,te=new fe,h=new Ve,he=new gr,ye=new DOMParser().parseFromString(e,"image/svg+xml");return t(ye.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:E,xml:ye.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},r={loc:t.ORIGIN,t:0};function o(M,m,F,Q){const U=M.x,P=m.x,W=F.x,j=Q.x,N=M.y,G=m.y,X=F.y,D=Q.y,ee=(j-W)*(N-X)-(D-X)*(U-W),E=(P-U)*(N-X)-(G-N)*(U-W),J=(D-X)*(P-U)-(j-W)*(G-N),K=ee/J,ne=E/J;if(J===0&&ee!==0||K<=0||K>=1||ne<0||ne>1)return null;if(ee===0&&J===0){for(let V=0;V<2;V++)if(l(V===0?F:Q,M,m),r.loc==t.ORIGIN){const z=V===0?F:Q;return{x:z.x,y:z.y,t:r.t}}else if(r.loc==t.BETWEEN){const z=+(U+r.t*(P-U)).toPrecision(10),C=+(N+r.t*(G-N)).toPrecision(10);return{x:z,y:C,t:r.t}}return null}else{for(let C=0;C<2;C++)if(l(C===0?F:Q,M,m),r.loc==t.ORIGIN){const te=C===0?F:Q;return{x:te.x,y:te.y,t:r.t}}const V=+(U+K*(P-U)).toPrecision(10),z=+(N+K*(G-N)).toPrecision(10);return{x:V,y:z,t:K}}}function l(M,m,F){const Q=F.x-m.x,U=F.y-m.y,P=M.x-m.x,W=M.y-m.y,j=Q*W-P*U;if(M.x===m.x&&M.y===m.y){r.loc=t.ORIGIN,r.t=0;return}if(M.x===F.x&&M.y===F.y){r.loc=t.DESTINATION,r.t=1;return}if(j<-Number.EPSILON){r.loc=t.LEFT;return}if(j>Number.EPSILON){r.loc=t.RIGHT;return}if(Q*P<0||U*W<0){r.loc=t.BEHIND;return}if(Math.sqrt(Q*Q+U*U)<Math.sqrt(P*P+W*W)){r.loc=t.BEYOND;return}let N;Q!==0?N=P/Q:N=W/U,r.loc=t.BETWEEN,r.t=N}function c(M,m){const F=[],Q=[];for(let U=1;U<M.length;U++){const P=M[U-1],W=M[U];for(let j=1;j<m.length;j++){const N=m[j-1],G=m[j],X=o(P,W,N,G);X!==null&&F.find(D=>D.t<=X.t+Number.EPSILON&&D.t>=X.t-Number.EPSILON)===void 0&&(F.push(X),Q.push(new fe(X.x,X.y)))}}return Q}function w(M,m,F){const Q=new fe;m.getCenter(Q);const U=[];return F.forEach(P=>{P.boundingBox.containsPoint(Q)&&c(M,P.points).forEach(j=>{U.push({identifier:P.identifier,isCW:P.isCW,point:j})})}),U.sort((P,W)=>P.point.x-W.point.x),U}function A(M,m,F,Q,U){(U==null||U==="")&&(U="nonzero");const P=new fe;M.boundingBox.getCenter(P);const W=[new fe(F,P.y),new fe(Q,P.y)],j=w(W,M.boundingBox,m);j.sort((E,J)=>E.point.x-J.point.x);const N=[],G=[];j.forEach(E=>{E.identifier===M.identifier?N.push(E):G.push(E)});const X=N[0].point.x,D=[];let ee=0;for(;ee<G.length&&G[ee].point.x<X;)D.length>0&&D[D.length-1]===G[ee].identifier?D.pop():D.push(G[ee].identifier),ee++;if(D.push(M.identifier),U==="evenodd"){const E=D.length%2===0,J=D[D.length-2];return{identifier:M.identifier,isHole:E,for:J}}else if(U==="nonzero"){let E=!0,J=null,K=null;for(let ne=0;ne<D.length;ne++){const V=D[ne];E?(K=m[V].isCW,E=!1,J=V):K!==m[V].isCW&&(K=m[V].isCW,E=!0)}return{identifier:M.identifier,isHole:E,for:J}}else console.warn('fill-rule: "'+U+'" is currently not implemented.')}let k=999999999,T=-999999999,_=e.subPaths.map(M=>{const m=M.getPoints();let F=-999999999,Q=999999999,U=-999999999,P=999999999;for(let W=0;W<m.length;W++){const j=m[W];j.y>F&&(F=j.y),j.y<Q&&(Q=j.y),j.x>U&&(U=j.x),j.x<P&&(P=j.x)}return T<=U&&(T=U+1),k>=P&&(k=P-1),{curves:M.curves,points:m,isCW:Fi.isClockWise(m),identifier:-1,boundingBox:new Bi(new fe(P,Q),new fe(U,F))}});_=_.filter(M=>M.points.length>1);for(let M=0;M<_.length;M++)_[M].identifier=M;const y=_.map(M=>A(M,_,k,T,e.userData?e.userData.style.fillRule:void 0)),R=[];return _.forEach(M=>{if(!y[M.identifier].isHole){const F=new Hi;F.curves=M.curves,y.filter(U=>U.isHole&&U.for===M.identifier).forEach(U=>{const P=_[U.identifier],W=new zn;W.curves=P.curves,F.holes.push(W)}),R.push(F)}}),R}static getStrokeStyle(e,n,t,r,o){return e=e!==void 0?e:1,n=n!==void 0?n:"#000",t=t!==void 0?t:"miter",r=r!==void 0?r:"butt",o=o!==void 0?o:4,{strokeColor:n,strokeWidth:e,strokeLineJoin:t,strokeLineCap:r,strokeMiterLimit:o}}static pointsToStroke(e,n,t,r){const o=[],l=[],c=[];if(Rn.pointsToStrokeWithBuffers(e,n,t,r,o,l,c)===0)return null;const w=new so;return w.setAttribute("position",new Fr(o,3)),w.setAttribute("normal",new Fr(l,3)),w.setAttribute("uv",new Fr(c,2)),w}static pointsToStrokeWithBuffers(e,n,t,r,o,l,c,w){const A=new fe,k=new fe,T=new fe,_=new fe,y=new fe,R=new fe,M=new fe,m=new fe,F=new fe,Q=new fe,U=new fe,P=new fe,W=new fe,j=new fe,N=new fe,G=new fe,X=new fe;t=t!==void 0?t:12,r=r!==void 0?r:.001,w=w!==void 0?w:0,e=S(e);const D=e.length;if(D<2)return 0;const ee=e[0].equals(e[D-1]);let E,J=e[0],K;const ne=n.strokeWidth/2,V=1/(D-1);let z=0,C,te,h,he,ye=!1,rt=0,g=w*3,p=w*2;s(e[0],e[1],A).multiplyScalar(ne),m.copy(e[0]).sub(A),F.copy(e[0]).add(A),Q.copy(m),U.copy(F);for(let b=1;b<D;b++){E=e[b],b===D-1?ee?K=e[1]:K=void 0:K=e[b+1];const I=A;if(s(J,E,I),T.copy(I).multiplyScalar(ne),P.copy(E).sub(T),W.copy(E).add(T),C=z+V,te=!1,K!==void 0){s(E,K,k),T.copy(k).multiplyScalar(ne),j.copy(E).sub(T),N.copy(E).add(T),h=!0,T.subVectors(K,J),I.dot(T)<0&&(h=!1),b===1&&(ye=h),T.subVectors(K,E),T.normalize();const H=Math.abs(I.dot(T));if(H>Number.EPSILON){const u=ne/H;T.multiplyScalar(-u),_.subVectors(E,J),y.copy(_).setLength(u).add(T),G.copy(y).negate();const d=y.length(),a=_.length();_.divideScalar(a),R.subVectors(K,E);const Y=R.length();switch(R.divideScalar(Y),_.dot(G)<a&&R.dot(G)<Y&&(te=!0),X.copy(y).add(E),G.add(E),he=!1,te?h?(N.copy(G),W.copy(G)):(j.copy(G),P.copy(G)):B(),n.strokeLineJoin){case"bevel":x(h,te,C);break;case"round":O(h,te),h?v(E,P,j,C,0):v(E,N,W,C,1);break;case"miter":case"miter-clip":default:const q=ne*n.strokeMiterLimit/d;if(q<1)if(n.strokeLineJoin!=="miter-clip"){x(h,te,C);break}else O(h,te),h?(R.subVectors(X,P).multiplyScalar(q).add(P),M.subVectors(X,j).multiplyScalar(q).add(j),i(P,C,0),i(R,C,0),i(E,C,.5),i(E,C,.5),i(R,C,0),i(M,C,0),i(E,C,.5),i(M,C,0),i(j,C,0)):(R.subVectors(X,W).multiplyScalar(q).add(W),M.subVectors(X,N).multiplyScalar(q).add(N),i(W,C,1),i(R,C,1),i(E,C,.5),i(E,C,.5),i(R,C,1),i(M,C,1),i(E,C,.5),i(M,C,1),i(N,C,1));else te?(h?(i(F,z,1),i(m,z,0),i(X,C,0),i(F,z,1),i(X,C,0),i(G,C,1)):(i(F,z,1),i(m,z,0),i(X,C,1),i(m,z,0),i(G,C,0),i(X,C,1)),h?j.copy(X):N.copy(X)):h?(i(P,C,0),i(X,C,0),i(E,C,.5),i(E,C,.5),i(X,C,0),i(j,C,0)):(i(W,C,1),i(X,C,1),i(E,C,.5),i(E,C,.5),i(X,C,1),i(N,C,1)),he=!0;break}}else B()}else B();!ee&&b===D-1&&L(e[0],Q,U,h,!0,z),z=C,J=E,m.copy(j),F.copy(N)}if(!ee)L(E,P,W,h,!1,C);else if(te&&o){let b=X,I=G;ye!==h&&(b=G,I=X),h?(he||ye)&&(I.toArray(o,0*3),I.toArray(o,3*3),he&&b.toArray(o,1*3)):(he||!ye)&&(I.toArray(o,1*3),I.toArray(o,3*3),he&&b.toArray(o,0*3))}return rt;function s(b,I,H){return H.subVectors(I,b),H.set(-H.y,H.x).normalize()}function i(b,I,H){o&&(o[g]=b.x,o[g+1]=b.y,o[g+2]=0,l&&(l[g]=0,l[g+1]=0,l[g+2]=1),g+=3,c&&(c[p]=I,c[p+1]=H,p+=2)),rt+=3}function v(b,I,H,u,d){A.copy(I).sub(b).normalize(),k.copy(H).sub(b).normalize();let a=Math.PI;const Y=A.dot(k);Math.abs(Y)<1&&(a=Math.abs(Math.acos(Y))),a/=t,T.copy(I);for(let q=0,de=t-1;q<de;q++)_.copy(T).rotateAround(b,a),i(T,u,d),i(_,u,d),i(b,u,.5),T.copy(_);i(_,u,d),i(H,u,d),i(b,u,.5)}function B(){i(F,z,1),i(m,z,0),i(P,C,0),i(F,z,1),i(P,C,0),i(W,C,1)}function x(b,I,H){I?b?(i(F,z,1),i(m,z,0),i(P,C,0),i(F,z,1),i(P,C,0),i(G,C,1),i(P,H,0),i(j,H,0),i(G,H,.5)):(i(F,z,1),i(m,z,0),i(W,C,1),i(m,z,0),i(G,C,0),i(W,C,1),i(W,H,1),i(G,H,0),i(N,H,1)):b?(i(P,H,0),i(j,H,0),i(E,H,.5)):(i(W,H,1),i(N,H,0),i(E,H,.5))}function O(b,I){I&&(b?(i(F,z,1),i(m,z,0),i(P,C,0),i(F,z,1),i(P,C,0),i(G,C,1),i(P,z,0),i(E,C,.5),i(G,C,1),i(E,C,.5),i(j,z,0),i(G,C,1)):(i(F,z,1),i(m,z,0),i(W,C,1),i(m,z,0),i(G,C,0),i(W,C,1),i(W,z,1),i(G,C,0),i(E,C,.5),i(E,C,.5),i(G,C,0),i(N,z,1)))}function L(b,I,H,u,d,a){switch(n.strokeLineCap){case"round":d?v(b,H,I,a,.5):v(b,I,H,a,.5);break;case"square":if(d)A.subVectors(I,b),k.set(A.y,-A.x),T.addVectors(A,k).add(b),_.subVectors(k,A).add(b),u?(T.toArray(o,1*3),_.toArray(o,0*3),_.toArray(o,3*3)):(T.toArray(o,1*3),c[3*2+1]===1?_.toArray(o,3*3):T.toArray(o,3*3),_.toArray(o,0*3));else{A.subVectors(H,b),k.set(A.y,-A.x),T.addVectors(A,k).add(b),_.subVectors(k,A).add(b);const Y=o.length;u?(T.toArray(o,Y-1*3),_.toArray(o,Y-2*3),_.toArray(o,Y-4*3)):(_.toArray(o,Y-2*3),T.toArray(o,Y-1*3),_.toArray(o,Y-4*3))}break}}function S(b){let I=!1;for(let u=1,d=b.length-1;u<d;u++)if(b[u].distanceTo(b[u+1])<r){I=!0;break}if(!I)return b;const H=[];H.push(b[0]);for(let u=1,d=b.length-1;u<d;u++)b[u].distanceTo(b[u+1])>=r&&H.push(b[u]);return H.push(b[b.length-1]),H}}}function Ms(f,e,n,t){const{CUBE_SIZE:r,FIRST_CUBE_Z:o}=t,l=8,c=24,w=.075,A=200;let k,T=[],_=[],y=[],R=[];const M=(P,W,j,N)=>{const G=new Cn(P,P,P),X=new xn(G),D=[new It({color:16711680,transparent:!0,opacity:N.opacity,blending:rr}),new It({color:65280,transparent:!0,opacity:N.opacity,blending:rr}),new It({color:255,transparent:!0,opacity:N.opacity,blending:rr}),new It({color:65535,transparent:!0,opacity:N.opacity,blending:rr}),new It({color:16711935,transparent:!0,opacity:N.opacity,blending:rr}),new It({color:16776960,transparent:!0,opacity:N.opacity,blending:rr})],ee=new Ft,E=X.getAttribute("position").array,J=[];for(let V=0;V<E.length/3;V+=2)J.push(V,V+1);const K=Array(6).fill(null).map(()=>new so),ne=Array(6).fill(null).map(()=>[]);for(let V=0;V<J.length/2;V++){const z=V%6;ne[z].push(J[V*2],J[V*2+1])}return K.forEach((V,z)=>{V.setIndex(ne[z]),V.setAttribute("position",X.getAttribute("position"));const C=new Yt(V,D[z]);ee.add(C)}),ee.position.z=W,ee.rotation.z=j,ee};return(()=>{const j=.9/(c-1);for(let J=0;J<c;J++)_[J]=new It({transparent:!0,opacity:1-J*j});if(k=new Ft,!k){console.error("introGroup failed to initialize");return}for(let J=0;J<c;J++){const K=r-J*l,ne=M(K,0,0,_[J]),V=ne.children.map(z=>z.material);R.push(V.map(z=>({material:z,originalColor:z.color.clone()}))),k.add(ne)}k.position.z=o,e.add(k),T.push(k),y=_.map(J=>J.opacity);const N=Fe.timeline({repeat:-1});N.to(k.rotation,{x:Je.degToRad(360),duration:12,ease:"none"},0),N.to(k.rotation,{y:Je.degToRad(360),duration:10,ease:"none"},0),N.to(k.rotation,{z:Je.degToRad(360),duration:14,ease:"none"},0);let G=-1,X=0;const D=w*1e3,ee=c*D,E=J=>{const K=J%ee/D,ne=Math.floor(K)%c;G!==-1&&J-X>=D&&(R[G].forEach(C=>{C.material.opacity=y[G],C.material.color.copy(C.originalColor)}),G=-1),G===-1&&ne!==G&&(G=ne,X=J,R[G].forEach(z=>{z.material.opacity=1,z.material.color.set(1,1,1)})),requestAnimationFrame(E)};requestAnimationFrame(E)})(),n.then(P=>{if(P){const W=F(P);f.add(W)}}),{introCubes:T};function F(P){const W=new Ft,j=Q(P);j.position.set(0,-36,0),W.add(j),U(G=>{W.add(G),Fe.fromTo(j.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const X=G.children.find(D=>D instanceof ft&&D!==G.children[0]);if(X){const D=X.position.y;Fe.to(X.position,{y:D+3,duration:1,ease:"easeOut",onComplete:()=>{X.position.y=D},repeat:-1})}}),W.position.x=0,W.position.y=-240;const N=o-c*l;return W.position.z=N+A,W}function Q(P){const W=new Cs("SCROLL TO CONTINUE",{font:P,size:8,depth:0,curveSegments:12,bevelEnabled:!1});W.computeBoundingBox(),W.center();const j=new Cr({color:16777215,transparent:!0,opacity:1});return new ft(W,j)}function U(P){new Rn().load("/3D/mouse.svg",j=>{const N=j.paths;let G=null,X=null,D=new Ft;if(N.forEach((ee,E)=>{Rn.createShapes(ee).forEach(K=>{const ne=new Gi(K);ne.computeBoundingBox();const V=new Cr({color:16777215,transparent:!0,opacity:1,side:Zn}),z=new ft(ne,V);z.scale.set(.05,.05,1),E===0?G=z:E===1&&(X=z)})}),G&&X){D.add(G),D.add(X);const E=(G.geometry.boundingBox.max.x-G.geometry.boundingBox.min.x)*G.scale.x/2;D.position.x=-E,D.rotation.x=Math.PI,P(D)}})}}class Es extends Vo{constructor(e){super(e)}load(e,n,t,r){const o=this,l=new Xo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){const w=o.parse(JSON.parse(c));n&&n(w)},t,r)}parse(e){return new As(e)}}class As{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const t=[],r=ks(e,n,this.data);for(let o=0,l=r.length;o<l;o++)t.push(...r[o].toShapes());return t}}function ks(f,e,n){const t=Array.from(f),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,l=[];let c=0,w=0;for(let A=0;A<t.length;A++){const k=t[A];if(k===`
`)c=0,w-=o;else{const T=Rs(k,r,c,w,n);c+=T.offsetX,l.push(T.path)}}return l}function Rs(f,e,n,t,r){const o=r.glyphs[f]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+f+'" does not exists in font family '+r.familyName+".");return}const l=new jt;let c,w,A,k,T,_,y,R;if(o.o){const M=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let m=0,F=M.length;m<F;)switch(M[m++]){case"m":c=M[m++]*e+n,w=M[m++]*e+t,l.moveTo(c,w);break;case"l":c=M[m++]*e+n,w=M[m++]*e+t,l.lineTo(c,w);break;case"q":A=M[m++]*e+n,k=M[m++]*e+t,T=M[m++]*e+n,_=M[m++]*e+t,l.quadraticCurveTo(T,_,A,k);break;case"b":A=M[m++]*e+n,k=M[m++]*e+t,T=M[m++]*e+n,_=M[m++]*e+t,y=M[m++]*e+n,R=M[m++]*e+t,l.bezierCurveTo(T,_,y,R,A,k);break}}return{offsetX:o.ha*e,path:l}}function Fo(f,e,n,t,r,o){const{CUBE_SIZE:l,CUBE_SPACING:c,FIRST_CUBE_Z:w}=e,A=w-(n.length+1)*c,k=65535,T=16711935,_=16711680,y=Je.degToRad(15),R=1e3,M=.5,m=80,F=1,Q=15,U=.1;let P=[],W=null,j=null,N=!1,G=!1,X=new Wi,D=new fe,ee=null,E=null,J=null,K=!1,ne=null;const V=Jo(),z=(g,p,s,i,v,B)=>{const x=new Ft;x.position.z=s,x.rotation.z=i,x.userData.isActive=!1;const O=new Cn(p,p,p),L=new xn(O),S=new It({color:new xt(k),transparent:!0,opacity:0}),b=new Yt(L,S);b.geometry.computeBoundingSphere(),x.add(b);let I="right";const H=p/2;(()=>{const de=new yo(40,24),Te=new xn(de),be=new It({color:new xt(k),transparent:!0,opacity:0,visible:!0}),oe=new Yt(Te,be);oe.userData.isPortal=!0,oe.userData.isAnimating=!1,oe.geometry.computeBoundingSphere();const ze=new qn(120,120),Ce=new Cr({visible:!1,side:Zn}),ve=new ft(ze,Ce);ve.userData.isPortalHitbox=!0,ve.userData.portal=oe,ve.geometry.computeBoundingSphere();const Re=new Ft,qe=new qn(F,Q),vt=65/2;for(let Ee=0;Ee<m;Ee++){const Et=new Cr({color:new xt(T),transparent:!0,opacity:0,visible:!1,side:Zn}),nt=new ft(qe,Et),ut=Ee/m*Math.PI*2;nt.position.set(Math.cos(ut)*vt,Math.sin(ut)*vt,0),nt.rotation.z=ut+Math.PI/2,nt.userData.baseOpacity=.01,nt.userData.index=Ee,nt.geometry.computeBoundingSphere(),Re.add(nt)}const Me=2,zt=25;for(let Ee=1;Ee<zt;Ee++){const Et=new yo(40,24),nt=new xn(Et),ut=Je.lerp(1,.1,Ee/(zt-1)),Lt=new It({color:new xt(k),transparent:!0,opacity:0}),se=new Yt(nt,Lt);se.userData.isPortal=!0,se.userData.maxOpacity=ut,se.position.z=-Ee*Me,se.geometry.computeBoundingSphere(),oe.add(se)}switch(oe.userData.maxOpacity=1,I){case"left":case"right":Re.children.forEach(Ee=>Ee.position.x+=U);break;case"top":case"bottom":Re.children.forEach(Ee=>Ee.position.y+=U);break}switch(oe.add(Re),x.add(oe),x.add(ve),oe.updateMatrixWorld(!0),Re.updateMatrixWorld(!0),I){case"left":oe.position.set(-H,0,0),oe.rotation.y=Math.PI/2,ve.position.set(-H,0,0),ve.rotation.y=Math.PI/2;break;case"top":oe.position.set(0,H,0),oe.rotation.x=-Math.PI/2,ve.position.set(0,H,0),ve.rotation.x=Math.PI/2;break;case"right":oe.position.set(H,0,0),oe.rotation.y=-Math.PI/2,ve.position.set(H,0,0),ve.rotation.y=-Math.PI/2;break;case"bottom":oe.position.set(0,-H,0),oe.rotation.x=Math.PI/2,ve.position.set(0,-H,0),ve.rotation.x=Math.PI/2;break}})(),x.children.forEach(Y=>{(Y instanceof Yt||Y instanceof ft)&&Y.geometry&&!Y.geometry.boundingSphere&&Y.geometry.computeBoundingSphere()}),x.updateMatrixWorld(!0);const d=new Yi().setFromObject(x),a=new Vi;return d.getBoundingSphere(a),x.boundingSphere=a,x},C=()=>new Promise(g=>{W=new Es,W.load("/fonts/Poppins_Regular.json",p=>{j=p;const s=Array.isArray(n)?n:[];Array.isArray(n)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",n),s.forEach((i,v)=>{const B=w-(v+1)*c,x=(v+1)*y,O=z(i,l,B,x,i.keyart,i.keyartLocation);f.add(O),P.push(O)}),g()},void 0,p=>console.error("Error loading font:",p))}),te=()=>N?Promise.resolve({projectCubes:P,updateCubeColors:ye,loadedFont:j,maxZ:A}):C().then(()=>(N=!0,{projectCubes:P,updateCubeColors:ye,loadedFont:j,maxZ:A})).catch(g=>{throw console.error("Error in loadFontAndText:",g),g}),h=g=>{if(!g.userData.isAnimating)return;g.userData.isAnimating=!1;const p=g.children.find(s=>s instanceof Ft);p&&(g.userData.animationTimeline&&(g.userData.animationTimeline.kill(),delete g.userData.animationTimeline),p.children.forEach(s=>{const i=s.material;i.opacity=0}))},he=new ji,ye=g=>{he.setFromProjectionMatrix(g.projectionMatrix.clone().multiply(g.matrixWorldInverse));const p=g.position.z;let s=[];f.traverse(i=>{i instanceof ft&&i.geometry&&i.geometry.type==="TextGeometry"&&s.push(i)}),G||(G=!0),P.forEach((i,v)=>{if(!i.geometry&&!i.children.length){console.warn(`Cube ${v} has no geometry or children`,i);return}try{if(!he.intersectsObject(i))return}catch(L){console.error(`Error with cube ${v}`,i,L);return}const B=i.position.z,x=Math.abs(p-B);let O=0;x<=R&&(O=1-x/R),i.userData.isActive=O>=M,i.children.forEach(L=>{if(L instanceof Yt&&!L.userData.isPortal&&!L.userData.isPortalHitbox){const S=L.material;if(x<=R){const b=Je.lerp((k>>16&255)/255,(T>>16&255)/255,O),I=Je.lerp((k>>8&255)/255,(T>>8&255)/255,O),H=Je.lerp((k&255)/255,(T&255)/255,O);S.color.set(b,I,H),S.opacity=Math.min(1,O*2)}else S.opacity=0}else if(L instanceof Yt&&L.userData.isPortal)G&&(O>.1?L.children.forEach(S=>{S instanceof Ft&&S.children.forEach(b=>{b instanceof ft&&(b.material.visible=!0,!L.userData.animationStarted&&o.showPortalPulses)})}):O<=.1&&L.userData.animationStarted&&(L.children.forEach(S=>{S instanceof Ft&&S.children.forEach(b=>{b instanceof ft&&(b.material.visible=!1)})}),h(L),delete L.userData.animationStarted));else if(L instanceof ft&&!L.userData.isPortalHitbox){const S=L.material;if(x<=R){const b=1-x/R;S.opacity=Math.min(.8,b*2)}else S.opacity=0}})}),s.forEach(i=>{const v=i.material,B=i.userData.backgroundPlane,x=B==null?void 0:B.material,O=i.position.z,L=Math.abs(p-O+120);if(L<=R){const S=1-L/R,b=Math.min(1,S*2);v.opacity=b,x&&(x.opacity=b*.8)}else v.opacity=0,x&&(x.opacity=0)})};return{getInitializedData:te,updateCubeColors:ye,setupInteractivity:(g,p,s)=>{ne=s;let i=null,v=null;const B=(S,b=!0)=>{const I=[S,...S.children.filter(u=>u instanceof Yt&&u.userData.isPortal)],H=b?25:2;I.forEach((u,d)=>{let a=-d*H;(S.position.y>0&&S.rotation.x===-Math.PI/2||S.position.y<0&&S.rotation.x===Math.PI/2)&&(a=d*H);const Y=b?u.userData.maxOpacity:0;Fe.to(u.position,{z:a,duration:1,ease:"power3.out",delay:.5}),Fe.to(u.material,{opacity:Y,duration:1,ease:"power3.out",delay:.5})})},x=S=>{D.x=S.clientX/window.innerWidth*2-1,D.y=-(S.clientY/window.innerHeight)*2+1,X.setFromCamera(D,g);const b=P.flatMap(H=>H.userData.isActive?H.children.filter(u=>u instanceof ft&&u.userData.isPortalHitbox):[]),I=X.intersectObjects(b);if(I.length>0){const u=I[0].object.userData.portal;if(ee!==u){if(ee){const a=ee.material;Fe.to(a.color,{r:(k>>16&255)/255,g:(k>>8&255)/255,b:(k&255)/255,duration:.5})}ee=u;const d=ee.material;Fe.to(d.color,{r:(_>>16&255)/255,g:(_>>8&255)/255,b:(_&255)/255,duration:.5})}p.style.cursor="pointer"}else{if(ee){const H=ee.material;Fe.to(H.color,{r:(k>>16&255)/255,g:(k>>8&255)/255,b:(k&255)/255,duration:.5}),ee=null}p.style.cursor="auto"}},O=S=>{D.x=S.clientX/window.innerWidth*2-1,D.y=-(S.clientY/window.innerHeight)*2+1,X.setFromCamera(D,g);const b=P.flatMap(q=>q.userData.isActive?q.children.filter(de=>de instanceof ft&&de.userData.isPortalHitbox):[]),I=X.intersectObjects(b);if(I.length===0)return;const H=I[0].object,u=H.userData.portal,d=H.parent,a=P.indexOf(d),Y=n[a];if(K&&u===v){u.getWorldPosition(new Ve);let q=new Ve;const de=e.CUBE_SIZE/2;u.position.x===de?q.set(-1,0,0):u.position.x===-de?q.set(1,0,0):u.position.y===de?q.set(0,-1,0):u.position.y===-de&&q.set(0,1,0),q.applyQuaternion(d.getWorldQuaternion(new Xi)).normalize();const be=g.position.clone().clone().add(q.clone().multiplyScalar(-675)),oe=q.clone().multiplyScalar(-1e3),ze=be.clone().add(oe);Fe.to(g.position,{x:be.x,y:be.y,z:be.z,duration:1,ease:"power2.in",onUpdate:()=>g.lookAt(ze),onComplete:()=>{Y!=null&&Y.slug&&(V.setScrollPosition(window.scrollY),Pi.visit(route("project.show",{project:Y.slug}),{preserveScroll:!1}))}})}else if(!K){E||(E=g.position.clone(),J=new Ve(0,0,A)),ne&&s(!0,E,J);const q=u.getWorldPosition(new Ve);Fe.to(g.position,{x:0,y:0,z:d.getWorldPosition(new Ve).z,duration:2,ease:"power3.out"}),Fe.to({},{duration:2,ease:"power3.out",onUpdate:function(){const de=this.progress(),Te=g.getWorldDirection(new Ve).multiplyScalar(1e3).add(g.position),be=Je.lerp(Te.x,q.x,de),oe=Je.lerp(Te.y,q.y,de),ze=Je.lerp(Te.z,q.z,de);g.lookAt(be,oe,ze)},onStart:()=>{K=!0,i=window.scrollY,document.body.classList.add("no-scrollbar"),v=u,B(u,!0)}})}},L=S=>{if(!K||!v||!E||!J)return;let b=0;if(S instanceof WheelEvent?b=S.deltaY:b=window.scrollY-(i||0),S.preventDefault(),S.stopPropagation(),b>0){window.scrollTo(0,i);return}if(b<0){const I=v,H=J.clone(),u=E.z;Fe.to(g.position,{x:E.x,y:E.y,z:u,duration:1,ease:"power3.out"}),Fe.to({},{duration:1,ease:"power3.out",onUpdate:function(){const d=this.progress(),a=g.getWorldDirection(new Ve).multiplyScalar(1e3).add(g.position),Y=Je.lerp(a.x,H.x,d),q=Je.lerp(a.y,H.y,d),de=Je.lerp(a.z,H.z,d);g.lookAt(Y,q,de)},onComplete:()=>{g.lookAt(H),K=!1,v=null,document.body.classList.remove("no-scrollbar"),ne&&s(!1),B(I,!1),i=null,E=null,J=null}})}};return p.addEventListener("mousemove",x),p.addEventListener("click",O),window.addEventListener("wheel",L,{passive:!1}),window.addEventListener("scroll",L,{passive:!1}),()=>{p.removeEventListener("mousemove",x),p.removeEventListener("click",O),window.removeEventListener("wheel",L),window.removeEventListener("scroll",L)}}}}Fe.registerPlugin(ue);function Is(f,e,n,t,r,o,l={}){ue.config({syncTouch:!0});const{CUBE_SPACING:c,FIRST_CUBE_Z:w}=o,A=(t==null?void 0:t.length)||0,k=w-(A+1)*c;let T=!1;const _=Math.abs(k)+(A-1)*c,y=Fe.timeline({scrollTrigger:{trigger:n.value,start:"top top",end:`+=${_}`,scrub:l.scrub||.5,pin:!0,onUpdate:M=>{if(!T){const m=M.progress,F=Je.lerp(0,k,m);e.position.set(0,0,F),e.lookAt(0,0,k)}r(e)}}});return y.fromTo(e.position,{z:0},{z:k,duration:1,ease:"none"}),{setReverting:M=>{T=M},timeline:y}}const Ds={class:"preloader"},Os={class:"progress-label"},Ns=In({__name:"Preloader",props:{progress:{}},setup(f){return(e,n)=>(Qr(),Dn("div",Ds,[ir("div",Os,Mi(Math.round(e.progress))+"%",1)]))}}),zs=qo(Ns,[["__scopeId","data-v-e5eadefa"]]),Yn=250,gn=500,Dr=-500,Vn=-520,Ho=-720,Ls=In({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(f){Fe.registerPlugin(ue);const e=Jo();e.isMobile=/iPhone|iPad|Android/i.test(navigator.userAgent);const n=f,t={showChasers:!1,showStarfield:!1,showCars:!1,showBuildings:!1,showPortalPulses:!1,showKeyarts:!1,showProjectGrids:!1,showProjectTitles:!1},r=Wt(null),o=Wt(null),l=Wt(!1),c=Wt(0),w=Wt(!1),A=Wt(!0),k=new Map;Wt(null);let T,_,y,R,M,m,F,Q,U=null,P=null,W=null,j=null,N=null,G=[],X=null;const D=()=>{const V=r.value?r.value.getBoundingClientRect().width:window.innerWidth,z=window.innerHeight,C=e.isMobile?.75:1;y.setSize(V*C,z*C),R.setSize(V*C,z*C),_.aspect=V/z,_.far=6e4,_.updateProjectionMatrix(),y.domElement.style.width=`${V}px`,y.domElement.style.height=`${z}px`},ee=V=>k.has(V)?Promise.resolve(k.get(V)):new Promise((z,C)=>{new $i().load(V,h=>{h.encoding=void 0,k.set(V,h),z(h)},void 0,h=>C(h))}),E=async()=>{T=new jo,T.background=new xt(0),T.fog=new qi(0,700,4e3),_=new Zi(75,window.innerWidth/window.innerHeight,1,6e4),_.position.set(0,0,0),_.lookAt(0,0,1e3),y=new Yo({antialias:!0}),e.isMobile?y.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):y.setPixelRatio(window.devicePixelRatio),y.toneMapping=Qi,y.toneMappingExposure=1,y.outputEncoding=void 0,R=new $o(y);const V=new Ko(T,_);if(R.addPass(V),M=new ur(new fe(window.innerWidth,window.innerHeight),6,.4,0),M.renderToScreen=!0,e.isMobile||R.addPass(M),r.value)r.value.appendChild(y.domElement),y.domElement.style.opacity="0";else return;F=new Zr,F.dom.style.position="fixed",F.dom.style.top="0px",F.dom.style.left="0px",F.dom.style.zIndex="1000",document.body.appendChild(F.dom);const z=n.projects.length+2+1;let C=0;const te=()=>{C++,c.value=C/z*100,C===z&&(l.value=!0)};await ee(n.projectGridFile).then(()=>te()).catch(()=>te()),await ee(n.projectGridFile2).then(()=>te()).catch(()=>te());for(const ye of n.projects)ye.keyart?await ee(ye.keyart).then(()=>te()).catch(()=>te()):te();const h=Fo(T,{CUBE_SIZE:Yn,CUBE_SPACING:gn,FIRST_CUBE_Z:Dr},n.projects,n.projectGridFile,n.projectGridFile2,t);let he=-8500;try{const ye=await h.getInitializedData();he=ye.maxZ!==void 0&&!isNaN(ye.maxZ)?ye.maxZ:-8500,te();const{introCubes:rt}=Ms(T,T,Promise.resolve(ye.loadedFont),{CUBE_SIZE:Yn,FIRST_CUBE_Z:Dr});G=[...rt,...ye.projectCubes],X=ye.updateCubeColors,t.showCars,t.showStarfield,t.showChasers,D()}catch(ye){console.error("Error initializing project cubes:",ye)}};let J=0;const K=(V=0)=>{if(m=requestAnimationFrame(K),!(e.isMobile&&(J++,J%2===0))){if(y&&R){if(!e.isMobile){const z=Ho-Vn;let C=0;_.position.z>=Vn?C=0:_.position.z<=Ho?C=1:C=(_.position.z-Vn)/z,M.strength=Je.lerp(1,.125,C)}w.value&&(X(_),ue.update()),R.render()}F.update()}};Uo(()=>{E().then(()=>{if(l.value){m=requestAnimationFrame(K);const V=Fo(T,{CUBE_SIZE:Yn,CUBE_SPACING:gn,FIRST_CUBE_Z:Dr},n.projects,n.projectGridFile,n.projectGridFile2,t);let z=null;const C=V.getInitializedData().then(({projectCubes:h})=>{h.forEach(ye=>{ye.userData.isActive=!0});const he=Dr-(n.projects.length-1)*gn;_.position.set(0,0,5e3),_.lookAt(0,0,he),_.updateProjectionMatrix(),X(_),R.render(),G.length&&X&&(z=Is(T,_,o,G,X,{CUBE_SPACING:gn,FIRST_CUBE_Z:Dr},{scrub:1}).setReverting),y&&P===null&&(P=V.setupInteractivity(_,y.domElement,ye=>{z&&z(ye)})),window.scrollTo({top:0,behavior:"auto"})}),te=()=>{C.then(()=>{A.value=!1,_.position.set(0,0,5e3),_.updateProjectionMatrix(),Fe.to(y.domElement,{opacity:1,duration:.5,ease:"power4.out"});const h={z:5e3};Fe.to(h,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{_.position.z=h.z,_.updateProjectionMatrix()},onComplete:()=>{_.position.z=0,w.value=!0}})})};Fe.delayedCall(.1,te)}}).catch(V=>{console.error("Initialization failed:",V)}),window.addEventListener("resize",ne)}),Go(()=>{m&&cancelAnimationFrame(m),P&&P(),window.removeEventListener("resize",ne),ue.getAll().forEach(V=>V.kill()),y.dispose(),R.dispose(),T.clear(),document.body.removeChild(F.dom),N&&N()});const ne=()=>{D(),ue.refresh()};return(V,z)=>(Qr(),Dn("section",{ref_key:"wrapper",ref:o,class:"wrapper"},[tr(Ei,{name:"fade"},{default:Ai(()=>[A.value?(Qr(),ki(zs,{key:0,progress:c.value},null,8,["progress"])):Ri("",!0)]),_:1}),ir("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),Bs=qo(Ls,[["__scopeId","data-v-c6a42913"]]),Fs={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},Hs={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Us={class:"overflow-hidden"},Gs={class:"flex justify-center items-center"},Ws={class:"flex justify-center items-center -mt-24 mix-blend-screen"},Ks=In({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(f){return(e,n)=>(Qr(),Dn(Oi,null,[tr(Ii(Di),{title:"Welcome"}),ir("div",Fs,[ir("nav",Hs,[tr(Ki)]),ir("div",Us,[tr(Bs,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),ir("div",Gs,[tr(wo,{"particle-width":20,"particle-height":20})]),ir("div",Ws,[tr(wo,{"particle-width":15,"particle-height":160})]),tr(Ji)])],64))}});export{Ks as default};
