import{J as ts,W as rs,I as Xi,e as ji,o as gi,a as Jt,t as is,d as $t,x as os,y as ss,b as Mr,T as ns,w as as,c as ls,f as cs,u as us,m as fs,F as ps}from"./app-D88SqyEW.js";import{M as Et,O as hs,B as ds,F as ro,S as pr,U as zi,V as dt,W as ai,H as li,N as gs,C as ms,a as It,b as ht,A as _s,c as Fi,d as vs,e as ws,f as ys,R as xs,g as bs,h as Qt,i as pt,j as Sr,k as He,l as Ss,E as Si,m as Ci,n as Cs,o as Ts,p as io,P as oo,D as so,Q as Ps,q as Tn,r as Pn,s as Mn,t as En,u as An,v as Ms,w as Es,x as As,y as Rs,z as Ds,T as ks,L as zs,G as Fs}from"./GlobalFooter-2LwI47IY.js";import{_ as Mo}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Eo=ts("tunnel",{state:()=>({isMobile:!1,activeProjectSlug:null,scrollPosition:0}),mutations:{storeIsMobile(s,e){s.isMobile=e}},actions:{setActiveProject(s){this.activeProjectSlug=s},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(s){this.scrollPosition=s,console.log("Scroll position stored:",s)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function Os(s,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}function Is(s,e,i){return e&&Os(s.prototype,e),s}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ne,ci,ft,Ut,Gt,dr,Ao,qt,zr,Ro,Bt,St,Do,ko=function(){return Ne||typeof window<"u"&&(Ne=window.gsap)&&Ne.registerPlugin&&Ne},zo=1,hr=[],X=[],Dt=[],Fr=Date.now,Oi=function(e,i){return i},Bs=function(){var e=zr.core,i=e.bridge||{},t=e._scrollers,r=e._proxies;t.push.apply(t,X),r.push.apply(r,Dt),X=t,Dt=r,Oi=function(n,a){return i[n](a)}},Yt=function(e,i){return~Dt.indexOf(e)&&Dt[Dt.indexOf(e)+1][i]},Or=function(e){return!!~Ro.indexOf(e)},Ke=function(e,i,t,r,o){return e.addEventListener(i,t,{passive:r!==!1,capture:!!o})},qe=function(e,i,t,r){return e.removeEventListener(i,t,!!r)},Zr="scrollLeft",$r="scrollTop",Ii=function(){return Bt&&Bt.isPressed||X.cache++},mi=function(e,i){var t=function r(o){if(o||o===0){zo&&(ft.history.scrollRestoration="manual");var n=Bt&&Bt.isPressed;o=r.v=Math.round(o)||(Bt&&Bt.iOS?1:0),e(o),r.cacheID=X.cache,n&&Oi("ss",o)}else(i||X.cache!==r.cacheID||Oi("ref"))&&(r.cacheID=X.cache,r.v=e());return r.v+r.offset};return t.offset=0,e&&t},rt={s:Zr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:mi(function(s){return arguments.length?ft.scrollTo(s,De.sc()):ft.pageXOffset||Ut[Zr]||Gt[Zr]||dr[Zr]||0})},De={s:$r,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:rt,sc:mi(function(s){return arguments.length?ft.scrollTo(rt.sc(),s):ft.pageYOffset||Ut[$r]||Gt[$r]||dr[$r]||0})},st=function(e,i){return(i&&i._ctx&&i._ctx.selector||Ne.utils.toArray)(e)[0]||(typeof e=="string"&&Ne.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Wt=function(e,i){var t=i.s,r=i.sc;Or(e)&&(e=Ut.scrollingElement||Gt);var o=X.indexOf(e),n=r===De.sc?1:2;!~o&&(o=X.push(e)-1),X[o+n]||Ke(e,"scroll",Ii);var a=X[o+n],f=a||(X[o+n]=mi(Yt(e,t),!0)||(Or(e)?r:mi(function(_){return arguments.length?e[t]=_:e[t]})));return f.target=e,a||(f.smooth=Ne.getProperty(e,"scrollBehavior")==="smooth"),f},Bi=function(e,i,t){var r=e,o=e,n=Fr(),a=n,f=i||50,_=Math.max(500,f*3),g=function(d,C){var m=Fr();C||m-n>f?(o=r,r=d,a=n,n=m):t?r+=d:r=o+(d-o)/(m-a)*(n-a)},h=function(){o=r=t?0:r,a=n=0},p=function(d){var C=a,m=o,Q=Fr();return(d||d===0)&&d!==r&&g(d),n===a||Q-a>_?0:(r+(t?m:-m))/((t?Q:n)-C)*1e3};return{update:g,reset:h,getVelocity:p}},Cr=function(e,i){return i&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},no=function(e){var i=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(i)>=Math.abs(t)?i:t},Fo=function(){zr=Ne.core.globals().ScrollTrigger,zr&&zr.core&&Bs()},Oo=function(e){return Ne=e||ko(),!ci&&Ne&&typeof document<"u"&&document.body&&(ft=window,Ut=document,Gt=Ut.documentElement,dr=Ut.body,Ro=[ft,Ut,Gt,dr],Ne.utils.clamp,Do=Ne.core.context||function(){},qt="onpointerenter"in dr?"pointer":"mouse",Ao=Me.isTouch=ft.matchMedia&&ft.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ft||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,St=Me.eventTypes=("ontouchstart"in Gt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Gt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return zo=0},500),Fo(),ci=1),ci};rt.op=De;X.cache=0;var Me=function(){function s(i){this.init(i)}var e=s.prototype;return e.init=function(t){ci||Oo(Ne)||console.warn("Please gsap.registerPlugin(Observer)"),zr||Fo();var r=t.tolerance,o=t.dragMinimum,n=t.type,a=t.target,f=t.lineHeight,_=t.debounce,g=t.preventDefault,h=t.onStop,p=t.onStopDelay,u=t.ignore,d=t.wheelSpeed,C=t.event,m=t.onDragStart,Q=t.onDragEnd,J=t.onDrag,fe=t.onPress,P=t.onRelease,Ue=t.onRight,ee=t.onLeft,M=t.onUp,ge=t.onDown,me=t.onChangeX,y=t.onChangeY,te=t.onChange,b=t.onToggleX,ke=t.onToggleY,ce=t.onHover,L=t.onHoverEnd,q=t.onMove,O=t.ignoreCheck,$=t.isNormalizer,V=t.onGestureStart,l=t.onGestureEnd,Y=t.onWheel,nt=t.onEnable,kt=t.onDisable,R=t.onClick,re=t.scrollSpeed,ne=t.capture,j=t.allowClicks,ue=t.lockAxis,H=t.onLockAxis;this.target=a=st(a)||Gt,this.vars=t,u&&(u=Ne.utils.toArray(u)),r=r||1e-9,o=o||0,d=d||1,re=re||1,n=n||"wheel,touch,pointer",_=_!==!1,f||(f=parseFloat(ft.getComputedStyle(dr).lineHeight)||22);var ie,le,K,x,S,D,T,c=this,oe=0,_e=0,ve=t.passive||!g&&t.passive!==!1,U=Wt(a,rt),de=Wt(a,De),$e=U(),Ge=de(),N=~n.indexOf("touch")&&!~n.indexOf("pointer")&&St[0]==="pointerdown",it=Or(a),xe=a.ownerDocument||Ut,we=[0,0,0],ze=[0,0,0],vt=0,Ht=function(){return vt=Fr()},Ce=function(A,se){return(c.event=A)&&u&&~u.indexOf(A.target)||se&&N&&A.pointerType!=="touch"||O&&O(A,se)},Xt=function(){c._vx.reset(),c._vy.reset(),le.pause(),h&&h(c)},be=function(){var A=c.deltaX=no(we),se=c.deltaY=no(ze),v=Math.abs(A)>=r,z=Math.abs(se)>=r;te&&(v||z)&&te(c,A,se,we,ze),v&&(Ue&&c.deltaX>0&&Ue(c),ee&&c.deltaX<0&&ee(c),me&&me(c),b&&c.deltaX<0!=oe<0&&b(c),oe=c.deltaX,we[0]=we[1]=we[2]=0),z&&(ge&&c.deltaY>0&&ge(c),M&&c.deltaY<0&&M(c),y&&y(c),ke&&c.deltaY<0!=_e<0&&ke(c),_e=c.deltaY,ze[0]=ze[1]=ze[2]=0),(x||K)&&(q&&q(c),K&&(m&&K===1&&m(c),J&&J(c),K=0),x=!1),D&&!(D=!1)&&H&&H(c),S&&(Y(c),S=!1),ie=0},Ct=function(A,se,v){we[v]+=A,ze[v]+=se,c._vx.update(A),c._vy.update(se),_?ie||(ie=requestAnimationFrame(be)):be()},Qe=function(A,se){ue&&!T&&(c.axis=T=Math.abs(A)>Math.abs(se)?"x":"y",D=!0),T!=="y"&&(we[2]+=A,c._vx.update(A,!0)),T!=="x"&&(ze[2]+=se,c._vy.update(se,!0)),_?ie||(ie=requestAnimationFrame(be)):be()},ot=function(A){if(!Ce(A,1)){A=Cr(A,g);var se=A.clientX,v=A.clientY,z=se-c.x,E=v-c.y,F=c.isDragging;c.x=se,c.y=v,(F||(z||E)&&(Math.abs(c.startX-se)>=o||Math.abs(c.startY-v)>=o))&&(K=F?2:1,F||(c.isDragging=!0),Qe(z,E))}},zt=c.onPress=function(I){Ce(I,1)||I&&I.button||(c.axis=T=null,le.pause(),c.isPressed=!0,I=Cr(I),oe=_e=0,c.startX=c.x=I.clientX,c.startY=c.y=I.clientY,c._vx.reset(),c._vy.reset(),Ke($?a:xe,St[1],ot,ve,!0),c.deltaX=c.deltaY=0,fe&&fe(c))},k=c.onRelease=function(I){if(!Ce(I,1)){qe($?a:xe,St[1],ot,!0);var A=!isNaN(c.y-c.startY),se=c.isDragging,v=se&&(Math.abs(c.x-c.startX)>3||Math.abs(c.y-c.startY)>3),z=Cr(I);!v&&A&&(c._vx.reset(),c._vy.reset(),g&&j&&Ne.delayedCall(.08,function(){if(Fr()-vt>300&&!I.defaultPrevented){if(I.target.click)I.target.click();else if(xe.createEvent){var E=xe.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,ft,1,z.screenX,z.screenY,z.clientX,z.clientY,!1,!1,!1,!1,0,null),I.target.dispatchEvent(E)}}})),c.isDragging=c.isGesturing=c.isPressed=!1,h&&se&&!$&&le.restart(!0),K&&be(),Q&&se&&Q(c),P&&P(c,v)}},jt=function(A){return A.touches&&A.touches.length>1&&(c.isGesturing=!0)&&V(A,c.isDragging)},wt=function(){return(c.isGesturing=!1)||l(c)},yt=function(A){if(!Ce(A)){var se=U(),v=de();Ct((se-$e)*re,(v-Ge)*re,1),$e=se,Ge=v,h&&le.restart(!0)}},xt=function(A){if(!Ce(A)){A=Cr(A,g),Y&&(S=!0);var se=(A.deltaMode===1?f:A.deltaMode===2?ft.innerHeight:1)*d;Ct(A.deltaX*se,A.deltaY*se,0),h&&!$&&le.restart(!0)}},Vt=function(A){if(!Ce(A)){var se=A.clientX,v=A.clientY,z=se-c.x,E=v-c.y;c.x=se,c.y=v,x=!0,h&&le.restart(!0),(z||E)&&Qe(z,E)}},ar=function(A){c.event=A,ce(c)},Ft=function(A){c.event=A,L(c)},wr=function(A){return Ce(A)||Cr(A,g)&&R(c)};le=c._dc=Ne.delayedCall(p||.25,Xt).pause(),c.deltaX=c.deltaY=0,c._vx=Bi(0,50,!0),c._vy=Bi(0,50,!0),c.scrollX=U,c.scrollY=de,c.isDragging=c.isGesturing=c.isPressed=!1,Do(this),c.enable=function(I){return c.isEnabled||(Ke(it?xe:a,"scroll",Ii),n.indexOf("scroll")>=0&&Ke(it?xe:a,"scroll",yt,ve,ne),n.indexOf("wheel")>=0&&Ke(a,"wheel",xt,ve,ne),(n.indexOf("touch")>=0&&Ao||n.indexOf("pointer")>=0)&&(Ke(a,St[0],zt,ve,ne),Ke(xe,St[2],k),Ke(xe,St[3],k),j&&Ke(a,"click",Ht,!0,!0),R&&Ke(a,"click",wr),V&&Ke(xe,"gesturestart",jt),l&&Ke(xe,"gestureend",wt),ce&&Ke(a,qt+"enter",ar),L&&Ke(a,qt+"leave",Ft),q&&Ke(a,qt+"move",Vt)),c.isEnabled=!0,c.isDragging=c.isGesturing=c.isPressed=x=K=!1,c._vx.reset(),c._vy.reset(),$e=U(),Ge=de(),I&&I.type&&zt(I),nt&&nt(c)),c},c.disable=function(){c.isEnabled&&(hr.filter(function(I){return I!==c&&Or(I.target)}).length||qe(it?xe:a,"scroll",Ii),c.isPressed&&(c._vx.reset(),c._vy.reset(),qe($?a:xe,St[1],ot,!0)),qe(it?xe:a,"scroll",yt,ne),qe(a,"wheel",xt,ne),qe(a,St[0],zt,ne),qe(xe,St[2],k),qe(xe,St[3],k),qe(a,"click",Ht,!0),qe(a,"click",wr),qe(xe,"gesturestart",jt),qe(xe,"gestureend",wt),qe(a,qt+"enter",ar),qe(a,qt+"leave",Ft),qe(a,qt+"move",Vt),c.isEnabled=c.isPressed=c.isDragging=!1,kt&&kt(c))},c.kill=c.revert=function(){c.disable();var I=hr.indexOf(c);I>=0&&hr.splice(I,1),Bt===c&&(Bt=0)},hr.push(c),$&&Or(a)&&(Bt=c),c.enable(C)},Is(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();Me.version="3.12.7";Me.create=function(s){return new Me(s)};Me.register=Oo;Me.getAll=function(){return hr.slice()};Me.getById=function(s){return hr.filter(function(e){return e.vars.id===s})[0]};ko()&&Ne.registerPlugin(Me);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var w,ur,W,he,ut,ae,Vi,_i,Yr,Ir,Er,Qr,je,xi,Li,et,ao,lo,fr,Io,Ti,Bo,Je,Hi,Lo,Ho,Nt,Ni,Zi,gr,$i,vi,Ui,Pi,qr=1,Ve=Date.now,Mi=Ve(),_t=0,Ar=0,co=function(e,i,t){var r=ct(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+i+"Clamp"]=r,r?e.substr(6,e.length-7):e},uo=function(e,i){return i&&(!ct(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Ls=function s(){return Ar&&requestAnimationFrame(s)},fo=function(){return xi=1},po=function(){return xi=0},At=function(e){return e},Rr=function(e){return Math.round(e*1e5)/1e5||0},No=function(){return typeof window<"u"},Uo=function(){return w||No()&&(w=window.gsap)&&w.registerPlugin&&w},or=function(e){return!!~Vi.indexOf(e)},Go=function(e){return(e==="Height"?$i:W["inner"+e])||ut["client"+e]||ae["client"+e]},Yo=function(e){return Yt(e,"getBoundingClientRect")||(or(e)?function(){return di.width=W.innerWidth,di.height=$i,di}:function(){return Ot(e)})},Hs=function(e,i,t){var r=t.d,o=t.d2,n=t.a;return(n=Yt(e,"getBoundingClientRect"))?function(){return n()[r]}:function(){return(i?Go(o):e["client"+o])||0}},Ns=function(e,i){return!i||~Dt.indexOf(e)?Yo(e):function(){return di}},Rt=function(e,i){var t=i.s,r=i.d2,o=i.d,n=i.a;return Math.max(0,(t="scroll"+r)&&(n=Yt(e,t))?n()-Yo(e)()[o]:or(e)?(ut[t]||ae[t])-Go(r):e[t]-e["offset"+r])},Kr=function(e,i){for(var t=0;t<fr.length;t+=3)(!i||~i.indexOf(fr[t+1]))&&e(fr[t],fr[t+1],fr[t+2])},ct=function(e){return typeof e=="string"},Ze=function(e){return typeof e=="function"},Dr=function(e){return typeof e=="number"},Kt=function(e){return typeof e=="object"},Tr=function(e,i,t){return e&&e.progress(i?0:1)&&t&&e.pause()},Ei=function(e,i){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return i(e)}):i(e);t&&t.totalTime&&(e.callbackAnimation=t)}},lr=Math.abs,Wo="left",Xo="top",Qi="right",qi="bottom",tr="width",rr="height",Br="Right",Lr="Left",Hr="Top",Nr="Bottom",Ee="padding",gt="margin",_r="Width",Ki="Height",Re="px",mt=function(e){return W.getComputedStyle(e)},Us=function(e){var i=mt(e).position;e.style.position=i==="absolute"||i==="fixed"?i:"relative"},ho=function(e,i){for(var t in i)t in e||(e[t]=i[t]);return e},Ot=function(e,i){var t=i&&mt(e)[Li]!=="matrix(1, 0, 0, 1, 0, 0)"&&w.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return t&&t.progress(0).kill(),r},wi=function(e,i){var t=i.d2;return e["offset"+t]||e["client"+t]||0},jo=function(e){var i=[],t=e.labels,r=e.duration(),o;for(o in t)i.push(t[o]/r);return i},Gs=function(e){return function(i){return w.utils.snap(jo(e),i)}},Ji=function(e){var i=w.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(r,o){return r-o});return t?function(r,o,n){n===void 0&&(n=.001);var a;if(!o)return i(r);if(o>0){for(r-=n,a=0;a<t.length;a++)if(t[a]>=r)return t[a];return t[a-1]}else for(a=t.length,r+=n;a--;)if(t[a]<=r)return t[a];return t[0]}:function(r,o,n){n===void 0&&(n=.001);var a=i(r);return!o||Math.abs(a-r)<n||a-r<0==o<0?a:i(o<0?r-e:r+e)}},Ys=function(e){return function(i,t){return Ji(jo(e))(i,t.direction)}},Jr=function(e,i,t,r){return t.split(",").forEach(function(o){return e(i,o,r)})},Ie=function(e,i,t,r,o){return e.addEventListener(i,t,{passive:!r,capture:!!o})},Oe=function(e,i,t,r){return e.removeEventListener(i,t,!!r)},ei=function(e,i,t){t=t&&t.wheelHandler,t&&(e(i,"wheel",t),e(i,"touchmove",t))},go={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ti={toggleActions:"play",anticipatePin:0},yi={top:0,left:0,center:.5,bottom:1,right:1},ui=function(e,i){if(ct(e)){var t=e.indexOf("="),r=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(r*=i/100),e=e.substr(0,t-1)),e=r+(e in yi?yi[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0)}return e},ri=function(e,i,t,r,o,n,a,f){var _=o.startColor,g=o.endColor,h=o.fontSize,p=o.indent,u=o.fontWeight,d=he.createElement("div"),C=or(t)||Yt(t,"pinType")==="fixed",m=e.indexOf("scroller")!==-1,Q=C?ae:t,J=e.indexOf("start")!==-1,fe=J?_:g,P="border-color:"+fe+";font-size:"+h+";color:"+fe+";font-weight:"+u+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return P+="position:"+((m||f)&&C?"fixed;":"absolute;"),(m||f||!C)&&(P+=(r===De?Qi:qi)+":"+(n+parseFloat(p))+"px;"),a&&(P+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),d._isStart=J,d.setAttribute("class","gsap-marker-"+e+(i?" marker-"+i:"")),d.style.cssText=P,d.innerText=i||i===0?e+"-"+i:e,Q.children[0]?Q.insertBefore(d,Q.children[0]):Q.appendChild(d),d._offset=d["offset"+r.op.d2],fi(d,0,r,J),d},fi=function(e,i,t,r){var o={display:"block"},n=t[r?"os2":"p2"],a=t[r?"p2":"os2"];e._isFlipped=r,o[t.a+"Percent"]=r?-100:0,o[t.a]=r?"1px":0,o["border"+n+_r]=1,o["border"+a+_r]=0,o[t.p]=i+"px",w.set(e,o)},G=[],Gi={},Wr,mo=function(){return Ve()-_t>34&&(Wr||(Wr=requestAnimationFrame(Lt)))},cr=function(){(!Je||!Je.isPressed||Je.startX>ae.clientWidth)&&(X.cache++,Je?Wr||(Wr=requestAnimationFrame(Lt)):Lt(),_t||nr("scrollStart"),_t=Ve())},Ai=function(){Ho=W.innerWidth,Lo=W.innerHeight},kr=function(e){X.cache++,(e===!0||!je&&!Bo&&!he.fullscreenElement&&!he.webkitFullscreenElement&&(!Hi||Ho!==W.innerWidth||Math.abs(W.innerHeight-Lo)>W.innerHeight*.25))&&_i.restart(!0)},sr={},Ws=[],Vo=function s(){return Oe(B,"scrollEnd",s)||er(!0)},nr=function(e){return sr[e]&&sr[e].map(function(i){return i()})||Ws},lt=[],Zo=function(e){for(var i=0;i<lt.length;i+=5)(!e||lt[i+4]&&lt[i+4].query===e)&&(lt[i].style.cssText=lt[i+1],lt[i].getBBox&&lt[i].setAttribute("transform",lt[i+2]||""),lt[i+3].uncache=1)},eo=function(e,i){var t;for(et=0;et<G.length;et++)t=G[et],t&&(!i||t._ctx===i)&&(e?t.kill(1):t.revert(!0,!0));vi=!0,i&&Zo(i),i||nr("revert")},$o=function(e,i){X.cache++,(i||!tt)&&X.forEach(function(t){return Ze(t)&&t.cacheID++&&(t.rec=0)}),ct(e)&&(W.history.scrollRestoration=Zi=e)},tt,ir=0,_o,Xs=function(){if(_o!==ir){var e=_o=ir;requestAnimationFrame(function(){return e===ir&&er(!0)})}},Qo=function(){ae.appendChild(gr),$i=!Je&&gr.offsetHeight||W.innerHeight,ae.removeChild(gr)},vo=function(e){return Yr(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(i){return i.style.display=e?"none":"block"})},er=function(e,i){if(ut=he.documentElement,ae=he.body,Vi=[W,he,ut,ae],_t&&!e&&!vi){Ie(B,"scrollEnd",Vo);return}Qo(),tt=B.isRefreshing=!0,X.forEach(function(r){return Ze(r)&&++r.cacheID&&(r.rec=r())});var t=nr("refreshInit");Io&&B.sort(),i||eo(),X.forEach(function(r){Ze(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),G.slice(0).forEach(function(r){return r.refresh()}),vi=!1,G.forEach(function(r){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",n=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-n),r.refresh()}}),Ui=1,vo(!0),G.forEach(function(r){var o=Rt(r.scroller,r._dir),n=r.vars.end==="max"||r._endClamp&&r.end>o,a=r._startClamp&&r.start>=o;(n||a)&&r.setPositions(a?o-1:r.start,n?Math.max(a?o:r.start+1,o):r.end,!0)}),vo(!1),Ui=0,t.forEach(function(r){return r&&r.render&&r.render(-1)}),X.forEach(function(r){Ze(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),$o(Zi,1),_i.pause(),ir++,tt=2,Lt(2),G.forEach(function(r){return Ze(r.vars.onRefresh)&&r.vars.onRefresh(r)}),tt=B.isRefreshing=!1,nr("refresh")},Yi=0,pi=1,Ur,Lt=function(e){if(e===2||!tt&&!vi){B.isUpdating=!0,Ur&&Ur.update(0);var i=G.length,t=Ve(),r=t-Mi>=50,o=i&&G[0].scroll();if(pi=Yi>o?-1:1,tt||(Yi=o),r&&(_t&&!xi&&t-_t>200&&(_t=0,nr("scrollEnd")),Er=Mi,Mi=t),pi<0){for(et=i;et-- >0;)G[et]&&G[et].update(0,r);pi=1}else for(et=0;et<i;et++)G[et]&&G[et].update(0,r);B.isUpdating=!1}Wr=0},Wi=[Wo,Xo,qi,Qi,gt+Nr,gt+Br,gt+Hr,gt+Lr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],hi=Wi.concat([tr,rr,"boxSizing","max"+_r,"max"+Ki,"position",gt,Ee,Ee+Hr,Ee+Br,Ee+Nr,Ee+Lr]),js=function(e,i,t){mr(t);var r=e._gsap;if(r.spacerIsNative)mr(r.spacerState);else if(e._gsap.swappedIn){var o=i.parentNode;o&&(o.insertBefore(e,i),o.removeChild(i))}e._gsap.swappedIn=!1},Ri=function(e,i,t,r){if(!e._gsap.swappedIn){for(var o=Wi.length,n=i.style,a=e.style,f;o--;)f=Wi[o],n[f]=t[f];n.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(n.display="inline-block"),a[qi]=a[Qi]="auto",n.flexBasis=t.flexBasis||"auto",n.overflow="visible",n.boxSizing="border-box",n[tr]=wi(e,rt)+Re,n[rr]=wi(e,De)+Re,n[Ee]=a[gt]=a[Xo]=a[Wo]="0",mr(r),a[tr]=a["max"+_r]=t[tr],a[rr]=a["max"+Ki]=t[rr],a[Ee]=t[Ee],e.parentNode!==i&&(e.parentNode.insertBefore(i,e),i.appendChild(e)),e._gsap.swappedIn=!0}},Vs=/([A-Z])/g,mr=function(e){if(e){var i=e.t.style,t=e.length,r=0,o,n;for((e.t._gsap||w.core.getCache(e.t)).uncache=1;r<t;r+=2)n=e[r+1],o=e[r],n?i[o]=n:i[o]&&i.removeProperty(o.replace(Vs,"-$1").toLowerCase())}},ii=function(e){for(var i=hi.length,t=e.style,r=[],o=0;o<i;o++)r.push(hi[o],t[hi[o]]);return r.t=e,r},Zs=function(e,i,t){for(var r=[],o=e.length,n=t?8:0,a;n<o;n+=2)a=e[n],r.push(a,a in i?i[a]:e[n+1]);return r.t=e.t,r},di={left:0,top:0},wo=function(e,i,t,r,o,n,a,f,_,g,h,p,u,d){Ze(e)&&(e=e(f)),ct(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?ui("0"+e.substr(3),t):0));var C=u?u.time():0,m,Q,J;if(u&&u.seek(0),isNaN(e)||(e=+e),Dr(e))u&&(e=w.utils.mapRange(u.scrollTrigger.start,u.scrollTrigger.end,0,p,e)),a&&fi(a,t,r,!0);else{Ze(i)&&(i=i(f));var fe=(e||"0").split(" "),P,Ue,ee,M;J=st(i,f)||ae,P=Ot(J)||{},(!P||!P.left&&!P.top)&&mt(J).display==="none"&&(M=J.style.display,J.style.display="block",P=Ot(J),M?J.style.display=M:J.style.removeProperty("display")),Ue=ui(fe[0],P[r.d]),ee=ui(fe[1]||"0",t),e=P[r.p]-_[r.p]-g+Ue+o-ee,a&&fi(a,ee,r,t-ee<20||a._isStart&&ee>20),t-=t-ee}if(d&&(f[d]=e||-.001,e<0&&(e=0)),n){var ge=e+t,me=n._isStart;m="scroll"+r.d2,fi(n,ge,r,me&&ge>20||!me&&(h?Math.max(ae[m],ut[m]):n.parentNode[m])<=ge+1),h&&(_=Ot(a),h&&(n.style[r.op.p]=_[r.op.p]-r.op.m-n._offset+Re))}return u&&J&&(m=Ot(J),u.seek(p),Q=Ot(J),u._caScrollDist=m[r.p]-Q[r.p],e=e/u._caScrollDist*p),u&&u.seek(C),u?e:Math.round(e)},$s=/(webkit|moz|length|cssText|inset)/i,yo=function(e,i,t,r){if(e.parentNode!==i){var o=e.style,n,a;if(i===ae){e._stOrig=o.cssText,a=mt(e);for(n in a)!+n&&!$s.test(n)&&a[n]&&typeof o[n]=="string"&&n!=="0"&&(o[n]=a[n]);o.top=t,o.left=r}else o.cssText=e._stOrig;w.core.getCache(e).uncache=1,i.appendChild(e)}},qo=function(e,i,t){var r=i,o=r;return function(n){var a=Math.round(e());return a!==r&&a!==o&&Math.abs(a-r)>3&&Math.abs(a-o)>3&&(n=a,t&&t()),o=r,r=Math.round(n),r}},oi=function(e,i,t){var r={};r[i.p]="+="+t,w.set(e,r)},xo=function(e,i){var t=Wt(e,i),r="_scroll"+i.p2,o=function n(a,f,_,g,h){var p=n.tween,u=f.onComplete,d={};_=_||t();var C=qo(t,_,function(){p.kill(),n.tween=0});return h=g&&h||0,g=g||a-_,p&&p.kill(),f[r]=a,f.inherit=!1,f.modifiers=d,d[r]=function(){return C(_+g*p.ratio+h*p.ratio*p.ratio)},f.onUpdate=function(){X.cache++,n.tween&&Lt()},f.onComplete=function(){n.tween=0,u&&u.call(p)},p=n.tween=w.to(e,f),p};return e[r]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Ie(e,"wheel",t.wheelHandler),B.isTouch&&Ie(e,"touchmove",t.wheelHandler),o},B=function(){function s(i,t){ur||s.register(w)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Ni(this),this.init(i,t)}var e=s.prototype;return e.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Ar){this.update=this.refresh=this.kill=At;return}t=ho(ct(t)||Dr(t)||t.nodeType?{trigger:t}:t,ti);var o=t,n=o.onUpdate,a=o.toggleClass,f=o.id,_=o.onToggle,g=o.onRefresh,h=o.scrub,p=o.trigger,u=o.pin,d=o.pinSpacing,C=o.invalidateOnRefresh,m=o.anticipatePin,Q=o.onScrubComplete,J=o.onSnapComplete,fe=o.once,P=o.snap,Ue=o.pinReparent,ee=o.pinSpacer,M=o.containerAnimation,ge=o.fastScrollEnd,me=o.preventOverlaps,y=t.horizontal||t.containerAnimation&&t.horizontal!==!1?rt:De,te=!h&&h!==0,b=st(t.scroller||W),ke=w.core.getCache(b),ce=or(b),L=("pinType"in t?t.pinType:Yt(b,"pinType")||ce&&"fixed")==="fixed",q=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],O=te&&t.toggleActions.split(" "),$="markers"in t?t.markers:ti.markers,V=ce?0:parseFloat(mt(b)["border"+y.p2+_r])||0,l=this,Y=t.onRefreshInit&&function(){return t.onRefreshInit(l)},nt=Hs(b,ce,y),kt=Ns(b,ce),R=0,re=0,ne=0,j=Wt(b,y),ue,H,ie,le,K,x,S,D,T,c,oe,_e,ve,U,de,$e,Ge,N,it,xe,we,ze,vt,Ht,Ce,Xt,be,Ct,Qe,ot,zt,k,jt,wt,yt,xt,Vt,ar,Ft;if(l._startClamp=l._endClamp=!1,l._dir=y,m*=45,l.scroller=b,l.scroll=M?M.time.bind(M):j,le=j(),l.vars=t,r=r||t.animation,"refreshPriority"in t&&(Io=1,t.refreshPriority===-9999&&(Ur=l)),ke.tweenScroll=ke.tweenScroll||{top:xo(b,De),left:xo(b,rt)},l.tweenTo=ue=ke.tweenScroll[y.p],l.scrubDuration=function(v){jt=Dr(v)&&v,jt?k?k.duration(v):k=w.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:jt,paused:!0,onComplete:function(){return Q&&Q(l)}}):(k&&k.progress(1).kill(),k=0)},r&&(r.vars.lazy=!1,r._initted&&!l.isReverted||r.vars.immediateRender!==!1&&t.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),l.animation=r.pause(),r.scrollTrigger=l,l.scrubDuration(h),ot=0,f||(f=r.vars.id)),P&&((!Kt(P)||P.push)&&(P={snapTo:P}),"scrollBehavior"in ae.style&&w.set(ce?[ae,ut]:b,{scrollBehavior:"auto"}),X.forEach(function(v){return Ze(v)&&v.target===(ce?he.scrollingElement||ut:b)&&(v.smooth=!1)}),ie=Ze(P.snapTo)?P.snapTo:P.snapTo==="labels"?Gs(r):P.snapTo==="labelsDirectional"?Ys(r):P.directional!==!1?function(v,z){return Ji(P.snapTo)(v,Ve()-re<500?0:z.direction)}:w.utils.snap(P.snapTo),wt=P.duration||{min:.1,max:2},wt=Kt(wt)?Ir(wt.min,wt.max):Ir(wt,wt),yt=w.delayedCall(P.delay||jt/2||.1,function(){var v=j(),z=Ve()-re<500,E=ue.tween;if((z||Math.abs(l.getVelocity())<10)&&!E&&!xi&&R!==v){var F=(v-x)/U,Fe=r&&!te?r.totalProgress():F,Z=z?0:(Fe-zt)/(Ve()-Er)*1e3||0,Pe=w.utils.clamp(-F,1-F,lr(Z/2)*Z/.185),Ye=F+(P.inertia===!1?0:Pe),Te,ye,pe=P,bt=pe.onStart,Se=pe.onInterrupt,at=pe.onComplete;if(Te=ie(Ye,l),Dr(Te)||(Te=Ye),ye=Math.max(0,Math.round(x+Te*U)),v<=S&&v>=x&&ye!==v){if(E&&!E._initted&&E.data<=lr(ye-v))return;P.inertia===!1&&(Pe=Te-F),ue(ye,{duration:wt(lr(Math.max(lr(Ye-Fe),lr(Te-Fe))*.185/Z/.05||0)),ease:P.ease||"power3",data:lr(ye-v),onInterrupt:function(){return yt.restart(!0)&&Se&&Se(l)},onComplete:function(){l.update(),R=j(),r&&!te&&(k?k.resetTo("totalProgress",Te,r._tTime/r._tDur):r.progress(Te)),ot=zt=r&&!te?r.totalProgress():l.progress,J&&J(l),at&&at(l)}},v,Pe*U,ye-v-Pe*U),bt&&bt(l,ue.tween)}}else l.isActive&&R!==v&&yt.restart(!0)}).pause()),f&&(Gi[f]=l),p=l.trigger=st(p||u!==!0&&u),Ft=p&&p._gsap&&p._gsap.stRevert,Ft&&(Ft=Ft(l)),u=u===!0?p:st(u),ct(a)&&(a={targets:p,className:a}),u&&(d===!1||d===gt||(d=!d&&u.parentNode&&u.parentNode.style&&mt(u.parentNode).display==="flex"?!1:Ee),l.pin=u,H=w.core.getCache(u),H.spacer?de=H.pinState:(ee&&(ee=st(ee),ee&&!ee.nodeType&&(ee=ee.current||ee.nativeElement),H.spacerIsNative=!!ee,ee&&(H.spacerState=ii(ee))),H.spacer=N=ee||he.createElement("div"),N.classList.add("pin-spacer"),f&&N.classList.add("pin-spacer-"+f),H.pinState=de=ii(u)),t.force3D!==!1&&w.set(u,{force3D:!0}),l.spacer=N=H.spacer,Qe=mt(u),Ht=Qe[d+y.os2],xe=w.getProperty(u),we=w.quickSetter(u,y.a,Re),Ri(u,N,Qe),Ge=ii(u)),$){_e=Kt($)?ho($,go):go,c=ri("scroller-start",f,b,y,_e,0),oe=ri("scroller-end",f,b,y,_e,0,c),it=c["offset"+y.op.d2];var wr=st(Yt(b,"content")||b);D=this.markerStart=ri("start",f,wr,y,_e,it,0,M),T=this.markerEnd=ri("end",f,wr,y,_e,it,0,M),M&&(ar=w.quickSetter([D,T],y.a,Re)),!L&&!(Dt.length&&Yt(b,"fixedMarkers")===!0)&&(Us(ce?ae:b),w.set([c,oe],{force3D:!0}),Xt=w.quickSetter(c,y.a,Re),Ct=w.quickSetter(oe,y.a,Re))}if(M){var I=M.vars.onUpdate,A=M.vars.onUpdateParams;M.eventCallback("onUpdate",function(){l.update(0,0,1),I&&I.apply(M,A||[])})}if(l.previous=function(){return G[G.indexOf(l)-1]},l.next=function(){return G[G.indexOf(l)+1]},l.revert=function(v,z){if(!z)return l.kill(!0);var E=v!==!1||!l.enabled,F=je;E!==l.isReverted&&(E&&(xt=Math.max(j(),l.scroll.rec||0),ne=l.progress,Vt=r&&r.progress()),D&&[D,T,c,oe].forEach(function(Fe){return Fe.style.display=E?"none":"block"}),E&&(je=l,l.update(E)),u&&(!Ue||!l.isActive)&&(E?js(u,N,de):Ri(u,N,mt(u),Ce)),E||l.update(E),je=F,l.isReverted=E)},l.refresh=function(v,z,E,F){if(!((je||!l.enabled)&&!z)){if(u&&v&&_t){Ie(s,"scrollEnd",Vo);return}!tt&&Y&&Y(l),je=l,ue.tween&&!E&&(ue.tween.kill(),ue.tween=0),k&&k.pause(),C&&r&&r.revert({kill:!1}).invalidate(),l.isReverted||l.revert(!0,!0),l._subPinOffset=!1;var Fe=nt(),Z=kt(),Pe=M?M.duration():Rt(b,y),Ye=U<=.01,Te=0,ye=F||0,pe=Kt(E)?E.end:t.end,bt=t.endTrigger||p,Se=Kt(E)?E.start:t.start||(t.start===0||!p?0:u?"0 0":"0 100%"),at=l.pinnedContainer=t.pinnedContainer&&st(t.pinnedContainer,l),Tt=p&&Math.max(0,G.indexOf(l))||0,Be=Tt,Le,We,Zt,jr,Xe,Ae,Pt,bi,to,yr,Mt,xr,Vr;for($&&Kt(E)&&(xr=w.getProperty(c,y.p),Vr=w.getProperty(oe,y.p));Be-- >0;)Ae=G[Be],Ae.end||Ae.refresh(0,1)||(je=l),Pt=Ae.pin,Pt&&(Pt===p||Pt===u||Pt===at)&&!Ae.isReverted&&(yr||(yr=[]),yr.unshift(Ae),Ae.revert(!0,!0)),Ae!==G[Be]&&(Tt--,Be--);for(Ze(Se)&&(Se=Se(l)),Se=co(Se,"start",l),x=wo(Se,p,Fe,y,j(),D,c,l,Z,V,L,Pe,M,l._startClamp&&"_startClamp")||(u?-.001:0),Ze(pe)&&(pe=pe(l)),ct(pe)&&!pe.indexOf("+=")&&(~pe.indexOf(" ")?pe=(ct(Se)?Se.split(" ")[0]:"")+pe:(Te=ui(pe.substr(2),Fe),pe=ct(Se)?Se:(M?w.utils.mapRange(0,M.duration(),M.scrollTrigger.start,M.scrollTrigger.end,x):x)+Te,bt=p)),pe=co(pe,"end",l),S=Math.max(x,wo(pe||(bt?"100% 0":Pe),bt,Fe,y,j()+Te,T,oe,l,Z,V,L,Pe,M,l._endClamp&&"_endClamp"))||-.001,Te=0,Be=Tt;Be--;)Ae=G[Be],Pt=Ae.pin,Pt&&Ae.start-Ae._pinPush<=x&&!M&&Ae.end>0&&(Le=Ae.end-(l._startClamp?Math.max(0,Ae.start):Ae.start),(Pt===p&&Ae.start-Ae._pinPush<x||Pt===at)&&isNaN(Se)&&(Te+=Le*(1-Ae.progress)),Pt===u&&(ye+=Le));if(x+=Te,S+=Te,l._startClamp&&(l._startClamp+=Te),l._endClamp&&!tt&&(l._endClamp=S||-.001,S=Math.min(S,Rt(b,y))),U=S-x||(x-=.01)&&.001,Ye&&(ne=w.utils.clamp(0,1,w.utils.normalize(x,S,xt))),l._pinPush=ye,D&&Te&&(Le={},Le[y.a]="+="+Te,at&&(Le[y.p]="-="+j()),w.set([D,T],Le)),u&&!(Ui&&l.end>=Rt(b,y)))Le=mt(u),jr=y===De,Zt=j(),ze=parseFloat(xe(y.a))+ye,!Pe&&S>1&&(Mt=(ce?he.scrollingElement||ut:b).style,Mt={style:Mt,value:Mt["overflow"+y.a.toUpperCase()]},ce&&mt(ae)["overflow"+y.a.toUpperCase()]!=="scroll"&&(Mt.style["overflow"+y.a.toUpperCase()]="scroll")),Ri(u,N,Le),Ge=ii(u),We=Ot(u,!0),bi=L&&Wt(b,jr?rt:De)(),d?(Ce=[d+y.os2,U+ye+Re],Ce.t=N,Be=d===Ee?wi(u,y)+U+ye:0,Be&&(Ce.push(y.d,Be+Re),N.style.flexBasis!=="auto"&&(N.style.flexBasis=Be+Re)),mr(Ce),at&&G.forEach(function(br){br.pin===at&&br.vars.pinSpacing!==!1&&(br._subPinOffset=!0)}),L&&j(xt)):(Be=wi(u,y),Be&&N.style.flexBasis!=="auto"&&(N.style.flexBasis=Be+Re)),L&&(Xe={top:We.top+(jr?Zt-x:bi)+Re,left:We.left+(jr?bi:Zt-x)+Re,boxSizing:"border-box",position:"fixed"},Xe[tr]=Xe["max"+_r]=Math.ceil(We.width)+Re,Xe[rr]=Xe["max"+Ki]=Math.ceil(We.height)+Re,Xe[gt]=Xe[gt+Hr]=Xe[gt+Br]=Xe[gt+Nr]=Xe[gt+Lr]="0",Xe[Ee]=Le[Ee],Xe[Ee+Hr]=Le[Ee+Hr],Xe[Ee+Br]=Le[Ee+Br],Xe[Ee+Nr]=Le[Ee+Nr],Xe[Ee+Lr]=Le[Ee+Lr],$e=Zs(de,Xe,Ue),tt&&j(0)),r?(to=r._initted,Ti(1),r.render(r.duration(),!0,!0),vt=xe(y.a)-ze+U+ye,be=Math.abs(U-vt)>1,L&&be&&$e.splice($e.length-2,2),r.render(0,!0,!0),to||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Ti(0)):vt=U,Mt&&(Mt.value?Mt.style["overflow"+y.a.toUpperCase()]=Mt.value:Mt.style.removeProperty("overflow-"+y.a));else if(p&&j()&&!M)for(We=p.parentNode;We&&We!==ae;)We._pinOffset&&(x-=We._pinOffset,S-=We._pinOffset),We=We.parentNode;yr&&yr.forEach(function(br){return br.revert(!1,!0)}),l.start=x,l.end=S,le=K=tt?xt:j(),!M&&!tt&&(le<xt&&j(xt),l.scroll.rec=0),l.revert(!1,!0),re=Ve(),yt&&(R=-1,yt.restart(!0)),je=0,r&&te&&(r._initted||Vt)&&r.progress()!==Vt&&r.progress(Vt||0,!0).render(r.time(),!0,!0),(Ye||ne!==l.progress||M||C||r&&!r._initted)&&(r&&!te&&r.totalProgress(M&&x<-.001&&!ne?w.utils.normalize(x,S,0):ne,!0),l.progress=Ye||(le-x)/U===ne?0:ne),u&&d&&(N._pinOffset=Math.round(l.progress*vt)),k&&k.invalidate(),isNaN(xr)||(xr-=w.getProperty(c,y.p),Vr-=w.getProperty(oe,y.p),oi(c,y,xr),oi(D,y,xr-(F||0)),oi(oe,y,Vr),oi(T,y,Vr-(F||0))),Ye&&!tt&&l.update(),g&&!tt&&!ve&&(ve=!0,g(l),ve=!1)}},l.getVelocity=function(){return(j()-K)/(Ve()-Er)*1e3||0},l.endAnimation=function(){Tr(l.callbackAnimation),r&&(k?k.progress(1):r.paused()?te||Tr(r,l.direction<0,1):Tr(r,r.reversed()))},l.labelToScroll=function(v){return r&&r.labels&&(x||l.refresh()||x)+r.labels[v]/r.duration()*U||0},l.getTrailing=function(v){var z=G.indexOf(l),E=l.direction>0?G.slice(0,z).reverse():G.slice(z+1);return(ct(v)?E.filter(function(F){return F.vars.preventOverlaps===v}):E).filter(function(F){return l.direction>0?F.end<=x:F.start>=S})},l.update=function(v,z,E){if(!(M&&!E&&!v)){var F=tt===!0?xt:l.scroll(),Fe=v?0:(F-x)/U,Z=Fe<0?0:Fe>1?1:Fe||0,Pe=l.progress,Ye,Te,ye,pe,bt,Se,at,Tt;if(z&&(K=le,le=M?j():F,P&&(zt=ot,ot=r&&!te?r.totalProgress():Z)),m&&u&&!je&&!qr&&_t&&(!Z&&x<F+(F-K)/(Ve()-Er)*m?Z=1e-4:Z===1&&S>F+(F-K)/(Ve()-Er)*m&&(Z=.9999)),Z!==Pe&&l.enabled){if(Ye=l.isActive=!!Z&&Z<1,Te=!!Pe&&Pe<1,Se=Ye!==Te,bt=Se||!!Z!=!!Pe,l.direction=Z>Pe?1:-1,l.progress=Z,bt&&!je&&(ye=Z&&!Pe?0:Z===1?1:Pe===1?2:3,te&&(pe=!Se&&O[ye+1]!=="none"&&O[ye+1]||O[ye],Tt=r&&(pe==="complete"||pe==="reset"||pe in r))),me&&(Se||Tt)&&(Tt||h||!r)&&(Ze(me)?me(l):l.getTrailing(me).forEach(function(Zt){return Zt.endAnimation()})),te||(k&&!je&&!qr?(k._dp._time-k._start!==k._time&&k.render(k._dp._time-k._start),k.resetTo?k.resetTo("totalProgress",Z,r._tTime/r._tDur):(k.vars.totalProgress=Z,k.invalidate().restart())):r&&r.totalProgress(Z,!!(je&&(re||v)))),u){if(v&&d&&(N.style[d+y.os2]=Ht),!L)we(Rr(ze+vt*Z));else if(bt){if(at=!v&&Z>Pe&&S+1>F&&F+1>=Rt(b,y),Ue)if(!v&&(Ye||at)){var Be=Ot(u,!0),Le=F-x;yo(u,ae,Be.top+(y===De?Le:0)+Re,Be.left+(y===De?0:Le)+Re)}else yo(u,N);mr(Ye||at?$e:Ge),be&&Z<1&&Ye||we(ze+(Z===1&&!at?vt:0))}}P&&!ue.tween&&!je&&!qr&&yt.restart(!0),a&&(Se||fe&&Z&&(Z<1||!Pi))&&Yr(a.targets).forEach(function(Zt){return Zt.classList[Ye||fe?"add":"remove"](a.className)}),n&&!te&&!v&&n(l),bt&&!je?(te&&(Tt&&(pe==="complete"?r.pause().totalProgress(1):pe==="reset"?r.restart(!0).pause():pe==="restart"?r.restart(!0):r[pe]()),n&&n(l)),(Se||!Pi)&&(_&&Se&&Ei(l,_),q[ye]&&Ei(l,q[ye]),fe&&(Z===1?l.kill(!1,1):q[ye]=0),Se||(ye=Z===1?1:3,q[ye]&&Ei(l,q[ye]))),ge&&!Ye&&Math.abs(l.getVelocity())>(Dr(ge)?ge:2500)&&(Tr(l.callbackAnimation),k?k.progress(1):Tr(r,pe==="reverse"?1:!Z,1))):te&&n&&!je&&n(l)}if(Ct){var We=M?F/M.duration()*(M._caScrollDist||0):F;Xt(We+(c._isFlipped?1:0)),Ct(We)}ar&&ar(-F/M.duration()*(M._caScrollDist||0))}},l.enable=function(v,z){l.enabled||(l.enabled=!0,Ie(b,"resize",kr),ce||Ie(b,"scroll",cr),Y&&Ie(s,"refreshInit",Y),v!==!1&&(l.progress=ne=0,le=K=R=j()),z!==!1&&l.refresh())},l.getTween=function(v){return v&&ue?ue.tween:k},l.setPositions=function(v,z,E,F){if(M){var Fe=M.scrollTrigger,Z=M.duration(),Pe=Fe.end-Fe.start;v=Fe.start+Pe*v/Z,z=Fe.start+Pe*z/Z}l.refresh(!1,!1,{start:uo(v,E&&!!l._startClamp),end:uo(z,E&&!!l._endClamp)},F),l.update()},l.adjustPinSpacing=function(v){if(Ce&&v){var z=Ce.indexOf(y.d)+1;Ce[z]=parseFloat(Ce[z])+v+Re,Ce[1]=parseFloat(Ce[1])+v+Re,mr(Ce)}},l.disable=function(v,z){if(l.enabled&&(v!==!1&&l.revert(!0,!0),l.enabled=l.isActive=!1,z||k&&k.pause(),xt=0,H&&(H.uncache=1),Y&&Oe(s,"refreshInit",Y),yt&&(yt.pause(),ue.tween&&ue.tween.kill()&&(ue.tween=0)),!ce)){for(var E=G.length;E--;)if(G[E].scroller===b&&G[E]!==l)return;Oe(b,"resize",kr),ce||Oe(b,"scroll",cr)}},l.kill=function(v,z){l.disable(v,z),k&&!z&&k.kill(),f&&delete Gi[f];var E=G.indexOf(l);E>=0&&G.splice(E,1),E===et&&pi>0&&et--,E=0,G.forEach(function(F){return F.scroller===l.scroller&&(E=1)}),E||tt||(l.scroll.rec=0),r&&(r.scrollTrigger=null,v&&r.revert({kill:!1}),z||r.kill()),D&&[D,T,c,oe].forEach(function(F){return F.parentNode&&F.parentNode.removeChild(F)}),Ur===l&&(Ur=0),u&&(H&&(H.uncache=1),E=0,G.forEach(function(F){return F.pin===u&&E++}),E||(H.spacer=0)),t.onKill&&t.onKill(l)},G.push(l),l.enable(!1,!1),Ft&&Ft(l),r&&r.add&&!U){var se=l.update;l.update=function(){l.update=se,X.cache++,x||S||l.refresh()},w.delayedCall(.01,l.update),U=.01,x=S=0}else l.refresh();u&&Xs()},s.register=function(t){return ur||(w=t||Uo(),No()&&window.document&&s.enable(),ur=Ar),ur},s.defaults=function(t){if(t)for(var r in t)ti[r]=t[r];return ti},s.disable=function(t,r){Ar=0,G.forEach(function(n){return n[r?"kill":"disable"](t)}),Oe(W,"wheel",cr),Oe(he,"scroll",cr),clearInterval(Qr),Oe(he,"touchcancel",At),Oe(ae,"touchstart",At),Jr(Oe,he,"pointerdown,touchstart,mousedown",fo),Jr(Oe,he,"pointerup,touchend,mouseup",po),_i.kill(),Kr(Oe);for(var o=0;o<X.length;o+=3)ei(Oe,X[o],X[o+1]),ei(Oe,X[o],X[o+2])},s.enable=function(){if(W=window,he=document,ut=he.documentElement,ae=he.body,w&&(Yr=w.utils.toArray,Ir=w.utils.clamp,Ni=w.core.context||At,Ti=w.core.suppressOverwrites||At,Zi=W.history.scrollRestoration||"auto",Yi=W.pageYOffset||0,w.core.globals("ScrollTrigger",s),ae)){Ar=1,gr=document.createElement("div"),gr.style.height="100vh",gr.style.position="absolute",Qo(),Ls(),Me.register(w),s.isTouch=Me.isTouch,Nt=Me.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Hi=Me.isTouch===1,Ie(W,"wheel",cr),Vi=[W,he,ut,ae],w.matchMedia?(s.matchMedia=function(_){var g=w.matchMedia(),h;for(h in _)g.add(h,_[h]);return g},w.addEventListener("matchMediaInit",function(){return eo()}),w.addEventListener("matchMediaRevert",function(){return Zo()}),w.addEventListener("matchMedia",function(){er(0,1),nr("matchMedia")}),w.matchMedia().add("(orientation: portrait)",function(){return Ai(),Ai})):console.warn("Requires GSAP 3.11.0 or later"),Ai(),Ie(he,"scroll",cr);var t=ae.hasAttribute("style"),r=ae.style,o=r.borderTopStyle,n=w.core.Animation.prototype,a,f;for(n.revert||Object.defineProperty(n,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=Ot(ae),De.m=Math.round(a.top+De.sc())||0,rt.m=Math.round(a.left+rt.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),t||(ae.setAttribute("style",""),ae.removeAttribute("style")),Qr=setInterval(mo,250),w.delayedCall(.5,function(){return qr=0}),Ie(he,"touchcancel",At),Ie(ae,"touchstart",At),Jr(Ie,he,"pointerdown,touchstart,mousedown",fo),Jr(Ie,he,"pointerup,touchend,mouseup",po),Li=w.utils.checkPrefix("transform"),hi.push(Li),ur=Ve(),_i=w.delayedCall(.2,er).pause(),fr=[he,"visibilitychange",function(){var _=W.innerWidth,g=W.innerHeight;he.hidden?(ao=_,lo=g):(ao!==_||lo!==g)&&kr()},he,"DOMContentLoaded",er,W,"load",er,W,"resize",kr],Kr(Ie),G.forEach(function(_){return _.enable(0,1)}),f=0;f<X.length;f+=3)ei(Oe,X[f],X[f+1]),ei(Oe,X[f],X[f+2])}},s.config=function(t){"limitCallbacks"in t&&(Pi=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(Qr)||(Qr=r)&&setInterval(mo,r),"ignoreMobileResize"in t&&(Hi=s.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Kr(Oe)||Kr(Ie,t.autoRefreshEvents||"none"),Bo=(t.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(t,r){var o=st(t),n=X.indexOf(o),a=or(o);~n&&X.splice(n,a?6:2),r&&(a?Dt.unshift(W,r,ae,r,ut,r):Dt.unshift(o,r))},s.clearMatchMedia=function(t){G.forEach(function(r){return r._ctx&&r._ctx.query===t&&r._ctx.kill(!0,!0)})},s.isInViewport=function(t,r,o){var n=(ct(t)?st(t):t).getBoundingClientRect(),a=n[o?tr:rr]*r||0;return o?n.right-a>0&&n.left+a<W.innerWidth:n.bottom-a>0&&n.top+a<W.innerHeight},s.positionInViewport=function(t,r,o){ct(t)&&(t=st(t));var n=t.getBoundingClientRect(),a=n[o?tr:rr],f=r==null?a/2:r in yi?yi[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return o?(n.left+f)/W.innerWidth:(n.top+f)/W.innerHeight},s.killAll=function(t){if(G.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var r=sr.killAll||[];sr={},r.forEach(function(o){return o()})}},s}();B.version="3.12.7";B.saveStyles=function(s){return s?Yr(s).forEach(function(e){if(e&&e.style){var i=lt.indexOf(e);i>=0&&lt.splice(i,5),lt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),w.core.getCache(e),Ni())}}):lt};B.revert=function(s,e){return eo(!s,e)};B.create=function(s,e){return new B(s,e)};B.refresh=function(s){return s?kr(!0):(ur||B.register())&&er(!0)};B.update=function(s){return++X.cache&&Lt(s===!0?2:0)};B.clearScrollMemory=$o;B.maxScroll=function(s,e){return Rt(s,e?rt:De)};B.getScrollFunc=function(s,e){return Wt(st(s),e?rt:De)};B.getById=function(s){return Gi[s]};B.getAll=function(){return G.filter(function(s){return s.vars.id!=="ScrollSmoother"})};B.isScrolling=function(){return!!_t};B.snapDirectional=Ji;B.addEventListener=function(s,e){var i=sr[s]||(sr[s]=[]);~i.indexOf(e)||i.push(e)};B.removeEventListener=function(s,e){var i=sr[s],t=i&&i.indexOf(e);t>=0&&i.splice(t,1)};B.batch=function(s,e){var i=[],t={},r=e.interval||.016,o=e.batchMax||1e9,n=function(_,g){var h=[],p=[],u=w.delayedCall(r,function(){g(h,p),h=[],p=[]}).pause();return function(d){h.length||u.restart(!0),h.push(d.trigger),p.push(d),o<=h.length&&u.progress(1)}},a;for(a in e)t[a]=a.substr(0,2)==="on"&&Ze(e[a])&&a!=="onRefreshInit"?n(a,e[a]):e[a];return Ze(o)&&(o=o(),Ie(B,"refresh",function(){return o=e.batchMax()})),Yr(s).forEach(function(f){var _={};for(a in t)_[a]=t[a];_.trigger=f,i.push(B.create(_))}),i};var bo=function(e,i,t,r){return i>r?e(r):i<0&&e(0),t>r?(r-i)/(t-i):t<0?i/(i-t):1},Di=function s(e,i){i===!0?e.style.removeProperty("touch-action"):e.style.touchAction=i===!0?"auto":i?"pan-"+i+(Me.isTouch?" pinch-zoom":""):"none",e===ut&&s(ae,i)},si={auto:1,scroll:1},Qs=function(e){var i=e.event,t=e.target,r=e.axis,o=(i.changedTouches?i.changedTouches[0]:i).target,n=o._gsap||w.core.getCache(o),a=Ve(),f;if(!n._isScrollT||a-n._isScrollT>2e3){for(;o&&o!==ae&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(si[(f=mt(o)).overflowY]||si[f.overflowX]));)o=o.parentNode;n._isScroll=o&&o!==t&&!or(o)&&(si[(f=mt(o)).overflowY]||si[f.overflowX]),n._isScrollT=a}(n._isScroll||r==="x")&&(i.stopPropagation(),i._gsapAllow=!0)},Ko=function(e,i,t,r){return Me.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:i,onWheel:r=r&&Qs,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return t&&Ie(he,Me.eventTypes[0],Co,!1,!0)},onDisable:function(){return Oe(he,Me.eventTypes[0],Co,!0)}})},qs=/(input|label|select|textarea)/i,So,Co=function(e){var i=qs.test(e.target.tagName);(i||So)&&(e._gsapAllow=!0,So=i)},Ks=function(e){Kt(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var i=e,t=i.normalizeScrollX,r=i.momentum,o=i.allowNestedScroll,n=i.onRelease,a,f,_=st(e.target)||ut,g=w.core.globals().ScrollSmoother,h=g&&g.get(),p=Nt&&(e.content&&st(e.content)||h&&e.content!==!1&&!h.smooth()&&h.content()),u=Wt(_,De),d=Wt(_,rt),C=1,m=(Me.isTouch&&W.visualViewport?W.visualViewport.scale*W.visualViewport.width:W.outerWidth)/W.innerWidth,Q=0,J=Ze(r)?function(){return r(a)}:function(){return r||2.8},fe,P,Ue=Ko(_,e.type,!0,o),ee=function(){return P=!1},M=At,ge=At,me=function(){f=Rt(_,De),ge=Ir(Nt?1:0,f),t&&(M=Ir(0,Rt(_,rt))),fe=ir},y=function(){p._gsap.y=Rr(parseFloat(p._gsap.y)+u.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",u.offset=u.cacheID=0},te=function(){if(P){requestAnimationFrame(ee);var $=Rr(a.deltaY/2),V=ge(u.v-$);if(p&&V!==u.v+u.offset){u.offset=V-u.v;var l=Rr((parseFloat(p&&p._gsap.y)||0)-u.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+l+", 0, 1)",p._gsap.y=l+"px",u.cacheID=X.cache,Lt()}return!0}u.offset&&y(),P=!0},b,ke,ce,L,q=function(){me(),b.isActive()&&b.vars.scrollY>f&&(u()>f?b.progress(1)&&u(f):b.resetTo("scrollY",f))};return p&&w.set(p,{y:"+=0"}),e.ignoreCheck=function(O){return Nt&&O.type==="touchmove"&&te()||C>1.05&&O.type!=="touchstart"||a.isGesturing||O.touches&&O.touches.length>1},e.onPress=function(){P=!1;var O=C;C=Rr((W.visualViewport&&W.visualViewport.scale||1)/m),b.pause(),O!==C&&Di(_,C>1.01?!0:t?!1:"x"),ke=d(),ce=u(),me(),fe=ir},e.onRelease=e.onGestureStart=function(O,$){if(u.offset&&y(),!$)L.restart(!0);else{X.cache++;var V=J(),l,Y;t&&(l=d(),Y=l+V*.05*-O.velocityX/.227,V*=bo(d,l,Y,Rt(_,rt)),b.vars.scrollX=M(Y)),l=u(),Y=l+V*.05*-O.velocityY/.227,V*=bo(u,l,Y,Rt(_,De)),b.vars.scrollY=ge(Y),b.invalidate().duration(V).play(.01),(Nt&&b.vars.scrollY>=f||l>=f-1)&&w.to({},{onUpdate:q,duration:V})}n&&n(O)},e.onWheel=function(){b._ts&&b.pause(),Ve()-Q>1e3&&(fe=0,Q=Ve())},e.onChange=function(O,$,V,l,Y){if(ir!==fe&&me(),$&&t&&d(M(l[2]===$?ke+(O.startX-O.x):d()+$-l[1])),V){u.offset&&y();var nt=Y[2]===V,kt=nt?ce+O.startY-O.y:u()+V-Y[1],R=ge(kt);nt&&kt!==R&&(ce+=R-kt),u(R)}(V||$)&&Lt()},e.onEnable=function(){Di(_,t?!1:"x"),B.addEventListener("refresh",q),Ie(W,"resize",q),u.smooth&&(u.target.style.scrollBehavior="auto",u.smooth=d.smooth=!1),Ue.enable()},e.onDisable=function(){Di(_,!0),Oe(W,"resize",q),B.removeEventListener("refresh",q),Ue.kill()},e.lockAxis=e.lockAxis!==!1,a=new Me(e),a.iOS=Nt,Nt&&!u()&&u(1),Nt&&w.ticker.add(At),L=a._dc,b=w.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:qo(u,u(),function(){return b.pause()})},onUpdate:Lt,onComplete:L.vars.onComplete}),a};B.sort=function(s){if(Ze(s))return G.sort(s);var e=W.pageYOffset||0;return B.getAll().forEach(function(i){return i._sortY=i.trigger?e+i.trigger.getBoundingClientRect().top:i.start+W.innerHeight}),G.sort(s||function(i,t){return(i.vars.refreshPriority||0)*-1e6+(i.vars.containerAnimation?1e6:i._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};B.observe=function(s){return new Me(s)};B.normalizeScroll=function(s){if(typeof s>"u")return Je;if(s===!0&&Je)return Je.enable();if(s===!1){Je&&Je.kill(),Je=s;return}var e=s instanceof Me?s:Ks(s);return Je&&Je.target===e.target&&Je.kill(),or(e.target)&&(Je=e),e};B.core={_getVelocityProp:Bi,_inputObserver:Ko,_scrollers:X,_proxies:Dt,bridge:{ss:function(){_t||nr("scrollStart"),_t=Ve()},ref:function(){return je}}};Uo()&&w.registerPlugin(B);var Gr=function(){var s=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(g){g.preventDefault(),t(++s%e.children.length)},!1);function i(g){return e.appendChild(g.dom),g}function t(g){for(var h=0;h<e.children.length;h++)e.children[h].style.display=h===g?"block":"none";s=g}var r=(performance||Date).now(),o=r,n=0,a=i(new Gr.Panel("FPS","#0ff","#002")),f=i(new Gr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var _=i(new Gr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:i,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){n++;var g=(performance||Date).now();if(f.update(g-r,200),g>=o+1e3&&(a.update(n*1e3/(g-o),100),o=g,n=0,_)){var h=performance.memory;_.update(h.usedJSHeapSize/1048576,h.jsHeapSizeLimit/1048576)}return g},update:function(){r=this.end()},domElement:e,setMode:t}};Gr.Panel=function(s,e,i){var t=1/0,r=0,o=Math.round,n=o(window.devicePixelRatio||1),a=80*n,f=48*n,_=3*n,g=2*n,h=3*n,p=15*n,u=74*n,d=30*n,C=document.createElement("canvas");C.width=a,C.height=f,C.style.cssText="width:80px;height:48px";var m=C.getContext("2d");return m.font="bold "+9*n+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=i,m.fillRect(0,0,a,f),m.fillStyle=e,m.fillText(s,_,g),m.fillRect(h,p,u,d),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(h,p,u,d),{dom:C,update:function(Q,J){t=Math.min(t,Q),r=Math.max(r,Q),m.fillStyle=i,m.globalAlpha=1,m.fillRect(0,0,a,p),m.fillStyle=e,m.fillText(o(Q)+" "+s+" ("+o(t)+"-"+o(r)+")",_,g),m.drawImage(C,h+n,p,u-n,d,h,p,u-n,d),m.fillRect(h+u-n,p,n,d),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(h+u-n,p,n,o((1-Q/J)*d))}}};const Jo={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Xr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Js=new hs(-1,1,1,-1,0,1);class en extends ds{constructor(){super(),this.setAttribute("position",new ro([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ro([0,2,0,0,2,0],2))}}const tn=new en;class es{constructor(e){this._mesh=new Et(tn,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Js)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class rn extends Xr{constructor(e,i){super(),this.textureID=i!==void 0?i:"tDiffuse",e instanceof pr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=zi.clone(e.uniforms),this.material=new pr({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new es(this.material)}render(e,i,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class To extends Xr{constructor(e,i){super(),this.scene=e,this.camera=i,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,i,t){const r=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let n,a;this.inverse?(n=0,a=1):(n=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,n,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),o.buffers.stencil.setLocked(!0)}}class on extends Xr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class sn{constructor(e,i){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),i===void 0){const t=e.getSize(new dt);this._width=t.width,this._height=t.height,i=new ai(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:li}),i.texture.name="EffectComposer.rt1"}else this._width=i.width,this._height=i.height;this.renderTarget1=i,this.renderTarget2=i.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new rn(Jo),this.copyPass.material.blending=gs,this.clock=new ms}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,i){this.passes.splice(i,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const i=this.passes.indexOf(e);i!==-1&&this.passes.splice(i,1)}isLastEnabledPass(e){for(let i=e+1;i<this.passes.length;i++)if(this.passes[i].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const i=this.renderer.getRenderTarget();let t=!1;for(let r=0,o=this.passes.length;r<o;r++){const n=this.passes[r];if(n.enabled!==!1){if(n.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),n.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),n.needsSwap){if(t){const a=this.renderer.getContext(),f=this.renderer.state.buffers.stencil;f.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),f.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}To!==void 0&&(n instanceof To?t=!0:n instanceof on&&(t=!1))}}this.renderer.setRenderTarget(i)}reset(e){if(e===void 0){const i=this.renderer.getSize(new dt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=i.width,this._height=i.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,i){this._width=e,this._height=i;const t=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(t,r),this.renderTarget2.setSize(t,r);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(t,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class nn extends Xr{constructor(e,i,t=null,r=null,o=null){super(),this.scene=e,this.camera=i,this.overrideMaterial=t,this.clearColor=r,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new It}render(e,i,t){const r=e.autoClear;e.autoClear=!1;let o,n;this.overrideMaterial!==null&&(n=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=n),e.autoClear=r}}const an={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new It(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class vr extends Xr{constructor(e,i,t,r){super(),this.strength=i!==void 0?i:1,this.radius=t,this.threshold=r,this.resolution=e!==void 0?new dt(e.x,e.y):new dt(256,256),this.clearColor=new It(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);this.renderTargetBright=new ai(o,n,{type:li}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let h=0;h<this.nMips;h++){const p=new ai(o,n,{type:li});p.texture.name="UnrealBloomPass.h"+h,p.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(p);const u=new ai(o,n,{type:li});u.texture.name="UnrealBloomPass.v"+h,u.texture.generateMipmaps=!1,this.renderTargetsVertical.push(u),o=Math.round(o/2),n=Math.round(n/2)}const a=an;this.highPassUniforms=zi.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new pr({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const f=[3,5,7,9,11];o=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);for(let h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(f[h])),this.separableBlurMaterials[h].uniforms.invSize.value=new dt(1/o,1/n),o=Math.round(o/2),n=Math.round(n/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=i,this.compositeMaterial.uniforms.bloomRadius.value=.1;const _=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=_,this.bloomTintColors=[new ht(1,1,1),new ht(1,1,1),new ht(1,1,1),new ht(1,1,1),new ht(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const g=Jo;this.copyUniforms=zi.clone(g.uniforms),this.blendMaterial=new pr({uniforms:this.copyUniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader,blending:_s,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new It,this.oldClearAlpha=1,this.basic=new Fi,this.fsQuad=new es(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,i){let t=Math.round(e/2),r=Math.round(i/2);this.renderTargetBright.setSize(t,r);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(t,r),this.renderTargetsVertical[o].setSize(t,r),this.separableBlurMaterials[o].uniforms.invSize.value=new dt(1/t,1/r),t=Math.round(t/2),r=Math.round(r/2)}render(e,i,t,r,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const n=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let f=0;f<this.nMips;f++)this.fsQuad.material=this.separableBlurMaterials[f],this.separableBlurMaterials[f].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[f].uniforms.direction.value=vr.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[f]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[f].uniforms.colorTexture.value=this.renderTargetsHorizontal[f].texture,this.separableBlurMaterials[f].uniforms.direction.value=vr.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[f]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[f];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=n}getSeparableBlurMaterial(e){const i=[];for(let t=0;t<e;t++)i.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new pr({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new dt(.5,.5)},direction:{value:new dt(.5,.5)},gaussianCoefficients:{value:i}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new pr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}vr.BlurDirectionX=new dt(1,0);vr.BlurDirectionY=new dt(0,1);function ln(s,e,i,t){return{introCubes:[]}}class cn extends vs{constructor(e){super(e)}load(e,i,t,r){const o=this,n=new ws(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,function(a){const f=o.parse(JSON.parse(a));i&&i(f)},t,r)}parse(e){return new un(e)}}class un{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,i=100){const t=[],r=fn(e,i,this.data);for(let o=0,n=r.length;o<n;o++)t.push(...r[o].toShapes());return t}}function fn(s,e,i){const t=Array.from(s),r=e/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,n=[];let a=0,f=0;for(let _=0;_<t.length;_++){const g=t[_];if(g===`
`)a=0,f-=o;else{const h=pn(g,r,a,f,i);a+=h.offsetX,n.push(h.path)}}return n}function pn(s,e,i,t,r){const o=r.glyphs[s]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+s+'" does not exists in font family '+r.familyName+".");return}const n=new ys;let a,f,_,g,h,p,u,d;if(o.o){const C=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let m=0,Q=C.length;m<Q;)switch(C[m++]){case"m":a=C[m++]*e+i,f=C[m++]*e+t,n.moveTo(a,f);break;case"l":a=C[m++]*e+i,f=C[m++]*e+t,n.lineTo(a,f);break;case"q":_=C[m++]*e+i,g=C[m++]*e+t,h=C[m++]*e+i,p=C[m++]*e+t,n.quadraticCurveTo(h,p,_,g);break;case"b":_=C[m++]*e+i,g=C[m++]*e+t,h=C[m++]*e+i,p=C[m++]*e+t,u=C[m++]*e+i,d=C[m++]*e+t,n.bezierCurveTo(h,p,u,d,_,g);break}}return{offsetX:o.ha*e,path:n}}function Po(s,e,i,t,r,o){const{CUBE_SIZE:n,CUBE_SPACING:a,FIRST_CUBE_Z:f}=e,_=f-(i.length+1)*a,g=65535,h=16711935,p=16711680,u=pt.degToRad(15),d=1e3,C=.5,m=80,Q=1,J=15,fe=.1;let P=[],Ue=null,ee=null,M=!1,ge=!1,me=new xs,y=new dt,te=null,b=null,ke=null,ce=!1,L=null;const q=Eo(),O=(R,re,ne,j,ue,H)=>{const ie=new Sr;ie.position.z=ne,ie.rotation.z=j,ie.userData.isActive=!1;const le=new Ss(re,re,re),K=new Si(le),x=new Ci({color:new It(g),transparent:!0,opacity:0}),S=new Qt(K,x);S.geometry.computeBoundingSphere(),ie.add(S);let D="right";const T=re/2;(()=>{const de=new io(40,24),$e=new Si(de),Ge=new Ci({color:new It(g),transparent:!0,opacity:0,visible:!0}),N=new Qt($e,Ge);N.userData.isPortal=!0,N.userData.isAnimating=!1,N.geometry.computeBoundingSphere();const it=new oo(120,120),xe=new Fi({visible:!1,side:so}),we=new Et(it,xe);we.userData.isPortalHitbox=!0,we.userData.portal=N,we.geometry.computeBoundingSphere();const ze=new Sr,vt=new oo(Q,J),Ht=65/2;for(let be=0;be<m;be++){const Ct=new Fi({color:new It(h),transparent:!0,opacity:0,visible:!1,side:so}),Qe=new Et(vt,Ct),ot=be/m*Math.PI*2;Qe.position.set(Math.cos(ot)*Ht,Math.sin(ot)*Ht,0),Qe.rotation.z=ot+Math.PI/2,Qe.userData.baseOpacity=.01,Qe.userData.index=be,Qe.geometry.computeBoundingSphere(),ze.add(Qe)}const Ce=2,Xt=25;for(let be=1;be<Xt;be++){const Ct=new io(40,24),Qe=new Si(Ct),ot=pt.lerp(1,.1,be/(Xt-1)),zt=new Ci({color:new It(g),transparent:!0,opacity:0}),k=new Qt(Qe,zt);k.userData.isPortal=!0,k.userData.maxOpacity=ot,k.position.z=-be*Ce,k.geometry.computeBoundingSphere(),N.add(k)}switch(N.userData.maxOpacity=1,D){case"left":case"right":ze.children.forEach(be=>be.position.x+=fe);break;case"top":case"bottom":ze.children.forEach(be=>be.position.y+=fe);break}switch(N.add(ze),ie.add(N),ie.add(we),N.updateMatrixWorld(!0),ze.updateMatrixWorld(!0),D){case"left":N.position.set(-T,0,0),N.rotation.y=Math.PI/2,we.position.set(-T,0,0),we.rotation.y=Math.PI/2;break;case"top":N.position.set(0,T,0),N.rotation.x=-Math.PI/2,we.position.set(0,T,0),we.rotation.x=Math.PI/2;break;case"right":N.position.set(T,0,0),N.rotation.y=-Math.PI/2,we.position.set(T,0,0),we.rotation.y=-Math.PI/2;break;case"bottom":N.position.set(0,-T,0),N.rotation.x=Math.PI/2,we.position.set(0,-T,0),we.rotation.x=Math.PI/2;break}})(),ie.children.forEach(ve=>{(ve instanceof Qt||ve instanceof Et)&&ve.geometry&&!ve.geometry.boundingSphere&&ve.geometry.computeBoundingSphere()}),ie.updateMatrixWorld(!0);const oe=new Cs().setFromObject(ie),_e=new Ts;return oe.getBoundingSphere(_e),ie.boundingSphere=_e,ie},$=()=>new Promise(R=>{Ue=new cn,Ue.load("/fonts/Poppins_Regular.json",re=>{ee=re;const ne=Array.isArray(i)?i:[];Array.isArray(i)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",i),ne.forEach((j,ue)=>{const H=f-(ue+1)*a,ie=(ue+1)*u,le=O(j,n,H,ie,j.keyart,j.keyartLocation);s.add(le),P.push(le)}),R()},void 0,re=>console.error("Error loading font:",re))}),V=()=>M?Promise.resolve({projectCubes:P,updateCubeColors:nt,loadedFont:ee,maxZ:_}):$().then(()=>(M=!0,{projectCubes:P,updateCubeColors:nt,loadedFont:ee,maxZ:_})).catch(R=>{throw console.error("Error in loadFontAndText:",R),R}),l=R=>{if(!R.userData.isAnimating)return;R.userData.isAnimating=!1;const re=R.children.find(ne=>ne instanceof Sr);re&&(R.userData.animationTimeline&&(R.userData.animationTimeline.kill(),delete R.userData.animationTimeline),re.children.forEach(ne=>{const j=ne.material;j.opacity=0}))},Y=new bs,nt=R=>{const re=performance.now();Y.setFromProjectionMatrix(R.projectionMatrix.clone().multiply(R.matrixWorldInverse));const ne=R.position.z;let j=[];s.traverse(H=>{H instanceof Et&&H.geometry&&H.geometry.type==="TextGeometry"&&j.push(H)}),ge||(ge=!0),P.forEach((H,ie)=>{if(!H.geometry&&!H.children.length){console.warn(`Cube ${ie} has no geometry or children`,H);return}try{if(!Y.intersectsObject(H))return}catch(S){console.error(`Error with cube ${ie}`,H,S);return}const le=H.position.z,K=Math.abs(ne-le);let x=0;K<=d&&(x=1-K/d),H.userData.isActive=x>=C,H.children.forEach(S=>{if(S instanceof Qt&&!S.userData.isPortal&&!S.userData.isPortalHitbox){const D=S.material;if(K<=d){const T=pt.lerp((g>>16&255)/255,(h>>16&255)/255,x),c=pt.lerp((g>>8&255)/255,(h>>8&255)/255,x),oe=pt.lerp((g&255)/255,(h&255)/255,x);D.color.set(T,c,oe),D.opacity=Math.min(1,x*2)}else D.opacity=0}else if(S instanceof Qt&&S.userData.isPortal)ge&&(x>.1?S.children.forEach(D=>{D instanceof Sr&&D.children.forEach(T=>{T instanceof Et&&(T.material.visible=!0,!S.userData.animationStarted&&o.showPortalPulses)})}):x<=.1&&S.userData.animationStarted&&(S.children.forEach(D=>{D instanceof Sr&&D.children.forEach(T=>{T instanceof Et&&(T.material.visible=!1)})}),l(S),delete S.userData.animationStarted));else if(S instanceof Et&&!S.userData.isPortalHitbox){const D=S.material;if(K<=d){const T=1-K/d;D.opacity=Math.min(.8,T*2)}else D.opacity=0}})}),j.forEach(H=>{const ie=H.material,le=H.userData.backgroundPlane,K=le==null?void 0:le.material,x=H.position.z,S=Math.abs(ne-x+120);if(S<=d){const D=1-S/d,T=Math.min(1,D*2);ie.opacity=T,K&&(K.opacity=T*.8)}else ie.opacity=0,K&&(K.opacity=0)});const ue=performance.now();ue-re>16&&console.log(`updateCubeColors: ${ue-re}ms`)};return{getInitializedData:V,updateCubeColors:nt,setupInteractivity:(R,re,ne)=>{L=ne;let j=null,ue=null;const H=(x,S=!0)=>{const D=[x,...x.children.filter(c=>c instanceof Qt&&c.userData.isPortal)],T=S?25:2;D.forEach((c,oe)=>{let _e=-oe*T;(x.position.y>0&&x.rotation.x===-Math.PI/2||x.position.y<0&&x.rotation.x===Math.PI/2)&&(_e=oe*T);const ve=S?c.userData.maxOpacity:0;He.to(c.position,{z:_e,duration:1,ease:"power3.out",delay:.5}),He.to(c.material,{opacity:ve,duration:1,ease:"power3.out",delay:.5})})},ie=x=>{y.x=x.clientX/window.innerWidth*2-1,y.y=-(x.clientY/window.innerHeight)*2+1,me.setFromCamera(y,R);const S=P.flatMap(T=>T.userData.isActive?T.children.filter(c=>c instanceof Et&&c.userData.isPortalHitbox):[]),D=me.intersectObjects(S);if(D.length>0){const c=D[0].object.userData.portal;if(te!==c){if(te){const _e=te.material;He.to(_e.color,{r:(g>>16&255)/255,g:(g>>8&255)/255,b:(g&255)/255,duration:.5})}te=c;const oe=te.material;He.to(oe.color,{r:(p>>16&255)/255,g:(p>>8&255)/255,b:(p&255)/255,duration:.5})}re.style.cursor="pointer"}else{if(te){const T=te.material;He.to(T.color,{r:(g>>16&255)/255,g:(g>>8&255)/255,b:(g&255)/255,duration:.5}),te=null}re.style.cursor="auto"}},le=x=>{y.x=x.clientX/window.innerWidth*2-1,y.y=-(x.clientY/window.innerHeight)*2+1,me.setFromCamera(y,R);const S=P.flatMap(U=>U.userData.isActive?U.children.filter(de=>de instanceof Et&&de.userData.isPortalHitbox):[]),D=me.intersectObjects(S);if(D.length===0)return;const T=D[0].object,c=T.userData.portal,oe=T.parent,_e=P.indexOf(oe),ve=i[_e];if(ce&&c===ue){c.getWorldPosition(new ht);let U=new ht;const de=e.CUBE_SIZE/2;c.position.x===de?U.set(-1,0,0):c.position.x===-de?U.set(1,0,0):c.position.y===de?U.set(0,-1,0):c.position.y===-de&&U.set(0,1,0),U.applyQuaternion(oe.getWorldQuaternion(new Ps)).normalize();const Ge=R.position.clone().clone().add(U.clone().multiplyScalar(-675)),N=U.clone().multiplyScalar(-1e3),it=Ge.clone().add(N);He.to(R.position,{x:Ge.x,y:Ge.y,z:Ge.z,duration:1,ease:"power2.in",onUpdate:()=>R.lookAt(it),onComplete:()=>{ve!=null&&ve.slug&&(q.setScrollPosition(window.scrollY),rs.visit(route("project.show",{project:ve.slug}),{preserveScroll:!1}))}})}else if(!ce){b||(b=R.position.clone(),ke=new ht(0,0,_)),L&&ne(!0,b,ke);const U=c.getWorldPosition(new ht);He.to(R.position,{x:0,y:0,z:oe.getWorldPosition(new ht).z,duration:2,ease:"power3.out"}),He.to({},{duration:2,ease:"power3.out",onUpdate:function(){const de=this.progress(),$e=R.getWorldDirection(new ht).multiplyScalar(1e3).add(R.position),Ge=pt.lerp($e.x,U.x,de),N=pt.lerp($e.y,U.y,de),it=pt.lerp($e.z,U.z,de);R.lookAt(Ge,N,it)},onStart:()=>{ce=!0,j=window.scrollY,document.body.classList.add("no-scrollbar"),ue=c,H(c,!0)}})}},K=x=>{if(!ce||!ue||!b||!ke)return;let S=0;if(x instanceof WheelEvent?S=x.deltaY:S=window.scrollY-(j||0),x.preventDefault(),x.stopPropagation(),S>0){window.scrollTo(0,j);return}if(S<0){const D=ue,T=ke.clone(),c=b.z;He.to(R.position,{x:b.x,y:b.y,z:c,duration:1,ease:"power3.out"}),He.to({},{duration:1,ease:"power3.out",onUpdate:function(){const oe=this.progress(),_e=R.getWorldDirection(new ht).multiplyScalar(1e3).add(R.position),ve=pt.lerp(_e.x,T.x,oe),U=pt.lerp(_e.y,T.y,oe),de=pt.lerp(_e.z,T.z,oe);R.lookAt(ve,U,de)},onComplete:()=>{R.lookAt(T),ce=!1,ue=null,document.body.classList.remove("no-scrollbar"),L&&ne(!1),H(D,!1),j=null,b=null,ke=null}})}};return re.addEventListener("mousemove",ie),re.addEventListener("click",le),window.addEventListener("wheel",K,{passive:!1}),window.addEventListener("scroll",K,{passive:!1}),()=>{re.removeEventListener("mousemove",ie),re.removeEventListener("click",le),window.removeEventListener("wheel",K),window.removeEventListener("scroll",K)}}}}He.registerPlugin(B);function hn(s,e,i,t,r,o,n={},a,f){B.config({syncTouch:!0});const{CUBE_SPACING:_,FIRST_CUBE_Z:g}=o,h=(t==null?void 0:t.length)||0,p=g-(h+1)*_;let u=!1;const d=Math.abs(p)+(h-1)*_,C=He.timeline();return He.timeline({scrollTrigger:{trigger:i.value,start:"top top",end:`+=${d}`,scrub:n.scrub||.5,pin:!0,onUpdate:J=>{if(!u){const fe=J.progress,P=pt.lerp(0,p,fe);e.position.set(0,0,P),e.lookAt(0,0,p)}r(e)}}}).fromTo(e.position,{z:0},{z:p,duration:1,ease:"none"}),{setReverting:Q=>{u=Q},timeline:C}}const dn={class:"preloader"},gn={class:"progress-label"},mn=Xi({__name:"Preloader",props:{progress:{}},setup(s){return(e,i)=>(gi(),ji("div",dn,[Jt("div",gn,is(Math.round(e.progress))+"%",1)]))}}),_n=Mo(mn,[["__scopeId","data-v-e5eadefa"]]),ki=250,ni=500,Pr=-500,vn=Xi({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(s){He.registerPlugin(B);const e=Eo();e.isMobile=/iPhone|iPad|Android/i.test(navigator.userAgent);const i=s,t={showChasers:!1,showStarfield:!1,showCars:!1,showBuildings:!1,showPortalPulses:!1,showKeyarts:!1,showProjectGrids:!1,showProjectTitles:!1,showScrollTrigger:!0,showIntroCubes:!1},r=$t(null),o=$t(null),n=$t(!1),a=$t(0),f=$t(!1),_=$t(!0),g=new Map;$t(null);let h,p,u,d,C,m,Q,J=null,fe=null,P=null,Ue=null,ee=null,M=[],ge=null,me=null;const y=()=>{const L=r.value?r.value.getBoundingClientRect().width:window.innerWidth,q=window.innerHeight,O=e.isMobile?.75:1;u.setSize(L*O,q*O),d.setSize(L*O,q*O),p.aspect=L/q,p.far=6e4,p.updateProjectionMatrix(),u.domElement.style.width=`${L}px`,u.domElement.style.height=`${q}px`},te=L=>g.has(L)?Promise.resolve(g.get(L)):new Promise((q,O)=>{new ks().load(L,V=>{V.encoding=void 0,g.set(L,V),q(V)},void 0,V=>O(V))}),b=async()=>{h=new Ms,h.background=new It(0),h.fog=new Es(0,700,4e3),p=new As(75,window.innerWidth/window.innerHeight,1,6e4),p.position.set(0,0,0),p.lookAt(0,0,1e3),u=new Rs({antialias:!0}),e.isMobile?u.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):u.setPixelRatio(window.devicePixelRatio),u.toneMapping=Ds,u.toneMappingExposure=1,u.outputEncoding=void 0,d=new sn(u);const L=new nn(h,p);if(d.addPass(L),C=new vr(new dt(window.innerWidth,window.innerHeight),6,.4,0),C.renderToScreen=!0,e.isMobile||d.addPass(C),r.value)r.value.appendChild(u.domElement),u.domElement.style.opacity="0";else return;m=new Gr,m.dom.style.position="fixed",m.dom.style.top="0px",m.dom.style.left="0px",m.dom.style.zIndex="1000",document.body.appendChild(m.dom);const q=i.projects.length+2+1;let O=0;const $=()=>{O++,a.value=O/q*100,O===q&&(n.value=!0)};await te(i.projectGridFile).then(()=>$()).catch(()=>$()),await te(i.projectGridFile2).then(()=>$()).catch(()=>$());for(const Y of i.projects)Y.keyart?await te(Y.keyart).then(()=>$()).catch(()=>$()):$();const V=Po(h,{CUBE_SIZE:ki,CUBE_SPACING:ni,FIRST_CUBE_Z:Pr},i.projects,i.projectGridFile,i.projectGridFile2,t);let l=-8500;try{const Y=await V.getInitializedData();l=Y.maxZ!==void 0&&!isNaN(Y.maxZ)?Y.maxZ:-8500,$();const{introCubes:nt}=ln(h,h,{CUBE_SIZE:ki,FIRST_CUBE_Z:Pr},t);M=[...nt,...Y.projectCubes],ge=Y.updateCubeColors,t.showCars,t.showStarfield,t.showChasers,y()}catch(Y){console.error("Error initializing project cubes:",Y)}},ke=(L=0)=>{u&&d&&(e.isMobile,f.value,d.render(),m.update()),me=requestAnimationFrame(ke)};os(()=>{b().then(()=>{if(n.value){me=requestAnimationFrame(ke);const L=Po(h,{CUBE_SIZE:ki,CUBE_SPACING:ni,FIRST_CUBE_Z:Pr},i.projects,i.projectGridFile,i.projectGridFile2,t);let q=null;const O=L.getInitializedData().then(({projectCubes:V})=>{V.forEach(Y=>{Y.userData.isActive=!0});const l=Pr-(i.projects.length-1)*ni;p.position.set(0,0,5e3),p.lookAt(0,0,l),p.updateProjectionMatrix(),ge(p),d.render(),M.length&&ge&&(q=hn(h,p,o,M,ge,{CUBE_SPACING:ni,FIRST_CUBE_Z:Pr},{scrub:e.isMobile?3:1}).setReverting),u&&fe===null&&(fe=L.setupInteractivity(p,u.domElement,Y=>{q&&q(Y)})),window.scrollTo({top:0,behavior:"auto"})}),$=()=>{O.then(()=>{_.value=!1,p.position.set(0,0,5e3),p.updateProjectionMatrix(),He.to(u.domElement,{opacity:1,duration:.5,ease:"power4.out"});const V={z:5e3};He.to(V,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{p.position.z=V.z,p.updateProjectionMatrix()},onComplete:()=>{p.position.z=0,f.value=!0}})})};He.delayedCall(.1,$)}}).catch(L=>{console.error("Initialization failed:",L)}),window.addEventListener("resize",ce)}),ss(()=>{me!==null&&cancelAnimationFrame(me),fe&&fe(),window.removeEventListener("resize",ce),B.getAll().forEach(L=>L.kill()),u.dispose(),d.dispose(),h.clear(),document.body.removeChild(m.dom),ee&&ee()});const ce=()=>{y(),B.refresh()};return(L,q)=>(gi(),ji("section",{ref_key:"wrapper",ref:o,class:"wrapper"},[Mr(ns,{name:"fade"},{default:as(()=>[_.value?(gi(),ls(_n,{key:0,progress:a.value},null,8,["progress"])):cs("",!0)]),_:1}),Jt("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),wn=Mo(vn,[["__scopeId","data-v-d96a0e30"]]),yn={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},xn={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},bn={class:"overflow-hidden"},Dn=Xi({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(s){return(e,i)=>(gi(),ji(ps,null,[Mr(us(fs),{title:"Welcome"}),Jt("div",yn,[Jt("nav",xn,[Mr(zs)]),Jt("div",bn,[Mr(wn,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),i[0]||(i[0]=Jt("div",{class:"flex justify-center items-center"},null,-1)),i[1]||(i[1]=Jt("div",{class:"flex justify-center items-center -mt-24 mix-blend-screen"},null,-1)),Mr(Fs)])],64))}});export{Dn as default};
