import{I as Or,d as sn,D as Ms,x as Wo,y as Yo,e as Lr,o as tr,J as Es,W as Is,a as un,t as As,b as an,T as ks,w as Rs,c as Ds,f as Ns,u as Os,m as Ls,F as Bs}from"./app-B437l2Be.js";import{M as Ge,O as Xo,B as lo,F as Wn,C as ht,V as pe,W as xr,H as vr,U as $r,S as Pn,a as Ye,A as St,b as _t,N as Fs,c as zs,d as jo,e as Vo,f as nr,P as Yt,E as Gs,g as Zo,h as qo,i as bn,j as Us,k as Hs,l as Ws,m as zr,n as Ys,o as Qt,p as Dt,q as Xs,D as Bt,r as Rt,s as We,t as Ue,u as Yn,v as Kt,R as js,T as vn,w as bo,Q as Vs,I as Zs,x as Gr,y as qs,z as Qs,J as Zi,K as qi,X as Qi,Y as $i,Z as Ki,_ as $s,$ as Ks,a0 as Js,L as ei,G as ti}from"./GlobalFooter-tcqMNgcl.js";import{_ as Qo}from"./_plugin-vue_export-helper-DlAUqK2U.js";class sr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ni=new Xo(-1,1,1,-1,0,1);class ri extends lo{constructor(){super(),this.setAttribute("position",new Wn([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Wn([0,2,0,0,2,0],2))}}const oi=new ri;class $o{constructor(e){this._mesh=new Ge(oi,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ni)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const Ko={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},si={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new ht(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class gn extends sr{constructor(e,r,t,n){super(),this.strength=r!==void 0?r:1,this.radius=t,this.threshold=n,this.resolution=e!==void 0?new pe(e.x,e.y):new pe(256,256),this.clearColor=new ht(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new xr(o,l,{type:vr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let v=0;v<this.nMips;v++){const P=new xr(o,l,{type:vr});P.texture.name="UnrealBloomPass.h"+v,P.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(P);const _=new xr(o,l,{type:vr});_.texture.name="UnrealBloomPass.v"+v,_.texture.generateMipmaps=!1,this.renderTargetsVertical.push(_),o=Math.round(o/2),l=Math.round(l/2)}const u=si;this.highPassUniforms=$r.clone(u.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Pn({uniforms:this.highPassUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}),this.separableBlurMaterials=[];const w=[3,5,7,9,11];o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);for(let v=0;v<this.nMips;v++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(w[v])),this.separableBlurMaterials[v].uniforms.invSize.value=new pe(1/o,1/l),o=Math.round(o/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const T=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=T,this.bloomTintColors=[new Ye(1,1,1),new Ye(1,1,1),new Ye(1,1,1),new Ye(1,1,1),new Ye(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const N=Ko;this.copyUniforms=$r.clone(N.uniforms),this.blendMaterial=new Pn({uniforms:this.copyUniforms,vertexShader:N.vertexShader,fragmentShader:N.fragmentShader,blending:St,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new ht,this.oldClearAlpha=1,this.basic=new _t,this.fsQuad=new $o(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let t=Math.round(e/2),n=Math.round(r/2);this.renderTargetBright.setSize(t,n);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(t,n),this.renderTargetsVertical[o].setSize(t,n),this.separableBlurMaterials[o].uniforms.invSize.value=new pe(1/t,1/n),t=Math.round(t/2),n=Math.round(n/2)}render(e,r,t,n,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const l=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let u=this.renderTargetBright;for(let w=0;w<this.nMips;w++)this.fsQuad.material=this.separableBlurMaterials[w],this.separableBlurMaterials[w].uniforms.colorTexture.value=u.texture,this.separableBlurMaterials[w].uniforms.direction.value=gn.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[w]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[w].uniforms.colorTexture.value=this.renderTargetsHorizontal[w].texture,this.separableBlurMaterials[w].uniforms.direction.value=gn.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[w]),e.clear(),this.fsQuad.render(e),u=this.renderTargetsVertical[w];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=l}getSeparableBlurMaterial(e){const r=[];for(let t=0;t<e;t++)r.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new Pn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new pe(.5,.5)},direction:{value:new pe(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Pn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}gn.BlurDirectionX=new pe(1,0);gn.BlurDirectionY=new pe(0,1);class ii extends sr{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof Pn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=$r.clone(e.uniforms),this.material=new Pn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new $o(this.material)}render(e,r,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class wo extends sr{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,t){const n=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let l,u;this.inverse?(l=0,u=1):(l=1,u=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),o.buffers.stencil.setFunc(n.ALWAYS,l,4294967295),o.buffers.stencil.setClear(u),o.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(n.EQUAL,1,4294967295),o.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),o.buffers.stencil.setLocked(!0)}}class ai extends sr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Jo{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const t=e.getSize(new pe);this._width=t.width,this._height=t.height,r=new xr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:vr}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new ii(Ko),this.copyPass.material.blending=Fs,this.clock=new zs}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let t=!1;for(let n=0,o=this.passes.length;n<o;n++){const l=this.passes[n];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),l.needsSwap){if(t){const u=this.renderer.getContext(),w=this.renderer.state.buffers.stencil;w.setFunc(u.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),w.setFunc(u.EQUAL,1,4294967295)}this.swapBuffers()}wo!==void 0&&(l instanceof wo?t=!0:l instanceof ai&&(t=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new pe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const t=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(t,n),this.renderTarget2.setSize(t,n);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(t,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class es extends sr{constructor(e,r,t=null,n=null,o=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=t,this.clearColor=n,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new ht}render(e,r,t){const n=e.autoClear;e.autoClear=!1;let o,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=n}}const on=.01,xo=45/3,li=3,Ur=45,vo=Or({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(f){const e=f,r=sn(null);let t,n,o=null,l=null,u=null,w=[];const T=Ms({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),N=Ur/2+10;function v(m){const U=on*T.particleWidth,Z=on*T.particleHeight,z=T.useSquares?new Yt(U,Z):new nr(U,Z,U),I=Math.floor(Math.random()*3);let Y;switch(I){case 0:Y=new ht(1,0,0);break;case 1:Y=new ht(0,1,0);break;case 2:Y=new ht(0,0,1);break;default:Y=new ht(1,0,0)}const j=new _t({color:Y,transparent:!0,opacity:.7}),B=new Ge(z,j),H=Ur+N*2;B.position.set(-45-N+m/(T.particleCount-1)*H,0,on*(Math.random()-.5)*T.positionZRandomness*T.emitterDepth);const X=on*(Math.random()*(T.maxSpeed-T.minSpeed)+T.minSpeed);return B.speed=X+on*(Math.random()-.5)*T.speedRandomness,B.rotationSpeed=new Ye(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*T.rotationRandomness+.5),B}function P(){t=new jo;const m=li*1.5,U=m*xo;n=new Xo(-67.5/2,U/2,m/2,-4.5/2,.1,1e3),n.position.z=150,o=new Vo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const Z=new es(t,n);u=new gn(new pe(window.innerWidth,window.innerHeight),T.bloomStrength,T.bloomRadius,.1),l=new Jo(o),l.addPass(Z),l.addPass(u),F(),r.value&&r.value.appendChild(o.domElement),_(),E()}function _(){w.forEach(m=>t.remove(m)),w=[];for(let m=0;m<T.particleCount;m++){const U=v(m);w.push(U),t.add(U)}}function F(){if(!o||!l||!u)return;const m=window.innerWidth,U=m/xo;o.setSize(m,U),l.setSize(m,U),u.setSize(m,U),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function E(){requestAnimationFrame(E),w.forEach(m=>{m.position.x+=m.speed,!T.useSquares&&T.rotateParticles&&(m.rotation.x+=m.rotationSpeed.x*.016,m.rotation.y+=m.rotationSpeed.y*.016,m.rotation.z+=m.rotationSpeed.z*.016),m.position.x>Ur/2+N&&(w.indexOf(m),m.position.x=-45-N-on*(m.geometry instanceof nr,m.geometry.parameters.width),m.position.y=0,m.position.z=on*(Math.random()-.5)*T.positionZRandomness*T.emitterDepth)}),l&&l.render()}return Wo(()=>{P(),window.addEventListener("resize",F)}),Yo(()=>{window.removeEventListener("resize",F),o==null||o.dispose()}),(m,U)=>(tr(),Lr("div",{ref_key:"container",ref:r,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}}),ts=Es("tunnel",{state:()=>({activeProjectSlug:null,scrollPosition:0}),actions:{setActiveProject(f){this.activeProjectSlug=f},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(f){this.scrollPosition=f,console.log("Scroll position stored:",f)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function ci(f,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,t.key,t)}}function ui(f,e,r){return e&&ci(f.prototype,e),f}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var tt,Tr,vt,Jt,en,Mn,ns,ln,Xn,rs,jt,kt,os,ss=function(){return tt||typeof window<"u"&&(tt=window.gsap)&&tt.registerPlugin&&tt},is=1,Cn=[],we=[],Gt=[],jn=Date.now,Kr=function(e,r){return r},fi=function(){var e=Xn.core,r=e.bridge||{},t=e._scrollers,n=e._proxies;t.push.apply(t,we),n.push.apply(n,Gt),we=t,Gt=n,Kr=function(l,u){return r[l](u)}},tn=function(e,r){return~Gt.indexOf(e)&&Gt[Gt.indexOf(e)+1][r]},Vn=function(e){return!!~rs.indexOf(e)},ut=function(e,r,t,n,o){return e.addEventListener(r,t,{passive:n!==!1,capture:!!o})},ct=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},lr="scrollLeft",cr="scrollTop",Jr=function(){return jt&&jt.isPressed||we.cache++},Ir=function(e,r){var t=function n(o){if(o||o===0){is&&(vt.history.scrollRestoration="manual");var l=jt&&jt.isPressed;o=n.v=Math.round(o)||(jt&&jt.iOS?1:0),e(o),n.cacheID=we.cache,l&&Kr("ss",o)}else(r||we.cache!==n.cacheID||Kr("ref"))&&(n.cacheID=we.cache,n.v=e());return n.v+n.offset};return t.offset=0,e&&t},gt={s:lr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ir(function(f){return arguments.length?vt.scrollTo(f,Ze.sc()):vt.pageXOffset||Jt[lr]||en[lr]||Mn[lr]||0})},Ze={s:cr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:gt,sc:Ir(function(f){return arguments.length?vt.scrollTo(gt.sc(),f):vt.pageYOffset||Jt[cr]||en[cr]||Mn[cr]||0})},mt=function(e,r){return(r&&r._ctx&&r._ctx.selector||tt.utils.toArray)(e)[0]||(typeof e=="string"&&tt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},nn=function(e,r){var t=r.s,n=r.sc;Vn(e)&&(e=Jt.scrollingElement||en);var o=we.indexOf(e),l=n===Ze.sc?1:2;!~o&&(o=we.push(e)-1),we[o+l]||ut(e,"scroll",Jr);var u=we[o+l],w=u||(we[o+l]=Ir(tn(e,t),!0)||(Vn(e)?n:Ir(function(T){return arguments.length?e[t]=T:e[t]})));return w.target=e,u||(w.smooth=tt.getProperty(e,"scrollBehavior")==="smooth"),w},eo=function(e,r,t){var n=e,o=e,l=jn(),u=l,w=r||50,T=Math.max(500,w*3),N=function(F,E){var m=jn();E||m-l>w?(o=n,n=F,u=l,l=m):t?n+=F:n=o+(F-o)/(m-u)*(l-u)},v=function(){o=n=t?0:n,u=l=0},P=function(F){var E=u,m=o,U=jn();return(F||F===0)&&F!==n&&N(F),l===u||U-u>T?0:(n+(t?m:-m))/((t?U:l)-E)*1e3};return{update:N,reset:v,getVelocity:P}},On=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},To=function(e){var r=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(t)?r:t},as=function(){Xn=tt.core.globals().ScrollTrigger,Xn&&Xn.core&&fi()},ls=function(e){return tt=e||ss(),!Tr&&tt&&typeof document<"u"&&document.body&&(vt=window,Jt=document,en=Jt.documentElement,Mn=Jt.body,rs=[vt,Jt,en,Mn],tt.utils.clamp,os=tt.core.context||function(){},ln="onpointerenter"in Mn?"pointer":"mouse",ns=ze.isTouch=vt.matchMedia&&vt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in vt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,kt=ze.eventTypes=("ontouchstart"in en?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in en?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return is=0},500),as(),Tr=1),Tr};gt.op=Ze;we.cache=0;var ze=function(){function f(r){this.init(r)}var e=f.prototype;return e.init=function(t){Tr||ls(tt)||console.warn("Please gsap.registerPlugin(Observer)"),Xn||as();var n=t.tolerance,o=t.dragMinimum,l=t.type,u=t.target,w=t.lineHeight,T=t.debounce,N=t.preventDefault,v=t.onStop,P=t.onStopDelay,_=t.ignore,F=t.wheelSpeed,E=t.event,m=t.onDragStart,U=t.onDragEnd,Z=t.onDrag,z=t.onPress,I=t.onRelease,Y=t.onRight,j=t.onLeft,B=t.onUp,H=t.onDown,X=t.onChangeX,D=t.onChangeY,te=t.onChange,R=t.onToggleX,ee=t.onToggleY,K=t.onHover,$=t.onHoverEnd,V=t.onMove,G=t.ignoreCheck,C=t.isNormalizer,ne=t.onGestureStart,p=t.onGestureEnd,re=t.onWheel,Pe=t.onEnable,Oe=t.onDisable,g=t.onClick,c=t.scrollSpeed,i=t.capture,s=t.allowClicks,b=t.lockAxis,A=t.onLockAxis;this.target=u=mt(u)||en,this.vars=t,_&&(_=tt.utils.toArray(_)),n=n||1e-9,o=o||0,F=F||1,c=c||1,l=l||"wheel,touch,pointer",T=T!==!1,w||(w=parseFloat(vt.getComputedStyle(Mn).lineHeight)||22);var y,M,L,k,x,S,O,d=this,h=0,a=0,W=t.passive||!N&&t.passive!==!1,Q=nn(u,gt),_e=nn(u,Ze),ie=Q(),ge=_e(),ve=~l.indexOf("touch")&&!~l.indexOf("pointer")&&kt[0]==="pointerdown",le=Vn(u),ce=u.ownerDocument||Jt,Se=[0,0,0],oe=[0,0,0],xe=0,Ae=function(){return xe=jn()},ke=function(ae,Ce){return(d.event=ae)&&_&&~_.indexOf(ae.target)||Ce&&ve&&ae.pointerType!=="touch"||G&&G(ae,Ce)},Zt=function(){d._vx.reset(),d._vy.reset(),M.pause(),v&&v(d)},De=function(){var ae=d.deltaX=To(Se),Ce=d.deltaY=To(oe),q=Math.abs(ae)>=n,ue=Math.abs(Ce)>=n;te&&(q||ue)&&te(d,ae,Ce,Se,oe),q&&(Y&&d.deltaX>0&&Y(d),j&&d.deltaX<0&&j(d),X&&X(d),R&&d.deltaX<0!=h<0&&R(d),h=d.deltaX,Se[0]=Se[1]=Se[2]=0),ue&&(H&&d.deltaY>0&&H(d),B&&d.deltaY<0&&B(d),D&&D(d),ee&&d.deltaY<0!=a<0&&ee(d),a=d.deltaY,oe[0]=oe[1]=oe[2]=0),(k||L)&&(V&&V(d),L&&(m&&L===1&&m(d),Z&&Z(d),L=0),k=!1),S&&!(S=!1)&&A&&A(d),x&&(re(d),x=!1),y=0},Tt=function(ae,Ce,q){Se[q]+=ae,oe[q]+=Ce,d._vx.update(ae),d._vy.update(Ce),T?y||(y=requestAnimationFrame(De)):De()},qt=function(ae,Ce){b&&!O&&(d.axis=O=Math.abs(ae)>Math.abs(Ce)?"x":"y",S=!0),O!=="y"&&(Se[2]+=ae,d._vx.update(ae,!0)),O!=="x"&&(oe[2]+=Ce,d._vy.update(Ce,!0)),T?y||(y=requestAnimationFrame(De)):De()},Et=function(ae){if(!ke(ae,1)){ae=On(ae,N);var Ce=ae.clientX,q=ae.clientY,ue=Ce-d.x,se=q-d.y,fe=d.isDragging;d.x=Ce,d.y=q,(fe||(ue||se)&&(Math.abs(d.startX-Ce)>=o||Math.abs(d.startY-q)>=o))&&(L=fe?2:1,fe||(d.isDragging=!0),qt(ue,se))}},Ut=d.onPress=function(de){ke(de,1)||de&&de.button||(d.axis=O=null,M.pause(),d.isPressed=!0,de=On(de),h=a=0,d.startX=d.x=de.clientX,d.startY=d.y=de.clientY,d._vx.reset(),d._vy.reset(),ut(C?u:ce,kt[1],Et,W,!0),d.deltaX=d.deltaY=0,z&&z(d))},me=d.onRelease=function(de){if(!ke(de,1)){ct(C?u:ce,kt[1],Et,!0);var ae=!isNaN(d.y-d.startY),Ce=d.isDragging,q=Ce&&(Math.abs(d.x-d.startX)>3||Math.abs(d.y-d.startY)>3),ue=On(de);!q&&ae&&(d._vx.reset(),d._vy.reset(),N&&s&&tt.delayedCall(.08,function(){if(jn()-xe>300&&!de.defaultPrevented){if(de.target.click)de.target.click();else if(ce.createEvent){var se=ce.createEvent("MouseEvents");se.initMouseEvent("click",!0,!0,vt,1,ue.screenX,ue.screenY,ue.clientX,ue.clientY,!1,!1,!1,!1,0,null),de.target.dispatchEvent(se)}}})),d.isDragging=d.isGesturing=d.isPressed=!1,v&&Ce&&!C&&M.restart(!0),L&&De(),U&&Ce&&U(d),I&&I(d,q)}},Be=function(ae){return ae.touches&&ae.touches.length>1&&(d.isGesturing=!0)&&ne(ae,d.isDragging)},lt=function(){return(d.isGesturing=!1)||p(d)},Xe=function(ae){if(!ke(ae)){var Ce=Q(),q=_e();Tt((Ce-ie)*c,(q-ge)*c,1),ie=Ce,ge=q,v&&M.restart(!0)}},Ke=function(ae){if(!ke(ae)){ae=On(ae,N),re&&(x=!0);var Ce=(ae.deltaMode===1?w:ae.deltaMode===2?vt.innerHeight:1)*F;Tt(ae.deltaX*Ce,ae.deltaY*Ce,0),v&&!C&&M.restart(!0)}},Ht=function(ae){if(!ke(ae)){var Ce=ae.clientX,q=ae.clientY,ue=Ce-d.x,se=q-d.y;d.x=Ce,d.y=q,k=!0,v&&M.restart(!0),(ue||se)&&qt(ue,se)}},It=function(ae){d.event=ae,K(d)},Wt=function(ae){d.event=ae,$(d)},kn=function(ae){return ke(ae)||On(ae,N)&&g(d)};M=d._dc=tt.delayedCall(P||.25,Zt).pause(),d.deltaX=d.deltaY=0,d._vx=eo(0,50,!0),d._vy=eo(0,50,!0),d.scrollX=Q,d.scrollY=_e,d.isDragging=d.isGesturing=d.isPressed=!1,os(this),d.enable=function(de){return d.isEnabled||(ut(le?ce:u,"scroll",Jr),l.indexOf("scroll")>=0&&ut(le?ce:u,"scroll",Xe,W,i),l.indexOf("wheel")>=0&&ut(u,"wheel",Ke,W,i),(l.indexOf("touch")>=0&&ns||l.indexOf("pointer")>=0)&&(ut(u,kt[0],Ut,W,i),ut(ce,kt[2],me),ut(ce,kt[3],me),s&&ut(u,"click",Ae,!0,!0),g&&ut(u,"click",kn),ne&&ut(ce,"gesturestart",Be),p&&ut(ce,"gestureend",lt),K&&ut(u,ln+"enter",It),$&&ut(u,ln+"leave",Wt),V&&ut(u,ln+"move",Ht)),d.isEnabled=!0,d.isDragging=d.isGesturing=d.isPressed=k=L=!1,d._vx.reset(),d._vy.reset(),ie=Q(),ge=_e(),de&&de.type&&Ut(de),Pe&&Pe(d)),d},d.disable=function(){d.isEnabled&&(Cn.filter(function(de){return de!==d&&Vn(de.target)}).length||ct(le?ce:u,"scroll",Jr),d.isPressed&&(d._vx.reset(),d._vy.reset(),ct(C?u:ce,kt[1],Et,!0)),ct(le?ce:u,"scroll",Xe,i),ct(u,"wheel",Ke,i),ct(u,kt[0],Ut,i),ct(ce,kt[2],me),ct(ce,kt[3],me),ct(u,"click",Ae,!0),ct(u,"click",kn),ct(ce,"gesturestart",Be),ct(ce,"gestureend",lt),ct(u,ln+"enter",It),ct(u,ln+"leave",Wt),ct(u,ln+"move",Ht),d.isEnabled=d.isPressed=d.isDragging=!1,Oe&&Oe(d))},d.kill=d.revert=function(){d.disable();var de=Cn.indexOf(d);de>=0&&Cn.splice(de,1),jt===d&&(jt=0)},Cn.push(d),C&&Vn(u)&&(jt=d),d.enable(E)},ui(f,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),f}();ze.version="3.12.7";ze.create=function(f){return new ze(f)};ze.register=ls;ze.getAll=function(){return Cn.slice()};ze.getById=function(f){return Cn.filter(function(e){return e.vars.id===f})[0]};ss()&&tt.registerPlugin(ze);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var J,Tn,be,Ie,xt,Me,co,Ar,rr,Zn,Fn,ur,st,Br,to,dt,So,Po,Sn,cs,Hr,us,ft,no,fs,ds,$t,ro,uo,En,fo,kr,oo,Wr,fr=1,it=Date.now,Yr=it(),Mt=0,zn=0,Co=function(e,r,t){var n=wt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=n,n?e.substr(6,e.length-7):e},Mo=function(e,r){return r&&(!wt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},di=function f(){return zn&&requestAnimationFrame(f)},Eo=function(){return Br=1},Io=function(){return Br=0},Ft=function(e){return e},Gn=function(e){return Math.round(e*1e5)/1e5||0},ps=function(){return typeof window<"u"},hs=function(){return J||ps()&&(J=window.gsap)&&J.registerPlugin&&J},mn=function(e){return!!~co.indexOf(e)},gs=function(e){return(e==="Height"?fo:be["inner"+e])||xt["client"+e]||Me["client"+e]},ms=function(e){return tn(e,"getBoundingClientRect")||(mn(e)?function(){return Er.width=be.innerWidth,Er.height=fo,Er}:function(){return Xt(e)})},pi=function(e,r,t){var n=t.d,o=t.d2,l=t.a;return(l=tn(e,"getBoundingClientRect"))?function(){return l()[n]}:function(){return(r?gs(o):e["client"+o])||0}},hi=function(e,r){return!r||~Gt.indexOf(e)?ms(e):function(){return Er}},zt=function(e,r){var t=r.s,n=r.d2,o=r.d,l=r.a;return Math.max(0,(t="scroll"+n)&&(l=tn(e,t))?l()-ms(e)()[o]:mn(e)?(xt[t]||Me[t])-gs(n):e[t]-e["offset"+n])},dr=function(e,r){for(var t=0;t<Sn.length;t+=3)(!r||~r.indexOf(Sn[t+1]))&&e(Sn[t],Sn[t+1],Sn[t+2])},wt=function(e){return typeof e=="string"},at=function(e){return typeof e=="function"},Un=function(e){return typeof e=="number"},cn=function(e){return typeof e=="object"},Ln=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},Xr=function(e,r){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return r(e)}):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},wn=Math.abs,ys="left",_s="top",po="right",ho="bottom",dn="width",pn="height",qn="Right",Qn="Left",$n="Top",Kn="Bottom",He="padding",Pt="margin",An="Width",go="Height",Ve="px",Ct=function(e){return be.getComputedStyle(e)},gi=function(e){var r=Ct(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Ao=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},Xt=function(e,r){var t=r&&Ct(e)[to]!=="matrix(1, 0, 0, 1, 0, 0)"&&J.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return t&&t.progress(0).kill(),n},Rr=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},bs=function(e){var r=[],t=e.labels,n=e.duration(),o;for(o in t)r.push(t[o]/n);return r},mi=function(e){return function(r){return J.utils.snap(bs(e),r)}},mo=function(e){var r=J.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(n,o){return n-o});return t?function(n,o,l){l===void 0&&(l=.001);var u;if(!o)return r(n);if(o>0){for(n-=l,u=0;u<t.length;u++)if(t[u]>=n)return t[u];return t[u-1]}else for(u=t.length,n+=l;u--;)if(t[u]<=n)return t[u];return t[0]}:function(n,o,l){l===void 0&&(l=.001);var u=r(n);return!o||Math.abs(u-n)<l||u-n<0==o<0?u:r(o<0?n-e:n+e)}},yi=function(e){return function(r,t){return mo(bs(e))(r,t.direction)}},pr=function(e,r,t,n){return t.split(",").forEach(function(o){return e(r,o,n)})},$e=function(e,r,t,n,o){return e.addEventListener(r,t,{passive:!n,capture:!!o})},Qe=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},hr=function(e,r,t){t=t&&t.wheelHandler,t&&(e(r,"wheel",t),e(r,"touchmove",t))},ko={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},gr={toggleActions:"play",anticipatePin:0},Dr={top:0,left:0,center:.5,bottom:1,right:1},Sr=function(e,r){if(wt(e)){var t=e.indexOf("="),n=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(n*=r/100),e=e.substr(0,t-1)),e=n+(e in Dr?Dr[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},mr=function(e,r,t,n,o,l,u,w){var T=o.startColor,N=o.endColor,v=o.fontSize,P=o.indent,_=o.fontWeight,F=Ie.createElement("div"),E=mn(t)||tn(t,"pinType")==="fixed",m=e.indexOf("scroller")!==-1,U=E?Me:t,Z=e.indexOf("start")!==-1,z=Z?T:N,I="border-color:"+z+";font-size:"+v+";color:"+z+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return I+="position:"+((m||w)&&E?"fixed;":"absolute;"),(m||w||!E)&&(I+=(n===Ze?po:ho)+":"+(l+parseFloat(P))+"px;"),u&&(I+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),F._isStart=Z,F.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),F.style.cssText=I,F.innerText=r||r===0?e+"-"+r:e,U.children[0]?U.insertBefore(F,U.children[0]):U.appendChild(F),F._offset=F["offset"+n.op.d2],Pr(F,0,n,Z),F},Pr=function(e,r,t,n){var o={display:"block"},l=t[n?"os2":"p2"],u=t[n?"p2":"os2"];e._isFlipped=n,o[t.a+"Percent"]=n?-100:0,o[t.a]=n?"1px":0,o["border"+l+An]=1,o["border"+u+An]=0,o[t.p]=r+"px",J.set(e,o)},ye=[],so={},or,Ro=function(){return it()-Mt>34&&(or||(or=requestAnimationFrame(Vt)))},xn=function(){(!ft||!ft.isPressed||ft.startX>Me.clientWidth)&&(we.cache++,ft?or||(or=requestAnimationFrame(Vt)):Vt(),Mt||_n("scrollStart"),Mt=it())},jr=function(){ds=be.innerWidth,fs=be.innerHeight},Hn=function(e){we.cache++,(e===!0||!st&&!us&&!Ie.fullscreenElement&&!Ie.webkitFullscreenElement&&(!no||ds!==be.innerWidth||Math.abs(be.innerHeight-fs)>be.innerHeight*.25))&&Ar.restart(!0)},yn={},_i=[],ws=function f(){return Qe(he,"scrollEnd",f)||fn(!0)},_n=function(e){return yn[e]&&yn[e].map(function(r){return r()})||_i},bt=[],xs=function(e){for(var r=0;r<bt.length;r+=5)(!e||bt[r+4]&&bt[r+4].query===e)&&(bt[r].style.cssText=bt[r+1],bt[r].getBBox&&bt[r].setAttribute("transform",bt[r+2]||""),bt[r+3].uncache=1)},yo=function(e,r){var t;for(dt=0;dt<ye.length;dt++)t=ye[dt],t&&(!r||t._ctx===r)&&(e?t.kill(1):t.revert(!0,!0));kr=!0,r&&xs(r),r||_n("revert")},vs=function(e,r){we.cache++,(r||!pt)&&we.forEach(function(t){return at(t)&&t.cacheID++&&(t.rec=0)}),wt(e)&&(be.history.scrollRestoration=uo=e)},pt,hn=0,Do,bi=function(){if(Do!==hn){var e=Do=hn;requestAnimationFrame(function(){return e===hn&&fn(!0)})}},Ts=function(){Me.appendChild(En),fo=!ft&&En.offsetHeight||be.innerHeight,Me.removeChild(En)},No=function(e){return rr(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},fn=function(e,r){if(xt=Ie.documentElement,Me=Ie.body,co=[be,Ie,xt,Me],Mt&&!e&&!kr){$e(he,"scrollEnd",ws);return}Ts(),pt=he.isRefreshing=!0,we.forEach(function(n){return at(n)&&++n.cacheID&&(n.rec=n())});var t=_n("refreshInit");cs&&he.sort(),r||yo(),we.forEach(function(n){at(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),ye.slice(0).forEach(function(n){return n.refresh()}),kr=!1,ye.forEach(function(n){if(n._subPinOffset&&n.pin){var o=n.vars.horizontal?"offsetWidth":"offsetHeight",l=n.pin[o];n.revert(!0,1),n.adjustPinSpacing(n.pin[o]-l),n.refresh()}}),oo=1,No(!0),ye.forEach(function(n){var o=zt(n.scroller,n._dir),l=n.vars.end==="max"||n._endClamp&&n.end>o,u=n._startClamp&&n.start>=o;(l||u)&&n.setPositions(u?o-1:n.start,l?Math.max(u?o:n.start+1,o):n.end,!0)}),No(!1),oo=0,t.forEach(function(n){return n&&n.render&&n.render(-1)}),we.forEach(function(n){at(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),vs(uo,1),Ar.pause(),hn++,pt=2,Vt(2),ye.forEach(function(n){return at(n.vars.onRefresh)&&n.vars.onRefresh(n)}),pt=he.isRefreshing=!1,_n("refresh")},io=0,Cr=1,Jn,Vt=function(e){if(e===2||!pt&&!kr){he.isUpdating=!0,Jn&&Jn.update(0);var r=ye.length,t=it(),n=t-Yr>=50,o=r&&ye[0].scroll();if(Cr=io>o?-1:1,pt||(io=o),n&&(Mt&&!Br&&t-Mt>200&&(Mt=0,_n("scrollEnd")),Fn=Yr,Yr=t),Cr<0){for(dt=r;dt-- >0;)ye[dt]&&ye[dt].update(0,n);Cr=1}else for(dt=0;dt<r;dt++)ye[dt]&&ye[dt].update(0,n);he.isUpdating=!1}or=0},ao=[ys,_s,ho,po,Pt+Kn,Pt+qn,Pt+$n,Pt+Qn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Mr=ao.concat([dn,pn,"boxSizing","max"+An,"max"+go,"position",Pt,He,He+$n,He+qn,He+Kn,He+Qn]),wi=function(e,r,t){In(t);var n=e._gsap;if(n.spacerIsNative)In(n.spacerState);else if(e._gsap.swappedIn){var o=r.parentNode;o&&(o.insertBefore(e,r),o.removeChild(r))}e._gsap.swappedIn=!1},Vr=function(e,r,t,n){if(!e._gsap.swappedIn){for(var o=ao.length,l=r.style,u=e.style,w;o--;)w=ao[o],l[w]=t[w];l.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(l.display="inline-block"),u[ho]=u[po]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[dn]=Rr(e,gt)+Ve,l[pn]=Rr(e,Ze)+Ve,l[He]=u[Pt]=u[_s]=u[ys]="0",In(n),u[dn]=u["max"+An]=t[dn],u[pn]=u["max"+go]=t[pn],u[He]=t[He],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},xi=/([A-Z])/g,In=function(e){if(e){var r=e.t.style,t=e.length,n=0,o,l;for((e.t._gsap||J.core.getCache(e.t)).uncache=1;n<t;n+=2)l=e[n+1],o=e[n],l?r[o]=l:r[o]&&r.removeProperty(o.replace(xi,"-$1").toLowerCase())}},yr=function(e){for(var r=Mr.length,t=e.style,n=[],o=0;o<r;o++)n.push(Mr[o],t[Mr[o]]);return n.t=e,n},vi=function(e,r,t){for(var n=[],o=e.length,l=t?8:0,u;l<o;l+=2)u=e[l],n.push(u,u in r?r[u]:e[l+1]);return n.t=e.t,n},Er={left:0,top:0},Oo=function(e,r,t,n,o,l,u,w,T,N,v,P,_,F){at(e)&&(e=e(w)),wt(e)&&e.substr(0,3)==="max"&&(e=P+(e.charAt(4)==="="?Sr("0"+e.substr(3),t):0));var E=_?_.time():0,m,U,Z;if(_&&_.seek(0),isNaN(e)||(e=+e),Un(e))_&&(e=J.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,P,e)),u&&Pr(u,t,n,!0);else{at(r)&&(r=r(w));var z=(e||"0").split(" "),I,Y,j,B;Z=mt(r,w)||Me,I=Xt(Z)||{},(!I||!I.left&&!I.top)&&Ct(Z).display==="none"&&(B=Z.style.display,Z.style.display="block",I=Xt(Z),B?Z.style.display=B:Z.style.removeProperty("display")),Y=Sr(z[0],I[n.d]),j=Sr(z[1]||"0",t),e=I[n.p]-T[n.p]-N+Y+o-j,u&&Pr(u,j,n,t-j<20||u._isStart&&j>20),t-=t-j}if(F&&(w[F]=e||-.001,e<0&&(e=0)),l){var H=e+t,X=l._isStart;m="scroll"+n.d2,Pr(l,H,n,X&&H>20||!X&&(v?Math.max(Me[m],xt[m]):l.parentNode[m])<=H+1),v&&(T=Xt(u),v&&(l.style[n.op.p]=T[n.op.p]-n.op.m-l._offset+Ve))}return _&&Z&&(m=Xt(Z),_.seek(P),U=Xt(Z),_._caScrollDist=m[n.p]-U[n.p],e=e/_._caScrollDist*P),_&&_.seek(E),_?e:Math.round(e)},Ti=/(webkit|moz|length|cssText|inset)/i,Lo=function(e,r,t,n){if(e.parentNode!==r){var o=e.style,l,u;if(r===Me){e._stOrig=o.cssText,u=Ct(e);for(l in u)!+l&&!Ti.test(l)&&u[l]&&typeof o[l]=="string"&&l!=="0"&&(o[l]=u[l]);o.top=t,o.left=n}else o.cssText=e._stOrig;J.core.getCache(e).uncache=1,r.appendChild(e)}},Ss=function(e,r,t){var n=r,o=n;return function(l){var u=Math.round(e());return u!==n&&u!==o&&Math.abs(u-n)>3&&Math.abs(u-o)>3&&(l=u,t&&t()),o=n,n=Math.round(l),n}},_r=function(e,r,t){var n={};n[r.p]="+="+t,J.set(e,n)},Bo=function(e,r){var t=nn(e,r),n="_scroll"+r.p2,o=function l(u,w,T,N,v){var P=l.tween,_=w.onComplete,F={};T=T||t();var E=Ss(t,T,function(){P.kill(),l.tween=0});return v=N&&v||0,N=N||u-T,P&&P.kill(),w[n]=u,w.inherit=!1,w.modifiers=F,F[n]=function(){return E(T+N*P.ratio+v*P.ratio*P.ratio)},w.onUpdate=function(){we.cache++,l.tween&&Vt()},w.onComplete=function(){l.tween=0,_&&_.call(P)},P=l.tween=J.to(e,w),P};return e[n]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},$e(e,"wheel",t.wheelHandler),he.isTouch&&$e(e,"touchmove",t.wheelHandler),o},he=function(){function f(r,t){Tn||f.register(J)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ro(this),this.init(r,t)}var e=f.prototype;return e.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!zn){this.update=this.refresh=this.kill=Ft;return}t=Ao(wt(t)||Un(t)||t.nodeType?{trigger:t}:t,gr);var o=t,l=o.onUpdate,u=o.toggleClass,w=o.id,T=o.onToggle,N=o.onRefresh,v=o.scrub,P=o.trigger,_=o.pin,F=o.pinSpacing,E=o.invalidateOnRefresh,m=o.anticipatePin,U=o.onScrubComplete,Z=o.onSnapComplete,z=o.once,I=o.snap,Y=o.pinReparent,j=o.pinSpacer,B=o.containerAnimation,H=o.fastScrollEnd,X=o.preventOverlaps,D=t.horizontal||t.containerAnimation&&t.horizontal!==!1?gt:Ze,te=!v&&v!==0,R=mt(t.scroller||be),ee=J.core.getCache(R),K=mn(R),$=("pinType"in t?t.pinType:tn(R,"pinType")||K&&"fixed")==="fixed",V=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],G=te&&t.toggleActions.split(" "),C="markers"in t?t.markers:gr.markers,ne=K?0:parseFloat(Ct(R)["border"+D.p2+An])||0,p=this,re=t.onRefreshInit&&function(){return t.onRefreshInit(p)},Pe=pi(R,K,D),Oe=hi(R,K),g=0,c=0,i=0,s=nn(R,D),b,A,y,M,L,k,x,S,O,d,h,a,W,Q,_e,ie,ge,ve,le,ce,Se,oe,xe,Ae,ke,Zt,De,Tt,qt,Et,Ut,me,Be,lt,Xe,Ke,Ht,It,Wt;if(p._startClamp=p._endClamp=!1,p._dir=D,m*=45,p.scroller=R,p.scroll=B?B.time.bind(B):s,M=s(),p.vars=t,n=n||t.animation,"refreshPriority"in t&&(cs=1,t.refreshPriority===-9999&&(Jn=p)),ee.tweenScroll=ee.tweenScroll||{top:Bo(R,Ze),left:Bo(R,gt)},p.tweenTo=b=ee.tweenScroll[D.p],p.scrubDuration=function(q){Be=Un(q)&&q,Be?me?me.duration(q):me=J.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Be,paused:!0,onComplete:function(){return U&&U(p)}}):(me&&me.progress(1).kill(),me=0)},n&&(n.vars.lazy=!1,n._initted&&!p.isReverted||n.vars.immediateRender!==!1&&t.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),p.animation=n.pause(),n.scrollTrigger=p,p.scrubDuration(v),Et=0,w||(w=n.vars.id)),I&&((!cn(I)||I.push)&&(I={snapTo:I}),"scrollBehavior"in Me.style&&J.set(K?[Me,xt]:R,{scrollBehavior:"auto"}),we.forEach(function(q){return at(q)&&q.target===(K?Ie.scrollingElement||xt:R)&&(q.smooth=!1)}),y=at(I.snapTo)?I.snapTo:I.snapTo==="labels"?mi(n):I.snapTo==="labelsDirectional"?yi(n):I.directional!==!1?function(q,ue){return mo(I.snapTo)(q,it()-c<500?0:ue.direction)}:J.utils.snap(I.snapTo),lt=I.duration||{min:.1,max:2},lt=cn(lt)?Zn(lt.min,lt.max):Zn(lt,lt),Xe=J.delayedCall(I.delay||Be/2||.1,function(){var q=s(),ue=it()-c<500,se=b.tween;if((ue||Math.abs(p.getVelocity())<10)&&!se&&!Br&&g!==q){var fe=(q-k)/Q,qe=n&&!te?n.totalProgress():fe,Te=ue?0:(qe-Ut)/(it()-Fn)*1e3||0,Fe=J.utils.clamp(-fe,1-fe,wn(Te/2)*Te/.185),nt=fe+(I.inertia===!1?0:Fe),Le,Re,Ee=I,At=Ee.onStart,Ne=Ee.onInterrupt,yt=Ee.onComplete;if(Le=y(nt,p),Un(Le)||(Le=nt),Re=Math.max(0,Math.round(k+Le*Q)),q<=x&&q>=k&&Re!==q){if(se&&!se._initted&&se.data<=wn(Re-q))return;I.inertia===!1&&(Fe=Le-fe),b(Re,{duration:lt(wn(Math.max(wn(nt-qe),wn(Le-qe))*.185/Te/.05||0)),ease:I.ease||"power3",data:wn(Re-q),onInterrupt:function(){return Xe.restart(!0)&&Ne&&Ne(p)},onComplete:function(){p.update(),g=s(),n&&!te&&(me?me.resetTo("totalProgress",Le,n._tTime/n._tDur):n.progress(Le)),Et=Ut=n&&!te?n.totalProgress():p.progress,Z&&Z(p),yt&&yt(p)}},q,Fe*Q,Re-q-Fe*Q),At&&At(p,b.tween)}}else p.isActive&&g!==q&&Xe.restart(!0)}).pause()),w&&(so[w]=p),P=p.trigger=mt(P||_!==!0&&_),Wt=P&&P._gsap&&P._gsap.stRevert,Wt&&(Wt=Wt(p)),_=_===!0?P:mt(_),wt(u)&&(u={targets:P,className:u}),_&&(F===!1||F===Pt||(F=!F&&_.parentNode&&_.parentNode.style&&Ct(_.parentNode).display==="flex"?!1:He),p.pin=_,A=J.core.getCache(_),A.spacer?_e=A.pinState:(j&&(j=mt(j),j&&!j.nodeType&&(j=j.current||j.nativeElement),A.spacerIsNative=!!j,j&&(A.spacerState=yr(j))),A.spacer=ve=j||Ie.createElement("div"),ve.classList.add("pin-spacer"),w&&ve.classList.add("pin-spacer-"+w),A.pinState=_e=yr(_)),t.force3D!==!1&&J.set(_,{force3D:!0}),p.spacer=ve=A.spacer,qt=Ct(_),Ae=qt[F+D.os2],ce=J.getProperty(_),Se=J.quickSetter(_,D.a,Ve),Vr(_,ve,qt),ge=yr(_)),C){a=cn(C)?Ao(C,ko):ko,d=mr("scroller-start",w,R,D,a,0),h=mr("scroller-end",w,R,D,a,0,d),le=d["offset"+D.op.d2];var kn=mt(tn(R,"content")||R);S=this.markerStart=mr("start",w,kn,D,a,le,0,B),O=this.markerEnd=mr("end",w,kn,D,a,le,0,B),B&&(It=J.quickSetter([S,O],D.a,Ve)),!$&&!(Gt.length&&tn(R,"fixedMarkers")===!0)&&(gi(K?Me:R),J.set([d,h],{force3D:!0}),Zt=J.quickSetter(d,D.a,Ve),Tt=J.quickSetter(h,D.a,Ve))}if(B){var de=B.vars.onUpdate,ae=B.vars.onUpdateParams;B.eventCallback("onUpdate",function(){p.update(0,0,1),de&&de.apply(B,ae||[])})}if(p.previous=function(){return ye[ye.indexOf(p)-1]},p.next=function(){return ye[ye.indexOf(p)+1]},p.revert=function(q,ue){if(!ue)return p.kill(!0);var se=q!==!1||!p.enabled,fe=st;se!==p.isReverted&&(se&&(Ke=Math.max(s(),p.scroll.rec||0),i=p.progress,Ht=n&&n.progress()),S&&[S,O,d,h].forEach(function(qe){return qe.style.display=se?"none":"block"}),se&&(st=p,p.update(se)),_&&(!Y||!p.isActive)&&(se?wi(_,ve,_e):Vr(_,ve,Ct(_),ke)),se||p.update(se),st=fe,p.isReverted=se)},p.refresh=function(q,ue,se,fe){if(!((st||!p.enabled)&&!ue)){if(_&&q&&Mt){$e(f,"scrollEnd",ws);return}!pt&&re&&re(p),st=p,b.tween&&!se&&(b.tween.kill(),b.tween=0),me&&me.pause(),E&&n&&n.revert({kill:!1}).invalidate(),p.isReverted||p.revert(!0,!0),p._subPinOffset=!1;var qe=Pe(),Te=Oe(),Fe=B?B.duration():zt(R,D),nt=Q<=.01,Le=0,Re=fe||0,Ee=cn(se)?se.end:t.end,At=t.endTrigger||P,Ne=cn(se)?se.start:t.start||(t.start===0||!P?0:_?"0 0":"0 100%"),yt=p.pinnedContainer=t.pinnedContainer&&mt(t.pinnedContainer,p),Nt=P&&Math.max(0,ye.indexOf(p))||0,Je=Nt,et,rt,rn,ir,ot,je,Ot,Fr,_o,Rn,Lt,Dn,ar;for(C&&cn(se)&&(Dn=J.getProperty(d,D.p),ar=J.getProperty(h,D.p));Je-- >0;)je=ye[Je],je.end||je.refresh(0,1)||(st=p),Ot=je.pin,Ot&&(Ot===P||Ot===_||Ot===yt)&&!je.isReverted&&(Rn||(Rn=[]),Rn.unshift(je),je.revert(!0,!0)),je!==ye[Je]&&(Nt--,Je--);for(at(Ne)&&(Ne=Ne(p)),Ne=Co(Ne,"start",p),k=Oo(Ne,P,qe,D,s(),S,d,p,Te,ne,$,Fe,B,p._startClamp&&"_startClamp")||(_?-.001:0),at(Ee)&&(Ee=Ee(p)),wt(Ee)&&!Ee.indexOf("+=")&&(~Ee.indexOf(" ")?Ee=(wt(Ne)?Ne.split(" ")[0]:"")+Ee:(Le=Sr(Ee.substr(2),qe),Ee=wt(Ne)?Ne:(B?J.utils.mapRange(0,B.duration(),B.scrollTrigger.start,B.scrollTrigger.end,k):k)+Le,At=P)),Ee=Co(Ee,"end",p),x=Math.max(k,Oo(Ee||(At?"100% 0":Fe),At,qe,D,s()+Le,O,h,p,Te,ne,$,Fe,B,p._endClamp&&"_endClamp"))||-.001,Le=0,Je=Nt;Je--;)je=ye[Je],Ot=je.pin,Ot&&je.start-je._pinPush<=k&&!B&&je.end>0&&(et=je.end-(p._startClamp?Math.max(0,je.start):je.start),(Ot===P&&je.start-je._pinPush<k||Ot===yt)&&isNaN(Ne)&&(Le+=et*(1-je.progress)),Ot===_&&(Re+=et));if(k+=Le,x+=Le,p._startClamp&&(p._startClamp+=Le),p._endClamp&&!pt&&(p._endClamp=x||-.001,x=Math.min(x,zt(R,D))),Q=x-k||(k-=.01)&&.001,nt&&(i=J.utils.clamp(0,1,J.utils.normalize(k,x,Ke))),p._pinPush=Re,S&&Le&&(et={},et[D.a]="+="+Le,yt&&(et[D.p]="-="+s()),J.set([S,O],et)),_&&!(oo&&p.end>=zt(R,D)))et=Ct(_),ir=D===Ze,rn=s(),oe=parseFloat(ce(D.a))+Re,!Fe&&x>1&&(Lt=(K?Ie.scrollingElement||xt:R).style,Lt={style:Lt,value:Lt["overflow"+D.a.toUpperCase()]},K&&Ct(Me)["overflow"+D.a.toUpperCase()]!=="scroll"&&(Lt.style["overflow"+D.a.toUpperCase()]="scroll")),Vr(_,ve,et),ge=yr(_),rt=Xt(_,!0),Fr=$&&nn(R,ir?gt:Ze)(),F?(ke=[F+D.os2,Q+Re+Ve],ke.t=ve,Je=F===He?Rr(_,D)+Q+Re:0,Je&&(ke.push(D.d,Je+Ve),ve.style.flexBasis!=="auto"&&(ve.style.flexBasis=Je+Ve)),In(ke),yt&&ye.forEach(function(Nn){Nn.pin===yt&&Nn.vars.pinSpacing!==!1&&(Nn._subPinOffset=!0)}),$&&s(Ke)):(Je=Rr(_,D),Je&&ve.style.flexBasis!=="auto"&&(ve.style.flexBasis=Je+Ve)),$&&(ot={top:rt.top+(ir?rn-k:Fr)+Ve,left:rt.left+(ir?Fr:rn-k)+Ve,boxSizing:"border-box",position:"fixed"},ot[dn]=ot["max"+An]=Math.ceil(rt.width)+Ve,ot[pn]=ot["max"+go]=Math.ceil(rt.height)+Ve,ot[Pt]=ot[Pt+$n]=ot[Pt+qn]=ot[Pt+Kn]=ot[Pt+Qn]="0",ot[He]=et[He],ot[He+$n]=et[He+$n],ot[He+qn]=et[He+qn],ot[He+Kn]=et[He+Kn],ot[He+Qn]=et[He+Qn],ie=vi(_e,ot,Y),pt&&s(0)),n?(_o=n._initted,Hr(1),n.render(n.duration(),!0,!0),xe=ce(D.a)-oe+Q+Re,De=Math.abs(Q-xe)>1,$&&De&&ie.splice(ie.length-2,2),n.render(0,!0,!0),_o||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Hr(0)):xe=Q,Lt&&(Lt.value?Lt.style["overflow"+D.a.toUpperCase()]=Lt.value:Lt.style.removeProperty("overflow-"+D.a));else if(P&&s()&&!B)for(rt=P.parentNode;rt&&rt!==Me;)rt._pinOffset&&(k-=rt._pinOffset,x-=rt._pinOffset),rt=rt.parentNode;Rn&&Rn.forEach(function(Nn){return Nn.revert(!1,!0)}),p.start=k,p.end=x,M=L=pt?Ke:s(),!B&&!pt&&(M<Ke&&s(Ke),p.scroll.rec=0),p.revert(!1,!0),c=it(),Xe&&(g=-1,Xe.restart(!0)),st=0,n&&te&&(n._initted||Ht)&&n.progress()!==Ht&&n.progress(Ht||0,!0).render(n.time(),!0,!0),(nt||i!==p.progress||B||E||n&&!n._initted)&&(n&&!te&&n.totalProgress(B&&k<-.001&&!i?J.utils.normalize(k,x,0):i,!0),p.progress=nt||(M-k)/Q===i?0:i),_&&F&&(ve._pinOffset=Math.round(p.progress*xe)),me&&me.invalidate(),isNaN(Dn)||(Dn-=J.getProperty(d,D.p),ar-=J.getProperty(h,D.p),_r(d,D,Dn),_r(S,D,Dn-(fe||0)),_r(h,D,ar),_r(O,D,ar-(fe||0))),nt&&!pt&&p.update(),N&&!pt&&!W&&(W=!0,N(p),W=!1)}},p.getVelocity=function(){return(s()-L)/(it()-Fn)*1e3||0},p.endAnimation=function(){Ln(p.callbackAnimation),n&&(me?me.progress(1):n.paused()?te||Ln(n,p.direction<0,1):Ln(n,n.reversed()))},p.labelToScroll=function(q){return n&&n.labels&&(k||p.refresh()||k)+n.labels[q]/n.duration()*Q||0},p.getTrailing=function(q){var ue=ye.indexOf(p),se=p.direction>0?ye.slice(0,ue).reverse():ye.slice(ue+1);return(wt(q)?se.filter(function(fe){return fe.vars.preventOverlaps===q}):se).filter(function(fe){return p.direction>0?fe.end<=k:fe.start>=x})},p.update=function(q,ue,se){if(!(B&&!se&&!q)){var fe=pt===!0?Ke:p.scroll(),qe=q?0:(fe-k)/Q,Te=qe<0?0:qe>1?1:qe||0,Fe=p.progress,nt,Le,Re,Ee,At,Ne,yt,Nt;if(ue&&(L=M,M=B?s():fe,I&&(Ut=Et,Et=n&&!te?n.totalProgress():Te)),m&&_&&!st&&!fr&&Mt&&(!Te&&k<fe+(fe-L)/(it()-Fn)*m?Te=1e-4:Te===1&&x>fe+(fe-L)/(it()-Fn)*m&&(Te=.9999)),Te!==Fe&&p.enabled){if(nt=p.isActive=!!Te&&Te<1,Le=!!Fe&&Fe<1,Ne=nt!==Le,At=Ne||!!Te!=!!Fe,p.direction=Te>Fe?1:-1,p.progress=Te,At&&!st&&(Re=Te&&!Fe?0:Te===1?1:Fe===1?2:3,te&&(Ee=!Ne&&G[Re+1]!=="none"&&G[Re+1]||G[Re],Nt=n&&(Ee==="complete"||Ee==="reset"||Ee in n))),X&&(Ne||Nt)&&(Nt||v||!n)&&(at(X)?X(p):p.getTrailing(X).forEach(function(rn){return rn.endAnimation()})),te||(me&&!st&&!fr?(me._dp._time-me._start!==me._time&&me.render(me._dp._time-me._start),me.resetTo?me.resetTo("totalProgress",Te,n._tTime/n._tDur):(me.vars.totalProgress=Te,me.invalidate().restart())):n&&n.totalProgress(Te,!!(st&&(c||q)))),_){if(q&&F&&(ve.style[F+D.os2]=Ae),!$)Se(Gn(oe+xe*Te));else if(At){if(yt=!q&&Te>Fe&&x+1>fe&&fe+1>=zt(R,D),Y)if(!q&&(nt||yt)){var Je=Xt(_,!0),et=fe-k;Lo(_,Me,Je.top+(D===Ze?et:0)+Ve,Je.left+(D===Ze?0:et)+Ve)}else Lo(_,ve);In(nt||yt?ie:ge),De&&Te<1&&nt||Se(oe+(Te===1&&!yt?xe:0))}}I&&!b.tween&&!st&&!fr&&Xe.restart(!0),u&&(Ne||z&&Te&&(Te<1||!Wr))&&rr(u.targets).forEach(function(rn){return rn.classList[nt||z?"add":"remove"](u.className)}),l&&!te&&!q&&l(p),At&&!st?(te&&(Nt&&(Ee==="complete"?n.pause().totalProgress(1):Ee==="reset"?n.restart(!0).pause():Ee==="restart"?n.restart(!0):n[Ee]()),l&&l(p)),(Ne||!Wr)&&(T&&Ne&&Xr(p,T),V[Re]&&Xr(p,V[Re]),z&&(Te===1?p.kill(!1,1):V[Re]=0),Ne||(Re=Te===1?1:3,V[Re]&&Xr(p,V[Re]))),H&&!nt&&Math.abs(p.getVelocity())>(Un(H)?H:2500)&&(Ln(p.callbackAnimation),me?me.progress(1):Ln(n,Ee==="reverse"?1:!Te,1))):te&&l&&!st&&l(p)}if(Tt){var rt=B?fe/B.duration()*(B._caScrollDist||0):fe;Zt(rt+(d._isFlipped?1:0)),Tt(rt)}It&&It(-fe/B.duration()*(B._caScrollDist||0))}},p.enable=function(q,ue){p.enabled||(p.enabled=!0,$e(R,"resize",Hn),K||$e(R,"scroll",xn),re&&$e(f,"refreshInit",re),q!==!1&&(p.progress=i=0,M=L=g=s()),ue!==!1&&p.refresh())},p.getTween=function(q){return q&&b?b.tween:me},p.setPositions=function(q,ue,se,fe){if(B){var qe=B.scrollTrigger,Te=B.duration(),Fe=qe.end-qe.start;q=qe.start+Fe*q/Te,ue=qe.start+Fe*ue/Te}p.refresh(!1,!1,{start:Mo(q,se&&!!p._startClamp),end:Mo(ue,se&&!!p._endClamp)},fe),p.update()},p.adjustPinSpacing=function(q){if(ke&&q){var ue=ke.indexOf(D.d)+1;ke[ue]=parseFloat(ke[ue])+q+Ve,ke[1]=parseFloat(ke[1])+q+Ve,In(ke)}},p.disable=function(q,ue){if(p.enabled&&(q!==!1&&p.revert(!0,!0),p.enabled=p.isActive=!1,ue||me&&me.pause(),Ke=0,A&&(A.uncache=1),re&&Qe(f,"refreshInit",re),Xe&&(Xe.pause(),b.tween&&b.tween.kill()&&(b.tween=0)),!K)){for(var se=ye.length;se--;)if(ye[se].scroller===R&&ye[se]!==p)return;Qe(R,"resize",Hn),K||Qe(R,"scroll",xn)}},p.kill=function(q,ue){p.disable(q,ue),me&&!ue&&me.kill(),w&&delete so[w];var se=ye.indexOf(p);se>=0&&ye.splice(se,1),se===dt&&Cr>0&&dt--,se=0,ye.forEach(function(fe){return fe.scroller===p.scroller&&(se=1)}),se||pt||(p.scroll.rec=0),n&&(n.scrollTrigger=null,q&&n.revert({kill:!1}),ue||n.kill()),S&&[S,O,d,h].forEach(function(fe){return fe.parentNode&&fe.parentNode.removeChild(fe)}),Jn===p&&(Jn=0),_&&(A&&(A.uncache=1),se=0,ye.forEach(function(fe){return fe.pin===_&&se++}),se||(A.spacer=0)),t.onKill&&t.onKill(p)},ye.push(p),p.enable(!1,!1),Wt&&Wt(p),n&&n.add&&!Q){var Ce=p.update;p.update=function(){p.update=Ce,we.cache++,k||x||p.refresh()},J.delayedCall(.01,p.update),Q=.01,k=x=0}else p.refresh();_&&bi()},f.register=function(t){return Tn||(J=t||hs(),ps()&&window.document&&f.enable(),Tn=zn),Tn},f.defaults=function(t){if(t)for(var n in t)gr[n]=t[n];return gr},f.disable=function(t,n){zn=0,ye.forEach(function(l){return l[n?"kill":"disable"](t)}),Qe(be,"wheel",xn),Qe(Ie,"scroll",xn),clearInterval(ur),Qe(Ie,"touchcancel",Ft),Qe(Me,"touchstart",Ft),pr(Qe,Ie,"pointerdown,touchstart,mousedown",Eo),pr(Qe,Ie,"pointerup,touchend,mouseup",Io),Ar.kill(),dr(Qe);for(var o=0;o<we.length;o+=3)hr(Qe,we[o],we[o+1]),hr(Qe,we[o],we[o+2])},f.enable=function(){if(be=window,Ie=document,xt=Ie.documentElement,Me=Ie.body,J&&(rr=J.utils.toArray,Zn=J.utils.clamp,ro=J.core.context||Ft,Hr=J.core.suppressOverwrites||Ft,uo=be.history.scrollRestoration||"auto",io=be.pageYOffset||0,J.core.globals("ScrollTrigger",f),Me)){zn=1,En=document.createElement("div"),En.style.height="100vh",En.style.position="absolute",Ts(),di(),ze.register(J),f.isTouch=ze.isTouch,$t=ze.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),no=ze.isTouch===1,$e(be,"wheel",xn),co=[be,Ie,xt,Me],J.matchMedia?(f.matchMedia=function(T){var N=J.matchMedia(),v;for(v in T)N.add(v,T[v]);return N},J.addEventListener("matchMediaInit",function(){return yo()}),J.addEventListener("matchMediaRevert",function(){return xs()}),J.addEventListener("matchMedia",function(){fn(0,1),_n("matchMedia")}),J.matchMedia().add("(orientation: portrait)",function(){return jr(),jr})):console.warn("Requires GSAP 3.11.0 or later"),jr(),$e(Ie,"scroll",xn);var t=Me.hasAttribute("style"),n=Me.style,o=n.borderTopStyle,l=J.core.Animation.prototype,u,w;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",u=Xt(Me),Ze.m=Math.round(u.top+Ze.sc())||0,gt.m=Math.round(u.left+gt.sc())||0,o?n.borderTopStyle=o:n.removeProperty("border-top-style"),t||(Me.setAttribute("style",""),Me.removeAttribute("style")),ur=setInterval(Ro,250),J.delayedCall(.5,function(){return fr=0}),$e(Ie,"touchcancel",Ft),$e(Me,"touchstart",Ft),pr($e,Ie,"pointerdown,touchstart,mousedown",Eo),pr($e,Ie,"pointerup,touchend,mouseup",Io),to=J.utils.checkPrefix("transform"),Mr.push(to),Tn=it(),Ar=J.delayedCall(.2,fn).pause(),Sn=[Ie,"visibilitychange",function(){var T=be.innerWidth,N=be.innerHeight;Ie.hidden?(So=T,Po=N):(So!==T||Po!==N)&&Hn()},Ie,"DOMContentLoaded",fn,be,"load",fn,be,"resize",Hn],dr($e),ye.forEach(function(T){return T.enable(0,1)}),w=0;w<we.length;w+=3)hr(Qe,we[w],we[w+1]),hr(Qe,we[w],we[w+2])}},f.config=function(t){"limitCallbacks"in t&&(Wr=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(ur)||(ur=n)&&setInterval(Ro,n),"ignoreMobileResize"in t&&(no=f.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(dr(Qe)||dr($e,t.autoRefreshEvents||"none"),us=(t.autoRefreshEvents+"").indexOf("resize")===-1)},f.scrollerProxy=function(t,n){var o=mt(t),l=we.indexOf(o),u=mn(o);~l&&we.splice(l,u?6:2),n&&(u?Gt.unshift(be,n,Me,n,xt,n):Gt.unshift(o,n))},f.clearMatchMedia=function(t){ye.forEach(function(n){return n._ctx&&n._ctx.query===t&&n._ctx.kill(!0,!0)})},f.isInViewport=function(t,n,o){var l=(wt(t)?mt(t):t).getBoundingClientRect(),u=l[o?dn:pn]*n||0;return o?l.right-u>0&&l.left+u<be.innerWidth:l.bottom-u>0&&l.top+u<be.innerHeight},f.positionInViewport=function(t,n,o){wt(t)&&(t=mt(t));var l=t.getBoundingClientRect(),u=l[o?dn:pn],w=n==null?u/2:n in Dr?Dr[n]*u:~n.indexOf("%")?parseFloat(n)*u/100:parseFloat(n)||0;return o?(l.left+w)/be.innerWidth:(l.top+w)/be.innerHeight},f.killAll=function(t){if(ye.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var n=yn.killAll||[];yn={},n.forEach(function(o){return o()})}},f}();he.version="3.12.7";he.saveStyles=function(f){return f?rr(f).forEach(function(e){if(e&&e.style){var r=bt.indexOf(e);r>=0&&bt.splice(r,5),bt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),J.core.getCache(e),ro())}}):bt};he.revert=function(f,e){return yo(!f,e)};he.create=function(f,e){return new he(f,e)};he.refresh=function(f){return f?Hn(!0):(Tn||he.register())&&fn(!0)};he.update=function(f){return++we.cache&&Vt(f===!0?2:0)};he.clearScrollMemory=vs;he.maxScroll=function(f,e){return zt(f,e?gt:Ze)};he.getScrollFunc=function(f,e){return nn(mt(f),e?gt:Ze)};he.getById=function(f){return so[f]};he.getAll=function(){return ye.filter(function(f){return f.vars.id!=="ScrollSmoother"})};he.isScrolling=function(){return!!Mt};he.snapDirectional=mo;he.addEventListener=function(f,e){var r=yn[f]||(yn[f]=[]);~r.indexOf(e)||r.push(e)};he.removeEventListener=function(f,e){var r=yn[f],t=r&&r.indexOf(e);t>=0&&r.splice(t,1)};he.batch=function(f,e){var r=[],t={},n=e.interval||.016,o=e.batchMax||1e9,l=function(T,N){var v=[],P=[],_=J.delayedCall(n,function(){N(v,P),v=[],P=[]}).pause();return function(F){v.length||_.restart(!0),v.push(F.trigger),P.push(F),o<=v.length&&_.progress(1)}},u;for(u in e)t[u]=u.substr(0,2)==="on"&&at(e[u])&&u!=="onRefreshInit"?l(u,e[u]):e[u];return at(o)&&(o=o(),$e(he,"refresh",function(){return o=e.batchMax()})),rr(f).forEach(function(w){var T={};for(u in t)T[u]=t[u];T.trigger=w,r.push(he.create(T))}),r};var Fo=function(e,r,t,n){return r>n?e(n):r<0&&e(0),t>n?(n-r)/(t-r):t<0?r/(r-t):1},Zr=function f(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(ze.isTouch?" pinch-zoom":""):"none",e===xt&&f(Me,r)},br={auto:1,scroll:1},Si=function(e){var r=e.event,t=e.target,n=e.axis,o=(r.changedTouches?r.changedTouches[0]:r).target,l=o._gsap||J.core.getCache(o),u=it(),w;if(!l._isScrollT||u-l._isScrollT>2e3){for(;o&&o!==Me&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(br[(w=Ct(o)).overflowY]||br[w.overflowX]));)o=o.parentNode;l._isScroll=o&&o!==t&&!mn(o)&&(br[(w=Ct(o)).overflowY]||br[w.overflowX]),l._isScrollT=u}(l._isScroll||n==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Ps=function(e,r,t,n){return ze.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:n=n&&Si,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return t&&$e(Ie,ze.eventTypes[0],Go,!1,!0)},onDisable:function(){return Qe(Ie,ze.eventTypes[0],Go,!0)}})},Pi=/(input|label|select|textarea)/i,zo,Go=function(e){var r=Pi.test(e.target.tagName);(r||zo)&&(e._gsapAllow=!0,zo=r)},Ci=function(e){cn(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,t=r.normalizeScrollX,n=r.momentum,o=r.allowNestedScroll,l=r.onRelease,u,w,T=mt(e.target)||xt,N=J.core.globals().ScrollSmoother,v=N&&N.get(),P=$t&&(e.content&&mt(e.content)||v&&e.content!==!1&&!v.smooth()&&v.content()),_=nn(T,Ze),F=nn(T,gt),E=1,m=(ze.isTouch&&be.visualViewport?be.visualViewport.scale*be.visualViewport.width:be.outerWidth)/be.innerWidth,U=0,Z=at(n)?function(){return n(u)}:function(){return n||2.8},z,I,Y=Ps(T,e.type,!0,o),j=function(){return I=!1},B=Ft,H=Ft,X=function(){w=zt(T,Ze),H=Zn($t?1:0,w),t&&(B=Zn(0,zt(T,gt))),z=hn},D=function(){P._gsap.y=Gn(parseFloat(P._gsap.y)+_.offset)+"px",P.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(P._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},te=function(){if(I){requestAnimationFrame(j);var C=Gn(u.deltaY/2),ne=H(_.v-C);if(P&&ne!==_.v+_.offset){_.offset=ne-_.v;var p=Gn((parseFloat(P&&P._gsap.y)||0)-_.offset);P.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+p+", 0, 1)",P._gsap.y=p+"px",_.cacheID=we.cache,Vt()}return!0}_.offset&&D(),I=!0},R,ee,K,$,V=function(){X(),R.isActive()&&R.vars.scrollY>w&&(_()>w?R.progress(1)&&_(w):R.resetTo("scrollY",w))};return P&&J.set(P,{y:"+=0"}),e.ignoreCheck=function(G){return $t&&G.type==="touchmove"&&te()||E>1.05&&G.type!=="touchstart"||u.isGesturing||G.touches&&G.touches.length>1},e.onPress=function(){I=!1;var G=E;E=Gn((be.visualViewport&&be.visualViewport.scale||1)/m),R.pause(),G!==E&&Zr(T,E>1.01?!0:t?!1:"x"),ee=F(),K=_(),X(),z=hn},e.onRelease=e.onGestureStart=function(G,C){if(_.offset&&D(),!C)$.restart(!0);else{we.cache++;var ne=Z(),p,re;t&&(p=F(),re=p+ne*.05*-G.velocityX/.227,ne*=Fo(F,p,re,zt(T,gt)),R.vars.scrollX=B(re)),p=_(),re=p+ne*.05*-G.velocityY/.227,ne*=Fo(_,p,re,zt(T,Ze)),R.vars.scrollY=H(re),R.invalidate().duration(ne).play(.01),($t&&R.vars.scrollY>=w||p>=w-1)&&J.to({},{onUpdate:V,duration:ne})}l&&l(G)},e.onWheel=function(){R._ts&&R.pause(),it()-U>1e3&&(z=0,U=it())},e.onChange=function(G,C,ne,p,re){if(hn!==z&&X(),C&&t&&F(B(p[2]===C?ee+(G.startX-G.x):F()+C-p[1])),ne){_.offset&&D();var Pe=re[2]===ne,Oe=Pe?K+G.startY-G.y:_()+ne-re[1],g=H(Oe);Pe&&Oe!==g&&(K+=g-Oe),_(g)}(ne||C)&&Vt()},e.onEnable=function(){Zr(T,t?!1:"x"),he.addEventListener("refresh",V),$e(be,"resize",V),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=F.smooth=!1),Y.enable()},e.onDisable=function(){Zr(T,!0),Qe(be,"resize",V),he.removeEventListener("refresh",V),Y.kill()},e.lockAxis=e.lockAxis!==!1,u=new ze(e),u.iOS=$t,$t&&!_()&&_(1),$t&&J.ticker.add(Ft),$=u._dc,R=J.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ss(_,_(),function(){return R.pause()})},onUpdate:Vt,onComplete:$.vars.onComplete}),u};he.sort=function(f){if(at(f))return ye.sort(f);var e=be.pageYOffset||0;return he.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+be.innerHeight}),ye.sort(f||function(r,t){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};he.observe=function(f){return new ze(f)};he.normalizeScroll=function(f){if(typeof f>"u")return ft;if(f===!0&&ft)return ft.enable();if(f===!1){ft&&ft.kill(),ft=f;return}var e=f instanceof ze?f:Ci(f);return ft&&ft.target===e.target&&ft.kill(),mn(e.target)&&(ft=e),e};he.core={_getVelocityProp:eo,_inputObserver:Ps,_scrollers:we,_proxies:Gt,bridge:{ss:function(){Mt||_n("scrollStart"),Mt=it()},ref:function(){return st}}};hs()&&J.registerPlugin(he);var er=function(){var f=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(N){N.preventDefault(),t(++f%e.children.length)},!1);function r(N){return e.appendChild(N.dom),N}function t(N){for(var v=0;v<e.children.length;v++)e.children[v].style.display=v===N?"block":"none";f=N}var n=(performance||Date).now(),o=n,l=0,u=r(new er.Panel("FPS","#0ff","#002")),w=r(new er.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var T=r(new er.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:r,showPanel:t,begin:function(){n=(performance||Date).now()},end:function(){l++;var N=(performance||Date).now();if(w.update(N-n,200),N>=o+1e3&&(u.update(l*1e3/(N-o),100),o=N,l=0,T)){var v=performance.memory;T.update(v.usedJSHeapSize/1048576,v.jsHeapSizeLimit/1048576)}return N},update:function(){n=this.end()},domElement:e,setMode:t}};er.Panel=function(f,e,r){var t=1/0,n=0,o=Math.round,l=o(window.devicePixelRatio||1),u=80*l,w=48*l,T=3*l,N=2*l,v=3*l,P=15*l,_=74*l,F=30*l,E=document.createElement("canvas");E.width=u,E.height=w,E.style.cssText="width:80px;height:48px";var m=E.getContext("2d");return m.font="bold "+9*l+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=r,m.fillRect(0,0,u,w),m.fillStyle=e,m.fillText(f,T,N),m.fillRect(v,P,_,F),m.fillStyle=r,m.globalAlpha=.9,m.fillRect(v,P,_,F),{dom:E,update:function(U,Z){t=Math.min(t,U),n=Math.max(n,U),m.fillStyle=r,m.globalAlpha=1,m.fillRect(0,0,u,P),m.fillStyle=e,m.fillText(o(U)+" "+f+" ("+o(t)+"-"+o(n)+")",T,N),m.drawImage(E,v+l,P,_-l,F,v,P,_-l,F),m.fillRect(v+_-l,P,l,F),m.fillStyle=r,m.globalAlpha=.9,m.fillRect(v+_-l,P,l,o((1-U/Z)*F))}}};class Cs extends Gs{constructor(e,r={}){const t=r.font;if(t===void 0)super();else{const n=t.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(n,r)}this.type="TextGeometry"}}const Mi=Ys;class Nr extends Zo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,r,t,n){const o=this,l=new qo(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{r(o.parse(u))}catch(w){n?n(w):console.error(w),o.manager.itemError(e)}},t,n)}parse(e){const r=this;function t(g,c){if(g.nodeType!==1)return;const i=I(g);let s=!1,b=null;switch(g.nodeName){case"svg":c=F(g,c);break;case"style":o(g);break;case"g":c=F(g,c);break;case"path":c=F(g,c),g.hasAttribute("d")&&(b=n(g));break;case"rect":c=F(g,c),b=w(g);break;case"polygon":c=F(g,c),b=T(g);break;case"polyline":c=F(g,c),b=N(g);break;case"circle":c=F(g,c),b=v(g);break;case"ellipse":c=F(g,c),b=P(g);break;case"line":c=F(g,c),b=_(g);break;case"defs":s=!0;break;case"use":c=F(g,c);const M=(g.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),L=g.viewportElement.getElementById(M);L?t(L,c):console.warn("SVGLoader: 'use node' references non-existent node id: "+M);break}b&&(c.fill!==void 0&&c.fill!=="none"&&b.color.setStyle(c.fill,Mi),j(b,re),R.push(b),b.userData={node:g,style:c});const A=g.childNodes;for(let y=0;y<A.length;y++){const M=A[y];s&&M.nodeName!=="style"&&M.nodeName!=="defs"||t(M,c)}i&&(K.pop(),K.length>0?re.copy(K[K.length-1]):re.identity())}function n(g){const c=new Qt,i=new pe,s=new pe,b=new pe;let A=!0,y=!1;const M=g.getAttribute("d");if(M===""||M==="none")return null;const L=M.match(/[a-df-z][^a-df-z]*/ig);for(let k=0,x=L.length;k<x;k++){const S=L[k],O=S.charAt(0),d=S.slice(1).trim();A===!0&&(y=!0,A=!1);let h;switch(O){case"M":h=m(d);for(let a=0,W=h.length;a<W;a+=2)i.x=h[a+0],i.y=h[a+1],s.x=i.x,s.y=i.y,a===0?c.moveTo(i.x,i.y):c.lineTo(i.x,i.y),a===0&&b.copy(i);break;case"H":h=m(d);for(let a=0,W=h.length;a<W;a++)i.x=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"V":h=m(d);for(let a=0,W=h.length;a<W;a++)i.y=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"L":h=m(d);for(let a=0,W=h.length;a<W;a+=2)i.x=h[a+0],i.y=h[a+1],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"C":h=m(d);for(let a=0,W=h.length;a<W;a+=6)c.bezierCurveTo(h[a+0],h[a+1],h[a+2],h[a+3],h[a+4],h[a+5]),s.x=h[a+2],s.y=h[a+3],i.x=h[a+4],i.y=h[a+5],a===0&&y===!0&&b.copy(i);break;case"S":h=m(d);for(let a=0,W=h.length;a<W;a+=4)c.bezierCurveTo(E(i.x,s.x),E(i.y,s.y),h[a+0],h[a+1],h[a+2],h[a+3]),s.x=h[a+0],s.y=h[a+1],i.x=h[a+2],i.y=h[a+3],a===0&&y===!0&&b.copy(i);break;case"Q":h=m(d);for(let a=0,W=h.length;a<W;a+=4)c.quadraticCurveTo(h[a+0],h[a+1],h[a+2],h[a+3]),s.x=h[a+0],s.y=h[a+1],i.x=h[a+2],i.y=h[a+3],a===0&&y===!0&&b.copy(i);break;case"T":h=m(d);for(let a=0,W=h.length;a<W;a+=2){const Q=E(i.x,s.x),_e=E(i.y,s.y);c.quadraticCurveTo(Q,_e,h[a+0],h[a+1]),s.x=Q,s.y=_e,i.x=h[a+0],i.y=h[a+1],a===0&&y===!0&&b.copy(i)}break;case"A":h=m(d,[3,4],7);for(let a=0,W=h.length;a<W;a+=7){if(h[a+5]==i.x&&h[a+6]==i.y)continue;const Q=i.clone();i.x=h[a+5],i.y=h[a+6],s.x=i.x,s.y=i.y,l(c,h[a],h[a+1],h[a+2],h[a+3],h[a+4],Q,i),a===0&&y===!0&&b.copy(i)}break;case"m":h=m(d);for(let a=0,W=h.length;a<W;a+=2)i.x+=h[a+0],i.y+=h[a+1],s.x=i.x,s.y=i.y,a===0?c.moveTo(i.x,i.y):c.lineTo(i.x,i.y),a===0&&b.copy(i);break;case"h":h=m(d);for(let a=0,W=h.length;a<W;a++)i.x+=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"v":h=m(d);for(let a=0,W=h.length;a<W;a++)i.y+=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"l":h=m(d);for(let a=0,W=h.length;a<W;a+=2)i.x+=h[a+0],i.y+=h[a+1],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"c":h=m(d);for(let a=0,W=h.length;a<W;a+=6)c.bezierCurveTo(i.x+h[a+0],i.y+h[a+1],i.x+h[a+2],i.y+h[a+3],i.x+h[a+4],i.y+h[a+5]),s.x=i.x+h[a+2],s.y=i.y+h[a+3],i.x+=h[a+4],i.y+=h[a+5],a===0&&y===!0&&b.copy(i);break;case"s":h=m(d);for(let a=0,W=h.length;a<W;a+=4)c.bezierCurveTo(E(i.x,s.x),E(i.y,s.y),i.x+h[a+0],i.y+h[a+1],i.x+h[a+2],i.y+h[a+3]),s.x=i.x+h[a+0],s.y=i.y+h[a+1],i.x+=h[a+2],i.y+=h[a+3],a===0&&y===!0&&b.copy(i);break;case"q":h=m(d);for(let a=0,W=h.length;a<W;a+=4)c.quadraticCurveTo(i.x+h[a+0],i.y+h[a+1],i.x+h[a+2],i.y+h[a+3]),s.x=i.x+h[a+0],s.y=i.y+h[a+1],i.x+=h[a+2],i.y+=h[a+3],a===0&&y===!0&&b.copy(i);break;case"t":h=m(d);for(let a=0,W=h.length;a<W;a+=2){const Q=E(i.x,s.x),_e=E(i.y,s.y);c.quadraticCurveTo(Q,_e,i.x+h[a+0],i.y+h[a+1]),s.x=Q,s.y=_e,i.x=i.x+h[a+0],i.y=i.y+h[a+1],a===0&&y===!0&&b.copy(i)}break;case"a":h=m(d,[3,4],7);for(let a=0,W=h.length;a<W;a+=7){if(h[a+5]==0&&h[a+6]==0)continue;const Q=i.clone();i.x+=h[a+5],i.y+=h[a+6],s.x=i.x,s.y=i.y,l(c,h[a],h[a+1],h[a+2],h[a+3],h[a+4],Q,i),a===0&&y===!0&&b.copy(i)}break;case"Z":case"z":c.currentPath.autoClose=!0,c.currentPath.curves.length>0&&(i.copy(b),c.currentPath.currentPoint.copy(i),A=!0);break;default:console.warn(S)}y=!1}return c}function o(g){if(!(!g.sheet||!g.sheet.cssRules||!g.sheet.cssRules.length))for(let c=0;c<g.sheet.cssRules.length;c++){const i=g.sheet.cssRules[c];if(i.type!==1)continue;const s=i.selectorText.split(/,/gm).filter(Boolean).map(b=>b.trim());for(let b=0;b<s.length;b++){const A=Object.fromEntries(Object.entries(i.style).filter(([,y])=>y!==""));ee[s[b]]=Object.assign(ee[s[b]]||{},A)}}}function l(g,c,i,s,b,A,y,M){if(c==0||i==0){g.lineTo(M.x,M.y);return}s=s*Math.PI/180,c=Math.abs(c),i=Math.abs(i);const L=(y.x-M.x)/2,k=(y.y-M.y)/2,x=Math.cos(s)*L+Math.sin(s)*k,S=-Math.sin(s)*L+Math.cos(s)*k;let O=c*c,d=i*i;const h=x*x,a=S*S,W=h/O+a/d;if(W>1){const xe=Math.sqrt(W);c=xe*c,i=xe*i,O=c*c,d=i*i}const Q=O*a+d*h,_e=(O*d-Q)/Q;let ie=Math.sqrt(Math.max(0,_e));b===A&&(ie=-ie);const ge=ie*c*S/i,ve=-ie*i*x/c,le=Math.cos(s)*ge-Math.sin(s)*ve+(y.x+M.x)/2,ce=Math.sin(s)*ge+Math.cos(s)*ve+(y.y+M.y)/2,Se=u(1,0,(x-ge)/c,(S-ve)/i),oe=u((x-ge)/c,(S-ve)/i,(-x-ge)/c,(-S-ve)/i)%(Math.PI*2);g.currentPath.absellipse(le,ce,c,i,Se,Se+oe,A===0,s)}function u(g,c,i,s){const b=g*i+c*s,A=Math.sqrt(g*g+c*c)*Math.sqrt(i*i+s*s);let y=Math.acos(Math.max(-1,Math.min(1,b/A)));return g*s-c*i<0&&(y=-y),y}function w(g){const c=z(g.getAttribute("x")||0),i=z(g.getAttribute("y")||0),s=z(g.getAttribute("rx")||g.getAttribute("ry")||0),b=z(g.getAttribute("ry")||g.getAttribute("rx")||0),A=z(g.getAttribute("width")),y=z(g.getAttribute("height")),M=1-.551915024494,L=new Qt;return L.moveTo(c+s,i),L.lineTo(c+A-s,i),(s!==0||b!==0)&&L.bezierCurveTo(c+A-s*M,i,c+A,i+b*M,c+A,i+b),L.lineTo(c+A,i+y-b),(s!==0||b!==0)&&L.bezierCurveTo(c+A,i+y-b*M,c+A-s*M,i+y,c+A-s,i+y),L.lineTo(c+s,i+y),(s!==0||b!==0)&&L.bezierCurveTo(c+s*M,i+y,c,i+y-b*M,c,i+y-b),L.lineTo(c,i+b),(s!==0||b!==0)&&L.bezierCurveTo(c,i+b*M,c+s*M,i,c+s,i),L}function T(g){function c(A,y,M){const L=z(y),k=z(M);b===0?s.moveTo(L,k):s.lineTo(L,k),b++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Qt;let b=0;return g.getAttribute("points").replace(i,c),s.currentPath.autoClose=!0,s}function N(g){function c(A,y,M){const L=z(y),k=z(M);b===0?s.moveTo(L,k):s.lineTo(L,k),b++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Qt;let b=0;return g.getAttribute("points").replace(i,c),s.currentPath.autoClose=!1,s}function v(g){const c=z(g.getAttribute("cx")||0),i=z(g.getAttribute("cy")||0),s=z(g.getAttribute("r")||0),b=new zr;b.absarc(c,i,s,0,Math.PI*2);const A=new Qt;return A.subPaths.push(b),A}function P(g){const c=z(g.getAttribute("cx")||0),i=z(g.getAttribute("cy")||0),s=z(g.getAttribute("rx")||0),b=z(g.getAttribute("ry")||0),A=new zr;A.absellipse(c,i,s,b,0,Math.PI*2);const y=new Qt;return y.subPaths.push(A),y}function _(g){const c=z(g.getAttribute("x1")||0),i=z(g.getAttribute("y1")||0),s=z(g.getAttribute("x2")||0),b=z(g.getAttribute("y2")||0),A=new Qt;return A.moveTo(c,i),A.lineTo(s,b),A.currentPath.autoClose=!1,A}function F(g,c){c=Object.assign({},c);let i={};if(g.hasAttribute("class")){const y=g.getAttribute("class").split(/\s/).filter(Boolean).map(M=>M.trim());for(let M=0;M<y.length;M++)i=Object.assign(i,ee["."+y[M]])}g.hasAttribute("id")&&(i=Object.assign(i,ee["#"+g.getAttribute("id")]));function s(y,M,L){L===void 0&&(L=function(x){return x.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),x}),g.hasAttribute(y)&&(c[M]=L(g.getAttribute(y))),i[y]&&(c[M]=L(i[y])),g.style&&g.style[y]!==""&&(c[M]=L(g.style[y]))}function b(y){return Math.max(0,Math.min(1,z(y)))}function A(y){return Math.max(0,z(y))}return s("fill","fill"),s("fill-opacity","fillOpacity",b),s("fill-rule","fillRule"),s("opacity","opacity",b),s("stroke","stroke"),s("stroke-opacity","strokeOpacity",b),s("stroke-width","strokeWidth",A),s("stroke-linejoin","strokeLineJoin"),s("stroke-linecap","strokeLineCap"),s("stroke-miterlimit","strokeMiterLimit",A),s("visibility","visibility"),c}function E(g,c){return g-(c-g)}function m(g,c,i){if(typeof g!="string")throw new TypeError("Invalid input: "+typeof g);const s={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},b=0,A=1,y=2,M=3;let L=b,k=!0,x="",S="";const O=[];function d(Q,_e,ie){const ge=new SyntaxError('Unexpected character "'+Q+'" at index '+_e+".");throw ge.partial=ie,ge}function h(){x!==""&&(S===""?O.push(Number(x)):O.push(Number(x)*Math.pow(10,Number(S)))),x="",S=""}let a;const W=g.length;for(let Q=0;Q<W;Q++){if(a=g[Q],Array.isArray(c)&&c.includes(O.length%i)&&s.FLAGS.test(a)){L=A,x=a,h();continue}if(L===b){if(s.WHITESPACE.test(a))continue;if(s.DIGIT.test(a)||s.SIGN.test(a)){L=A,x=a;continue}if(s.POINT.test(a)){L=y,x=a;continue}s.COMMA.test(a)&&(k&&d(a,Q,O),k=!0)}if(L===A){if(s.DIGIT.test(a)){x+=a;continue}if(s.POINT.test(a)){x+=a,L=y;continue}if(s.EXP.test(a)){L=M;continue}s.SIGN.test(a)&&x.length===1&&s.SIGN.test(x[0])&&d(a,Q,O)}if(L===y){if(s.DIGIT.test(a)){x+=a;continue}if(s.EXP.test(a)){L=M;continue}s.POINT.test(a)&&x[x.length-1]==="."&&d(a,Q,O)}if(L===M){if(s.DIGIT.test(a)){S+=a;continue}if(s.SIGN.test(a)){if(S===""){S+=a;continue}S.length===1&&s.SIGN.test(S)&&d(a,Q,O)}}s.WHITESPACE.test(a)?(h(),L=b,k=!1):s.COMMA.test(a)?(h(),L=b,k=!0):s.SIGN.test(a)?(h(),L=A,x=a):s.POINT.test(a)?(h(),L=y,x=a):d(a,Q,O)}return h(),O}const U=["mm","cm","in","pt","pc","px"],Z={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function z(g){let c="px";if(typeof g=="string"||g instanceof String)for(let s=0,b=U.length;s<b;s++){const A=U[s];if(g.endsWith(A)){c=A,g=g.substring(0,g.length-A.length);break}}let i;return c==="px"&&r.defaultUnit!=="px"?i=Z.in[r.defaultUnit]/r.defaultDPI:(i=Z[c][r.defaultUnit],i<0&&(i=Z[c].in*r.defaultDPI)),i*parseFloat(g)}function I(g){if(!(g.hasAttribute("transform")||g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))))return null;const c=Y(g);return K.length>0&&c.premultiply(K[K.length-1]),re.copy(c),K.push(c),c}function Y(g){const c=new bn,i=$;if(g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))){const s=z(g.getAttribute("x")),b=z(g.getAttribute("y"));c.translate(s,b)}if(g.hasAttribute("transform")){const s=g.getAttribute("transform").split(")");for(let b=s.length-1;b>=0;b--){const A=s[b].trim();if(A==="")continue;const y=A.indexOf("("),M=A.length;if(y>0&&y<M){const L=A.slice(0,y),k=m(A.slice(y+1));switch(i.identity(),L){case"translate":if(k.length>=1){const x=k[0];let S=0;k.length>=2&&(S=k[1]),i.translate(x,S)}break;case"rotate":if(k.length>=1){let x=0,S=0,O=0;x=k[0]*Math.PI/180,k.length>=3&&(S=k[1],O=k[2]),V.makeTranslation(-S,-O),G.makeRotation(x),C.multiplyMatrices(G,V),V.makeTranslation(S,O),i.multiplyMatrices(V,C)}break;case"scale":if(k.length>=1){const x=k[0];let S=x;k.length>=2&&(S=k[1]),i.scale(x,S)}break;case"skewX":k.length===1&&i.set(1,Math.tan(k[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":k.length===1&&i.set(1,0,0,Math.tan(k[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":k.length===6&&i.set(k[0],k[2],k[4],k[1],k[3],k[5],0,0,1);break}}c.premultiply(i)}}return c}function j(g,c){function i(y){p.set(y.x,y.y,1).applyMatrix3(c),y.set(p.x,p.y)}function s(y){const M=y.xRadius,L=y.yRadius,k=Math.cos(y.aRotation),x=Math.sin(y.aRotation),S=new Ye(M*k,M*x,0),O=new Ye(-L*x,L*k,0),d=S.applyMatrix3(c),h=O.applyMatrix3(c),a=$.set(d.x,h.x,0,d.y,h.y,0,0,0,1),W=V.copy(a).invert(),ie=G.copy(W).transpose().multiply(W).elements,ge=te(ie[0],ie[1],ie[4]),ve=Math.sqrt(ge.rt1),le=Math.sqrt(ge.rt2);if(y.xRadius=1/ve,y.yRadius=1/le,y.aRotation=Math.atan2(ge.sn,ge.cs),!((y.aEndAngle-y.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Se=V.set(ve,0,0,0,le,0,0,0,1),oe=G.set(ge.cs,ge.sn,0,-ge.sn,ge.cs,0,0,0,1),xe=Se.multiply(oe).multiply(a),Ae=ke=>{const{x:Zt,y:De}=new Ye(Math.cos(ke),Math.sin(ke),0).applyMatrix3(xe);return Math.atan2(De,Zt)};y.aStartAngle=Ae(y.aStartAngle),y.aEndAngle=Ae(y.aEndAngle),B(c)&&(y.aClockwise=!y.aClockwise)}}function b(y){const M=X(c),L=D(c);y.xRadius*=M,y.yRadius*=L;const k=M>Number.EPSILON?Math.atan2(c.elements[1],c.elements[0]):Math.atan2(-c.elements[3],c.elements[4]);y.aRotation+=k,B(c)&&(y.aStartAngle*=-1,y.aEndAngle*=-1,y.aClockwise=!y.aClockwise)}const A=g.subPaths;for(let y=0,M=A.length;y<M;y++){const k=A[y].curves;for(let x=0;x<k.length;x++){const S=k[x];S.isLineCurve?(i(S.v1),i(S.v2)):S.isCubicBezierCurve?(i(S.v0),i(S.v1),i(S.v2),i(S.v3)):S.isQuadraticBezierCurve?(i(S.v0),i(S.v1),i(S.v2)):S.isEllipseCurve&&(ne.set(S.aX,S.aY),i(ne),S.aX=ne.x,S.aY=ne.y,H(c)?s(S):b(S))}}}function B(g){const c=g.elements;return c[0]*c[4]-c[1]*c[3]<0}function H(g){const c=g.elements,i=c[0]*c[3]+c[1]*c[4];if(i===0)return!1;const s=X(g),b=D(g);return Math.abs(i/(s*b))>Number.EPSILON}function X(g){const c=g.elements;return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function D(g){const c=g.elements;return Math.sqrt(c[3]*c[3]+c[4]*c[4])}function te(g,c,i){let s,b,A,y,M;const L=g+i,k=g-i,x=Math.sqrt(k*k+4*c*c);return L>0?(s=.5*(L+x),M=1/s,b=g*M*i-c*M*c):L<0?b=.5*(L-x):(s=.5*x,b=-.5*x),k>0?A=k+x:A=k-x,Math.abs(A)>2*Math.abs(c)?(M=-2*c/A,y=1/Math.sqrt(1+M*M),A=M*y):Math.abs(c)===0?(A=1,y=0):(M=-.5*A/c,A=1/Math.sqrt(1+M*M),y=M*A),k>0&&(M=A,A=-y,y=M),{rt1:s,rt2:b,cs:A,sn:y}}const R=[],ee={},K=[],$=new bn,V=new bn,G=new bn,C=new bn,ne=new pe,p=new Ye,re=new bn,Pe=new DOMParser().parseFromString(e,"image/svg+xml");return t(Pe.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:R,xml:Pe.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},n={loc:t.ORIGIN,t:0};function o(E,m,U,Z){const z=E.x,I=m.x,Y=U.x,j=Z.x,B=E.y,H=m.y,X=U.y,D=Z.y,te=(j-Y)*(B-X)-(D-X)*(z-Y),R=(I-z)*(B-X)-(H-B)*(z-Y),ee=(D-X)*(I-z)-(j-Y)*(H-B),K=te/ee,$=R/ee;if(ee===0&&te!==0||K<=0||K>=1||$<0||$>1)return null;if(te===0&&ee===0){for(let V=0;V<2;V++)if(l(V===0?U:Z,E,m),n.loc==t.ORIGIN){const G=V===0?U:Z;return{x:G.x,y:G.y,t:n.t}}else if(n.loc==t.BETWEEN){const G=+(z+n.t*(I-z)).toPrecision(10),C=+(B+n.t*(H-B)).toPrecision(10);return{x:G,y:C,t:n.t}}return null}else{for(let C=0;C<2;C++)if(l(C===0?U:Z,E,m),n.loc==t.ORIGIN){const ne=C===0?U:Z;return{x:ne.x,y:ne.y,t:n.t}}const V=+(z+K*(I-z)).toPrecision(10),G=+(B+K*(H-B)).toPrecision(10);return{x:V,y:G,t:K}}}function l(E,m,U){const Z=U.x-m.x,z=U.y-m.y,I=E.x-m.x,Y=E.y-m.y,j=Z*Y-I*z;if(E.x===m.x&&E.y===m.y){n.loc=t.ORIGIN,n.t=0;return}if(E.x===U.x&&E.y===U.y){n.loc=t.DESTINATION,n.t=1;return}if(j<-Number.EPSILON){n.loc=t.LEFT;return}if(j>Number.EPSILON){n.loc=t.RIGHT;return}if(Z*I<0||z*Y<0){n.loc=t.BEHIND;return}if(Math.sqrt(Z*Z+z*z)<Math.sqrt(I*I+Y*Y)){n.loc=t.BEYOND;return}let B;Z!==0?B=I/Z:B=Y/z,n.loc=t.BETWEEN,n.t=B}function u(E,m){const U=[],Z=[];for(let z=1;z<E.length;z++){const I=E[z-1],Y=E[z];for(let j=1;j<m.length;j++){const B=m[j-1],H=m[j],X=o(I,Y,B,H);X!==null&&U.find(D=>D.t<=X.t+Number.EPSILON&&D.t>=X.t-Number.EPSILON)===void 0&&(U.push(X),Z.push(new pe(X.x,X.y)))}}return Z}function w(E,m,U){const Z=new pe;m.getCenter(Z);const z=[];return U.forEach(I=>{I.boundingBox.containsPoint(Z)&&u(E,I.points).forEach(j=>{z.push({identifier:I.identifier,isCW:I.isCW,point:j})})}),z.sort((I,Y)=>I.point.x-Y.point.x),z}function T(E,m,U,Z,z){(z==null||z==="")&&(z="nonzero");const I=new pe;E.boundingBox.getCenter(I);const Y=[new pe(U,I.y),new pe(Z,I.y)],j=w(Y,E.boundingBox,m);j.sort((R,ee)=>R.point.x-ee.point.x);const B=[],H=[];j.forEach(R=>{R.identifier===E.identifier?B.push(R):H.push(R)});const X=B[0].point.x,D=[];let te=0;for(;te<H.length&&H[te].point.x<X;)D.length>0&&D[D.length-1]===H[te].identifier?D.pop():D.push(H[te].identifier),te++;if(D.push(E.identifier),z==="evenodd"){const R=D.length%2===0,ee=D[D.length-2];return{identifier:E.identifier,isHole:R,for:ee}}else if(z==="nonzero"){let R=!0,ee=null,K=null;for(let $=0;$<D.length;$++){const V=D[$];R?(K=m[V].isCW,R=!1,ee=V):K!==m[V].isCW&&(K=m[V].isCW,R=!0)}return{identifier:E.identifier,isHole:R,for:ee}}else console.warn('fill-rule: "'+z+'" is currently not implemented.')}let N=999999999,v=-999999999,P=e.subPaths.map(E=>{const m=E.getPoints();let U=-999999999,Z=999999999,z=-999999999,I=999999999;for(let Y=0;Y<m.length;Y++){const j=m[Y];j.y>U&&(U=j.y),j.y<Z&&(Z=j.y),j.x>z&&(z=j.x),j.x<I&&(I=j.x)}return v<=z&&(v=z+1),N>=I&&(N=I-1),{curves:E.curves,points:m,isCW:Hs.isClockWise(m),identifier:-1,boundingBox:new Us(new pe(I,Z),new pe(z,U))}});P=P.filter(E=>E.points.length>1);for(let E=0;E<P.length;E++)P[E].identifier=E;const _=P.map(E=>T(E,P,N,v,e.userData?e.userData.style.fillRule:void 0)),F=[];return P.forEach(E=>{if(!_[E.identifier].isHole){const U=new Ws;U.curves=E.curves,_.filter(z=>z.isHole&&z.for===E.identifier).forEach(z=>{const I=P[z.identifier],Y=new zr;Y.curves=I.curves,U.holes.push(Y)}),F.push(U)}}),F}static getStrokeStyle(e,r,t,n,o){return e=e!==void 0?e:1,r=r!==void 0?r:"#000",t=t!==void 0?t:"miter",n=n!==void 0?n:"butt",o=o!==void 0?o:4,{strokeColor:r,strokeWidth:e,strokeLineJoin:t,strokeLineCap:n,strokeMiterLimit:o}}static pointsToStroke(e,r,t,n){const o=[],l=[],u=[];if(Nr.pointsToStrokeWithBuffers(e,r,t,n,o,l,u)===0)return null;const w=new lo;return w.setAttribute("position",new Wn(o,3)),w.setAttribute("normal",new Wn(l,3)),w.setAttribute("uv",new Wn(u,2)),w}static pointsToStrokeWithBuffers(e,r,t,n,o,l,u,w){const T=new pe,N=new pe,v=new pe,P=new pe,_=new pe,F=new pe,E=new pe,m=new pe,U=new pe,Z=new pe,z=new pe,I=new pe,Y=new pe,j=new pe,B=new pe,H=new pe,X=new pe;t=t!==void 0?t:12,n=n!==void 0?n:.001,w=w!==void 0?w:0,e=k(e);const D=e.length;if(D<2)return 0;const te=e[0].equals(e[D-1]);let R,ee=e[0],K;const $=r.strokeWidth/2,V=1/(D-1);let G=0,C,ne,p,re,Pe=!1,Oe=0,g=w*3,c=w*2;i(e[0],e[1],T).multiplyScalar($),m.copy(e[0]).sub(T),U.copy(e[0]).add(T),Z.copy(m),z.copy(U);for(let x=1;x<D;x++){R=e[x],x===D-1?te?K=e[1]:K=void 0:K=e[x+1];const S=T;if(i(ee,R,S),v.copy(S).multiplyScalar($),I.copy(R).sub(v),Y.copy(R).add(v),C=G+V,ne=!1,K!==void 0){i(R,K,N),v.copy(N).multiplyScalar($),j.copy(R).sub(v),B.copy(R).add(v),p=!0,v.subVectors(K,ee),S.dot(v)<0&&(p=!1),x===1&&(Pe=p),v.subVectors(K,R),v.normalize();const O=Math.abs(S.dot(v));if(O>Number.EPSILON){const d=$/O;v.multiplyScalar(-d),P.subVectors(R,ee),_.copy(P).setLength(d).add(v),H.copy(_).negate();const h=_.length(),a=P.length();P.divideScalar(a),F.subVectors(K,R);const W=F.length();switch(F.divideScalar(W),P.dot(H)<a&&F.dot(H)<W&&(ne=!0),X.copy(_).add(R),H.add(R),re=!1,ne?p?(B.copy(H),Y.copy(H)):(j.copy(H),I.copy(H)):A(),r.strokeLineJoin){case"bevel":y(p,ne,C);break;case"round":M(p,ne),p?b(R,I,j,C,0):b(R,B,Y,C,1);break;case"miter":case"miter-clip":default:const Q=$*r.strokeMiterLimit/h;if(Q<1)if(r.strokeLineJoin!=="miter-clip"){y(p,ne,C);break}else M(p,ne),p?(F.subVectors(X,I).multiplyScalar(Q).add(I),E.subVectors(X,j).multiplyScalar(Q).add(j),s(I,C,0),s(F,C,0),s(R,C,.5),s(R,C,.5),s(F,C,0),s(E,C,0),s(R,C,.5),s(E,C,0),s(j,C,0)):(F.subVectors(X,Y).multiplyScalar(Q).add(Y),E.subVectors(X,B).multiplyScalar(Q).add(B),s(Y,C,1),s(F,C,1),s(R,C,.5),s(R,C,.5),s(F,C,1),s(E,C,1),s(R,C,.5),s(E,C,1),s(B,C,1));else ne?(p?(s(U,G,1),s(m,G,0),s(X,C,0),s(U,G,1),s(X,C,0),s(H,C,1)):(s(U,G,1),s(m,G,0),s(X,C,1),s(m,G,0),s(H,C,0),s(X,C,1)),p?j.copy(X):B.copy(X)):p?(s(I,C,0),s(X,C,0),s(R,C,.5),s(R,C,.5),s(X,C,0),s(j,C,0)):(s(Y,C,1),s(X,C,1),s(R,C,.5),s(R,C,.5),s(X,C,1),s(B,C,1)),re=!0;break}}else A()}else A();!te&&x===D-1&&L(e[0],Z,z,p,!0,G),G=C,ee=R,m.copy(j),U.copy(B)}if(!te)L(R,I,Y,p,!1,C);else if(ne&&o){let x=X,S=H;Pe!==p&&(x=H,S=X),p?(re||Pe)&&(S.toArray(o,0*3),S.toArray(o,3*3),re&&x.toArray(o,1*3)):(re||!Pe)&&(S.toArray(o,1*3),S.toArray(o,3*3),re&&x.toArray(o,0*3))}return Oe;function i(x,S,O){return O.subVectors(S,x),O.set(-O.y,O.x).normalize()}function s(x,S,O){o&&(o[g]=x.x,o[g+1]=x.y,o[g+2]=0,l&&(l[g]=0,l[g+1]=0,l[g+2]=1),g+=3,u&&(u[c]=S,u[c+1]=O,c+=2)),Oe+=3}function b(x,S,O,d,h){T.copy(S).sub(x).normalize(),N.copy(O).sub(x).normalize();let a=Math.PI;const W=T.dot(N);Math.abs(W)<1&&(a=Math.abs(Math.acos(W))),a/=t,v.copy(S);for(let Q=0,_e=t-1;Q<_e;Q++)P.copy(v).rotateAround(x,a),s(v,d,h),s(P,d,h),s(x,d,.5),v.copy(P);s(P,d,h),s(O,d,h),s(x,d,.5)}function A(){s(U,G,1),s(m,G,0),s(I,C,0),s(U,G,1),s(I,C,0),s(Y,C,1)}function y(x,S,O){S?x?(s(U,G,1),s(m,G,0),s(I,C,0),s(U,G,1),s(I,C,0),s(H,C,1),s(I,O,0),s(j,O,0),s(H,O,.5)):(s(U,G,1),s(m,G,0),s(Y,C,1),s(m,G,0),s(H,C,0),s(Y,C,1),s(Y,O,1),s(H,O,0),s(B,O,1)):x?(s(I,O,0),s(j,O,0),s(R,O,.5)):(s(Y,O,1),s(B,O,0),s(R,O,.5))}function M(x,S){S&&(x?(s(U,G,1),s(m,G,0),s(I,C,0),s(U,G,1),s(I,C,0),s(H,C,1),s(I,G,0),s(R,C,.5),s(H,C,1),s(R,C,.5),s(j,G,0),s(H,C,1)):(s(U,G,1),s(m,G,0),s(Y,C,1),s(m,G,0),s(H,C,0),s(Y,C,1),s(Y,G,1),s(H,C,0),s(R,C,.5),s(R,C,.5),s(H,C,0),s(B,G,1)))}function L(x,S,O,d,h,a){switch(r.strokeLineCap){case"round":h?b(x,O,S,a,.5):b(x,S,O,a,.5);break;case"square":if(h)T.subVectors(S,x),N.set(T.y,-T.x),v.addVectors(T,N).add(x),P.subVectors(N,T).add(x),d?(v.toArray(o,1*3),P.toArray(o,0*3),P.toArray(o,3*3)):(v.toArray(o,1*3),u[3*2+1]===1?P.toArray(o,3*3):v.toArray(o,3*3),P.toArray(o,0*3));else{T.subVectors(O,x),N.set(T.y,-T.x),v.addVectors(T,N).add(x),P.subVectors(N,T).add(x);const W=o.length;d?(v.toArray(o,W-1*3),P.toArray(o,W-2*3),P.toArray(o,W-4*3)):(P.toArray(o,W-2*3),v.toArray(o,W-1*3),P.toArray(o,W-4*3))}break}}function k(x){let S=!1;for(let d=1,h=x.length-1;d<h;d++)if(x[d].distanceTo(x[d+1])<n){S=!0;break}if(!S)return x;const O=[];O.push(x[0]);for(let d=1,h=x.length-1;d<h;d++)x[d].distanceTo(x[d+1])>=n&&O.push(x[d]);return O.push(x[x.length-1]),O}}}function Ei(f,e,r,t){const{CUBE_SIZE:n,FIRST_CUBE_Z:o}=t,l=8,u=24,w=.075,T=200;let N,v=[],P=[],_=[],F=[];const E=(I,Y,j,B)=>{const H=new nr(I,I,I),X=new Yn(H),D=[new Rt({color:16711680,transparent:!0,opacity:B.opacity,blending:St}),new Rt({color:65280,transparent:!0,opacity:B.opacity,blending:St}),new Rt({color:255,transparent:!0,opacity:B.opacity,blending:St}),new Rt({color:65535,transparent:!0,opacity:B.opacity,blending:St}),new Rt({color:16711935,transparent:!0,opacity:B.opacity,blending:St}),new Rt({color:16776960,transparent:!0,opacity:B.opacity,blending:St})],te=new Dt,R=X.getAttribute("position").array,ee=[];for(let V=0;V<R.length/3;V+=2)ee.push(V,V+1);const K=Array(6).fill(null).map(()=>new lo),$=Array(6).fill(null).map(()=>[]);for(let V=0;V<ee.length/2;V++){const G=V%6;$[G].push(ee[V*2],ee[V*2+1])}return K.forEach((V,G)=>{V.setIndex($[G]),V.setAttribute("position",X.getAttribute("position"));const C=new Kt(V,D[G]);te.add(C)}),te.position.z=Y,te.rotation.z=j,te};return(()=>{const j=.9/(u-1);for(let ee=0;ee<u;ee++)P[ee]=new Rt({transparent:!0,opacity:1-ee*j});if(N=new Dt,!N){console.error("introGroup failed to initialize");return}for(let ee=0;ee<u;ee++){const K=n-ee*l,$=E(K,0,0,P[ee]),V=$.children.map(G=>G.material);F.push(V.map(G=>({material:G,originalColor:G.color.clone()}))),N.add($)}N.position.z=o,e.add(N),v.push(N),_=P.map(ee=>ee.opacity);const B=We.timeline({repeat:-1});B.to(N.rotation,{x:Ue.degToRad(360),duration:12,ease:"none"},0),B.to(N.rotation,{y:Ue.degToRad(360),duration:10,ease:"none"},0),B.to(N.rotation,{z:Ue.degToRad(360),duration:14,ease:"none"},0);let H=-1,X=0;const D=w*1e3,te=u*D,R=ee=>{const K=ee%te/D,$=Math.floor(K)%u;H!==-1&&ee-X>=D&&(F[H].forEach(C=>{C.material.opacity=_[H],C.material.color.copy(C.originalColor)}),H=-1),H===-1&&$!==H&&(H=$,X=ee,F[H].forEach(G=>{G.material.opacity=1,G.material.color.set(1,1,1)})),requestAnimationFrame(R)};requestAnimationFrame(R)})(),r.then(I=>{if(I){const Y=U(I);f.add(Y)}}),{introCubes:v};function U(I){const Y=new Dt,j=Z(I);j.position.set(0,-36,0),Y.add(j),z(H=>{Y.add(H),We.fromTo(j.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const X=H.children.find(D=>D instanceof Ge&&D!==H.children[0]);if(X){const D=X.position.y;We.to(X.position,{y:D+3,duration:1,ease:"easeOut",onComplete:()=>{X.position.y=D},repeat:-1})}}),Y.position.x=0,Y.position.y=-240;const B=o-u*l;return Y.position.z=B+T,Y}function Z(I){const Y=new Cs("SCROLL TO CONTINUE",{font:I,size:8,depth:0,curveSegments:12,bevelEnabled:!1});Y.computeBoundingBox(),Y.center();const j=new _t({color:16777215,transparent:!0,opacity:1});return new Ge(Y,j)}function z(I){new Nr().load("/3D/mouse.svg",j=>{const B=j.paths;let H=null,X=null,D=new Dt;if(B.forEach((te,R)=>{Nr.createShapes(te).forEach(K=>{const $=new Xs(K);$.computeBoundingBox();const V=new _t({color:16777215,transparent:!0,opacity:1,side:Bt}),G=new Ge($,V);G.scale.set(.05,.05,1),R===0?H=G:R===1&&(X=G)})}),H&&X){D.add(H),D.add(X);const R=(H.geometry.boundingBox.max.x-H.geometry.boundingBox.min.x)*H.scale.x/2;D.position.x=-R,D.rotation.x=Math.PI,I(D)}})}}class Ii extends Zo{constructor(e){super(e)}load(e,r,t,n){const o=this,l=new qo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){const w=o.parse(JSON.parse(u));r&&r(w)},t,n)}parse(e){return new Ai(e)}}class Ai{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const t=[],n=ki(e,r,this.data);for(let o=0,l=n.length;o<l;o++)t.push(...n[o].toShapes());return t}}function ki(f,e,r){const t=Array.from(f),n=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*n,l=[];let u=0,w=0;for(let T=0;T<t.length;T++){const N=t[T];if(N===`
`)u=0,w-=o;else{const v=Ri(N,n,u,w,r);u+=v.offsetX,l.push(v.path)}}return l}function Ri(f,e,r,t,n){const o=n.glyphs[f]||n.glyphs["?"];if(!o){console.error('THREE.Font: character "'+f+'" does not exists in font family '+n.familyName+".");return}const l=new Qt;let u,w,T,N,v,P,_,F;if(o.o){const E=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let m=0,U=E.length;m<U;)switch(E[m++]){case"m":u=E[m++]*e+r,w=E[m++]*e+t,l.moveTo(u,w);break;case"l":u=E[m++]*e+r,w=E[m++]*e+t,l.lineTo(u,w);break;case"q":T=E[m++]*e+r,N=E[m++]*e+t,v=E[m++]*e+r,P=E[m++]*e+t,l.quadraticCurveTo(v,P,T,N);break;case"b":T=E[m++]*e+r,N=E[m++]*e+t,v=E[m++]*e+r,P=E[m++]*e+t,_=E[m++]*e+r,F=E[m++]*e+t,l.bezierCurveTo(v,P,_,F,T,N);break}}return{offsetX:o.ha*e,path:l}}function Uo(f,e,r,t,n){const{CUBE_SIZE:o,CUBE_SPACING:l,FIRST_CUBE_Z:u}=e,w=u-(r.length+1)*l,T=65535,N=16711935,v=16711680,P=Ue.degToRad(15),_=1e3,F=.5,E=80,m=1,U=15,Z=.1;let z=[],I=null,Y=null,j=!1,B=!1,H=new js,X=new pe,D=null,te=null,R=null,ee=!1,K=null;const $=ts(),V=(g,c,i,s,b,A)=>{const y=new Dt;y.position.z=i,y.rotation.z=s,y.userData.isActive=!1;const M=new nr(c,c,c),L=new Yn(M),k=new Rt({color:new ht(T),transparent:!0,opacity:0}),x=new Kt(L,k);y.add(x);let S="right";const O=c/2;if(b)switch(["left","top","right","bottom"].includes(A)?A:"left"){case"left":S="right";break;case"top":S="bottom";break;case"right":S="left";break;case"bottom":S="top";break}const d=()=>{const Se=new bo(40,24),oe=new Yn(Se),xe=new Rt({color:new ht(T),transparent:!0,opacity:0,visible:!0}),Ae=new Kt(oe,xe);Ae.userData.isPortal=!0,Ae.userData.isAnimating=!1;const ke=new Yt(120,120),Zt=new _t({visible:!1,side:Bt}),De=new Ge(ke,Zt);De.userData.isPortalHitbox=!0,De.userData.portal=Ae;const Tt=new Dt,qt=new Yt(m,U),Et=65/2;for(let Be=0;Be<E;Be++){const lt=new _t({color:new ht(N),transparent:!0,opacity:0,visible:!1,side:Bt}),Xe=new Ge(qt,lt),Ke=Be/E*Math.PI*2;Xe.position.set(Math.cos(Ke)*Et,Math.sin(Ke)*Et,0),Xe.rotation.z=Ke+Math.PI/2,Xe.userData.baseOpacity=.01,Xe.userData.index=Be,Tt.add(Xe)}const Ut=2,me=25;for(let Be=1;Be<me;Be++){const lt=new bo(40,24),Xe=new Yn(lt),Ke=Ue.lerp(1,.1,Be/(me-1)),Ht=new Rt({color:new ht(T),transparent:!0,opacity:0}),It=new Kt(Xe,Ht);It.userData.isPortal=!0,It.userData.maxOpacity=Ke,It.position.z=-Be*Ut,Ae.add(It)}switch(Ae.userData.maxOpacity=1,S){case"left":case"right":Tt.children.forEach(Be=>Be.position.x+=Z);break;case"top":case"bottom":Tt.children.forEach(Be=>Be.position.y+=Z);break}switch(Ae.add(Tt),y.add(Ae),y.add(De),Ae.updateMatrixWorld(!0),Tt.updateMatrixWorld(!0),S){case"left":Ae.position.set(-O,0,0),Ae.rotation.y=Math.PI/2,De.position.set(-O,0,0),De.rotation.y=Math.PI/2;break;case"top":Ae.position.set(0,O,0),Ae.rotation.x=-Math.PI/2,De.position.set(0,O,0),De.rotation.x=Math.PI/2;break;case"right":Ae.position.set(O,0,0),Ae.rotation.y=-Math.PI/2,De.position.set(O,0,0),De.rotation.y=-Math.PI/2;break;case"bottom":Ae.position.set(0,-O,0),Ae.rotation.x=Math.PI/2,De.position.set(0,-O,0),De.rotation.x=Math.PI/2;break}};b?new vn().load(b,ce=>{ce.encoding=void 0;const Se=new Yt(c-1,c-1),oe=new _t({map:ce,transparent:!0,opacity:0,blending:St,side:Bt}),xe=new Ge(Se,oe);switch(A){case"left":xe.position.set(-O,0,0),s>=Ue.degToRad(120)?(xe.rotation.y=Math.PI/2,xe.rotation.z=-Math.PI):xe.rotation.y=Math.PI/2;break;case"top":xe.position.set(0,O,0),xe.rotation.x=Math.PI/2,xe.rotation.z=-Math.PI/2;break;case"right":xe.position.set(O,0,0),s>=Ue.degToRad(120)?(xe.rotation.y=-Math.PI/2,xe.rotation.z=-Math.PI):xe.rotation.y=-Math.PI/2;break;case"bottom":xe.position.set(0,-O,0),s>=Ue.degToRad(120)?(xe.rotation.x=-Math.PI/2,xe.rotation.z=Math.PI/2):(xe.rotation.x=-Math.PI/2,xe.rotation.z=-Math.PI/2);break}y.add(xe),d()},void 0,ce=>{d()}):d(),new vn().load(t,le=>{le.encoding=void 0;const ce=new Yt(c-1,c-1),Se=new _t({map:le,transparent:!0,opacity:0,blending:St,side:Bt,depthWrite:!1}),oe=new Ge(ce,Se);oe.position.set(0,0,-c/2-1),oe.rotation.y=0,oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile:",le)}),new vn().load(t,le=>{le.encoding=void 0;const ce=new Yt(c-1,c-1),Se=new _t({map:le,transparent:!0,opacity:0,blending:St,side:Bt,depthWrite:!1,color:new ht(16744448)}),oe=new Ge(ce,Se);oe.position.set(0,0,c/2+1),oe.rotation.y=0,oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile:",le)});const W=["left","top","right","bottom"],_e=[b?A||"left":null,S].filter(Boolean),ie=W.filter(le=>!_e.includes(le));return new vn().load(t,le=>{le.encoding=void 0;const ce=new Yt(c-1,c-1),Se=new _t({map:le,transparent:!0,opacity:0,blending:St,side:Bt,depthWrite:!1,color:new ht(255)}),oe=new Ge(ce,Se);switch(ie[0]){case"left":oe.position.set(-O,0,0),oe.rotation.y=-Math.PI/2;break;case"top":oe.position.set(0,O,0),oe.rotation.x=Math.PI/2;break;case"right":oe.position.set(O,0,0),oe.rotation.y=Math.PI/2;break;case"bottom":oe.position.set(0,-O,0),oe.rotation.x=-Math.PI/2;break}oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile:",le)}),new vn().load(n,le=>{le.encoding=void 0;const ce=new Yt(c-1,c-1),Se=new _t({map:le,transparent:!0,opacity:0,blending:St,side:Bt,depthWrite:!1}),oe=new Ge(ce,Se);switch(ie[1]){case"left":oe.position.set(-O,0,0),oe.rotation.y=-Math.PI/2;break;case"top":oe.position.set(0,O,0),oe.rotation.x=Math.PI/2;break;case"right":oe.position.set(O,0,0),oe.rotation.y=Math.PI/2;break;case"bottom":oe.position.set(0,-O,0),oe.rotation.x=-Math.PI/2;break}oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile2:",le)}),y},G=(g,c,i,s,b,A)=>{const y=new Cs(g,{font:A,size:b,depth:0,curveSegments:12,bevelEnabled:!1});y.computeBoundingBox(),y.center();const M=new _t({color:16777215,transparent:!0,opacity:0,side:Bt}),L=new Ge(y,M);L.position.set(c,i,s);const k=y.boundingBox,x=k.max.x-k.min.x,S=k.max.y-k.min.y,O=x+8,d=S+4,h=new Yt(O,d),a=new _t({color:0,transparent:!0,opacity:0,side:Bt}),W=new Ge(h,a);return W.position.set(c,i,s-1),f.add(W),f.add(L),L.userData.backgroundPlane=W,L},C=()=>new Promise(g=>{I=new Ii,I.load("/fonts/Poppins_Regular.json",c=>{Y=c;const i=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r),i.forEach((s,b)=>{const A=u-(b+1)*l,y=(b+1)*P,M=V(s,o,A,y,s.keyart,s.keyartLocation);f.add(M),z.push(M),G(s.title,0,s.size-15,u+90-(b+1)*l,s.size,c)}),g()},void 0,c=>console.error("Error loading font:",c))}),ne=()=>j?Promise.resolve({projectCubes:z,updateCubeColors:Pe,loadedFont:Y,maxZ:w}):C().then(()=>(j=!0,{projectCubes:z,updateCubeColors:Pe,loadedFont:Y,maxZ:w})).catch(g=>{throw console.error("Error in loadFontAndText:",g),g}),p=g=>{if(g.userData.isAnimating)return;g.userData.isAnimating=!0;const c=g.children.find(y=>y instanceof Dt);if(!c)return;const i=c.children,s=i.length,b=We.timeline({repeat:-1,defaults:{ease:"none"}}),A={value:0};b.to(A,{value:1,duration:1.5,onUpdate:()=>{i.forEach(M=>{const L=M.material;if(L.visible){const k=(M.userData.index/s+A.value)%1,S=(Math.sin(k*Math.PI*2)+1)/2,O=.01+(1-.01)*Math.pow(S,4);L.opacity=O}})}}),g.userData.animationTimeline=b},re=g=>{if(!g.userData.isAnimating)return;g.userData.isAnimating=!1;const c=g.children.find(i=>i instanceof Dt);c&&(g.userData.animationTimeline&&(g.userData.animationTimeline.kill(),delete g.userData.animationTimeline),c.children.forEach(i=>{const s=i.material;s.opacity=0}))},Pe=g=>{const c=g.position.z;let i=[];f.traverse(s=>{s instanceof Ge&&s.geometry&&s.geometry.type==="TextGeometry"&&i.push(s)}),B||(B=!0),z.forEach(s=>{const b=s.position.z,A=Math.abs(c-b);let y=0;A<=_&&(y=1-A/_),s.userData.isActive=y>=F,s.children.forEach(M=>{if(M instanceof Kt&&!M.userData.isPortal&&!M.userData.isPortalHitbox){const L=M.material;if(A<=_){const k=Ue.lerp((T>>16&255)/255,(N>>16&255)/255,y),x=Ue.lerp((T>>8&255)/255,(N>>8&255)/255,y),S=Ue.lerp((T&255)/255,(N&255)/255,y);L.color.set(k,x,S),L.opacity=Math.min(1,y*2)}else L.opacity=0}else if(M instanceof Kt&&M.userData.isPortal)B&&(y>.1?M.children.forEach(L=>{L instanceof Dt&&L.children.forEach(k=>{k instanceof Ge&&(k.material.visible=!0,M.userData.animationStarted||(p(M),M.userData.animationStarted=!0))})}):y<=.1&&M.userData.animationStarted&&(M.children.forEach(L=>{L instanceof Dt&&L.children.forEach(k=>{k instanceof Ge&&(k.material.visible=!1)})}),re(M),delete M.userData.animationStarted));else if(M instanceof Ge&&!M.userData.isPortalHitbox){const L=M.material;if(A<=_){const k=1-A/_;L.opacity=Math.min(.8,k*2)}else L.opacity=0}})}),i.forEach(s=>{const b=s.material,A=s.userData.backgroundPlane,y=A==null?void 0:A.material,M=s.position.z,L=Math.abs(c-M+120);if(L<=_){const k=1-L/_,x=Math.min(1,k*2);b.opacity=x,y&&(y.opacity=x*.8)}else b.opacity=0,y&&(y.opacity=0)})};return{getInitializedData:ne,updateCubeColors:Pe,setupInteractivity:(g,c,i,s,b)=>{K=i;let A=null,y=null;const M=(S,O=!0)=>{const d=[S,...S.children.filter(a=>a instanceof Kt&&a.userData.isPortal)],h=O?25:2;d.forEach((a,W)=>{let Q=-W*h;(S.position.y>0&&S.rotation.x===-Math.PI/2||S.position.y<0&&S.rotation.x===Math.PI/2)&&(Q=W*h);const _e=O?a.userData.maxOpacity:0;We.to(a.position,{z:Q,duration:1,ease:"power3.out",delay:.5}),We.to(a.material,{opacity:_e,duration:1,ease:"power3.out",delay:.5})})},L=S=>{X.x=S.clientX/window.innerWidth*2-1,X.y=-(S.clientY/window.innerHeight)*2+1,H.setFromCamera(X,g);const O=z.flatMap(h=>h.userData.isActive?h.children.filter(a=>a instanceof Ge&&a.userData.isPortalHitbox):[]),d=H.intersectObjects(O);if(d.length>0){const a=d[0].object.userData.portal;if(D!==a){if(D){const Q=D.material;We.to(Q.color,{r:(T>>16&255)/255,g:(T>>8&255)/255,b:(T&255)/255,duration:.5})}D=a;const W=D.material;We.to(W.color,{r:(v>>16&255)/255,g:(v>>8&255)/255,b:(v&255)/255,duration:.5})}c.style.cursor="pointer"}else{if(D){const h=D.material;We.to(h.color,{r:(T>>16&255)/255,g:(T>>8&255)/255,b:(T&255)/255,duration:.5}),D=null}c.style.cursor="auto"}},k=S=>{X.x=S.clientX/window.innerWidth*2-1,X.y=-(S.clientY/window.innerHeight)*2+1,H.setFromCamera(X,g);const O=z.flatMap(ie=>ie.userData.isActive?ie.children.filter(ge=>ge instanceof Ge&&ge.userData.isPortalHitbox):[]),d=H.intersectObjects(O);if(d.length===0)return;const h=d[0].object,a=h.userData.portal,W=h.parent,Q=z.indexOf(W),_e=r[Q];if(ee&&a===y){a.getWorldPosition(new Ye);let ie=new Ye;const ge=e.CUBE_SIZE/2;a.position.x===ge?ie.set(-1,0,0):a.position.x===-ge?ie.set(1,0,0):a.position.y===ge?ie.set(0,-1,0):a.position.y===-ge&&ie.set(0,1,0),ie.applyQuaternion(W.getWorldQuaternion(new Vs)).normalize();const le=g.position.clone().clone().add(ie.clone().multiplyScalar(-675)),ce=ie.clone().multiplyScalar(-1e3),Se=le.clone().add(ce);We.to(g.position,{x:le.x,y:le.y,z:le.z,duration:1,ease:"power2.in",onUpdate:()=>g.lookAt(Se),onComplete:()=>{_e!=null&&_e.slug&&($.setScrollPosition(window.scrollY),Is.visit(route("project.show",{project:_e.slug}),{preserveScroll:!1}))}})}else if(!ee){te||(te=g.position.clone(),R=new Ye(0,0,w)),K&&K(!0,te,R);const ie=a.getWorldPosition(new Ye);b&&b.disable(!1),We.to(g.position,{x:0,y:0,z:W.getWorldPosition(new Ye).z,duration:2,ease:"power3.out"}),We.to({},{duration:2,ease:"power3.out",onUpdate:function(){const ge=this.progress(),ve=g.getWorldDirection(new Ye).multiplyScalar(1e3).add(g.position),le=Ue.lerp(ve.x,ie.x,ge),ce=Ue.lerp(ve.y,ie.y,ge),Se=Ue.lerp(ve.z,ie.z,ge);g.lookAt(le,ce,Se)},onStart:()=>{ee=!0,A=window.scrollY,document.body.classList.add("no-scrollbar"),y=a,M(a,!0)}})}},x=S=>{if(!ee||!y||!te||!R)return;let O=0;if(S instanceof WheelEvent?O=S.deltaY:O=window.scrollY-(A||0),O>0){S.preventDefault(),window.scrollTo(0,A);return}if(O<0){S.preventDefault();const d=y,h=R.clone();We.to(g.position,{x:te.x,y:te.y,z:te.z,duration:1,ease:"power3.out"}),We.to({},{duration:1,ease:"power3.out",onUpdate:function(){const a=this.progress(),W=g.getWorldDirection(new Ye).multiplyScalar(1e3).add(g.position),Q=Ue.lerp(W.x,h.x,a),_e=Ue.lerp(W.y,h.y,a),ie=Ue.lerp(W.z,h.z,a);g.lookAt(Q,_e,ie)},onComplete:()=>{ee=!1,y=null,A=null,document.body.classList.remove("no-scrollbar"),K&&i(!1),b&&b.enable(),M(d,!1),te=null,R=null}})}};return c.addEventListener("mousemove",L),c.addEventListener("click",k),window.addEventListener("wheel",x,{passive:!1}),window.addEventListener("scroll",x,{passive:!1}),()=>{c.removeEventListener("mousemove",L),c.removeEventListener("click",k),window.removeEventListener("wheel",x),window.removeEventListener("scroll",x)}}}}function Di(f,e,r,t){const E=r-1e3,m=Math.abs(-500-E),U=Math.ceil(m/100),Z=()=>{const H=new Dt;let X=null,D=null;const te=[],R=[],ee=[],K=[],$=[];{const V=new nr(100,100,100),G=new Yn(V),C=32*U,ne=new Zs;ne.copy(G),ne.instanceCount=C;const p=new Rt({color:3355443,transparent:!0,fog:!0,vertexColors:!0}),re=new Float32Array(C*3),Pe=new Float32Array(C*3),Oe=new Float32Array(C*3),g=32*100,c=-3200/2+100/2,i=-500;for(let W=0;W<32;W++){const Q=z(W);for(let _e=0;_e<U;_e++){const ie=W*U+_e,ge=c+W*100,ve=i-_e*100,le=Ue.randFloat(100,300),ce=le/100,Se=-600+le/2;re[ie*3]=ge,re[ie*3+1]=Se,re[ie*3+2]=ve,Pe[ie*3]=1,Pe[ie*3+1]=ce,Pe[ie*3+2]=1,Oe[ie*3]=Q,Oe[ie*3+1]=Q,Oe[ie*3+2]=Q}}ne.setAttribute("instancePosition",new Gr(re,3)),ne.setAttribute("instanceScale",new Gr(Pe,3)),ne.setAttribute("color",new Gr(Oe,3)),p.onBeforeCompile=W=>{W.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${W.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},X=new Kt(ne,p);const s=-3200/2,b=g/2,A=-600,y=-300,M=E,L=-500;ne.boundingBox=new qs(new Ye(s,A,M),new Ye(b,y,L));const k=(s+b)/2,x=(A+y)/2,S=(M+L)/2,O=b-s,d=y-A,h=L-M,a=Math.sqrt(O*O+d*d+h*h)/2;ne.boundingSphere=new Qs(new Ye(k,x,S),a),H.add(X)}return e.add(H),{cityGroup:H,instancedLines:X,particleGroup:D,particles:te,paths:R,particleDistances:ee,particlePaths:K,particleDirections:$}},z=H=>{if(H<10)return .05+H*.10555555555555556;if(H>=22){const X=31-H,D=(1-.05)/9;return .05+X*D}return 1},{cityGroup:I,instancedLines:Y}=Z();return{cityGroup:I,buildingLines:Y?[Y]:[],updateParticles:H=>{},dispose:()=>{Y&&(I.remove(Y),Y.geometry.dispose(),Y.material.dispose()),e.remove(I)}}}We.registerPlugin(he);function Ni(f,e,r,t,n,o){const{CUBE_SPACING:l,FIRST_CUBE_Z:u}=o,w=(t==null?void 0:t.length)||0,T=u-(w+1)*l;let N=!1;const v=Math.abs(T)+(w-1)*l,P=We.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:`+=${v}`,scrub:1,pin:!0,onUpdate:F=>{if(!N){const E=F.progress,m=Ue.lerp(0,T,E);e.position.set(0,0,m),e.lookAt(0,0,T)}n(e)}}});return P.fromTo(e.position,{z:0},{z:T,duration:1,ease:"none"}),{setReverting:F=>{N=F},timeline:P}}const Oi={class:"preloader"},Li={class:"progress-label"},Bi=Or({__name:"Preloader",props:{progress:{}},setup(f){return(e,r)=>(tr(),Lr("div",Oi,[un("div",Li,As(Math.round(e.progress))+"%",1)]))}}),Fi=Qo(Bi,[["__scopeId","data-v-e5eadefa"]]),qr=250,wr=500,Bn=-500,Qr=-520,Ho=-720,zi=Or({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(f){We.registerPlugin(he),ts();const e=f,r={showChasers:!1,showStarfield:!1,showCars:!1,showBuildings:!0},t=sn(null),n=sn(null),o=sn(!1),l=sn(0),u=sn(!1),w=sn(!0),T=new Map;let N,v,P,_,F,E,m,U,Z=0,z=null,I=null,Y=null,j=null,B=null,H=[],X=null;const D=()=>{const $=t.value?t.value.getBoundingClientRect().width:window.innerWidth,V=window.innerHeight;P.setSize($,V),_.setSize($,V),v.aspect=$/V,v.far=6e4,v.updateProjectionMatrix()},te=$=>T.has($)?Promise.resolve(T.get($)):new Promise((V,G)=>{new vn().load($,ne=>{ne.encoding=void 0,T.set($,ne),V(ne)},void 0,ne=>G(ne))}),R=async()=>{N=new jo,N.background=new ht(0),N.fog=new $s(0,700,4e3),v=new Ks(75,window.innerWidth/window.innerHeight,1,6e4),v.position.set(0,0,0),v.lookAt(0,0,1e3),P=new Vo({antialias:!0}),P.setPixelRatio(window.devicePixelRatio),P.toneMapping=Js,P.toneMappingExposure=1,P.outputEncoding=void 0,_=new Jo(P);const $=new es(N,v);if(_.addPass($),F=new gn(new pe(window.innerWidth,window.innerHeight),6,.4,0),F.renderToScreen=!0,_.addPass(F),t.value)t.value.appendChild(P.domElement),P.domElement.style.opacity="0";else return;m=new er,m.dom.style.position="fixed",m.dom.style.top="0px",m.dom.style.left="0px",m.dom.style.zIndex="1000",document.body.appendChild(m.dom);const V=e.projects.length+2+1;let G=0;const C=()=>{G++,l.value=G/V*100,G===V&&(o.value=!0)};await te(e.projectGridFile).then(()=>C()).catch(()=>C()),await te(e.projectGridFile2).then(()=>C()).catch(()=>C());for(const re of e.projects)re.keyart?await te(re.keyart).then(()=>C()).catch(()=>C()):C();const ne=Uo(N,{CUBE_SIZE:qr,CUBE_SPACING:wr,FIRST_CUBE_Z:Bn},e.projects,e.projectGridFile,e.projectGridFile2);let p=-8500;try{const re=await ne.getInitializedData();p=re.maxZ!==void 0&&!isNaN(re.maxZ)?re.maxZ:-8500,C();const{introCubes:Pe}=Ei(N,N,Promise.resolve(re.loadedFont),{CUBE_SIZE:qr,FIRST_CUBE_Z:Bn});H=[...Pe,...re.projectCubes],X=re.updateCubeColors;const{cityGroup:Oe,updateParticles:g,dispose:c}=Di(N,N,p,r);U=g,B=c,r.showStarfield,r.showChasers,D()}catch(re){console.error("Error initializing project cubes:",re)}},ee=($=0)=>{if(E=requestAnimationFrame(ee),P&&_){const V=($-Z)/1e3;Z=$,U(V);const G=Ho-Qr;let C=0;v.position.z>=Qr?C=0:v.position.z<=Ho?C=1:C=(v.position.z-Qr)/G,F.strength=Ue.lerp(1,.125,C),u.value&&(X(v),he.update()),_.render()}m.update()};Wo(()=>{R().then(()=>{if(o.value){E=requestAnimationFrame(ee);const $=Uo(N,{CUBE_SIZE:qr,CUBE_SPACING:wr,FIRST_CUBE_Z:Bn},e.projects,e.projectGridFile,e.projectGridFile2);let V=null,G=null;const C=$.getInitializedData().then(({projectCubes:p})=>{p.forEach(Pe=>{Pe.userData.isActive=!0});const re=Bn-(e.projects.length-1)*wr;if(v.position.set(0,0,5e3),v.lookAt(0,0,re),v.updateProjectionMatrix(),X(v),_.render(),H.length&&X){const{setReverting:Pe,timeline:Oe}=Ni(N,v,n,H,X,{CUBE_SPACING:wr,FIRST_CUBE_Z:Bn});G=Pe,V=Oe}P&&I===null&&(I=$.setupInteractivity(v,P.domElement,(Pe,Oe,g)=>{G&&G(Pe)},void 0,V==null?void 0:V.scrollTrigger)),window.scrollTo({top:0,behavior:"auto"})}),ne=()=>{C.then(()=>{w.value=!1,v.position.set(0,0,5e3),v.updateProjectionMatrix(),We.to(P.domElement,{opacity:1,duration:.5,ease:"power4.out"});const p={z:5e3};We.to(p,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{v.position.z=p.z,v.updateProjectionMatrix()},onComplete:()=>{v.position.z=0,u.value=!0}})})};We.delayedCall(.1,ne)}}).catch($=>{console.error("Initialization failed:",$)}),window.addEventListener("resize",K)}),Yo(()=>{E&&cancelAnimationFrame(E),I&&I(),window.removeEventListener("resize",K),he.getAll().forEach($=>$.kill()),P.dispose(),_.dispose(),N.clear(),document.body.removeChild(m.dom),B&&B()});const K=()=>{D(),he.refresh()};return($,V)=>(tr(),Lr("section",{ref_key:"wrapper",ref:n,class:"wrapper"},[an(ks,{name:"fade"},{default:Rs(()=>[w.value?(tr(),Ds(Fi,{key:0,progress:l.value},null,8,["progress"])):Ns("",!0)]),_:1}),un("div",{ref_key:"tunnelWrapper",ref:t,class:"tunnel-wrapper"},null,512)],512))}}),Gi=Qo(zi,[["__scopeId","data-v-85ca6460"]]),Ui={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},Hi={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Wi={class:"overflow-hidden"},Yi={class:"flex justify-center items-center"},Xi={class:"flex justify-center items-center -mt-24 mix-blend-screen"},ea=Or({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(f){return(e,r)=>(tr(),Lr(Bs,null,[an(Os(Ls),{title:"Welcome"}),un("div",Ui,[un("nav",Hi,[an(ei)]),un("div",Wi,[an(Gi,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),un("div",Yi,[an(vo,{"particle-width":20,"particle-height":20})]),un("div",Xi,[an(vo,{"particle-width":15,"particle-height":160})]),an(ti)])],64))}});export{ea as default};
