import{I as Nn,d as Qt,D as Mi,x as Uo,y as Wo,e as Ln,o as Jr,J as Ci,W as Ei,a as cr,t as Ai,b as ir,T as ki,w as Ri,c as Ii,f as Di,u as Oi,m as Ni,F as Li}from"./app-CPnBMk8J.js";import{M as Be,O as Yo,B as ao,F as Ur,C as ht,V as ue,W as xn,H as wn,U as Qn,S as Sr,a as Je,A as St,b as bt,N as zi,c as Fi,d as jo,e as Vo,f as En,P as Wt,E as Bi,g as Xo,h as qo,i as br,j as Hi,k as Gi,l as Ui,m as Bn,n as Wi,o as $t,p as Yt,q as Yi,D as Nt,r as Lt,s as je,t as Ye,u as _n,v as sr,R as ji,T as _r,w as bo,Q as Vi,x as Ws,y as Ys,z as js,I as Vs,J as Xs,K as Xi,X as qi,Y as Zi,L as Qi,G as $i}from"./GlobalFooter-B1jMyEzF.js";import{_ as Zo}from"./_plugin-vue_export-helper-DlAUqK2U.js";class rn{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Ki=new Yo(-1,1,1,-1,0,1);class Ji extends ao{constructor(){super(),this.setAttribute("position",new Ur([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Ur([0,2,0,0,2,0],2))}}const es=new Ji;class Qo{constructor(e){this._mesh=new Be(es,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Ki)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const $o={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},ts={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new ht(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class hr extends rn{constructor(e,n,t,r){super(),this.strength=n!==void 0?n:1,this.radius=t,this.threshold=r,this.resolution=e!==void 0?new ue(e.x,e.y):new ue(256,256),this.clearColor=new ht(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new xn(o,l,{type:wn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let S=0;S<this.nMips;S++){const v=new xn(o,l,{type:wn});v.texture.name="UnrealBloomPass.h"+S,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);const b=new xn(o,l,{type:wn});b.texture.name="UnrealBloomPass.v"+S,b.texture.generateMipmaps=!1,this.renderTargetsVertical.push(b),o=Math.round(o/2),l=Math.round(l/2)}const f=ts;this.highPassUniforms=Qn.clone(f.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Sr({uniforms:this.highPassUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}),this.separableBlurMaterials=[];const w=[3,5,7,9,11];o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);for(let S=0;S<this.nMips;S++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(w[S])),this.separableBlurMaterials[S].uniforms.invSize.value=new ue(1/o,1/l),o=Math.round(o/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1;const k=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=k,this.bloomTintColors=[new Je(1,1,1),new Je(1,1,1),new Je(1,1,1),new Je(1,1,1),new Je(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const I=$o;this.copyUniforms=Qn.clone(I.uniforms),this.blendMaterial=new Sr({uniforms:this.copyUniforms,vertexShader:I.vertexShader,fragmentShader:I.fragmentShader,blending:St,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new ht,this.oldClearAlpha=1,this.basic=new bt,this.fsQuad=new Qo(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,n){let t=Math.round(e/2),r=Math.round(n/2);this.renderTargetBright.setSize(t,r);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(t,r),this.renderTargetsVertical[o].setSize(t,r),this.separableBlurMaterials[o].uniforms.invSize.value=new ue(1/t,1/r),t=Math.round(t/2),r=Math.round(r/2)}render(e,n,t,r,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const l=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let f=this.renderTargetBright;for(let w=0;w<this.nMips;w++)this.fsQuad.material=this.separableBlurMaterials[w],this.separableBlurMaterials[w].uniforms.colorTexture.value=f.texture,this.separableBlurMaterials[w].uniforms.direction.value=hr.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[w]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[w].uniforms.colorTexture.value=this.renderTargetsHorizontal[w].texture,this.separableBlurMaterials[w].uniforms.direction.value=hr.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[w]),e.clear(),this.fsQuad.render(e),f=this.renderTargetsVertical[w];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=l}getSeparableBlurMaterial(e){const n=[];for(let t=0;t<e;t++)n.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new Sr({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new ue(.5,.5)},direction:{value:new ue(.5,.5)},gaussianCoefficients:{value:n}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Sr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}hr.BlurDirectionX=new ue(1,0);hr.BlurDirectionY=new ue(0,1);class rs extends rn{constructor(e,n){super(),this.textureID=n!==void 0?n:"tDiffuse",e instanceof Sr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Qn.clone(e.uniforms),this.material=new Sr({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Qo(this.material)}render(e,n,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class xo extends rn{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,t){const r=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let l,f;this.inverse?(l=0,f=1):(l=1,f=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,l,4294967295),o.buffers.stencil.setClear(f),o.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),o.buffers.stencil.setLocked(!0)}}class ns extends rn{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Ko{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const t=e.getSize(new ue);this._width=t.width,this._height=t.height,n=new xn(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:wn}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new rs($o),this.copyPass.material.blending=zi,this.clock=new Fi}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let t=!1;for(let r=0,o=this.passes.length;r<o;r++){const l=this.passes[r];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),l.needsSwap){if(t){const f=this.renderer.getContext(),w=this.renderer.state.buffers.stencil;w.setFunc(f.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),w.setFunc(f.EQUAL,1,4294967295)}this.swapBuffers()}xo!==void 0&&(l instanceof xo?t=!0:l instanceof ns&&(t=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new ue);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const t=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(t,r),this.renderTarget2.setSize(t,r);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(t,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Jo extends rn{constructor(e,n,t=null,r=null,o=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=t,this.clearColor=r,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new ht}render(e,n,t){const r=e.autoClear;e.autoClear=!1;let o,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=r}}const or=.01,wo=45/3,os=3,Hn=45,_o=Nn({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(d){const e=d,n=Qt(null);let t,r,o=null,l=null,f=null,w=[];const k=Mi({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),I=Hn/2+10;function S(m){const H=or*k.particleWidth,Q=or*k.particleHeight,G=k.useSquares?new Wt(H,Q):new En(H,Q,H),P=Math.floor(Math.random()*3);let W;switch(P){case 0:W=new ht(1,0,0);break;case 1:W=new ht(0,1,0);break;case 2:W=new ht(0,0,1);break;default:W=new ht(1,0,0)}const Y=new bt({color:W,transparent:!0,opacity:.7}),z=new Be(G,Y),U=Hn+I*2;z.position.set(-45-I+m/(k.particleCount-1)*U,0,or*(Math.random()-.5)*k.positionZRandomness*k.emitterDepth);const X=or*(Math.random()*(k.maxSpeed-k.minSpeed)+k.minSpeed);return z.speed=X+or*(Math.random()-.5)*k.speedRandomness,z.rotationSpeed=new Je(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*k.rotationRandomness+.5),z}function v(){t=new jo;const m=os*1.5,H=m*wo;r=new Yo(-67.5/2,H/2,m/2,-4.5/2,.1,1e3),r.position.z=150,o=new Vo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const Q=new Jo(t,r);f=new hr(new ue(window.innerWidth,window.innerHeight),k.bloomStrength,k.bloomRadius,.1),l=new Ko(o),l.addPass(Q),l.addPass(f),D(),n.value&&n.value.appendChild(o.domElement),b(),M()}function b(){w.forEach(m=>t.remove(m)),w=[];for(let m=0;m<k.particleCount;m++){const H=S(m);w.push(H),t.add(H)}}function D(){if(!o||!l||!f)return;const m=window.innerWidth,H=m/wo;o.setSize(m,H),l.setSize(m,H),f.setSize(m,H),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function M(){requestAnimationFrame(M),w.forEach(m=>{m.position.x+=m.speed,!k.useSquares&&k.rotateParticles&&(m.rotation.x+=m.rotationSpeed.x*.016,m.rotation.y+=m.rotationSpeed.y*.016,m.rotation.z+=m.rotationSpeed.z*.016),m.position.x>Hn/2+I&&(w.indexOf(m),m.position.x=-45-I-or*(m.geometry instanceof En,m.geometry.parameters.width),m.position.y=0,m.position.z=or*(Math.random()-.5)*k.positionZRandomness*k.emitterDepth)}),l&&l.render()}return Uo(()=>{v(),window.addEventListener("resize",D)}),Wo(()=>{window.removeEventListener("resize",D),o==null||o.dispose()}),(m,H)=>(Jr(),Ln("div",{ref_key:"container",ref:n,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}}),ei=Ci("tunnel",{state:()=>({isMobile:!1,activeProjectSlug:null,scrollPosition:0}),mutations:{storeIsMobile(d,e){d.isMobile=e}},actions:{setActiveProject(d){this.activeProjectSlug=d},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(d){this.scrollPosition=d,console.log("Scroll position stored:",d)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function is(d,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(d,t.key,t)}}function ss(d,e,n){return e&&is(d.prototype,e),d}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var et,vn,vt,Jt,er,Mr,ti,ar,Wr,ri,Vt,Rt,ni,oi=function(){return et||typeof window<"u"&&(et=window.gsap)&&et.registerPlugin&&et},ii=1,Pr=[],me=[],Bt=[],Yr=Date.now,$n=function(e,n){return n},as=function(){var e=Wr.core,n=e.bridge||{},t=e._scrollers,r=e._proxies;t.push.apply(t,me),r.push.apply(r,Bt),me=t,Bt=r,$n=function(l,f){return n[l](f)}},tr=function(e,n){return~Bt.indexOf(e)&&Bt[Bt.indexOf(e)+1][n]},jr=function(e){return!!~ri.indexOf(e)},ut=function(e,n,t,r,o){return e.addEventListener(n,t,{passive:r!==!1,capture:!!o})},ct=function(e,n,t,r){return e.removeEventListener(n,t,!!r)},sn="scrollLeft",an="scrollTop",Kn=function(){return Vt&&Vt.isPressed||me.cache++},An=function(e,n){var t=function r(o){if(o||o===0){ii&&(vt.history.scrollRestoration="manual");var l=Vt&&Vt.isPressed;o=r.v=Math.round(o)||(Vt&&Vt.iOS?1:0),e(o),r.cacheID=me.cache,l&&$n("ss",o)}else(n||me.cache!==r.cacheID||$n("ref"))&&(r.cacheID=me.cache,r.v=e());return r.v+r.offset};return t.offset=0,e&&t},gt={s:sn,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:An(function(d){return arguments.length?vt.scrollTo(d,Ve.sc()):vt.pageXOffset||Jt[sn]||er[sn]||Mr[sn]||0})},Ve={s:an,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:gt,sc:An(function(d){return arguments.length?vt.scrollTo(gt.sc(),d):vt.pageYOffset||Jt[an]||er[an]||Mr[an]||0})},mt=function(e,n){return(n&&n._ctx&&n._ctx.selector||et.utils.toArray)(e)[0]||(typeof e=="string"&&et.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},rr=function(e,n){var t=n.s,r=n.sc;jr(e)&&(e=Jt.scrollingElement||er);var o=me.indexOf(e),l=r===Ve.sc?1:2;!~o&&(o=me.push(e)-1),me[o+l]||ut(e,"scroll",Kn);var f=me[o+l],w=f||(me[o+l]=An(tr(e,t),!0)||(jr(e)?r:An(function(k){return arguments.length?e[t]=k:e[t]})));return w.target=e,f||(w.smooth=et.getProperty(e,"scrollBehavior")==="smooth"),w},Jn=function(e,n,t){var r=e,o=e,l=Yr(),f=l,w=n||50,k=Math.max(500,w*3),I=function(D,M){var m=Yr();M||m-l>w?(o=r,r=D,f=l,l=m):t?r+=D:r=o+(D-o)/(m-f)*(l-f)},S=function(){o=r=t?0:r,f=l=0},v=function(D){var M=f,m=o,H=Yr();return(D||D===0)&&D!==r&&I(D),l===f||H-f>k?0:(r+(t?m:-m))/((t?H:l)-M)*1e3};return{update:I,reset:S,getVelocity:v}},Or=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},vo=function(e){var n=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(t)?n:t},si=function(){Wr=et.core.globals().ScrollTrigger,Wr&&Wr.core&&as()},ai=function(e){return et=e||oi(),!vn&&et&&typeof document<"u"&&document.body&&(vt=window,Jt=document,er=Jt.documentElement,Mr=Jt.body,ri=[vt,Jt,er,Mr],et.utils.clamp,ni=et.core.context||function(){},ar="onpointerenter"in Mr?"pointer":"mouse",ti=Fe.isTouch=vt.matchMedia&&vt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in vt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Rt=Fe.eventTypes=("ontouchstart"in er?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in er?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ii=0},500),si(),vn=1),vn};gt.op=Ve;me.cache=0;var Fe=function(){function d(n){this.init(n)}var e=d.prototype;return e.init=function(t){vn||ai(et)||console.warn("Please gsap.registerPlugin(Observer)"),Wr||si();var r=t.tolerance,o=t.dragMinimum,l=t.type,f=t.target,w=t.lineHeight,k=t.debounce,I=t.preventDefault,S=t.onStop,v=t.onStopDelay,b=t.ignore,D=t.wheelSpeed,M=t.event,m=t.onDragStart,H=t.onDragEnd,Q=t.onDrag,G=t.onPress,P=t.onRelease,W=t.onRight,Y=t.onLeft,z=t.onUp,U=t.onDown,X=t.onChangeX,L=t.onChangeY,ee=t.onChange,C=t.onToggleX,J=t.onToggleY,K=t.onHover,oe=t.onHoverEnd,V=t.onMove,B=t.ignoreCheck,E=t.isNormalizer,te=t.onGestureStart,p=t.onGestureEnd,ye=t.onWheel,xe=t.onEnable,at=t.onDisable,g=t.onClick,c=t.scrollSpeed,s=t.capture,i=t.allowClicks,_=t.lockAxis,O=t.onLockAxis;this.target=f=mt(f)||er,this.vars=t,b&&(b=et.utils.toArray(b)),r=r||1e-9,o=o||0,D=D||1,c=c||1,l=l||"wheel,touch,pointer",k=k!==!1,w||(w=parseFloat(vt.getComputedStyle(Mr).lineHeight)||22);var y,R,F,T,x,A,N,u=this,h=0,a=0,j=t.passive||!I&&t.passive!==!1,q=rr(f,gt),he=rr(f,Ve),Ce=q(),ve=he(),Te=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Rt[0]==="pointerdown",le=jr(f),be=f.ownerDocument||Jt,Me=[0,0,0],re=[0,0,0],we=0,ke=function(){return we=Yr()},Re=function(ie,Se){return(u.event=ie)&&b&&~b.indexOf(ie.target)||Se&&Te&&ie.pointerType!=="touch"||B&&B(ie,Se)},qt=function(){u._vx.reset(),u._vy.reset(),R.pause(),S&&S(u)},De=function(){var ie=u.deltaX=vo(Me),Se=u.deltaY=vo(re),Z=Math.abs(ie)>=r,se=Math.abs(Se)>=r;ee&&(Z||se)&&ee(u,ie,Se,Me,re),Z&&(W&&u.deltaX>0&&W(u),Y&&u.deltaX<0&&Y(u),X&&X(u),C&&u.deltaX<0!=h<0&&C(u),h=u.deltaX,Me[0]=Me[1]=Me[2]=0),se&&(U&&u.deltaY>0&&U(u),z&&u.deltaY<0&&z(u),L&&L(u),J&&u.deltaY<0!=a<0&&J(u),a=u.deltaY,re[0]=re[1]=re[2]=0),(T||F)&&(V&&V(u),F&&(m&&F===1&&m(u),Q&&Q(u),F=0),T=!1),A&&!(A=!1)&&O&&O(u),x&&(ye(u),x=!1),y=0},Tt=function(ie,Se,Z){Me[Z]+=ie,re[Z]+=Se,u._vx.update(ie),u._vy.update(Se),k?y||(y=requestAnimationFrame(De)):De()},Zt=function(ie,Se){_&&!N&&(u.axis=N=Math.abs(ie)>Math.abs(Se)?"x":"y",A=!0),N!=="y"&&(Me[2]+=ie,u._vx.update(ie,!0)),N!=="x"&&(re[2]+=Se,u._vy.update(Se,!0)),k?y||(y=requestAnimationFrame(De)):De()},Et=function(ie){if(!Re(ie,1)){ie=Or(ie,I);var Se=ie.clientX,Z=ie.clientY,se=Se-u.x,ne=Z-u.y,ae=u.isDragging;u.x=Se,u.y=Z,(ae||(se||ne)&&(Math.abs(u.startX-Se)>=o||Math.abs(u.startY-Z)>=o))&&(F=ae?2:1,ae||(u.isDragging=!0),Zt(se,ne))}},Ht=u.onPress=function(ce){Re(ce,1)||ce&&ce.button||(u.axis=N=null,R.pause(),u.isPressed=!0,ce=Or(ce),h=a=0,u.startX=u.x=ce.clientX,u.startY=u.y=ce.clientY,u._vx.reset(),u._vy.reset(),ut(E?f:be,Rt[1],Et,j,!0),u.deltaX=u.deltaY=0,G&&G(u))},de=u.onRelease=function(ce){if(!Re(ce,1)){ct(E?f:be,Rt[1],Et,!0);var ie=!isNaN(u.y-u.startY),Se=u.isDragging,Z=Se&&(Math.abs(u.x-u.startX)>3||Math.abs(u.y-u.startY)>3),se=Or(ce);!Z&&ie&&(u._vx.reset(),u._vy.reset(),I&&i&&et.delayedCall(.08,function(){if(Yr()-we>300&&!ce.defaultPrevented){if(ce.target.click)ce.target.click();else if(be.createEvent){var ne=be.createEvent("MouseEvents");ne.initMouseEvent("click",!0,!0,vt,1,se.screenX,se.screenY,se.clientX,se.clientY,!1,!1,!1,!1,0,null),ce.target.dispatchEvent(ne)}}})),u.isDragging=u.isGesturing=u.isPressed=!1,S&&Se&&!E&&R.restart(!0),F&&De(),H&&Se&&H(u),P&&P(u,Z)}},Le=function(ie){return ie.touches&&ie.touches.length>1&&(u.isGesturing=!0)&&te(ie,u.isDragging)},lt=function(){return(u.isGesturing=!1)||p(u)},Ge=function(ie){if(!Re(ie)){var Se=q(),Z=he();Tt((Se-Ce)*c,(Z-ve)*c,1),Ce=Se,ve=Z,S&&R.restart(!0)}},Qe=function(ie){if(!Re(ie)){ie=Or(ie,I),ye&&(x=!0);var Se=(ie.deltaMode===1?w:ie.deltaMode===2?vt.innerHeight:1)*D;Tt(ie.deltaX*Se,ie.deltaY*Se,0),S&&!E&&R.restart(!0)}},Gt=function(ie){if(!Re(ie)){var Se=ie.clientX,Z=ie.clientY,se=Se-u.x,ne=Z-u.y;u.x=Se,u.y=Z,T=!0,S&&R.restart(!0),(se||ne)&&Zt(se,ne)}},At=function(ie){u.event=ie,K(u)},Ut=function(ie){u.event=ie,oe(u)},kr=function(ie){return Re(ie)||Or(ie,I)&&g(u)};R=u._dc=et.delayedCall(v||.25,qt).pause(),u.deltaX=u.deltaY=0,u._vx=Jn(0,50,!0),u._vy=Jn(0,50,!0),u.scrollX=q,u.scrollY=he,u.isDragging=u.isGesturing=u.isPressed=!1,ni(this),u.enable=function(ce){return u.isEnabled||(ut(le?be:f,"scroll",Kn),l.indexOf("scroll")>=0&&ut(le?be:f,"scroll",Ge,j,s),l.indexOf("wheel")>=0&&ut(f,"wheel",Qe,j,s),(l.indexOf("touch")>=0&&ti||l.indexOf("pointer")>=0)&&(ut(f,Rt[0],Ht,j,s),ut(be,Rt[2],de),ut(be,Rt[3],de),i&&ut(f,"click",ke,!0,!0),g&&ut(f,"click",kr),te&&ut(be,"gesturestart",Le),p&&ut(be,"gestureend",lt),K&&ut(f,ar+"enter",At),oe&&ut(f,ar+"leave",Ut),V&&ut(f,ar+"move",Gt)),u.isEnabled=!0,u.isDragging=u.isGesturing=u.isPressed=T=F=!1,u._vx.reset(),u._vy.reset(),Ce=q(),ve=he(),ce&&ce.type&&Ht(ce),xe&&xe(u)),u},u.disable=function(){u.isEnabled&&(Pr.filter(function(ce){return ce!==u&&jr(ce.target)}).length||ct(le?be:f,"scroll",Kn),u.isPressed&&(u._vx.reset(),u._vy.reset(),ct(E?f:be,Rt[1],Et,!0)),ct(le?be:f,"scroll",Ge,s),ct(f,"wheel",Qe,s),ct(f,Rt[0],Ht,s),ct(be,Rt[2],de),ct(be,Rt[3],de),ct(f,"click",ke,!0),ct(f,"click",kr),ct(be,"gesturestart",Le),ct(be,"gestureend",lt),ct(f,ar+"enter",At),ct(f,ar+"leave",Ut),ct(f,ar+"move",Gt),u.isEnabled=u.isPressed=u.isDragging=!1,at&&at(u))},u.kill=u.revert=function(){u.disable();var ce=Pr.indexOf(u);ce>=0&&Pr.splice(ce,1),Vt===u&&(Vt=0)},Pr.push(u),E&&jr(f)&&(Vt=u),u.enable(M)},ss(d,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),d}();Fe.version="3.12.7";Fe.create=function(d){return new Fe(d)};Fe.register=ai;Fe.getAll=function(){return Pr.slice()};Fe.getById=function(d){return Pr.filter(function(e){return e.vars.id===d})[0]};oi()&&et.registerPlugin(Fe);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $,vr,ge,Ae,_t,Pe,lo,kn,en,Vr,zr,ln,ot,zn,eo,dt,To,So,Tr,li,Gn,ci,ft,to,ui,fi,Kt,ro,co,Cr,uo,Rn,no,Un,cn=1,it=Date.now,Wn=it(),Ct=0,Fr=0,Po=function(e,n,t){var r=wt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+n+"Clamp"]=r,r?e.substr(6,e.length-7):e},Mo=function(e,n){return n&&(!wt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},ls=function d(){return Fr&&requestAnimationFrame(d)},Co=function(){return zn=1},Eo=function(){return zn=0},zt=function(e){return e},Br=function(e){return Math.round(e*1e5)/1e5||0},di=function(){return typeof window<"u"},pi=function(){return $||di()&&($=window.gsap)&&$.registerPlugin&&$},gr=function(e){return!!~lo.indexOf(e)},hi=function(e){return(e==="Height"?uo:ge["inner"+e])||_t["client"+e]||Pe["client"+e]},gi=function(e){return tr(e,"getBoundingClientRect")||(gr(e)?function(){return Cn.width=ge.innerWidth,Cn.height=uo,Cn}:function(){return jt(e)})},cs=function(e,n,t){var r=t.d,o=t.d2,l=t.a;return(l=tr(e,"getBoundingClientRect"))?function(){return l()[r]}:function(){return(n?hi(o):e["client"+o])||0}},us=function(e,n){return!n||~Bt.indexOf(e)?gi(e):function(){return Cn}},Ft=function(e,n){var t=n.s,r=n.d2,o=n.d,l=n.a;return Math.max(0,(t="scroll"+r)&&(l=tr(e,t))?l()-gi(e)()[o]:gr(e)?(_t[t]||Pe[t])-hi(r):e[t]-e["offset"+r])},un=function(e,n){for(var t=0;t<Tr.length;t+=3)(!n||~n.indexOf(Tr[t+1]))&&e(Tr[t],Tr[t+1],Tr[t+2])},wt=function(e){return typeof e=="string"},st=function(e){return typeof e=="function"},Hr=function(e){return typeof e=="number"},lr=function(e){return typeof e=="object"},Nr=function(e,n,t){return e&&e.progress(n?0:1)&&t&&e.pause()},Yn=function(e,n){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return n(e)}):n(e);t&&t.totalTime&&(e.callbackAnimation=t)}},xr=Math.abs,mi="left",yi="top",fo="right",po="bottom",fr="width",dr="height",Xr="Right",qr="Left",Zr="Top",Qr="Bottom",He="padding",Pt="margin",Ar="Width",ho="Height",We="px",Mt=function(e){return ge.getComputedStyle(e)},fs=function(e){var n=Mt(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},Ao=function(e,n){for(var t in n)t in e||(e[t]=n[t]);return e},jt=function(e,n){var t=n&&Mt(e)[eo]!=="matrix(1, 0, 0, 1, 0, 0)"&&$.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return t&&t.progress(0).kill(),r},In=function(e,n){var t=n.d2;return e["offset"+t]||e["client"+t]||0},bi=function(e){var n=[],t=e.labels,r=e.duration(),o;for(o in t)n.push(t[o]/r);return n},ds=function(e){return function(n){return $.utils.snap(bi(e),n)}},go=function(e){var n=$.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(r,o){return r-o});return t?function(r,o,l){l===void 0&&(l=.001);var f;if(!o)return n(r);if(o>0){for(r-=l,f=0;f<t.length;f++)if(t[f]>=r)return t[f];return t[f-1]}else for(f=t.length,r+=l;f--;)if(t[f]<=r)return t[f];return t[0]}:function(r,o,l){l===void 0&&(l=.001);var f=n(r);return!o||Math.abs(f-r)<l||f-r<0==o<0?f:n(o<0?r-e:r+e)}},ps=function(e){return function(n,t){return go(bi(e))(n,t.direction)}},fn=function(e,n,t,r){return t.split(",").forEach(function(o){return e(n,o,r)})},Ze=function(e,n,t,r,o){return e.addEventListener(n,t,{passive:!r,capture:!!o})},qe=function(e,n,t,r){return e.removeEventListener(n,t,!!r)},dn=function(e,n,t){t=t&&t.wheelHandler,t&&(e(n,"wheel",t),e(n,"touchmove",t))},ko={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},pn={toggleActions:"play",anticipatePin:0},Dn={top:0,left:0,center:.5,bottom:1,right:1},Tn=function(e,n){if(wt(e)){var t=e.indexOf("="),r=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(r*=n/100),e=e.substr(0,t-1)),e=r+(e in Dn?Dn[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},hn=function(e,n,t,r,o,l,f,w){var k=o.startColor,I=o.endColor,S=o.fontSize,v=o.indent,b=o.fontWeight,D=Ae.createElement("div"),M=gr(t)||tr(t,"pinType")==="fixed",m=e.indexOf("scroller")!==-1,H=M?Pe:t,Q=e.indexOf("start")!==-1,G=Q?k:I,P="border-color:"+G+";font-size:"+S+";color:"+G+";font-weight:"+b+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return P+="position:"+((m||w)&&M?"fixed;":"absolute;"),(m||w||!M)&&(P+=(r===Ve?fo:po)+":"+(l+parseFloat(v))+"px;"),f&&(P+="box-sizing:border-box;text-align:left;width:"+f.offsetWidth+"px;"),D._isStart=Q,D.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),D.style.cssText=P,D.innerText=n||n===0?e+"-"+n:e,H.children[0]?H.insertBefore(D,H.children[0]):H.appendChild(D),D._offset=D["offset"+r.op.d2],Sn(D,0,r,Q),D},Sn=function(e,n,t,r){var o={display:"block"},l=t[r?"os2":"p2"],f=t[r?"p2":"os2"];e._isFlipped=r,o[t.a+"Percent"]=r?-100:0,o[t.a]=r?"1px":0,o["border"+l+Ar]=1,o["border"+f+Ar]=0,o[t.p]=n+"px",$.set(e,o)},pe=[],oo={},tn,Ro=function(){return it()-Ct>34&&(tn||(tn=requestAnimationFrame(Xt)))},wr=function(){(!ft||!ft.isPressed||ft.startX>Pe.clientWidth)&&(me.cache++,ft?tn||(tn=requestAnimationFrame(Xt)):Xt(),Ct||yr("scrollStart"),Ct=it())},jn=function(){fi=ge.innerWidth,ui=ge.innerHeight},Gr=function(e){me.cache++,(e===!0||!ot&&!ci&&!Ae.fullscreenElement&&!Ae.webkitFullscreenElement&&(!to||fi!==ge.innerWidth||Math.abs(ge.innerHeight-ui)>ge.innerHeight*.25))&&kn.restart(!0)},mr={},hs=[],xi=function d(){return qe(fe,"scrollEnd",d)||ur(!0)},yr=function(e){return mr[e]&&mr[e].map(function(n){return n()})||hs},xt=[],wi=function(e){for(var n=0;n<xt.length;n+=5)(!e||xt[n+4]&&xt[n+4].query===e)&&(xt[n].style.cssText=xt[n+1],xt[n].getBBox&&xt[n].setAttribute("transform",xt[n+2]||""),xt[n+3].uncache=1)},mo=function(e,n){var t;for(dt=0;dt<pe.length;dt++)t=pe[dt],t&&(!n||t._ctx===n)&&(e?t.kill(1):t.revert(!0,!0));Rn=!0,n&&wi(n),n||yr("revert")},_i=function(e,n){me.cache++,(n||!pt)&&me.forEach(function(t){return st(t)&&t.cacheID++&&(t.rec=0)}),wt(e)&&(ge.history.scrollRestoration=co=e)},pt,pr=0,Io,gs=function(){if(Io!==pr){var e=Io=pr;requestAnimationFrame(function(){return e===pr&&ur(!0)})}},vi=function(){Pe.appendChild(Cr),uo=!ft&&Cr.offsetHeight||ge.innerHeight,Pe.removeChild(Cr)},Do=function(e){return en(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},ur=function(e,n){if(_t=Ae.documentElement,Pe=Ae.body,lo=[ge,Ae,_t,Pe],Ct&&!e&&!Rn){Ze(fe,"scrollEnd",xi);return}vi(),pt=fe.isRefreshing=!0,me.forEach(function(r){return st(r)&&++r.cacheID&&(r.rec=r())});var t=yr("refreshInit");li&&fe.sort(),n||mo(),me.forEach(function(r){st(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),pe.slice(0).forEach(function(r){return r.refresh()}),Rn=!1,pe.forEach(function(r){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",l=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-l),r.refresh()}}),no=1,Do(!0),pe.forEach(function(r){var o=Ft(r.scroller,r._dir),l=r.vars.end==="max"||r._endClamp&&r.end>o,f=r._startClamp&&r.start>=o;(l||f)&&r.setPositions(f?o-1:r.start,l?Math.max(f?o:r.start+1,o):r.end,!0)}),Do(!1),no=0,t.forEach(function(r){return r&&r.render&&r.render(-1)}),me.forEach(function(r){st(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),_i(co,1),kn.pause(),pr++,pt=2,Xt(2),pe.forEach(function(r){return st(r.vars.onRefresh)&&r.vars.onRefresh(r)}),pt=fe.isRefreshing=!1,yr("refresh")},io=0,Pn=1,$r,Xt=function(e){if(e===2||!pt&&!Rn){fe.isUpdating=!0,$r&&$r.update(0);var n=pe.length,t=it(),r=t-Wn>=50,o=n&&pe[0].scroll();if(Pn=io>o?-1:1,pt||(io=o),r&&(Ct&&!zn&&t-Ct>200&&(Ct=0,yr("scrollEnd")),zr=Wn,Wn=t),Pn<0){for(dt=n;dt-- >0;)pe[dt]&&pe[dt].update(0,r);Pn=1}else for(dt=0;dt<n;dt++)pe[dt]&&pe[dt].update(0,r);fe.isUpdating=!1}tn=0},so=[mi,yi,po,fo,Pt+Qr,Pt+Xr,Pt+Zr,Pt+qr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Mn=so.concat([fr,dr,"boxSizing","max"+Ar,"max"+ho,"position",Pt,He,He+Zr,He+Xr,He+Qr,He+qr]),ms=function(e,n,t){Er(t);var r=e._gsap;if(r.spacerIsNative)Er(r.spacerState);else if(e._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(e,n),o.removeChild(n))}e._gsap.swappedIn=!1},Vn=function(e,n,t,r){if(!e._gsap.swappedIn){for(var o=so.length,l=n.style,f=e.style,w;o--;)w=so[o],l[w]=t[w];l.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(l.display="inline-block"),f[po]=f[fo]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[fr]=In(e,gt)+We,l[dr]=In(e,Ve)+We,l[He]=f[Pt]=f[yi]=f[mi]="0",Er(r),f[fr]=f["max"+Ar]=t[fr],f[dr]=f["max"+ho]=t[dr],f[He]=t[He],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},ys=/([A-Z])/g,Er=function(e){if(e){var n=e.t.style,t=e.length,r=0,o,l;for((e.t._gsap||$.core.getCache(e.t)).uncache=1;r<t;r+=2)l=e[r+1],o=e[r],l?n[o]=l:n[o]&&n.removeProperty(o.replace(ys,"-$1").toLowerCase())}},gn=function(e){for(var n=Mn.length,t=e.style,r=[],o=0;o<n;o++)r.push(Mn[o],t[Mn[o]]);return r.t=e,r},bs=function(e,n,t){for(var r=[],o=e.length,l=t?8:0,f;l<o;l+=2)f=e[l],r.push(f,f in n?n[f]:e[l+1]);return r.t=e.t,r},Cn={left:0,top:0},Oo=function(e,n,t,r,o,l,f,w,k,I,S,v,b,D){st(e)&&(e=e(w)),wt(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?Tn("0"+e.substr(3),t):0));var M=b?b.time():0,m,H,Q;if(b&&b.seek(0),isNaN(e)||(e=+e),Hr(e))b&&(e=$.utils.mapRange(b.scrollTrigger.start,b.scrollTrigger.end,0,v,e)),f&&Sn(f,t,r,!0);else{st(n)&&(n=n(w));var G=(e||"0").split(" "),P,W,Y,z;Q=mt(n,w)||Pe,P=jt(Q)||{},(!P||!P.left&&!P.top)&&Mt(Q).display==="none"&&(z=Q.style.display,Q.style.display="block",P=jt(Q),z?Q.style.display=z:Q.style.removeProperty("display")),W=Tn(G[0],P[r.d]),Y=Tn(G[1]||"0",t),e=P[r.p]-k[r.p]-I+W+o-Y,f&&Sn(f,Y,r,t-Y<20||f._isStart&&Y>20),t-=t-Y}if(D&&(w[D]=e||-.001,e<0&&(e=0)),l){var U=e+t,X=l._isStart;m="scroll"+r.d2,Sn(l,U,r,X&&U>20||!X&&(S?Math.max(Pe[m],_t[m]):l.parentNode[m])<=U+1),S&&(k=jt(f),S&&(l.style[r.op.p]=k[r.op.p]-r.op.m-l._offset+We))}return b&&Q&&(m=jt(Q),b.seek(v),H=jt(Q),b._caScrollDist=m[r.p]-H[r.p],e=e/b._caScrollDist*v),b&&b.seek(M),b?e:Math.round(e)},xs=/(webkit|moz|length|cssText|inset)/i,No=function(e,n,t,r){if(e.parentNode!==n){var o=e.style,l,f;if(n===Pe){e._stOrig=o.cssText,f=Mt(e);for(l in f)!+l&&!xs.test(l)&&f[l]&&typeof o[l]=="string"&&l!=="0"&&(o[l]=f[l]);o.top=t,o.left=r}else o.cssText=e._stOrig;$.core.getCache(e).uncache=1,n.appendChild(e)}},Ti=function(e,n,t){var r=n,o=r;return function(l){var f=Math.round(e());return f!==r&&f!==o&&Math.abs(f-r)>3&&Math.abs(f-o)>3&&(l=f,t&&t()),o=r,r=Math.round(l),r}},mn=function(e,n,t){var r={};r[n.p]="+="+t,$.set(e,r)},Lo=function(e,n){var t=rr(e,n),r="_scroll"+n.p2,o=function l(f,w,k,I,S){var v=l.tween,b=w.onComplete,D={};k=k||t();var M=Ti(t,k,function(){v.kill(),l.tween=0});return S=I&&S||0,I=I||f-k,v&&v.kill(),w[r]=f,w.inherit=!1,w.modifiers=D,D[r]=function(){return M(k+I*v.ratio+S*v.ratio*v.ratio)},w.onUpdate=function(){me.cache++,l.tween&&Xt()},w.onComplete=function(){l.tween=0,b&&b.call(v)},v=l.tween=$.to(e,w),v};return e[r]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Ze(e,"wheel",t.wheelHandler),fe.isTouch&&Ze(e,"touchmove",t.wheelHandler),o},fe=function(){function d(n,t){vr||d.register($)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ro(this),this.init(n,t)}var e=d.prototype;return e.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Fr){this.update=this.refresh=this.kill=zt;return}t=Ao(wt(t)||Hr(t)||t.nodeType?{trigger:t}:t,pn);var o=t,l=o.onUpdate,f=o.toggleClass,w=o.id,k=o.onToggle,I=o.onRefresh,S=o.scrub,v=o.trigger,b=o.pin,D=o.pinSpacing,M=o.invalidateOnRefresh,m=o.anticipatePin,H=o.onScrubComplete,Q=o.onSnapComplete,G=o.once,P=o.snap,W=o.pinReparent,Y=o.pinSpacer,z=o.containerAnimation,U=o.fastScrollEnd,X=o.preventOverlaps,L=t.horizontal||t.containerAnimation&&t.horizontal!==!1?gt:Ve,ee=!S&&S!==0,C=mt(t.scroller||ge),J=$.core.getCache(C),K=gr(C),oe=("pinType"in t?t.pinType:tr(C,"pinType")||K&&"fixed")==="fixed",V=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],B=ee&&t.toggleActions.split(" "),E="markers"in t?t.markers:pn.markers,te=K?0:parseFloat(Mt(C)["border"+L.p2+Ar])||0,p=this,ye=t.onRefreshInit&&function(){return t.onRefreshInit(p)},xe=cs(C,K,L),at=us(C,K),g=0,c=0,s=0,i=rr(C,L),_,O,y,R,F,T,x,A,N,u,h,a,j,q,he,Ce,ve,Te,le,be,Me,re,we,ke,Re,qt,De,Tt,Zt,Et,Ht,de,Le,lt,Ge,Qe,Gt,At,Ut;if(p._startClamp=p._endClamp=!1,p._dir=L,m*=45,p.scroller=C,p.scroll=z?z.time.bind(z):i,R=i(),p.vars=t,r=r||t.animation,"refreshPriority"in t&&(li=1,t.refreshPriority===-9999&&($r=p)),J.tweenScroll=J.tweenScroll||{top:Lo(C,Ve),left:Lo(C,gt)},p.tweenTo=_=J.tweenScroll[L.p],p.scrubDuration=function(Z){Le=Hr(Z)&&Z,Le?de?de.duration(Z):de=$.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Le,paused:!0,onComplete:function(){return H&&H(p)}}):(de&&de.progress(1).kill(),de=0)},r&&(r.vars.lazy=!1,r._initted&&!p.isReverted||r.vars.immediateRender!==!1&&t.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),p.animation=r.pause(),r.scrollTrigger=p,p.scrubDuration(S),Et=0,w||(w=r.vars.id)),P&&((!lr(P)||P.push)&&(P={snapTo:P}),"scrollBehavior"in Pe.style&&$.set(K?[Pe,_t]:C,{scrollBehavior:"auto"}),me.forEach(function(Z){return st(Z)&&Z.target===(K?Ae.scrollingElement||_t:C)&&(Z.smooth=!1)}),y=st(P.snapTo)?P.snapTo:P.snapTo==="labels"?ds(r):P.snapTo==="labelsDirectional"?ps(r):P.directional!==!1?function(Z,se){return go(P.snapTo)(Z,it()-c<500?0:se.direction)}:$.utils.snap(P.snapTo),lt=P.duration||{min:.1,max:2},lt=lr(lt)?Vr(lt.min,lt.max):Vr(lt,lt),Ge=$.delayedCall(P.delay||Le/2||.1,function(){var Z=i(),se=it()-c<500,ne=_.tween;if((se||Math.abs(p.getVelocity())<10)&&!ne&&!zn&&g!==Z){var ae=(Z-T)/q,Xe=r&&!ee?r.totalProgress():ae,_e=se?0:(Xe-Ht)/(it()-zr)*1e3||0,ze=$.utils.clamp(-ae,1-ae,xr(_e/2)*_e/.185),tt=ae+(P.inertia===!1?0:ze),Ne,Ie,Ee=P,kt=Ee.onStart,Oe=Ee.onInterrupt,yt=Ee.onComplete;if(Ne=y(tt,p),Hr(Ne)||(Ne=tt),Ie=Math.max(0,Math.round(T+Ne*q)),Z<=x&&Z>=T&&Ie!==Z){if(ne&&!ne._initted&&ne.data<=xr(Ie-Z))return;P.inertia===!1&&(ze=Ne-ae),_(Ie,{duration:lt(xr(Math.max(xr(tt-Xe),xr(Ne-Xe))*.185/_e/.05||0)),ease:P.ease||"power3",data:xr(Ie-Z),onInterrupt:function(){return Ge.restart(!0)&&Oe&&Oe(p)},onComplete:function(){p.update(),g=i(),r&&!ee&&(de?de.resetTo("totalProgress",Ne,r._tTime/r._tDur):r.progress(Ne)),Et=Ht=r&&!ee?r.totalProgress():p.progress,Q&&Q(p),yt&&yt(p)}},Z,ze*q,Ie-Z-ze*q),kt&&kt(p,_.tween)}}else p.isActive&&g!==Z&&Ge.restart(!0)}).pause()),w&&(oo[w]=p),v=p.trigger=mt(v||b!==!0&&b),Ut=v&&v._gsap&&v._gsap.stRevert,Ut&&(Ut=Ut(p)),b=b===!0?v:mt(b),wt(f)&&(f={targets:v,className:f}),b&&(D===!1||D===Pt||(D=!D&&b.parentNode&&b.parentNode.style&&Mt(b.parentNode).display==="flex"?!1:He),p.pin=b,O=$.core.getCache(b),O.spacer?he=O.pinState:(Y&&(Y=mt(Y),Y&&!Y.nodeType&&(Y=Y.current||Y.nativeElement),O.spacerIsNative=!!Y,Y&&(O.spacerState=gn(Y))),O.spacer=Te=Y||Ae.createElement("div"),Te.classList.add("pin-spacer"),w&&Te.classList.add("pin-spacer-"+w),O.pinState=he=gn(b)),t.force3D!==!1&&$.set(b,{force3D:!0}),p.spacer=Te=O.spacer,Zt=Mt(b),ke=Zt[D+L.os2],be=$.getProperty(b),Me=$.quickSetter(b,L.a,We),Vn(b,Te,Zt),ve=gn(b)),E){a=lr(E)?Ao(E,ko):ko,u=hn("scroller-start",w,C,L,a,0),h=hn("scroller-end",w,C,L,a,0,u),le=u["offset"+L.op.d2];var kr=mt(tr(C,"content")||C);A=this.markerStart=hn("start",w,kr,L,a,le,0,z),N=this.markerEnd=hn("end",w,kr,L,a,le,0,z),z&&(At=$.quickSetter([A,N],L.a,We)),!oe&&!(Bt.length&&tr(C,"fixedMarkers")===!0)&&(fs(K?Pe:C),$.set([u,h],{force3D:!0}),qt=$.quickSetter(u,L.a,We),Tt=$.quickSetter(h,L.a,We))}if(z){var ce=z.vars.onUpdate,ie=z.vars.onUpdateParams;z.eventCallback("onUpdate",function(){p.update(0,0,1),ce&&ce.apply(z,ie||[])})}if(p.previous=function(){return pe[pe.indexOf(p)-1]},p.next=function(){return pe[pe.indexOf(p)+1]},p.revert=function(Z,se){if(!se)return p.kill(!0);var ne=Z!==!1||!p.enabled,ae=ot;ne!==p.isReverted&&(ne&&(Qe=Math.max(i(),p.scroll.rec||0),s=p.progress,Gt=r&&r.progress()),A&&[A,N,u,h].forEach(function(Xe){return Xe.style.display=ne?"none":"block"}),ne&&(ot=p,p.update(ne)),b&&(!W||!p.isActive)&&(ne?ms(b,Te,he):Vn(b,Te,Mt(b),Re)),ne||p.update(ne),ot=ae,p.isReverted=ne)},p.refresh=function(Z,se,ne,ae){if(!((ot||!p.enabled)&&!se)){if(b&&Z&&Ct){Ze(d,"scrollEnd",xi);return}!pt&&ye&&ye(p),ot=p,_.tween&&!ne&&(_.tween.kill(),_.tween=0),de&&de.pause(),M&&r&&r.revert({kill:!1}).invalidate(),p.isReverted||p.revert(!0,!0),p._subPinOffset=!1;var Xe=xe(),_e=at(),ze=z?z.duration():Ft(C,L),tt=q<=.01,Ne=0,Ie=ae||0,Ee=lr(ne)?ne.end:t.end,kt=t.endTrigger||v,Oe=lr(ne)?ne.start:t.start||(t.start===0||!v?0:b?"0 0":"0 100%"),yt=p.pinnedContainer=t.pinnedContainer&&mt(t.pinnedContainer,p),It=v&&Math.max(0,pe.indexOf(p))||0,$e=It,Ke,rt,nr,nn,nt,Ue,Dt,Fn,yo,Rr,Ot,Ir,on;for(E&&lr(ne)&&(Ir=$.getProperty(u,L.p),on=$.getProperty(h,L.p));$e-- >0;)Ue=pe[$e],Ue.end||Ue.refresh(0,1)||(ot=p),Dt=Ue.pin,Dt&&(Dt===v||Dt===b||Dt===yt)&&!Ue.isReverted&&(Rr||(Rr=[]),Rr.unshift(Ue),Ue.revert(!0,!0)),Ue!==pe[$e]&&(It--,$e--);for(st(Oe)&&(Oe=Oe(p)),Oe=Po(Oe,"start",p),T=Oo(Oe,v,Xe,L,i(),A,u,p,_e,te,oe,ze,z,p._startClamp&&"_startClamp")||(b?-.001:0),st(Ee)&&(Ee=Ee(p)),wt(Ee)&&!Ee.indexOf("+=")&&(~Ee.indexOf(" ")?Ee=(wt(Oe)?Oe.split(" ")[0]:"")+Ee:(Ne=Tn(Ee.substr(2),Xe),Ee=wt(Oe)?Oe:(z?$.utils.mapRange(0,z.duration(),z.scrollTrigger.start,z.scrollTrigger.end,T):T)+Ne,kt=v)),Ee=Po(Ee,"end",p),x=Math.max(T,Oo(Ee||(kt?"100% 0":ze),kt,Xe,L,i()+Ne,N,h,p,_e,te,oe,ze,z,p._endClamp&&"_endClamp"))||-.001,Ne=0,$e=It;$e--;)Ue=pe[$e],Dt=Ue.pin,Dt&&Ue.start-Ue._pinPush<=T&&!z&&Ue.end>0&&(Ke=Ue.end-(p._startClamp?Math.max(0,Ue.start):Ue.start),(Dt===v&&Ue.start-Ue._pinPush<T||Dt===yt)&&isNaN(Oe)&&(Ne+=Ke*(1-Ue.progress)),Dt===b&&(Ie+=Ke));if(T+=Ne,x+=Ne,p._startClamp&&(p._startClamp+=Ne),p._endClamp&&!pt&&(p._endClamp=x||-.001,x=Math.min(x,Ft(C,L))),q=x-T||(T-=.01)&&.001,tt&&(s=$.utils.clamp(0,1,$.utils.normalize(T,x,Qe))),p._pinPush=Ie,A&&Ne&&(Ke={},Ke[L.a]="+="+Ne,yt&&(Ke[L.p]="-="+i()),$.set([A,N],Ke)),b&&!(no&&p.end>=Ft(C,L)))Ke=Mt(b),nn=L===Ve,nr=i(),re=parseFloat(be(L.a))+Ie,!ze&&x>1&&(Ot=(K?Ae.scrollingElement||_t:C).style,Ot={style:Ot,value:Ot["overflow"+L.a.toUpperCase()]},K&&Mt(Pe)["overflow"+L.a.toUpperCase()]!=="scroll"&&(Ot.style["overflow"+L.a.toUpperCase()]="scroll")),Vn(b,Te,Ke),ve=gn(b),rt=jt(b,!0),Fn=oe&&rr(C,nn?gt:Ve)(),D?(Re=[D+L.os2,q+Ie+We],Re.t=Te,$e=D===He?In(b,L)+q+Ie:0,$e&&(Re.push(L.d,$e+We),Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=$e+We)),Er(Re),yt&&pe.forEach(function(Dr){Dr.pin===yt&&Dr.vars.pinSpacing!==!1&&(Dr._subPinOffset=!0)}),oe&&i(Qe)):($e=In(b,L),$e&&Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=$e+We)),oe&&(nt={top:rt.top+(nn?nr-T:Fn)+We,left:rt.left+(nn?Fn:nr-T)+We,boxSizing:"border-box",position:"fixed"},nt[fr]=nt["max"+Ar]=Math.ceil(rt.width)+We,nt[dr]=nt["max"+ho]=Math.ceil(rt.height)+We,nt[Pt]=nt[Pt+Zr]=nt[Pt+Xr]=nt[Pt+Qr]=nt[Pt+qr]="0",nt[He]=Ke[He],nt[He+Zr]=Ke[He+Zr],nt[He+Xr]=Ke[He+Xr],nt[He+Qr]=Ke[He+Qr],nt[He+qr]=Ke[He+qr],Ce=bs(he,nt,W),pt&&i(0)),r?(yo=r._initted,Gn(1),r.render(r.duration(),!0,!0),we=be(L.a)-re+q+Ie,De=Math.abs(q-we)>1,oe&&De&&Ce.splice(Ce.length-2,2),r.render(0,!0,!0),yo||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Gn(0)):we=q,Ot&&(Ot.value?Ot.style["overflow"+L.a.toUpperCase()]=Ot.value:Ot.style.removeProperty("overflow-"+L.a));else if(v&&i()&&!z)for(rt=v.parentNode;rt&&rt!==Pe;)rt._pinOffset&&(T-=rt._pinOffset,x-=rt._pinOffset),rt=rt.parentNode;Rr&&Rr.forEach(function(Dr){return Dr.revert(!1,!0)}),p.start=T,p.end=x,R=F=pt?Qe:i(),!z&&!pt&&(R<Qe&&i(Qe),p.scroll.rec=0),p.revert(!1,!0),c=it(),Ge&&(g=-1,Ge.restart(!0)),ot=0,r&&ee&&(r._initted||Gt)&&r.progress()!==Gt&&r.progress(Gt||0,!0).render(r.time(),!0,!0),(tt||s!==p.progress||z||M||r&&!r._initted)&&(r&&!ee&&r.totalProgress(z&&T<-.001&&!s?$.utils.normalize(T,x,0):s,!0),p.progress=tt||(R-T)/q===s?0:s),b&&D&&(Te._pinOffset=Math.round(p.progress*we)),de&&de.invalidate(),isNaN(Ir)||(Ir-=$.getProperty(u,L.p),on-=$.getProperty(h,L.p),mn(u,L,Ir),mn(A,L,Ir-(ae||0)),mn(h,L,on),mn(N,L,on-(ae||0))),tt&&!pt&&p.update(),I&&!pt&&!j&&(j=!0,I(p),j=!1)}},p.getVelocity=function(){return(i()-F)/(it()-zr)*1e3||0},p.endAnimation=function(){Nr(p.callbackAnimation),r&&(de?de.progress(1):r.paused()?ee||Nr(r,p.direction<0,1):Nr(r,r.reversed()))},p.labelToScroll=function(Z){return r&&r.labels&&(T||p.refresh()||T)+r.labels[Z]/r.duration()*q||0},p.getTrailing=function(Z){var se=pe.indexOf(p),ne=p.direction>0?pe.slice(0,se).reverse():pe.slice(se+1);return(wt(Z)?ne.filter(function(ae){return ae.vars.preventOverlaps===Z}):ne).filter(function(ae){return p.direction>0?ae.end<=T:ae.start>=x})},p.update=function(Z,se,ne){if(!(z&&!ne&&!Z)){var ae=pt===!0?Qe:p.scroll(),Xe=Z?0:(ae-T)/q,_e=Xe<0?0:Xe>1?1:Xe||0,ze=p.progress,tt,Ne,Ie,Ee,kt,Oe,yt,It;if(se&&(F=R,R=z?i():ae,P&&(Ht=Et,Et=r&&!ee?r.totalProgress():_e)),m&&b&&!ot&&!cn&&Ct&&(!_e&&T<ae+(ae-F)/(it()-zr)*m?_e=1e-4:_e===1&&x>ae+(ae-F)/(it()-zr)*m&&(_e=.9999)),_e!==ze&&p.enabled){if(tt=p.isActive=!!_e&&_e<1,Ne=!!ze&&ze<1,Oe=tt!==Ne,kt=Oe||!!_e!=!!ze,p.direction=_e>ze?1:-1,p.progress=_e,kt&&!ot&&(Ie=_e&&!ze?0:_e===1?1:ze===1?2:3,ee&&(Ee=!Oe&&B[Ie+1]!=="none"&&B[Ie+1]||B[Ie],It=r&&(Ee==="complete"||Ee==="reset"||Ee in r))),X&&(Oe||It)&&(It||S||!r)&&(st(X)?X(p):p.getTrailing(X).forEach(function(nr){return nr.endAnimation()})),ee||(de&&!ot&&!cn?(de._dp._time-de._start!==de._time&&de.render(de._dp._time-de._start),de.resetTo?de.resetTo("totalProgress",_e,r._tTime/r._tDur):(de.vars.totalProgress=_e,de.invalidate().restart())):r&&r.totalProgress(_e,!!(ot&&(c||Z)))),b){if(Z&&D&&(Te.style[D+L.os2]=ke),!oe)Me(Br(re+we*_e));else if(kt){if(yt=!Z&&_e>ze&&x+1>ae&&ae+1>=Ft(C,L),W)if(!Z&&(tt||yt)){var $e=jt(b,!0),Ke=ae-T;No(b,Pe,$e.top+(L===Ve?Ke:0)+We,$e.left+(L===Ve?0:Ke)+We)}else No(b,Te);Er(tt||yt?Ce:ve),De&&_e<1&&tt||Me(re+(_e===1&&!yt?we:0))}}P&&!_.tween&&!ot&&!cn&&Ge.restart(!0),f&&(Oe||G&&_e&&(_e<1||!Un))&&en(f.targets).forEach(function(nr){return nr.classList[tt||G?"add":"remove"](f.className)}),l&&!ee&&!Z&&l(p),kt&&!ot?(ee&&(It&&(Ee==="complete"?r.pause().totalProgress(1):Ee==="reset"?r.restart(!0).pause():Ee==="restart"?r.restart(!0):r[Ee]()),l&&l(p)),(Oe||!Un)&&(k&&Oe&&Yn(p,k),V[Ie]&&Yn(p,V[Ie]),G&&(_e===1?p.kill(!1,1):V[Ie]=0),Oe||(Ie=_e===1?1:3,V[Ie]&&Yn(p,V[Ie]))),U&&!tt&&Math.abs(p.getVelocity())>(Hr(U)?U:2500)&&(Nr(p.callbackAnimation),de?de.progress(1):Nr(r,Ee==="reverse"?1:!_e,1))):ee&&l&&!ot&&l(p)}if(Tt){var rt=z?ae/z.duration()*(z._caScrollDist||0):ae;qt(rt+(u._isFlipped?1:0)),Tt(rt)}At&&At(-ae/z.duration()*(z._caScrollDist||0))}},p.enable=function(Z,se){p.enabled||(p.enabled=!0,Ze(C,"resize",Gr),K||Ze(C,"scroll",wr),ye&&Ze(d,"refreshInit",ye),Z!==!1&&(p.progress=s=0,R=F=g=i()),se!==!1&&p.refresh())},p.getTween=function(Z){return Z&&_?_.tween:de},p.setPositions=function(Z,se,ne,ae){if(z){var Xe=z.scrollTrigger,_e=z.duration(),ze=Xe.end-Xe.start;Z=Xe.start+ze*Z/_e,se=Xe.start+ze*se/_e}p.refresh(!1,!1,{start:Mo(Z,ne&&!!p._startClamp),end:Mo(se,ne&&!!p._endClamp)},ae),p.update()},p.adjustPinSpacing=function(Z){if(Re&&Z){var se=Re.indexOf(L.d)+1;Re[se]=parseFloat(Re[se])+Z+We,Re[1]=parseFloat(Re[1])+Z+We,Er(Re)}},p.disable=function(Z,se){if(p.enabled&&(Z!==!1&&p.revert(!0,!0),p.enabled=p.isActive=!1,se||de&&de.pause(),Qe=0,O&&(O.uncache=1),ye&&qe(d,"refreshInit",ye),Ge&&(Ge.pause(),_.tween&&_.tween.kill()&&(_.tween=0)),!K)){for(var ne=pe.length;ne--;)if(pe[ne].scroller===C&&pe[ne]!==p)return;qe(C,"resize",Gr),K||qe(C,"scroll",wr)}},p.kill=function(Z,se){p.disable(Z,se),de&&!se&&de.kill(),w&&delete oo[w];var ne=pe.indexOf(p);ne>=0&&pe.splice(ne,1),ne===dt&&Pn>0&&dt--,ne=0,pe.forEach(function(ae){return ae.scroller===p.scroller&&(ne=1)}),ne||pt||(p.scroll.rec=0),r&&(r.scrollTrigger=null,Z&&r.revert({kill:!1}),se||r.kill()),A&&[A,N,u,h].forEach(function(ae){return ae.parentNode&&ae.parentNode.removeChild(ae)}),$r===p&&($r=0),b&&(O&&(O.uncache=1),ne=0,pe.forEach(function(ae){return ae.pin===b&&ne++}),ne||(O.spacer=0)),t.onKill&&t.onKill(p)},pe.push(p),p.enable(!1,!1),Ut&&Ut(p),r&&r.add&&!q){var Se=p.update;p.update=function(){p.update=Se,me.cache++,T||x||p.refresh()},$.delayedCall(.01,p.update),q=.01,T=x=0}else p.refresh();b&&gs()},d.register=function(t){return vr||($=t||pi(),di()&&window.document&&d.enable(),vr=Fr),vr},d.defaults=function(t){if(t)for(var r in t)pn[r]=t[r];return pn},d.disable=function(t,r){Fr=0,pe.forEach(function(l){return l[r?"kill":"disable"](t)}),qe(ge,"wheel",wr),qe(Ae,"scroll",wr),clearInterval(ln),qe(Ae,"touchcancel",zt),qe(Pe,"touchstart",zt),fn(qe,Ae,"pointerdown,touchstart,mousedown",Co),fn(qe,Ae,"pointerup,touchend,mouseup",Eo),kn.kill(),un(qe);for(var o=0;o<me.length;o+=3)dn(qe,me[o],me[o+1]),dn(qe,me[o],me[o+2])},d.enable=function(){if(ge=window,Ae=document,_t=Ae.documentElement,Pe=Ae.body,$&&(en=$.utils.toArray,Vr=$.utils.clamp,ro=$.core.context||zt,Gn=$.core.suppressOverwrites||zt,co=ge.history.scrollRestoration||"auto",io=ge.pageYOffset||0,$.core.globals("ScrollTrigger",d),Pe)){Fr=1,Cr=document.createElement("div"),Cr.style.height="100vh",Cr.style.position="absolute",vi(),ls(),Fe.register($),d.isTouch=Fe.isTouch,Kt=Fe.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),to=Fe.isTouch===1,Ze(ge,"wheel",wr),lo=[ge,Ae,_t,Pe],$.matchMedia?(d.matchMedia=function(k){var I=$.matchMedia(),S;for(S in k)I.add(S,k[S]);return I},$.addEventListener("matchMediaInit",function(){return mo()}),$.addEventListener("matchMediaRevert",function(){return wi()}),$.addEventListener("matchMedia",function(){ur(0,1),yr("matchMedia")}),$.matchMedia().add("(orientation: portrait)",function(){return jn(),jn})):console.warn("Requires GSAP 3.11.0 or later"),jn(),Ze(Ae,"scroll",wr);var t=Pe.hasAttribute("style"),r=Pe.style,o=r.borderTopStyle,l=$.core.Animation.prototype,f,w;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",f=jt(Pe),Ve.m=Math.round(f.top+Ve.sc())||0,gt.m=Math.round(f.left+gt.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),t||(Pe.setAttribute("style",""),Pe.removeAttribute("style")),ln=setInterval(Ro,250),$.delayedCall(.5,function(){return cn=0}),Ze(Ae,"touchcancel",zt),Ze(Pe,"touchstart",zt),fn(Ze,Ae,"pointerdown,touchstart,mousedown",Co),fn(Ze,Ae,"pointerup,touchend,mouseup",Eo),eo=$.utils.checkPrefix("transform"),Mn.push(eo),vr=it(),kn=$.delayedCall(.2,ur).pause(),Tr=[Ae,"visibilitychange",function(){var k=ge.innerWidth,I=ge.innerHeight;Ae.hidden?(To=k,So=I):(To!==k||So!==I)&&Gr()},Ae,"DOMContentLoaded",ur,ge,"load",ur,ge,"resize",Gr],un(Ze),pe.forEach(function(k){return k.enable(0,1)}),w=0;w<me.length;w+=3)dn(qe,me[w],me[w+1]),dn(qe,me[w],me[w+2])}},d.config=function(t){"limitCallbacks"in t&&(Un=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(ln)||(ln=r)&&setInterval(Ro,r),"ignoreMobileResize"in t&&(to=d.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(un(qe)||un(Ze,t.autoRefreshEvents||"none"),ci=(t.autoRefreshEvents+"").indexOf("resize")===-1)},d.scrollerProxy=function(t,r){var o=mt(t),l=me.indexOf(o),f=gr(o);~l&&me.splice(l,f?6:2),r&&(f?Bt.unshift(ge,r,Pe,r,_t,r):Bt.unshift(o,r))},d.clearMatchMedia=function(t){pe.forEach(function(r){return r._ctx&&r._ctx.query===t&&r._ctx.kill(!0,!0)})},d.isInViewport=function(t,r,o){var l=(wt(t)?mt(t):t).getBoundingClientRect(),f=l[o?fr:dr]*r||0;return o?l.right-f>0&&l.left+f<ge.innerWidth:l.bottom-f>0&&l.top+f<ge.innerHeight},d.positionInViewport=function(t,r,o){wt(t)&&(t=mt(t));var l=t.getBoundingClientRect(),f=l[o?fr:dr],w=r==null?f/2:r in Dn?Dn[r]*f:~r.indexOf("%")?parseFloat(r)*f/100:parseFloat(r)||0;return o?(l.left+w)/ge.innerWidth:(l.top+w)/ge.innerHeight},d.killAll=function(t){if(pe.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var r=mr.killAll||[];mr={},r.forEach(function(o){return o()})}},d}();fe.version="3.12.7";fe.saveStyles=function(d){return d?en(d).forEach(function(e){if(e&&e.style){var n=xt.indexOf(e);n>=0&&xt.splice(n,5),xt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$.core.getCache(e),ro())}}):xt};fe.revert=function(d,e){return mo(!d,e)};fe.create=function(d,e){return new fe(d,e)};fe.refresh=function(d){return d?Gr(!0):(vr||fe.register())&&ur(!0)};fe.update=function(d){return++me.cache&&Xt(d===!0?2:0)};fe.clearScrollMemory=_i;fe.maxScroll=function(d,e){return Ft(d,e?gt:Ve)};fe.getScrollFunc=function(d,e){return rr(mt(d),e?gt:Ve)};fe.getById=function(d){return oo[d]};fe.getAll=function(){return pe.filter(function(d){return d.vars.id!=="ScrollSmoother"})};fe.isScrolling=function(){return!!Ct};fe.snapDirectional=go;fe.addEventListener=function(d,e){var n=mr[d]||(mr[d]=[]);~n.indexOf(e)||n.push(e)};fe.removeEventListener=function(d,e){var n=mr[d],t=n&&n.indexOf(e);t>=0&&n.splice(t,1)};fe.batch=function(d,e){var n=[],t={},r=e.interval||.016,o=e.batchMax||1e9,l=function(k,I){var S=[],v=[],b=$.delayedCall(r,function(){I(S,v),S=[],v=[]}).pause();return function(D){S.length||b.restart(!0),S.push(D.trigger),v.push(D),o<=S.length&&b.progress(1)}},f;for(f in e)t[f]=f.substr(0,2)==="on"&&st(e[f])&&f!=="onRefreshInit"?l(f,e[f]):e[f];return st(o)&&(o=o(),Ze(fe,"refresh",function(){return o=e.batchMax()})),en(d).forEach(function(w){var k={};for(f in t)k[f]=t[f];k.trigger=w,n.push(fe.create(k))}),n};var zo=function(e,n,t,r){return n>r?e(r):n<0&&e(0),t>r?(r-n)/(t-n):t<0?n/(n-t):1},Xn=function d(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Fe.isTouch?" pinch-zoom":""):"none",e===_t&&d(Pe,n)},yn={auto:1,scroll:1},ws=function(e){var n=e.event,t=e.target,r=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,l=o._gsap||$.core.getCache(o),f=it(),w;if(!l._isScrollT||f-l._isScrollT>2e3){for(;o&&o!==Pe&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(yn[(w=Mt(o)).overflowY]||yn[w.overflowX]));)o=o.parentNode;l._isScroll=o&&o!==t&&!gr(o)&&(yn[(w=Mt(o)).overflowY]||yn[w.overflowX]),l._isScrollT=f}(l._isScroll||r==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},Si=function(e,n,t,r){return Fe.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&ws,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return t&&Ze(Ae,Fe.eventTypes[0],Bo,!1,!0)},onDisable:function(){return qe(Ae,Fe.eventTypes[0],Bo,!0)}})},_s=/(input|label|select|textarea)/i,Fo,Bo=function(e){var n=_s.test(e.target.tagName);(n||Fo)&&(e._gsapAllow=!0,Fo=n)},vs=function(e){lr(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,t=n.normalizeScrollX,r=n.momentum,o=n.allowNestedScroll,l=n.onRelease,f,w,k=mt(e.target)||_t,I=$.core.globals().ScrollSmoother,S=I&&I.get(),v=Kt&&(e.content&&mt(e.content)||S&&e.content!==!1&&!S.smooth()&&S.content()),b=rr(k,Ve),D=rr(k,gt),M=1,m=(Fe.isTouch&&ge.visualViewport?ge.visualViewport.scale*ge.visualViewport.width:ge.outerWidth)/ge.innerWidth,H=0,Q=st(r)?function(){return r(f)}:function(){return r||2.8},G,P,W=Si(k,e.type,!0,o),Y=function(){return P=!1},z=zt,U=zt,X=function(){w=Ft(k,Ve),U=Vr(Kt?1:0,w),t&&(z=Vr(0,Ft(k,gt))),G=pr},L=function(){v._gsap.y=Br(parseFloat(v._gsap.y)+b.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},ee=function(){if(P){requestAnimationFrame(Y);var E=Br(f.deltaY/2),te=U(b.v-E);if(v&&te!==b.v+b.offset){b.offset=te-b.v;var p=Br((parseFloat(v&&v._gsap.y)||0)-b.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+p+", 0, 1)",v._gsap.y=p+"px",b.cacheID=me.cache,Xt()}return!0}b.offset&&L(),P=!0},C,J,K,oe,V=function(){X(),C.isActive()&&C.vars.scrollY>w&&(b()>w?C.progress(1)&&b(w):C.resetTo("scrollY",w))};return v&&$.set(v,{y:"+=0"}),e.ignoreCheck=function(B){return Kt&&B.type==="touchmove"&&ee()||M>1.05&&B.type!=="touchstart"||f.isGesturing||B.touches&&B.touches.length>1},e.onPress=function(){P=!1;var B=M;M=Br((ge.visualViewport&&ge.visualViewport.scale||1)/m),C.pause(),B!==M&&Xn(k,M>1.01?!0:t?!1:"x"),J=D(),K=b(),X(),G=pr},e.onRelease=e.onGestureStart=function(B,E){if(b.offset&&L(),!E)oe.restart(!0);else{me.cache++;var te=Q(),p,ye;t&&(p=D(),ye=p+te*.05*-B.velocityX/.227,te*=zo(D,p,ye,Ft(k,gt)),C.vars.scrollX=z(ye)),p=b(),ye=p+te*.05*-B.velocityY/.227,te*=zo(b,p,ye,Ft(k,Ve)),C.vars.scrollY=U(ye),C.invalidate().duration(te).play(.01),(Kt&&C.vars.scrollY>=w||p>=w-1)&&$.to({},{onUpdate:V,duration:te})}l&&l(B)},e.onWheel=function(){C._ts&&C.pause(),it()-H>1e3&&(G=0,H=it())},e.onChange=function(B,E,te,p,ye){if(pr!==G&&X(),E&&t&&D(z(p[2]===E?J+(B.startX-B.x):D()+E-p[1])),te){b.offset&&L();var xe=ye[2]===te,at=xe?K+B.startY-B.y:b()+te-ye[1],g=U(at);xe&&at!==g&&(K+=g-at),b(g)}(te||E)&&Xt()},e.onEnable=function(){Xn(k,t?!1:"x"),fe.addEventListener("refresh",V),Ze(ge,"resize",V),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=D.smooth=!1),W.enable()},e.onDisable=function(){Xn(k,!0),qe(ge,"resize",V),fe.removeEventListener("refresh",V),W.kill()},e.lockAxis=e.lockAxis!==!1,f=new Fe(e),f.iOS=Kt,Kt&&!b()&&b(1),Kt&&$.ticker.add(zt),oe=f._dc,C=$.to(f,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ti(b,b(),function(){return C.pause()})},onUpdate:Xt,onComplete:oe.vars.onComplete}),f};fe.sort=function(d){if(st(d))return pe.sort(d);var e=ge.pageYOffset||0;return fe.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+ge.innerHeight}),pe.sort(d||function(n,t){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};fe.observe=function(d){return new Fe(d)};fe.normalizeScroll=function(d){if(typeof d>"u")return ft;if(d===!0&&ft)return ft.enable();if(d===!1){ft&&ft.kill(),ft=d;return}var e=d instanceof Fe?d:vs(d);return ft&&ft.target===e.target&&ft.kill(),gr(e.target)&&(ft=e),e};fe.core={_getVelocityProp:Jn,_inputObserver:Si,_scrollers:me,_proxies:Bt,bridge:{ss:function(){Ct||yr("scrollStart"),Ct=it()},ref:function(){return ot}}};pi()&&$.registerPlugin(fe);var Kr=function(){var d=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(I){I.preventDefault(),t(++d%e.children.length)},!1);function n(I){return e.appendChild(I.dom),I}function t(I){for(var S=0;S<e.children.length;S++)e.children[S].style.display=S===I?"block":"none";d=I}var r=(performance||Date).now(),o=r,l=0,f=n(new Kr.Panel("FPS","#0ff","#002")),w=n(new Kr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var k=n(new Kr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:n,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){l++;var I=(performance||Date).now();if(w.update(I-r,200),I>=o+1e3&&(f.update(l*1e3/(I-o),100),o=I,l=0,k)){var S=performance.memory;k.update(S.usedJSHeapSize/1048576,S.jsHeapSizeLimit/1048576)}return I},update:function(){r=this.end()},domElement:e,setMode:t}};Kr.Panel=function(d,e,n){var t=1/0,r=0,o=Math.round,l=o(window.devicePixelRatio||1),f=80*l,w=48*l,k=3*l,I=2*l,S=3*l,v=15*l,b=74*l,D=30*l,M=document.createElement("canvas");M.width=f,M.height=w,M.style.cssText="width:80px;height:48px";var m=M.getContext("2d");return m.font="bold "+9*l+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,f,w),m.fillStyle=e,m.fillText(d,k,I),m.fillRect(S,v,b,D),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(S,v,b,D),{dom:M,update:function(H,Q){t=Math.min(t,H),r=Math.max(r,H),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,f,v),m.fillStyle=e,m.fillText(o(H)+" "+d+" ("+o(t)+"-"+o(r)+")",k,I),m.drawImage(M,S+l,v,b-l,D,S,v,b-l,D),m.fillRect(S+b-l,v,l,D),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(S+b-l,v,l,o((1-H/Q)*D))}}};class Pi extends Bi{constructor(e,n={}){const t=n.font;if(t===void 0)super();else{const r=t.generateShapes(e,n.size);n.depth===void 0&&(n.depth=50),n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n)}this.type="TextGeometry"}}const Ts=Wi;class On extends Xo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,n,t,r){const o=this,l=new qo(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(f){try{n(o.parse(f))}catch(w){r?r(w):console.error(w),o.manager.itemError(e)}},t,r)}parse(e){const n=this;function t(g,c){if(g.nodeType!==1)return;const s=P(g);let i=!1,_=null;switch(g.nodeName){case"svg":c=D(g,c);break;case"style":o(g);break;case"g":c=D(g,c);break;case"path":c=D(g,c),g.hasAttribute("d")&&(_=r(g));break;case"rect":c=D(g,c),_=w(g);break;case"polygon":c=D(g,c),_=k(g);break;case"polyline":c=D(g,c),_=I(g);break;case"circle":c=D(g,c),_=S(g);break;case"ellipse":c=D(g,c),_=v(g);break;case"line":c=D(g,c),_=b(g);break;case"defs":i=!0;break;case"use":c=D(g,c);const R=(g.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),F=g.viewportElement.getElementById(R);F?t(F,c):console.warn("SVGLoader: 'use node' references non-existent node id: "+R);break}_&&(c.fill!==void 0&&c.fill!=="none"&&_.color.setStyle(c.fill,Ts),Y(_,ye),C.push(_),_.userData={node:g,style:c});const O=g.childNodes;for(let y=0;y<O.length;y++){const R=O[y];i&&R.nodeName!=="style"&&R.nodeName!=="defs"||t(R,c)}s&&(K.pop(),K.length>0?ye.copy(K[K.length-1]):ye.identity())}function r(g){const c=new $t,s=new ue,i=new ue,_=new ue;let O=!0,y=!1;const R=g.getAttribute("d");if(R===""||R==="none")return null;const F=R.match(/[a-df-z][^a-df-z]*/ig);for(let T=0,x=F.length;T<x;T++){const A=F[T],N=A.charAt(0),u=A.slice(1).trim();O===!0&&(y=!0,O=!1);let h;switch(N){case"M":h=m(u);for(let a=0,j=h.length;a<j;a+=2)s.x=h[a+0],s.y=h[a+1],i.x=s.x,i.y=s.y,a===0?c.moveTo(s.x,s.y):c.lineTo(s.x,s.y),a===0&&_.copy(s);break;case"H":h=m(u);for(let a=0,j=h.length;a<j;a++)s.x=h[a],i.x=s.x,i.y=s.y,c.lineTo(s.x,s.y),a===0&&y===!0&&_.copy(s);break;case"V":h=m(u);for(let a=0,j=h.length;a<j;a++)s.y=h[a],i.x=s.x,i.y=s.y,c.lineTo(s.x,s.y),a===0&&y===!0&&_.copy(s);break;case"L":h=m(u);for(let a=0,j=h.length;a<j;a+=2)s.x=h[a+0],s.y=h[a+1],i.x=s.x,i.y=s.y,c.lineTo(s.x,s.y),a===0&&y===!0&&_.copy(s);break;case"C":h=m(u);for(let a=0,j=h.length;a<j;a+=6)c.bezierCurveTo(h[a+0],h[a+1],h[a+2],h[a+3],h[a+4],h[a+5]),i.x=h[a+2],i.y=h[a+3],s.x=h[a+4],s.y=h[a+5],a===0&&y===!0&&_.copy(s);break;case"S":h=m(u);for(let a=0,j=h.length;a<j;a+=4)c.bezierCurveTo(M(s.x,i.x),M(s.y,i.y),h[a+0],h[a+1],h[a+2],h[a+3]),i.x=h[a+0],i.y=h[a+1],s.x=h[a+2],s.y=h[a+3],a===0&&y===!0&&_.copy(s);break;case"Q":h=m(u);for(let a=0,j=h.length;a<j;a+=4)c.quadraticCurveTo(h[a+0],h[a+1],h[a+2],h[a+3]),i.x=h[a+0],i.y=h[a+1],s.x=h[a+2],s.y=h[a+3],a===0&&y===!0&&_.copy(s);break;case"T":h=m(u);for(let a=0,j=h.length;a<j;a+=2){const q=M(s.x,i.x),he=M(s.y,i.y);c.quadraticCurveTo(q,he,h[a+0],h[a+1]),i.x=q,i.y=he,s.x=h[a+0],s.y=h[a+1],a===0&&y===!0&&_.copy(s)}break;case"A":h=m(u,[3,4],7);for(let a=0,j=h.length;a<j;a+=7){if(h[a+5]==s.x&&h[a+6]==s.y)continue;const q=s.clone();s.x=h[a+5],s.y=h[a+6],i.x=s.x,i.y=s.y,l(c,h[a],h[a+1],h[a+2],h[a+3],h[a+4],q,s),a===0&&y===!0&&_.copy(s)}break;case"m":h=m(u);for(let a=0,j=h.length;a<j;a+=2)s.x+=h[a+0],s.y+=h[a+1],i.x=s.x,i.y=s.y,a===0?c.moveTo(s.x,s.y):c.lineTo(s.x,s.y),a===0&&_.copy(s);break;case"h":h=m(u);for(let a=0,j=h.length;a<j;a++)s.x+=h[a],i.x=s.x,i.y=s.y,c.lineTo(s.x,s.y),a===0&&y===!0&&_.copy(s);break;case"v":h=m(u);for(let a=0,j=h.length;a<j;a++)s.y+=h[a],i.x=s.x,i.y=s.y,c.lineTo(s.x,s.y),a===0&&y===!0&&_.copy(s);break;case"l":h=m(u);for(let a=0,j=h.length;a<j;a+=2)s.x+=h[a+0],s.y+=h[a+1],i.x=s.x,i.y=s.y,c.lineTo(s.x,s.y),a===0&&y===!0&&_.copy(s);break;case"c":h=m(u);for(let a=0,j=h.length;a<j;a+=6)c.bezierCurveTo(s.x+h[a+0],s.y+h[a+1],s.x+h[a+2],s.y+h[a+3],s.x+h[a+4],s.y+h[a+5]),i.x=s.x+h[a+2],i.y=s.y+h[a+3],s.x+=h[a+4],s.y+=h[a+5],a===0&&y===!0&&_.copy(s);break;case"s":h=m(u);for(let a=0,j=h.length;a<j;a+=4)c.bezierCurveTo(M(s.x,i.x),M(s.y,i.y),s.x+h[a+0],s.y+h[a+1],s.x+h[a+2],s.y+h[a+3]),i.x=s.x+h[a+0],i.y=s.y+h[a+1],s.x+=h[a+2],s.y+=h[a+3],a===0&&y===!0&&_.copy(s);break;case"q":h=m(u);for(let a=0,j=h.length;a<j;a+=4)c.quadraticCurveTo(s.x+h[a+0],s.y+h[a+1],s.x+h[a+2],s.y+h[a+3]),i.x=s.x+h[a+0],i.y=s.y+h[a+1],s.x+=h[a+2],s.y+=h[a+3],a===0&&y===!0&&_.copy(s);break;case"t":h=m(u);for(let a=0,j=h.length;a<j;a+=2){const q=M(s.x,i.x),he=M(s.y,i.y);c.quadraticCurveTo(q,he,s.x+h[a+0],s.y+h[a+1]),i.x=q,i.y=he,s.x=s.x+h[a+0],s.y=s.y+h[a+1],a===0&&y===!0&&_.copy(s)}break;case"a":h=m(u,[3,4],7);for(let a=0,j=h.length;a<j;a+=7){if(h[a+5]==0&&h[a+6]==0)continue;const q=s.clone();s.x+=h[a+5],s.y+=h[a+6],i.x=s.x,i.y=s.y,l(c,h[a],h[a+1],h[a+2],h[a+3],h[a+4],q,s),a===0&&y===!0&&_.copy(s)}break;case"Z":case"z":c.currentPath.autoClose=!0,c.currentPath.curves.length>0&&(s.copy(_),c.currentPath.currentPoint.copy(s),O=!0);break;default:console.warn(A)}y=!1}return c}function o(g){if(!(!g.sheet||!g.sheet.cssRules||!g.sheet.cssRules.length))for(let c=0;c<g.sheet.cssRules.length;c++){const s=g.sheet.cssRules[c];if(s.type!==1)continue;const i=s.selectorText.split(/,/gm).filter(Boolean).map(_=>_.trim());for(let _=0;_<i.length;_++){const O=Object.fromEntries(Object.entries(s.style).filter(([,y])=>y!==""));J[i[_]]=Object.assign(J[i[_]]||{},O)}}}function l(g,c,s,i,_,O,y,R){if(c==0||s==0){g.lineTo(R.x,R.y);return}i=i*Math.PI/180,c=Math.abs(c),s=Math.abs(s);const F=(y.x-R.x)/2,T=(y.y-R.y)/2,x=Math.cos(i)*F+Math.sin(i)*T,A=-Math.sin(i)*F+Math.cos(i)*T;let N=c*c,u=s*s;const h=x*x,a=A*A,j=h/N+a/u;if(j>1){const we=Math.sqrt(j);c=we*c,s=we*s,N=c*c,u=s*s}const q=N*a+u*h,he=(N*u-q)/q;let Ce=Math.sqrt(Math.max(0,he));_===O&&(Ce=-Ce);const ve=Ce*c*A/s,Te=-Ce*s*x/c,le=Math.cos(i)*ve-Math.sin(i)*Te+(y.x+R.x)/2,be=Math.sin(i)*ve+Math.cos(i)*Te+(y.y+R.y)/2,Me=f(1,0,(x-ve)/c,(A-Te)/s),re=f((x-ve)/c,(A-Te)/s,(-x-ve)/c,(-A-Te)/s)%(Math.PI*2);g.currentPath.absellipse(le,be,c,s,Me,Me+re,O===0,i)}function f(g,c,s,i){const _=g*s+c*i,O=Math.sqrt(g*g+c*c)*Math.sqrt(s*s+i*i);let y=Math.acos(Math.max(-1,Math.min(1,_/O)));return g*i-c*s<0&&(y=-y),y}function w(g){const c=G(g.getAttribute("x")||0),s=G(g.getAttribute("y")||0),i=G(g.getAttribute("rx")||g.getAttribute("ry")||0),_=G(g.getAttribute("ry")||g.getAttribute("rx")||0),O=G(g.getAttribute("width")),y=G(g.getAttribute("height")),R=1-.551915024494,F=new $t;return F.moveTo(c+i,s),F.lineTo(c+O-i,s),(i!==0||_!==0)&&F.bezierCurveTo(c+O-i*R,s,c+O,s+_*R,c+O,s+_),F.lineTo(c+O,s+y-_),(i!==0||_!==0)&&F.bezierCurveTo(c+O,s+y-_*R,c+O-i*R,s+y,c+O-i,s+y),F.lineTo(c+i,s+y),(i!==0||_!==0)&&F.bezierCurveTo(c+i*R,s+y,c,s+y-_*R,c,s+y-_),F.lineTo(c,s+_),(i!==0||_!==0)&&F.bezierCurveTo(c,s+_*R,c+i*R,s,c+i,s),F}function k(g){function c(O,y,R){const F=G(y),T=G(R);_===0?i.moveTo(F,T):i.lineTo(F,T),_++}const s=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,i=new $t;let _=0;return g.getAttribute("points").replace(s,c),i.currentPath.autoClose=!0,i}function I(g){function c(O,y,R){const F=G(y),T=G(R);_===0?i.moveTo(F,T):i.lineTo(F,T),_++}const s=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,i=new $t;let _=0;return g.getAttribute("points").replace(s,c),i.currentPath.autoClose=!1,i}function S(g){const c=G(g.getAttribute("cx")||0),s=G(g.getAttribute("cy")||0),i=G(g.getAttribute("r")||0),_=new Bn;_.absarc(c,s,i,0,Math.PI*2);const O=new $t;return O.subPaths.push(_),O}function v(g){const c=G(g.getAttribute("cx")||0),s=G(g.getAttribute("cy")||0),i=G(g.getAttribute("rx")||0),_=G(g.getAttribute("ry")||0),O=new Bn;O.absellipse(c,s,i,_,0,Math.PI*2);const y=new $t;return y.subPaths.push(O),y}function b(g){const c=G(g.getAttribute("x1")||0),s=G(g.getAttribute("y1")||0),i=G(g.getAttribute("x2")||0),_=G(g.getAttribute("y2")||0),O=new $t;return O.moveTo(c,s),O.lineTo(i,_),O.currentPath.autoClose=!1,O}function D(g,c){c=Object.assign({},c);let s={};if(g.hasAttribute("class")){const y=g.getAttribute("class").split(/\s/).filter(Boolean).map(R=>R.trim());for(let R=0;R<y.length;R++)s=Object.assign(s,J["."+y[R]])}g.hasAttribute("id")&&(s=Object.assign(s,J["#"+g.getAttribute("id")]));function i(y,R,F){F===void 0&&(F=function(x){return x.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),x}),g.hasAttribute(y)&&(c[R]=F(g.getAttribute(y))),s[y]&&(c[R]=F(s[y])),g.style&&g.style[y]!==""&&(c[R]=F(g.style[y]))}function _(y){return Math.max(0,Math.min(1,G(y)))}function O(y){return Math.max(0,G(y))}return i("fill","fill"),i("fill-opacity","fillOpacity",_),i("fill-rule","fillRule"),i("opacity","opacity",_),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",_),i("stroke-width","strokeWidth",O),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",O),i("visibility","visibility"),c}function M(g,c){return g-(c-g)}function m(g,c,s){if(typeof g!="string")throw new TypeError("Invalid input: "+typeof g);const i={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},_=0,O=1,y=2,R=3;let F=_,T=!0,x="",A="";const N=[];function u(q,he,Ce){const ve=new SyntaxError('Unexpected character "'+q+'" at index '+he+".");throw ve.partial=Ce,ve}function h(){x!==""&&(A===""?N.push(Number(x)):N.push(Number(x)*Math.pow(10,Number(A)))),x="",A=""}let a;const j=g.length;for(let q=0;q<j;q++){if(a=g[q],Array.isArray(c)&&c.includes(N.length%s)&&i.FLAGS.test(a)){F=O,x=a,h();continue}if(F===_){if(i.WHITESPACE.test(a))continue;if(i.DIGIT.test(a)||i.SIGN.test(a)){F=O,x=a;continue}if(i.POINT.test(a)){F=y,x=a;continue}i.COMMA.test(a)&&(T&&u(a,q,N),T=!0)}if(F===O){if(i.DIGIT.test(a)){x+=a;continue}if(i.POINT.test(a)){x+=a,F=y;continue}if(i.EXP.test(a)){F=R;continue}i.SIGN.test(a)&&x.length===1&&i.SIGN.test(x[0])&&u(a,q,N)}if(F===y){if(i.DIGIT.test(a)){x+=a;continue}if(i.EXP.test(a)){F=R;continue}i.POINT.test(a)&&x[x.length-1]==="."&&u(a,q,N)}if(F===R){if(i.DIGIT.test(a)){A+=a;continue}if(i.SIGN.test(a)){if(A===""){A+=a;continue}A.length===1&&i.SIGN.test(A)&&u(a,q,N)}}i.WHITESPACE.test(a)?(h(),F=_,T=!1):i.COMMA.test(a)?(h(),F=_,T=!0):i.SIGN.test(a)?(h(),F=O,x=a):i.POINT.test(a)?(h(),F=y,x=a):u(a,q,N)}return h(),N}const H=["mm","cm","in","pt","pc","px"],Q={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function G(g){let c="px";if(typeof g=="string"||g instanceof String)for(let i=0,_=H.length;i<_;i++){const O=H[i];if(g.endsWith(O)){c=O,g=g.substring(0,g.length-O.length);break}}let s;return c==="px"&&n.defaultUnit!=="px"?s=Q.in[n.defaultUnit]/n.defaultDPI:(s=Q[c][n.defaultUnit],s<0&&(s=Q[c].in*n.defaultDPI)),s*parseFloat(g)}function P(g){if(!(g.hasAttribute("transform")||g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))))return null;const c=W(g);return K.length>0&&c.premultiply(K[K.length-1]),ye.copy(c),K.push(c),c}function W(g){const c=new br,s=oe;if(g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))){const i=G(g.getAttribute("x")),_=G(g.getAttribute("y"));c.translate(i,_)}if(g.hasAttribute("transform")){const i=g.getAttribute("transform").split(")");for(let _=i.length-1;_>=0;_--){const O=i[_].trim();if(O==="")continue;const y=O.indexOf("("),R=O.length;if(y>0&&y<R){const F=O.slice(0,y),T=m(O.slice(y+1));switch(s.identity(),F){case"translate":if(T.length>=1){const x=T[0];let A=0;T.length>=2&&(A=T[1]),s.translate(x,A)}break;case"rotate":if(T.length>=1){let x=0,A=0,N=0;x=T[0]*Math.PI/180,T.length>=3&&(A=T[1],N=T[2]),V.makeTranslation(-A,-N),B.makeRotation(x),E.multiplyMatrices(B,V),V.makeTranslation(A,N),s.multiplyMatrices(V,E)}break;case"scale":if(T.length>=1){const x=T[0];let A=x;T.length>=2&&(A=T[1]),s.scale(x,A)}break;case"skewX":T.length===1&&s.set(1,Math.tan(T[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":T.length===1&&s.set(1,0,0,Math.tan(T[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":T.length===6&&s.set(T[0],T[2],T[4],T[1],T[3],T[5],0,0,1);break}}c.premultiply(s)}}return c}function Y(g,c){function s(y){p.set(y.x,y.y,1).applyMatrix3(c),y.set(p.x,p.y)}function i(y){const R=y.xRadius,F=y.yRadius,T=Math.cos(y.aRotation),x=Math.sin(y.aRotation),A=new Je(R*T,R*x,0),N=new Je(-F*x,F*T,0),u=A.applyMatrix3(c),h=N.applyMatrix3(c),a=oe.set(u.x,h.x,0,u.y,h.y,0,0,0,1),j=V.copy(a).invert(),Ce=B.copy(j).transpose().multiply(j).elements,ve=ee(Ce[0],Ce[1],Ce[4]),Te=Math.sqrt(ve.rt1),le=Math.sqrt(ve.rt2);if(y.xRadius=1/Te,y.yRadius=1/le,y.aRotation=Math.atan2(ve.sn,ve.cs),!((y.aEndAngle-y.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Me=V.set(Te,0,0,0,le,0,0,0,1),re=B.set(ve.cs,ve.sn,0,-ve.sn,ve.cs,0,0,0,1),we=Me.multiply(re).multiply(a),ke=Re=>{const{x:qt,y:De}=new Je(Math.cos(Re),Math.sin(Re),0).applyMatrix3(we);return Math.atan2(De,qt)};y.aStartAngle=ke(y.aStartAngle),y.aEndAngle=ke(y.aEndAngle),z(c)&&(y.aClockwise=!y.aClockwise)}}function _(y){const R=X(c),F=L(c);y.xRadius*=R,y.yRadius*=F;const T=R>Number.EPSILON?Math.atan2(c.elements[1],c.elements[0]):Math.atan2(-c.elements[3],c.elements[4]);y.aRotation+=T,z(c)&&(y.aStartAngle*=-1,y.aEndAngle*=-1,y.aClockwise=!y.aClockwise)}const O=g.subPaths;for(let y=0,R=O.length;y<R;y++){const T=O[y].curves;for(let x=0;x<T.length;x++){const A=T[x];A.isLineCurve?(s(A.v1),s(A.v2)):A.isCubicBezierCurve?(s(A.v0),s(A.v1),s(A.v2),s(A.v3)):A.isQuadraticBezierCurve?(s(A.v0),s(A.v1),s(A.v2)):A.isEllipseCurve&&(te.set(A.aX,A.aY),s(te),A.aX=te.x,A.aY=te.y,U(c)?i(A):_(A))}}}function z(g){const c=g.elements;return c[0]*c[4]-c[1]*c[3]<0}function U(g){const c=g.elements,s=c[0]*c[3]+c[1]*c[4];if(s===0)return!1;const i=X(g),_=L(g);return Math.abs(s/(i*_))>Number.EPSILON}function X(g){const c=g.elements;return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function L(g){const c=g.elements;return Math.sqrt(c[3]*c[3]+c[4]*c[4])}function ee(g,c,s){let i,_,O,y,R;const F=g+s,T=g-s,x=Math.sqrt(T*T+4*c*c);return F>0?(i=.5*(F+x),R=1/i,_=g*R*s-c*R*c):F<0?_=.5*(F-x):(i=.5*x,_=-.5*x),T>0?O=T+x:O=T-x,Math.abs(O)>2*Math.abs(c)?(R=-2*c/O,y=1/Math.sqrt(1+R*R),O=R*y):Math.abs(c)===0?(O=1,y=0):(R=-.5*O/c,O=1/Math.sqrt(1+R*R),y=R*O),T>0&&(R=O,O=-y,y=R),{rt1:i,rt2:_,cs:O,sn:y}}const C=[],J={},K=[],oe=new br,V=new br,B=new br,E=new br,te=new ue,p=new Je,ye=new br,xe=new DOMParser().parseFromString(e,"image/svg+xml");return t(xe.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:C,xml:xe.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},r={loc:t.ORIGIN,t:0};function o(M,m,H,Q){const G=M.x,P=m.x,W=H.x,Y=Q.x,z=M.y,U=m.y,X=H.y,L=Q.y,ee=(Y-W)*(z-X)-(L-X)*(G-W),C=(P-G)*(z-X)-(U-z)*(G-W),J=(L-X)*(P-G)-(Y-W)*(U-z),K=ee/J,oe=C/J;if(J===0&&ee!==0||K<=0||K>=1||oe<0||oe>1)return null;if(ee===0&&J===0){for(let V=0;V<2;V++)if(l(V===0?H:Q,M,m),r.loc==t.ORIGIN){const B=V===0?H:Q;return{x:B.x,y:B.y,t:r.t}}else if(r.loc==t.BETWEEN){const B=+(G+r.t*(P-G)).toPrecision(10),E=+(z+r.t*(U-z)).toPrecision(10);return{x:B,y:E,t:r.t}}return null}else{for(let E=0;E<2;E++)if(l(E===0?H:Q,M,m),r.loc==t.ORIGIN){const te=E===0?H:Q;return{x:te.x,y:te.y,t:r.t}}const V=+(G+K*(P-G)).toPrecision(10),B=+(z+K*(U-z)).toPrecision(10);return{x:V,y:B,t:K}}}function l(M,m,H){const Q=H.x-m.x,G=H.y-m.y,P=M.x-m.x,W=M.y-m.y,Y=Q*W-P*G;if(M.x===m.x&&M.y===m.y){r.loc=t.ORIGIN,r.t=0;return}if(M.x===H.x&&M.y===H.y){r.loc=t.DESTINATION,r.t=1;return}if(Y<-Number.EPSILON){r.loc=t.LEFT;return}if(Y>Number.EPSILON){r.loc=t.RIGHT;return}if(Q*P<0||G*W<0){r.loc=t.BEHIND;return}if(Math.sqrt(Q*Q+G*G)<Math.sqrt(P*P+W*W)){r.loc=t.BEYOND;return}let z;Q!==0?z=P/Q:z=W/G,r.loc=t.BETWEEN,r.t=z}function f(M,m){const H=[],Q=[];for(let G=1;G<M.length;G++){const P=M[G-1],W=M[G];for(let Y=1;Y<m.length;Y++){const z=m[Y-1],U=m[Y],X=o(P,W,z,U);X!==null&&H.find(L=>L.t<=X.t+Number.EPSILON&&L.t>=X.t-Number.EPSILON)===void 0&&(H.push(X),Q.push(new ue(X.x,X.y)))}}return Q}function w(M,m,H){const Q=new ue;m.getCenter(Q);const G=[];return H.forEach(P=>{P.boundingBox.containsPoint(Q)&&f(M,P.points).forEach(Y=>{G.push({identifier:P.identifier,isCW:P.isCW,point:Y})})}),G.sort((P,W)=>P.point.x-W.point.x),G}function k(M,m,H,Q,G){(G==null||G==="")&&(G="nonzero");const P=new ue;M.boundingBox.getCenter(P);const W=[new ue(H,P.y),new ue(Q,P.y)],Y=w(W,M.boundingBox,m);Y.sort((C,J)=>C.point.x-J.point.x);const z=[],U=[];Y.forEach(C=>{C.identifier===M.identifier?z.push(C):U.push(C)});const X=z[0].point.x,L=[];let ee=0;for(;ee<U.length&&U[ee].point.x<X;)L.length>0&&L[L.length-1]===U[ee].identifier?L.pop():L.push(U[ee].identifier),ee++;if(L.push(M.identifier),G==="evenodd"){const C=L.length%2===0,J=L[L.length-2];return{identifier:M.identifier,isHole:C,for:J}}else if(G==="nonzero"){let C=!0,J=null,K=null;for(let oe=0;oe<L.length;oe++){const V=L[oe];C?(K=m[V].isCW,C=!1,J=V):K!==m[V].isCW&&(K=m[V].isCW,C=!0)}return{identifier:M.identifier,isHole:C,for:J}}else console.warn('fill-rule: "'+G+'" is currently not implemented.')}let I=999999999,S=-999999999,v=e.subPaths.map(M=>{const m=M.getPoints();let H=-999999999,Q=999999999,G=-999999999,P=999999999;for(let W=0;W<m.length;W++){const Y=m[W];Y.y>H&&(H=Y.y),Y.y<Q&&(Q=Y.y),Y.x>G&&(G=Y.x),Y.x<P&&(P=Y.x)}return S<=G&&(S=G+1),I>=P&&(I=P-1),{curves:M.curves,points:m,isCW:Gi.isClockWise(m),identifier:-1,boundingBox:new Hi(new ue(P,Q),new ue(G,H))}});v=v.filter(M=>M.points.length>1);for(let M=0;M<v.length;M++)v[M].identifier=M;const b=v.map(M=>k(M,v,I,S,e.userData?e.userData.style.fillRule:void 0)),D=[];return v.forEach(M=>{if(!b[M.identifier].isHole){const H=new Ui;H.curves=M.curves,b.filter(G=>G.isHole&&G.for===M.identifier).forEach(G=>{const P=v[G.identifier],W=new Bn;W.curves=P.curves,H.holes.push(W)}),D.push(H)}}),D}static getStrokeStyle(e,n,t,r,o){return e=e!==void 0?e:1,n=n!==void 0?n:"#000",t=t!==void 0?t:"miter",r=r!==void 0?r:"butt",o=o!==void 0?o:4,{strokeColor:n,strokeWidth:e,strokeLineJoin:t,strokeLineCap:r,strokeMiterLimit:o}}static pointsToStroke(e,n,t,r){const o=[],l=[],f=[];if(On.pointsToStrokeWithBuffers(e,n,t,r,o,l,f)===0)return null;const w=new ao;return w.setAttribute("position",new Ur(o,3)),w.setAttribute("normal",new Ur(l,3)),w.setAttribute("uv",new Ur(f,2)),w}static pointsToStrokeWithBuffers(e,n,t,r,o,l,f,w){const k=new ue,I=new ue,S=new ue,v=new ue,b=new ue,D=new ue,M=new ue,m=new ue,H=new ue,Q=new ue,G=new ue,P=new ue,W=new ue,Y=new ue,z=new ue,U=new ue,X=new ue;t=t!==void 0?t:12,r=r!==void 0?r:.001,w=w!==void 0?w:0,e=T(e);const L=e.length;if(L<2)return 0;const ee=e[0].equals(e[L-1]);let C,J=e[0],K;const oe=n.strokeWidth/2,V=1/(L-1);let B=0,E,te,p,ye,xe=!1,at=0,g=w*3,c=w*2;s(e[0],e[1],k).multiplyScalar(oe),m.copy(e[0]).sub(k),H.copy(e[0]).add(k),Q.copy(m),G.copy(H);for(let x=1;x<L;x++){C=e[x],x===L-1?ee?K=e[1]:K=void 0:K=e[x+1];const A=k;if(s(J,C,A),S.copy(A).multiplyScalar(oe),P.copy(C).sub(S),W.copy(C).add(S),E=B+V,te=!1,K!==void 0){s(C,K,I),S.copy(I).multiplyScalar(oe),Y.copy(C).sub(S),z.copy(C).add(S),p=!0,S.subVectors(K,J),A.dot(S)<0&&(p=!1),x===1&&(xe=p),S.subVectors(K,C),S.normalize();const N=Math.abs(A.dot(S));if(N>Number.EPSILON){const u=oe/N;S.multiplyScalar(-u),v.subVectors(C,J),b.copy(v).setLength(u).add(S),U.copy(b).negate();const h=b.length(),a=v.length();v.divideScalar(a),D.subVectors(K,C);const j=D.length();switch(D.divideScalar(j),v.dot(U)<a&&D.dot(U)<j&&(te=!0),X.copy(b).add(C),U.add(C),ye=!1,te?p?(z.copy(U),W.copy(U)):(Y.copy(U),P.copy(U)):O(),n.strokeLineJoin){case"bevel":y(p,te,E);break;case"round":R(p,te),p?_(C,P,Y,E,0):_(C,z,W,E,1);break;case"miter":case"miter-clip":default:const q=oe*n.strokeMiterLimit/h;if(q<1)if(n.strokeLineJoin!=="miter-clip"){y(p,te,E);break}else R(p,te),p?(D.subVectors(X,P).multiplyScalar(q).add(P),M.subVectors(X,Y).multiplyScalar(q).add(Y),i(P,E,0),i(D,E,0),i(C,E,.5),i(C,E,.5),i(D,E,0),i(M,E,0),i(C,E,.5),i(M,E,0),i(Y,E,0)):(D.subVectors(X,W).multiplyScalar(q).add(W),M.subVectors(X,z).multiplyScalar(q).add(z),i(W,E,1),i(D,E,1),i(C,E,.5),i(C,E,.5),i(D,E,1),i(M,E,1),i(C,E,.5),i(M,E,1),i(z,E,1));else te?(p?(i(H,B,1),i(m,B,0),i(X,E,0),i(H,B,1),i(X,E,0),i(U,E,1)):(i(H,B,1),i(m,B,0),i(X,E,1),i(m,B,0),i(U,E,0),i(X,E,1)),p?Y.copy(X):z.copy(X)):p?(i(P,E,0),i(X,E,0),i(C,E,.5),i(C,E,.5),i(X,E,0),i(Y,E,0)):(i(W,E,1),i(X,E,1),i(C,E,.5),i(C,E,.5),i(X,E,1),i(z,E,1)),ye=!0;break}}else O()}else O();!ee&&x===L-1&&F(e[0],Q,G,p,!0,B),B=E,J=C,m.copy(Y),H.copy(z)}if(!ee)F(C,P,W,p,!1,E);else if(te&&o){let x=X,A=U;xe!==p&&(x=U,A=X),p?(ye||xe)&&(A.toArray(o,0*3),A.toArray(o,3*3),ye&&x.toArray(o,1*3)):(ye||!xe)&&(A.toArray(o,1*3),A.toArray(o,3*3),ye&&x.toArray(o,0*3))}return at;function s(x,A,N){return N.subVectors(A,x),N.set(-N.y,N.x).normalize()}function i(x,A,N){o&&(o[g]=x.x,o[g+1]=x.y,o[g+2]=0,l&&(l[g]=0,l[g+1]=0,l[g+2]=1),g+=3,f&&(f[c]=A,f[c+1]=N,c+=2)),at+=3}function _(x,A,N,u,h){k.copy(A).sub(x).normalize(),I.copy(N).sub(x).normalize();let a=Math.PI;const j=k.dot(I);Math.abs(j)<1&&(a=Math.abs(Math.acos(j))),a/=t,S.copy(A);for(let q=0,he=t-1;q<he;q++)v.copy(S).rotateAround(x,a),i(S,u,h),i(v,u,h),i(x,u,.5),S.copy(v);i(v,u,h),i(N,u,h),i(x,u,.5)}function O(){i(H,B,1),i(m,B,0),i(P,E,0),i(H,B,1),i(P,E,0),i(W,E,1)}function y(x,A,N){A?x?(i(H,B,1),i(m,B,0),i(P,E,0),i(H,B,1),i(P,E,0),i(U,E,1),i(P,N,0),i(Y,N,0),i(U,N,.5)):(i(H,B,1),i(m,B,0),i(W,E,1),i(m,B,0),i(U,E,0),i(W,E,1),i(W,N,1),i(U,N,0),i(z,N,1)):x?(i(P,N,0),i(Y,N,0),i(C,N,.5)):(i(W,N,1),i(z,N,0),i(C,N,.5))}function R(x,A){A&&(x?(i(H,B,1),i(m,B,0),i(P,E,0),i(H,B,1),i(P,E,0),i(U,E,1),i(P,B,0),i(C,E,.5),i(U,E,1),i(C,E,.5),i(Y,B,0),i(U,E,1)):(i(H,B,1),i(m,B,0),i(W,E,1),i(m,B,0),i(U,E,0),i(W,E,1),i(W,B,1),i(U,E,0),i(C,E,.5),i(C,E,.5),i(U,E,0),i(z,B,1)))}function F(x,A,N,u,h,a){switch(n.strokeLineCap){case"round":h?_(x,N,A,a,.5):_(x,A,N,a,.5);break;case"square":if(h)k.subVectors(A,x),I.set(k.y,-k.x),S.addVectors(k,I).add(x),v.subVectors(I,k).add(x),u?(S.toArray(o,1*3),v.toArray(o,0*3),v.toArray(o,3*3)):(S.toArray(o,1*3),f[3*2+1]===1?v.toArray(o,3*3):S.toArray(o,3*3),v.toArray(o,0*3));else{k.subVectors(N,x),I.set(k.y,-k.x),S.addVectors(k,I).add(x),v.subVectors(I,k).add(x);const j=o.length;u?(S.toArray(o,j-1*3),v.toArray(o,j-2*3),v.toArray(o,j-4*3)):(v.toArray(o,j-2*3),S.toArray(o,j-1*3),v.toArray(o,j-4*3))}break}}function T(x){let A=!1;for(let u=1,h=x.length-1;u<h;u++)if(x[u].distanceTo(x[u+1])<r){A=!0;break}if(!A)return x;const N=[];N.push(x[0]);for(let u=1,h=x.length-1;u<h;u++)x[u].distanceTo(x[u+1])>=r&&N.push(x[u]);return N.push(x[x.length-1]),N}}}function Ss(d,e,n,t){const{CUBE_SIZE:r,FIRST_CUBE_Z:o}=t,l=8,f=24,w=.075,k=200;let I,S=[],v=[],b=[],D=[];const M=(P,W,Y,z)=>{const U=new En(P,P,P),X=new _n(U),L=[new Lt({color:16711680,transparent:!0,opacity:z.opacity,blending:St}),new Lt({color:65280,transparent:!0,opacity:z.opacity,blending:St}),new Lt({color:255,transparent:!0,opacity:z.opacity,blending:St}),new Lt({color:65535,transparent:!0,opacity:z.opacity,blending:St}),new Lt({color:16711935,transparent:!0,opacity:z.opacity,blending:St}),new Lt({color:16776960,transparent:!0,opacity:z.opacity,blending:St})],ee=new Yt,C=X.getAttribute("position").array,J=[];for(let V=0;V<C.length/3;V+=2)J.push(V,V+1);const K=Array(6).fill(null).map(()=>new ao),oe=Array(6).fill(null).map(()=>[]);for(let V=0;V<J.length/2;V++){const B=V%6;oe[B].push(J[V*2],J[V*2+1])}return K.forEach((V,B)=>{V.setIndex(oe[B]),V.setAttribute("position",X.getAttribute("position"));const E=new sr(V,L[B]);ee.add(E)}),ee.position.z=W,ee.rotation.z=Y,ee};return(()=>{const Y=.9/(f-1);for(let J=0;J<f;J++)v[J]=new Lt({transparent:!0,opacity:1-J*Y});if(I=new Yt,!I){console.error("introGroup failed to initialize");return}for(let J=0;J<f;J++){const K=r-J*l,oe=M(K,0,0,v[J]),V=oe.children.map(B=>B.material);D.push(V.map(B=>({material:B,originalColor:B.color.clone()}))),I.add(oe)}I.position.z=o,e.add(I),S.push(I),b=v.map(J=>J.opacity);const z=je.timeline({repeat:-1});z.to(I.rotation,{x:Ye.degToRad(360),duration:12,ease:"none"},0),z.to(I.rotation,{y:Ye.degToRad(360),duration:10,ease:"none"},0),z.to(I.rotation,{z:Ye.degToRad(360),duration:14,ease:"none"},0);let U=-1,X=0;const L=w*1e3,ee=f*L,C=J=>{const K=J%ee/L,oe=Math.floor(K)%f;U!==-1&&J-X>=L&&(D[U].forEach(E=>{E.material.opacity=b[U],E.material.color.copy(E.originalColor)}),U=-1),U===-1&&oe!==U&&(U=oe,X=J,D[U].forEach(B=>{B.material.opacity=1,B.material.color.set(1,1,1)})),requestAnimationFrame(C)};requestAnimationFrame(C)})(),n.then(P=>{if(P){const W=H(P);d.add(W)}}),{introCubes:S};function H(P){const W=new Yt,Y=Q(P);Y.position.set(0,-36,0),W.add(Y),G(U=>{W.add(U),je.fromTo(Y.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const X=U.children.find(L=>L instanceof Be&&L!==U.children[0]);if(X){const L=X.position.y;je.to(X.position,{y:L+3,duration:1,ease:"easeOut",onComplete:()=>{X.position.y=L},repeat:-1})}}),W.position.x=0,W.position.y=-240;const z=o-f*l;return W.position.z=z+k,W}function Q(P){const W=new Pi("SCROLL TO CONTINUE",{font:P,size:8,depth:0,curveSegments:12,bevelEnabled:!1});W.computeBoundingBox(),W.center();const Y=new bt({color:16777215,transparent:!0,opacity:1});return new Be(W,Y)}function G(P){new On().load("/3D/mouse.svg",Y=>{const z=Y.paths;let U=null,X=null,L=new Yt;if(z.forEach((ee,C)=>{On.createShapes(ee).forEach(K=>{const oe=new Yi(K);oe.computeBoundingBox();const V=new bt({color:16777215,transparent:!0,opacity:1,side:Nt}),B=new Be(oe,V);B.scale.set(.05,.05,1),C===0?U=B:C===1&&(X=B)})}),U&&X){L.add(U),L.add(X);const C=(U.geometry.boundingBox.max.x-U.geometry.boundingBox.min.x)*U.scale.x/2;L.position.x=-C,L.rotation.x=Math.PI,P(L)}})}}class Ps extends Xo{constructor(e){super(e)}load(e,n,t,r){const o=this,l=new qo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){const w=o.parse(JSON.parse(f));n&&n(w)},t,r)}parse(e){return new Ms(e)}}class Ms{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const t=[],r=Cs(e,n,this.data);for(let o=0,l=r.length;o<l;o++)t.push(...r[o].toShapes());return t}}function Cs(d,e,n){const t=Array.from(d),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,l=[];let f=0,w=0;for(let k=0;k<t.length;k++){const I=t[k];if(I===`
`)f=0,w-=o;else{const S=Es(I,r,f,w,n);f+=S.offsetX,l.push(S.path)}}return l}function Es(d,e,n,t,r){const o=r.glyphs[d]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+d+'" does not exists in font family '+r.familyName+".");return}const l=new $t;let f,w,k,I,S,v,b,D;if(o.o){const M=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let m=0,H=M.length;m<H;)switch(M[m++]){case"m":f=M[m++]*e+n,w=M[m++]*e+t,l.moveTo(f,w);break;case"l":f=M[m++]*e+n,w=M[m++]*e+t,l.lineTo(f,w);break;case"q":k=M[m++]*e+n,I=M[m++]*e+t,S=M[m++]*e+n,v=M[m++]*e+t,l.quadraticCurveTo(S,v,k,I);break;case"b":k=M[m++]*e+n,I=M[m++]*e+t,S=M[m++]*e+n,v=M[m++]*e+t,b=M[m++]*e+n,D=M[m++]*e+t,l.bezierCurveTo(S,v,b,D,k,I);break}}return{offsetX:o.ha*e,path:l}}function Ho(d,e,n,t,r,o){const{CUBE_SIZE:l,CUBE_SPACING:f,FIRST_CUBE_Z:w}=e,k=w-(n.length+1)*f,I=65535,S=16711935,v=16711680,b=Ye.degToRad(15),D=1e3,M=.5,m=80,H=1,Q=15,G=.1;let P=[],W=null,Y=null,z=!1,U=!1,X=new ji,L=new ue,ee=null,C=null,J=null,K=!1,oe=null;const V=ei(),B=(g,c,s,i,_,O)=>{const y=new Yt;y.position.z=s,y.rotation.z=i,y.userData.isActive=!1;const R=new En(c,c,c),F=new _n(R),T=new Lt({color:new ht(I),transparent:!0,opacity:0}),x=new sr(F,T);y.add(x);let A="right";const N=c/2;if(_)switch(["left","top","right","bottom"].includes(O)?O:"left"){case"left":A="right";break;case"top":A="bottom";break;case"right":A="left";break;case"bottom":A="top";break}const u=()=>{const Me=new bo(40,24),re=new _n(Me),we=new Lt({color:new ht(I),transparent:!0,opacity:0,visible:!0}),ke=new sr(re,we);ke.userData.isPortal=!0,ke.userData.isAnimating=!1;const Re=new Wt(120,120),qt=new bt({visible:!1,side:Nt}),De=new Be(Re,qt);De.userData.isPortalHitbox=!0,De.userData.portal=ke;const Tt=new Yt,Zt=new Wt(H,Q),Et=65/2;for(let Le=0;Le<m;Le++){const lt=new bt({color:new ht(S),transparent:!0,opacity:0,visible:!1,side:Nt}),Ge=new Be(Zt,lt),Qe=Le/m*Math.PI*2;Ge.position.set(Math.cos(Qe)*Et,Math.sin(Qe)*Et,0),Ge.rotation.z=Qe+Math.PI/2,Ge.userData.baseOpacity=.01,Ge.userData.index=Le,Tt.add(Ge)}const Ht=2,de=25;for(let Le=1;Le<de;Le++){const lt=new bo(40,24),Ge=new _n(lt),Qe=Ye.lerp(1,.1,Le/(de-1)),Gt=new Lt({color:new ht(I),transparent:!0,opacity:0}),At=new sr(Ge,Gt);At.userData.isPortal=!0,At.userData.maxOpacity=Qe,At.position.z=-Le*Ht,ke.add(At)}switch(ke.userData.maxOpacity=1,A){case"left":case"right":Tt.children.forEach(Le=>Le.position.x+=G);break;case"top":case"bottom":Tt.children.forEach(Le=>Le.position.y+=G);break}switch(ke.add(Tt),y.add(ke),y.add(De),ke.updateMatrixWorld(!0),Tt.updateMatrixWorld(!0),A){case"left":ke.position.set(-N,0,0),ke.rotation.y=Math.PI/2,De.position.set(-N,0,0),De.rotation.y=Math.PI/2;break;case"top":ke.position.set(0,N,0),ke.rotation.x=-Math.PI/2,De.position.set(0,N,0),De.rotation.x=Math.PI/2;break;case"right":ke.position.set(N,0,0),ke.rotation.y=-Math.PI/2,De.position.set(N,0,0),De.rotation.y=-Math.PI/2;break;case"bottom":ke.position.set(0,-N,0),ke.rotation.x=Math.PI/2,De.position.set(0,-N,0),De.rotation.x=Math.PI/2;break}};_?new _r().load(_,be=>{be.encoding=void 0;const Me=new Wt(c-1,c-1),re=new bt({map:be,transparent:!0,opacity:0,blending:St,side:Nt}),we=new Be(Me,re);switch(O){case"left":we.position.set(-N,0,0),i>=Ye.degToRad(120)?(we.rotation.y=Math.PI/2,we.rotation.z=-Math.PI):we.rotation.y=Math.PI/2;break;case"top":we.position.set(0,N,0),we.rotation.x=Math.PI/2,we.rotation.z=-Math.PI/2;break;case"right":we.position.set(N,0,0),i>=Ye.degToRad(120)?(we.rotation.y=-Math.PI/2,we.rotation.z=-Math.PI):we.rotation.y=-Math.PI/2;break;case"bottom":we.position.set(0,-N,0),i>=Ye.degToRad(120)?(we.rotation.x=-Math.PI/2,we.rotation.z=Math.PI/2):(we.rotation.x=-Math.PI/2,we.rotation.z=-Math.PI/2);break}y.add(we),u()},void 0,be=>{u()}):u(),new _r().load(t,le=>{le.encoding=void 0;const be=new Wt(c-1,c-1),Me=new bt({map:le,transparent:!0,opacity:0,blending:St,side:Nt,depthWrite:!1}),re=new Be(be,Me);re.position.set(0,0,-c/2-1),re.rotation.y=0,re.userData.isGridPlane=!0,y.add(re)},void 0,le=>{console.error("Error loading projectGridFile:",le)}),new _r().load(t,le=>{le.encoding=void 0;const be=new Wt(c-1,c-1),Me=new bt({map:le,transparent:!0,opacity:0,blending:St,side:Nt,depthWrite:!1,color:new ht(16744448)}),re=new Be(be,Me);re.position.set(0,0,c/2+1),re.rotation.y=0,re.userData.isGridPlane=!0,y.add(re)},void 0,le=>{console.error("Error loading projectGridFile:",le)});const j=["left","top","right","bottom"],he=[_?O||"left":null,A].filter(Boolean),Ce=j.filter(le=>!he.includes(le));return new _r().load(t,le=>{le.encoding=void 0;const be=new Wt(c-1,c-1),Me=new bt({map:le,transparent:!0,opacity:0,blending:St,side:Nt,depthWrite:!1,color:new ht(255)}),re=new Be(be,Me);switch(Ce[0]){case"left":re.position.set(-N,0,0),re.rotation.y=-Math.PI/2;break;case"top":re.position.set(0,N,0),re.rotation.x=Math.PI/2;break;case"right":re.position.set(N,0,0),re.rotation.y=Math.PI/2;break;case"bottom":re.position.set(0,-N,0),re.rotation.x=-Math.PI/2;break}re.userData.isGridPlane=!0,y.add(re)},void 0,le=>{console.error("Error loading projectGridFile:",le)}),new _r().load(r,le=>{le.encoding=void 0;const be=new Wt(c-1,c-1),Me=new bt({map:le,transparent:!0,opacity:0,blending:St,side:Nt,depthWrite:!1}),re=new Be(be,Me);switch(Ce[1]){case"left":re.position.set(-N,0,0),re.rotation.y=-Math.PI/2;break;case"top":re.position.set(0,N,0),re.rotation.x=Math.PI/2;break;case"right":re.position.set(N,0,0),re.rotation.y=Math.PI/2;break;case"bottom":re.position.set(0,-N,0),re.rotation.x=-Math.PI/2;break}re.userData.isGridPlane=!0,y.add(re)},void 0,le=>{console.error("Error loading projectGridFile2:",le)}),y},E=(g,c,s,i,_,O)=>{const y=new Pi(g,{font:O,size:_,depth:0,curveSegments:12,bevelEnabled:!1});y.computeBoundingBox(),y.center();const R=new bt({color:16777215,transparent:!0,opacity:0,side:Nt}),F=new Be(y,R);F.position.set(c,s,i);const T=y.boundingBox,x=T.max.x-T.min.x,A=T.max.y-T.min.y,N=x+8,u=A+4,h=new Wt(N,u),a=new bt({color:0,transparent:!0,opacity:0,side:Nt}),j=new Be(h,a);return j.position.set(c,s,i-1),d.add(j),d.add(F),F.userData.backgroundPlane=j,F},te=()=>new Promise(g=>{W=new Ps,W.load("/fonts/Poppins_Regular.json",c=>{Y=c;const s=Array.isArray(n)?n:[];Array.isArray(n)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",n),s.forEach((i,_)=>{const O=w-(_+1)*f,y=(_+1)*b,R=B(i,l,O,y,i.keyart,i.keyartLocation);d.add(R),P.push(R),E(i.title,0,i.size-15,w+90-(_+1)*f,i.size,c)}),g()},void 0,c=>console.error("Error loading font:",c))}),p=()=>z?Promise.resolve({projectCubes:P,updateCubeColors:xe,loadedFont:Y,maxZ:k}):te().then(()=>(z=!0,{projectCubes:P,updateCubeColors:xe,loadedFont:Y,maxZ:k})).catch(g=>{throw console.error("Error in loadFontAndText:",g),g}),ye=g=>{if(!g.userData.isAnimating)return;g.userData.isAnimating=!1;const c=g.children.find(s=>s instanceof Yt);c&&(g.userData.animationTimeline&&(g.userData.animationTimeline.kill(),delete g.userData.animationTimeline),c.children.forEach(s=>{const i=s.material;i.opacity=0}))},xe=g=>{const c=g.position.z;let s=[];d.traverse(i=>{i instanceof Be&&i.geometry&&i.geometry.type==="TextGeometry"&&s.push(i)}),U||(U=!0),P.forEach(i=>{const _=i.position.z,O=Math.abs(c-_);let y=0;O<=D&&(y=1-O/D),i.userData.isActive=y>=M,i.children.forEach(R=>{if(R instanceof sr&&!R.userData.isPortal&&!R.userData.isPortalHitbox){const F=R.material;if(O<=D){const T=Ye.lerp((I>>16&255)/255,(S>>16&255)/255,y),x=Ye.lerp((I>>8&255)/255,(S>>8&255)/255,y),A=Ye.lerp((I&255)/255,(S&255)/255,y);F.color.set(T,x,A),F.opacity=Math.min(1,y*2)}else F.opacity=0}else if(R instanceof sr&&R.userData.isPortal)U&&(y>.1?R.children.forEach(F=>{F instanceof Yt&&F.children.forEach(T=>{T instanceof Be&&(T.material.visible=!0,!R.userData.animationStarted&&o.showPortalPulses)})}):y<=.1&&R.userData.animationStarted&&(R.children.forEach(F=>{F instanceof Yt&&F.children.forEach(T=>{T instanceof Be&&(T.material.visible=!1)})}),ye(R),delete R.userData.animationStarted));else if(R instanceof Be&&!R.userData.isPortalHitbox){const F=R.material;if(O<=D){const T=1-O/D;F.opacity=Math.min(.8,T*2)}else F.opacity=0}})}),s.forEach(i=>{const _=i.material,O=i.userData.backgroundPlane,y=O==null?void 0:O.material,R=i.position.z,F=Math.abs(c-R+120);if(F<=D){const T=1-F/D,x=Math.min(1,T*2);_.opacity=x,y&&(y.opacity=x*.8)}else _.opacity=0,y&&(y.opacity=0)})};return{getInitializedData:p,updateCubeColors:xe,setupInteractivity:(g,c,s)=>{oe=s;let i=null,_=null;const O=(T,x=!0)=>{const A=[T,...T.children.filter(u=>u instanceof sr&&u.userData.isPortal)],N=x?25:2;A.forEach((u,h)=>{let a=-h*N;(T.position.y>0&&T.rotation.x===-Math.PI/2||T.position.y<0&&T.rotation.x===Math.PI/2)&&(a=h*N);const j=x?u.userData.maxOpacity:0;je.to(u.position,{z:a,duration:1,ease:"power3.out",delay:.5}),je.to(u.material,{opacity:j,duration:1,ease:"power3.out",delay:.5})})},y=T=>{L.x=T.clientX/window.innerWidth*2-1,L.y=-(T.clientY/window.innerHeight)*2+1,X.setFromCamera(L,g);const x=P.flatMap(N=>N.userData.isActive?N.children.filter(u=>u instanceof Be&&u.userData.isPortalHitbox):[]),A=X.intersectObjects(x);if(A.length>0){const u=A[0].object.userData.portal;if(ee!==u){if(ee){const a=ee.material;je.to(a.color,{r:(I>>16&255)/255,g:(I>>8&255)/255,b:(I&255)/255,duration:.5})}ee=u;const h=ee.material;je.to(h.color,{r:(v>>16&255)/255,g:(v>>8&255)/255,b:(v&255)/255,duration:.5})}c.style.cursor="pointer"}else{if(ee){const N=ee.material;je.to(N.color,{r:(I>>16&255)/255,g:(I>>8&255)/255,b:(I&255)/255,duration:.5}),ee=null}c.style.cursor="auto"}},R=T=>{L.x=T.clientX/window.innerWidth*2-1,L.y=-(T.clientY/window.innerHeight)*2+1,X.setFromCamera(L,g);const x=P.flatMap(q=>q.userData.isActive?q.children.filter(he=>he instanceof Be&&he.userData.isPortalHitbox):[]),A=X.intersectObjects(x);if(A.length===0)return;const N=A[0].object,u=N.userData.portal,h=N.parent,a=P.indexOf(h),j=n[a];if(K&&u===_){u.getWorldPosition(new Je);let q=new Je;const he=e.CUBE_SIZE/2;u.position.x===he?q.set(-1,0,0):u.position.x===-he?q.set(1,0,0):u.position.y===he?q.set(0,-1,0):u.position.y===-he&&q.set(0,1,0),q.applyQuaternion(h.getWorldQuaternion(new Vi)).normalize();const ve=g.position.clone().clone().add(q.clone().multiplyScalar(-675)),Te=q.clone().multiplyScalar(-1e3),le=ve.clone().add(Te);je.to(g.position,{x:ve.x,y:ve.y,z:ve.z,duration:1,ease:"power2.in",onUpdate:()=>g.lookAt(le),onComplete:()=>{j!=null&&j.slug&&(V.setScrollPosition(window.scrollY),Ei.visit(route("project.show",{project:j.slug}),{preserveScroll:!1}))}})}else if(!K){C||(C=g.position.clone(),J=new Je(0,0,k)),oe&&s(!0,C,J);const q=u.getWorldPosition(new Je);je.to(g.position,{x:0,y:0,z:h.getWorldPosition(new Je).z,duration:2,ease:"power3.out"}),je.to({},{duration:2,ease:"power3.out",onUpdate:function(){const he=this.progress(),Ce=g.getWorldDirection(new Je).multiplyScalar(1e3).add(g.position),ve=Ye.lerp(Ce.x,q.x,he),Te=Ye.lerp(Ce.y,q.y,he),le=Ye.lerp(Ce.z,q.z,he);g.lookAt(ve,Te,le)},onStart:()=>{K=!0,i=window.scrollY,document.body.classList.add("no-scrollbar"),_=u,O(u,!0)}})}},F=T=>{if(!K||!_||!C||!J)return;let x=0;if(T instanceof WheelEvent?x=T.deltaY:x=window.scrollY-(i||0),T.preventDefault(),T.stopPropagation(),x>0){window.scrollTo(0,i);return}if(x<0){const A=_,N=J.clone(),u=C.z;je.to(g.position,{x:C.x,y:C.y,z:u,duration:1,ease:"power3.out"}),je.to({},{duration:1,ease:"power3.out",onUpdate:function(){const h=this.progress(),a=g.getWorldDirection(new Je).multiplyScalar(1e3).add(g.position),j=Ye.lerp(a.x,N.x,h),q=Ye.lerp(a.y,N.y,h),he=Ye.lerp(a.z,N.z,h);g.lookAt(j,q,he)},onComplete:()=>{g.lookAt(N),K=!1,_=null,document.body.classList.remove("no-scrollbar"),oe&&s(!1),O(A,!1),i=null,C=null,J=null}})}};return c.addEventListener("mousemove",y),c.addEventListener("click",R),window.addEventListener("wheel",F,{passive:!1}),window.addEventListener("scroll",F,{passive:!1}),()=>{c.removeEventListener("mousemove",y),c.removeEventListener("click",R),window.removeEventListener("wheel",F),window.removeEventListener("scroll",F)}}}}je.registerPlugin(fe);function As(d,e,n,t,r,o,l={}){const{CUBE_SPACING:f,FIRST_CUBE_Z:w}=o,k=(t==null?void 0:t.length)||0,I=w-(k+1)*f;let S=!1;const v=Math.abs(I)+(k-1)*f,b=je.timeline({scrollTrigger:{trigger:n.value,start:"top top",end:`+=${v}`,scrub:l.scrub||.5,pin:!0,onUpdate:M=>{if(!S){const m=M.progress,H=Ye.lerp(0,I,m);e.position.set(0,0,H),e.lookAt(0,0,I)}r(e)}}});return b.fromTo(e.position,{z:0},{z:I,duration:1,ease:"none"}),{setReverting:M=>{S=M},timeline:b}}const ks={class:"preloader"},Rs={class:"progress-label"},Is=Nn({__name:"Preloader",props:{progress:{}},setup(d){return(e,n)=>(Jr(),Ln("div",ks,[cr("div",Rs,Ai(Math.round(e.progress))+"%",1)]))}}),Ds=Zo(Is,[["__scopeId","data-v-e5eadefa"]]),qn=250,bn=500,Lr=-500,Zn=-520,Go=-720,Os=Nn({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(d){je.registerPlugin(fe);const e=ei();e.isMobile=/iPhone|iPad|Android/i.test(navigator.userAgent);const n=d,t={showChasers:!1,showStarfield:!1,showCars:!1,showBuildings:!1,showPortalPulses:!1},r=Qt(null),o=Qt(null),l=Qt(!1),f=Qt(0),w=Qt(!1),k=Qt(!0),I=new Map;Qt(null);let S,v,b,D,M,m,H,Q,G=null,P=null,W=null,Y=null,z=null,U=[],X=null;const L=()=>{const V=r.value?r.value.getBoundingClientRect().width:window.innerWidth,B=window.innerHeight;b.setSize(V,B),D.setSize(V,B),v.aspect=V/B,v.far=6e4,v.updateProjectionMatrix()},ee=V=>I.has(V)?Promise.resolve(I.get(V)):new Promise((B,E)=>{new _r().load(V,p=>{p.encoding=void 0,I.set(V,p),B(p)},void 0,p=>E(p))}),C=async()=>{S=new jo,S.background=new ht(0),S.fog=new Xi(0,700,4e3),v=new qi(75,window.innerWidth/window.innerHeight,1,6e4),v.position.set(0,0,0),v.lookAt(0,0,1e3),b=new Vo({antialias:!0}),b.setPixelRatio(window.devicePixelRatio),b.toneMapping=Zi,b.toneMappingExposure=1,b.outputEncoding=void 0,D=new Ko(b);const V=new Jo(S,v);if(D.addPass(V),M=new hr(new ue(window.innerWidth,window.innerHeight),6,.4,0),M.renderToScreen=!0,e.isMobile||D.addPass(M),r.value)r.value.appendChild(b.domElement),b.domElement.style.opacity="0";else return;H=new Kr,H.dom.style.position="fixed",H.dom.style.top="0px",H.dom.style.left="0px",H.dom.style.zIndex="1000",document.body.appendChild(H.dom);const B=n.projects.length+2+1;let E=0;const te=()=>{E++,f.value=E/B*100,E===B&&(l.value=!0)};await ee(n.projectGridFile).then(()=>te()).catch(()=>te()),await ee(n.projectGridFile2).then(()=>te()).catch(()=>te());for(const xe of n.projects)xe.keyart?await ee(xe.keyart).then(()=>te()).catch(()=>te()):te();const p=Ho(S,{CUBE_SIZE:qn,CUBE_SPACING:bn,FIRST_CUBE_Z:Lr},n.projects,n.projectGridFile,n.projectGridFile2,t);let ye=-8500;try{const xe=await p.getInitializedData();ye=xe.maxZ!==void 0&&!isNaN(xe.maxZ)?xe.maxZ:-8500,te();const{introCubes:at}=Ss(S,S,Promise.resolve(xe.loadedFont),{CUBE_SIZE:qn,FIRST_CUBE_Z:Lr});U=[...at,...xe.projectCubes],X=xe.updateCubeColors,t.showCars,t.showStarfield,t.showChasers,L()}catch(xe){console.error("Error initializing project cubes:",xe)}};let J=0;const K=(V=0)=>{if(m=requestAnimationFrame(K),!(e.isMobile&&(J++,J%2===0))){if(b&&D){if(!e.isMobile){const B=Go-Zn;let E=0;v.position.z>=Zn?E=0:v.position.z<=Go?E=1:E=(v.position.z-Zn)/B,M.strength=Ye.lerp(1,.125,E)}w.value&&(X(v),fe.update()),D.render()}H.update()}};Uo(()=>{C().then(()=>{if(l.value){m=requestAnimationFrame(K);const V=Ho(S,{CUBE_SIZE:qn,CUBE_SPACING:bn,FIRST_CUBE_Z:Lr},n.projects,n.projectGridFile,n.projectGridFile2,t);let B=null;const E=V.getInitializedData().then(({projectCubes:p})=>{p.forEach(xe=>{xe.userData.isActive=!0});const ye=Lr-(n.projects.length-1)*bn;v.position.set(0,0,5e3),v.lookAt(0,0,ye),v.updateProjectionMatrix(),X(v),D.render(),U.length&&X&&(B=As(S,v,o,U,X,{CUBE_SPACING:bn,FIRST_CUBE_Z:Lr},{scrub:1}).setReverting),b&&P===null&&(P=V.setupInteractivity(v,b.domElement,xe=>{B&&B(xe)})),window.scrollTo({top:0,behavior:"auto"})}),te=()=>{E.then(()=>{k.value=!1,v.position.set(0,0,5e3),v.updateProjectionMatrix(),je.to(b.domElement,{opacity:1,duration:.5,ease:"power4.out"});const p={z:5e3};je.to(p,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{v.position.z=p.z,v.updateProjectionMatrix()},onComplete:()=>{v.position.z=0,w.value=!0}})})};je.delayedCall(.1,te)}}).catch(V=>{console.error("Initialization failed:",V)}),window.addEventListener("resize",oe)}),Wo(()=>{m&&cancelAnimationFrame(m),P&&P(),window.removeEventListener("resize",oe),fe.getAll().forEach(V=>V.kill()),b.dispose(),D.dispose(),S.clear(),document.body.removeChild(H.dom),z&&z()});const oe=()=>{L(),fe.refresh()};return(V,B)=>(Jr(),Ln("section",{ref_key:"wrapper",ref:o,class:"wrapper"},[ir(ki,{name:"fade"},{default:Ri(()=>[k.value?(Jr(),Ii(Ds,{key:0,progress:f.value},null,8,["progress"])):Di("",!0)]),_:1}),cr("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),Ns=Zo(Os,[["__scopeId","data-v-3fa3bc9c"]]),Ls={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},zs={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Fs={class:"overflow-hidden"},Bs={class:"flex justify-center items-center"},Hs={class:"flex justify-center items-center -mt-24 mix-blend-screen"},Zs=Nn({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(d){return(e,n)=>(Jr(),Ln(Li,null,[ir(Oi(Ni),{title:"Welcome"}),cr("div",Ls,[cr("nav",zs,[ir(Qi)]),cr("div",Fs,[ir(Ns,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),cr("div",Bs,[ir(_o,{"particle-width":20,"particle-height":20})]),cr("div",Hs,[ir(_o,{"particle-width":15,"particle-height":160})]),ir($i)])],64))}});export{Zs as default};
