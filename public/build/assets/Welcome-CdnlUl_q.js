import{I as ro,d as Xr,D as Ts,x as Ho,y as Go,e as oo,o as so,a as _n,b as dn,u as Cs,m as Ss,F as Ms}from"./app-CBCioy9j.js";import{M as ct,O as Yo,B as Ir,F as Un,C as bt,V as pe,W as pr,H as dr,U as Wr,S as tn,a as Le,A as Yt,b as Rt,N as Es,c as Ps,d as Xo,e as Wo,f as Mn,P as Vr,E as Is,g as Vo,h as Zo,i as gn,j as As,k as ks,l as Rs,m as Rr,n as Ds,o as Ht,p as nn,q as Os,D as gr,r as At,s as ut,t as yt,u as vr,v as wn,R as Ns,T as Ls,w as Bs,I as zs,x as Dr,y as Us,z as Fs,J as mo,K as Hs,Q as Gs,X as Ys,L as Xs,G as Ws}from"./GlobalFooter-BjrytE2B.js";import{_ as Vs}from"./_plugin-vue_export-helper-DlAUqK2U.js";class Kn{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Zs=new Yo(-1,1,1,-1,0,1);class qs extends Ir{constructor(){super(),this.setAttribute("position",new Un([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Un([0,2,0,0,2,0],2))}}const js=new qs;class qo{constructor(e){this._mesh=new ct(js,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Zs)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const jo={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},Qs={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new bt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class ln extends Kn{constructor(e,r,n,t){super(),this.strength=r!==void 0?r:1,this.radius=n,this.threshold=t,this.resolution=e!==void 0?new pe(e.x,e.y):new pe(256,256),this.clearColor=new bt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new pr(o,a,{type:dr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let S=0;S<this.nMips;S++){const P=new pr(o,a,{type:dr});P.texture.name="UnrealBloomPass.h"+S,P.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(P);const y=new pr(o,a,{type:dr});y.texture.name="UnrealBloomPass.v"+S,y.texture.generateMipmaps=!1,this.renderTargetsVertical.push(y),o=Math.round(o/2),a=Math.round(a/2)}const l=Qs;this.highPassUniforms=Wr.clone(l.uniforms),this.highPassUniforms.luminosityThreshold.value=t,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new tn({uniforms:this.highPassUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),this.separableBlurMaterials=[];const x=[3,5,7,9,11];o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let S=0;S<this.nMips;S++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(x[S])),this.separableBlurMaterials[S].uniforms.invSize.value=new pe(1/o,1/a),o=Math.round(o/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const M=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=M,this.bloomTintColors=[new Le(1,1,1),new Le(1,1,1),new Le(1,1,1),new Le(1,1,1),new Le(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const L=jo;this.copyUniforms=Wr.clone(L.uniforms),this.blendMaterial=new tn({uniforms:this.copyUniforms,vertexShader:L.vertexShader,fragmentShader:L.fragmentShader,blending:Yt,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new bt,this.oldClearAlpha=1,this.basic=new Rt,this.fsQuad=new qo(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let n=Math.round(e/2),t=Math.round(r/2);this.renderTargetBright.setSize(n,t);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(n,t),this.renderTargetsVertical[o].setSize(n,t),this.separableBlurMaterials[o].uniforms.invSize.value=new pe(1/n,1/t),n=Math.round(n/2),t=Math.round(t/2)}render(e,r,n,t,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const a=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let l=this.renderTargetBright;for(let x=0;x<this.nMips;x++)this.fsQuad.material=this.separableBlurMaterials[x],this.separableBlurMaterials[x].uniforms.colorTexture.value=l.texture,this.separableBlurMaterials[x].uniforms.direction.value=ln.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[x]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[x].uniforms.colorTexture.value=this.renderTargetsHorizontal[x].texture,this.separableBlurMaterials[x].uniforms.direction.value=ln.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[x]),e.clear(),this.fsQuad.render(e),l=this.renderTargetsVertical[x];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=a}getSeparableBlurMaterial(e){const r=[];for(let n=0;n<e;n++)r.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new tn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new pe(.5,.5)},direction:{value:new pe(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new tn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}ln.BlurDirectionX=new pe(1,0);ln.BlurDirectionY=new pe(0,1);class $s extends Kn{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof tn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Wr.clone(e.uniforms),this.material=new tn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new qo(this.material)}render(e,r,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class yo extends Kn{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,n){const t=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let a,l;this.inverse?(a=0,l=1):(a=1,l=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(t.REPLACE,t.REPLACE,t.REPLACE),o.buffers.stencil.setFunc(t.ALWAYS,a,4294967295),o.buffers.stencil.setClear(l),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(t.EQUAL,1,4294967295),o.buffers.stencil.setOp(t.KEEP,t.KEEP,t.KEEP),o.buffers.stencil.setLocked(!0)}}class Ks extends Kn{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Qo{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const n=e.getSize(new pe);this._width=n.width,this._height=n.height,r=new pr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:dr}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new $s(jo),this.copyPass.material.blending=Es,this.clock=new Ps}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let n=!1;for(let t=0,o=this.passes.length;t<o;t++){const a=this.passes[t];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(t),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),a.needsSwap){if(n){const l=this.renderer.getContext(),x=this.renderer.state.buffers.stencil;x.setFunc(l.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),x.setFunc(l.EQUAL,1,4294967295)}this.swapBuffers()}yo!==void 0&&(a instanceof yo?n=!0:a instanceof Ks&&(n=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new pe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const n=this._width*this._pixelRatio,t=this._height*this._pixelRatio;this.renderTarget1.setSize(n,t),this.renderTarget2.setSize(n,t);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(n,t)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class $o extends Kn{constructor(e,r,n=null,t=null,o=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=n,this.clearColor=t,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new bt}render(e,r,n){const t=e.autoClear;e.autoClear=!1;let o,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=t}}const Kt=.01,_o=45/3,Js=3,Or=45,xo=ro({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(h){const e=h,r=Xr(null);let n,t,o=null,a=null,l=null,x=[];const M=Ts({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),L=Or/2+10;function S(d){const F=Kt*M.particleWidth,W=Kt*M.particleHeight,R=M.useSquares?new Vr(F,W):new Mn(F,W,F),b=Math.floor(Math.random()*3);let N;switch(b){case 0:N=new bt(1,0,0);break;case 1:N=new bt(0,1,0);break;case 2:N=new bt(0,0,1);break;default:N=new bt(1,0,0)}const H=new Rt({color:N,transparent:!0,opacity:.7}),E=new ct(R,H),Y=Or+L*2;E.position.set(-45-L+d/(M.particleCount-1)*Y,0,Kt*(Math.random()-.5)*M.positionZRandomness*M.emitterDepth);const V=Kt*(Math.random()*(M.maxSpeed-M.minSpeed)+M.minSpeed);return E.speed=V+Kt*(Math.random()-.5)*M.speedRandomness,E.rotationSpeed=new Le(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*M.rotationRandomness+.5),E}function P(){n=new Xo;const d=Js*1.5,F=d*_o;t=new Yo(-67.5/2,F/2,d/2,-4.5/2,.1,1e3),t.position.z=150,o=new Wo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const W=new $o(n,t);l=new ln(new pe(window.innerWidth,window.innerHeight),M.bloomStrength,M.bloomRadius,.1),a=new Qo(o),a.addPass(W),a.addPass(l),I(),r.value&&r.value.appendChild(o.domElement),y(),C()}function y(){x.forEach(d=>n.remove(d)),x=[];for(let d=0;d<M.particleCount;d++){const F=S(d);x.push(F),n.add(F)}}function I(){if(!o||!a||!l)return;const d=window.innerWidth,F=d/_o;o.setSize(d,F),a.setSize(d,F),l.setSize(d,F),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function C(){requestAnimationFrame(C),x.forEach(d=>{d.position.x+=d.speed,!M.useSquares&&M.rotateParticles&&(d.rotation.x+=d.rotationSpeed.x*.016,d.rotation.y+=d.rotationSpeed.y*.016,d.rotation.z+=d.rotationSpeed.z*.016),d.position.x>Or/2+L&&(x.indexOf(d),d.position.x=-45-L-Kt*(d.geometry instanceof Mn,d.geometry.parameters.width),d.position.y=0,d.position.z=Kt*(Math.random()-.5)*M.positionZRandomness*M.emitterDepth)}),a&&a.render()}return Ho(()=>{P(),window.addEventListener("resize",I)}),Go(()=>{window.removeEventListener("resize",I),o==null||o.dispose()}),(d,F)=>(so(),oo("div",{ref_key:"container",ref:r,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}});function ei(h,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}function ti(h,e,r){return e&&ei(h.prototype,e),h}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var qe,mr,mt,Xt,Wt,Tn,Ko,Jt,Fn,Jo,Bt,Mt,es,ts=function(){return qe||typeof window<"u"&&(qe=window.gsap)&&qe.registerPlugin&&qe},ns=1,vn=[],_e=[],Ot=[],Hn=Date.now,Zr=function(e,r){return r},ni=function(){var e=Fn.core,r=e.bridge||{},n=e._scrollers,t=e._proxies;n.push.apply(n,_e),t.push.apply(t,Ot),_e=n,Ot=t,Zr=function(a,l){return r[a](l)}},Vt=function(e,r){return~Ot.indexOf(e)&&Ot[Ot.indexOf(e)+1][r]},Gn=function(e){return!!~Jo.indexOf(e)},rt=function(e,r,n,t,o){return e.addEventListener(r,n,{passive:t!==!1,capture:!!o})},nt=function(e,r,n,t){return e.removeEventListener(r,n,!!t)},tr="scrollLeft",nr="scrollTop",qr=function(){return Bt&&Bt.isPressed||_e.cache++},Tr=function(e,r){var n=function t(o){if(o||o===0){ns&&(mt.history.scrollRestoration="manual");var a=Bt&&Bt.isPressed;o=t.v=Math.round(o)||(Bt&&Bt.iOS?1:0),e(o),t.cacheID=_e.cache,a&&Zr("ss",o)}else(r||_e.cache!==t.cacheID||Zr("ref"))&&(t.cacheID=_e.cache,t.v=e());return t.v+t.offset};return n.offset=0,e&&n},at={s:tr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Tr(function(h){return arguments.length?mt.scrollTo(h,He.sc()):mt.pageXOffset||Xt[tr]||Wt[tr]||Tn[tr]||0})},He={s:nr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:at,sc:Tr(function(h){return arguments.length?mt.scrollTo(at.sc(),h):mt.pageYOffset||Xt[nr]||Wt[nr]||Tn[nr]||0})},lt=function(e,r){return(r&&r._ctx&&r._ctx.selector||qe.utils.toArray)(e)[0]||(typeof e=="string"&&qe.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Zt=function(e,r){var n=r.s,t=r.sc;Gn(e)&&(e=Xt.scrollingElement||Wt);var o=_e.indexOf(e),a=t===He.sc?1:2;!~o&&(o=_e.push(e)-1),_e[o+a]||rt(e,"scroll",qr);var l=_e[o+a],x=l||(_e[o+a]=Tr(Vt(e,n),!0)||(Gn(e)?t:Tr(function(M){return arguments.length?e[n]=M:e[n]})));return x.target=e,l||(x.smooth=qe.getProperty(e,"scrollBehavior")==="smooth"),x},jr=function(e,r,n){var t=e,o=e,a=Hn(),l=a,x=r||50,M=Math.max(500,x*3),L=function(I,C){var d=Hn();C||d-a>x?(o=t,t=I,l=a,a=d):n?t+=I:t=o+(I-o)/(d-l)*(a-l)},S=function(){o=t=n?0:t,l=a=0},P=function(I){var C=l,d=o,F=Hn();return(I||I===0)&&I!==t&&L(I),a===l||F-l>M?0:(t+(n?d:-d))/((n?F:a)-C)*1e3};return{update:L,reset:S,getVelocity:P}},Rn=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},bo=function(e){var r=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(n)?r:n},rs=function(){Fn=qe.core.globals().ScrollTrigger,Fn&&Fn.core&&ni()},os=function(e){return qe=e||ts(),!mr&&qe&&typeof document<"u"&&document.body&&(mt=window,Xt=document,Wt=Xt.documentElement,Tn=Xt.body,Jo=[mt,Xt,Wt,Tn],qe.utils.clamp,es=qe.core.context||function(){},Jt="onpointerenter"in Tn?"pointer":"mouse",Ko=Be.isTouch=mt.matchMedia&&mt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in mt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Mt=Be.eventTypes=("ontouchstart"in Wt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Wt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ns=0},500),rs(),mr=1),mr};at.op=He;_e.cache=0;var Be=function(){function h(r){this.init(r)}var e=h.prototype;return e.init=function(n){mr||os(qe)||console.warn("Please gsap.registerPlugin(Observer)"),Fn||rs();var t=n.tolerance,o=n.dragMinimum,a=n.type,l=n.target,x=n.lineHeight,M=n.debounce,L=n.preventDefault,S=n.onStop,P=n.onStopDelay,y=n.ignore,I=n.wheelSpeed,C=n.event,d=n.onDragStart,F=n.onDragEnd,W=n.onDrag,R=n.onPress,b=n.onRelease,N=n.onRight,H=n.onLeft,E=n.onUp,Y=n.onDown,V=n.onChangeX,D=n.onChangeY,re=n.onChange,A=n.onToggleX,te=n.onToggleY,$=n.onHover,Z=n.onHoverEnd,U=n.onMove,O=n.ignoreCheck,w=n.isNormalizer,J=n.onGestureStart,f=n.onGestureEnd,ne=n.onWheel,se=n.onEnable,le=n.onDisable,g=n.onClick,u=n.scrollSpeed,i=n.capture,s=n.allowClicks,v=n.lockAxis,z=n.onLockAxis;this.target=l=lt(l)||Wt,this.vars=n,y&&(y=qe.utils.toArray(y)),t=t||1e-9,o=o||0,I=I||1,u=u||1,a=a||"wheel,touch,pointer",M=M!==!1,x||(x=parseFloat(mt.getComputedStyle(Tn).lineHeight)||22);var _,B,X,k,T,G,q,p=this,m=0,c=0,K=n.passive||!L&&n.passive!==!1,j=Zt(l,at),we=Zt(l,He),ve=j(),ae=we(),ce=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Mt[0]==="pointerdown",ke=Gn(l),me=l.ownerDocument||Xt,Pe=[0,0,0],Se=[0,0,0],Re=0,je=function(){return Re=Hn()},Me=function(ie,Te){return(p.event=ie)&&y&&~y.indexOf(ie.target)||Te&&ce&&ie.pointerType!=="touch"||O&&O(ie,Te)},ft=function(){p._vx.reset(),p._vy.reset(),B.pause(),S&&S(p)},We=function(){var ie=p.deltaX=bo(Pe),Te=p.deltaY=bo(Se),Q=Math.abs(ie)>=t,ue=Math.abs(Te)>=t;re&&(Q||ue)&&re(p,ie,Te,Pe,Se),Q&&(N&&p.deltaX>0&&N(p),H&&p.deltaX<0&&H(p),V&&V(p),A&&p.deltaX<0!=m<0&&A(p),m=p.deltaX,Pe[0]=Pe[1]=Pe[2]=0),ue&&(Y&&p.deltaY>0&&Y(p),E&&p.deltaY<0&&E(p),D&&D(p),te&&p.deltaY<0!=c<0&&te(p),c=p.deltaY,Se[0]=Se[1]=Se[2]=0),(k||X)&&(U&&U(p),X&&(d&&X===1&&d(p),W&&W(p),X=0),k=!1),G&&!(G=!1)&&z&&z(p),T&&(ne(p),T=!1),_=0},Ut=function(ie,Te,Q){Pe[Q]+=ie,Se[Q]+=Te,p._vx.update(ie),p._vy.update(Te),M?_||(_=requestAnimationFrame(We)):We()},hn=function(ie,Te){v&&!q&&(p.axis=q=Math.abs(ie)>Math.abs(Te)?"x":"y",G=!0),q!=="y"&&(Pe[2]+=ie,p._vx.update(ie,!0)),q!=="x"&&(Se[2]+=Te,p._vy.update(Te,!0)),M?_||(_=requestAnimationFrame(We)):We()},Ft=function(ie){if(!Me(ie,1)){ie=Rn(ie,L);var Te=ie.clientX,Q=ie.clientY,ue=Te-p.x,oe=Q-p.y,fe=p.isDragging;p.x=Te,p.y=Q,(fe||(ue||oe)&&(Math.abs(p.startX-Te)>=o||Math.abs(p.startY-Q)>=o))&&(X=fe?2:1,fe||(p.isDragging=!0),hn(ue,oe))}},qt=p.onPress=function(he){Me(he,1)||he&&he.button||(p.axis=q=null,B.pause(),p.isPressed=!0,he=Rn(he),m=c=0,p.startX=p.x=he.clientX,p.startY=p.y=he.clientY,p._vx.reset(),p._vy.reset(),rt(w?l:me,Mt[1],Ft,K,!0),p.deltaX=p.deltaY=0,R&&R(p))},xe=p.onRelease=function(he){if(!Me(he,1)){nt(w?l:me,Mt[1],Ft,!0);var ie=!isNaN(p.y-p.startY),Te=p.isDragging,Q=Te&&(Math.abs(p.x-p.startX)>3||Math.abs(p.y-p.startY)>3),ue=Rn(he);!Q&&ie&&(p._vx.reset(),p._vy.reset(),L&&s&&qe.delayedCall(.08,function(){if(Hn()-Re>300&&!he.defaultPrevented){if(he.target.click)he.target.click();else if(me.createEvent){var oe=me.createEvent("MouseEvents");oe.initMouseEvent("click",!0,!0,mt,1,ue.screenX,ue.screenY,ue.clientX,ue.clientY,!1,!1,!1,!1,0,null),he.target.dispatchEvent(oe)}}})),p.isDragging=p.isGesturing=p.isPressed=!1,S&&Te&&!w&&B.restart(!0),X&&We(),F&&Te&&F(p),b&&b(p,Q)}},jt=function(ie){return ie.touches&&ie.touches.length>1&&(p.isGesturing=!0)&&J(ie,p.isDragging)},vt=function(){return(p.isGesturing=!1)||f(p)},Tt=function(ie){if(!Me(ie)){var Te=j(),Q=we();Ut((Te-ve)*u,(Q-ae)*u,1),ve=Te,ae=Q,S&&B.restart(!0)}},Ct=function(ie){if(!Me(ie)){ie=Rn(ie,L),ne&&(T=!0);var Te=(ie.deltaMode===1?x:ie.deltaMode===2?mt.innerHeight:1)*I;Ut(ie.deltaX*Te,ie.deltaY*Te,0),S&&!w&&B.restart(!0)}},Qt=function(ie){if(!Me(ie)){var Te=ie.clientX,Q=ie.clientY,ue=Te-p.x,oe=Q-p.y;p.x=Te,p.y=Q,k=!0,S&&B.restart(!0),(ue||oe)&&hn(ue,oe)}},pn=function(ie){p.event=ie,$(p)},Nt=function(ie){p.event=ie,Z(p)},Pn=function(ie){return Me(ie)||Rn(ie,L)&&g(p)};B=p._dc=qe.delayedCall(P||.25,ft).pause(),p.deltaX=p.deltaY=0,p._vx=jr(0,50,!0),p._vy=jr(0,50,!0),p.scrollX=j,p.scrollY=we,p.isDragging=p.isGesturing=p.isPressed=!1,es(this),p.enable=function(he){return p.isEnabled||(rt(ke?me:l,"scroll",qr),a.indexOf("scroll")>=0&&rt(ke?me:l,"scroll",Tt,K,i),a.indexOf("wheel")>=0&&rt(l,"wheel",Ct,K,i),(a.indexOf("touch")>=0&&Ko||a.indexOf("pointer")>=0)&&(rt(l,Mt[0],qt,K,i),rt(me,Mt[2],xe),rt(me,Mt[3],xe),s&&rt(l,"click",je,!0,!0),g&&rt(l,"click",Pn),J&&rt(me,"gesturestart",jt),f&&rt(me,"gestureend",vt),$&&rt(l,Jt+"enter",pn),Z&&rt(l,Jt+"leave",Nt),U&&rt(l,Jt+"move",Qt)),p.isEnabled=!0,p.isDragging=p.isGesturing=p.isPressed=k=X=!1,p._vx.reset(),p._vy.reset(),ve=j(),ae=we(),he&&he.type&&qt(he),se&&se(p)),p},p.disable=function(){p.isEnabled&&(vn.filter(function(he){return he!==p&&Gn(he.target)}).length||nt(ke?me:l,"scroll",qr),p.isPressed&&(p._vx.reset(),p._vy.reset(),nt(w?l:me,Mt[1],Ft,!0)),nt(ke?me:l,"scroll",Tt,i),nt(l,"wheel",Ct,i),nt(l,Mt[0],qt,i),nt(me,Mt[2],xe),nt(me,Mt[3],xe),nt(l,"click",je,!0),nt(l,"click",Pn),nt(me,"gesturestart",jt),nt(me,"gestureend",vt),nt(l,Jt+"enter",pn),nt(l,Jt+"leave",Nt),nt(l,Jt+"move",Qt),p.isEnabled=p.isPressed=p.isDragging=!1,le&&le(p))},p.kill=p.revert=function(){p.disable();var he=vn.indexOf(p);he>=0&&vn.splice(he,1),Bt===p&&(Bt=0)},vn.push(p),w&&Gn(l)&&(Bt=p),p.enable(C)},ti(h,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),h}();Be.version="3.12.7";Be.create=function(h){return new Be(h)};Be.register=os;Be.getAll=function(){return vn.slice()};Be.getById=function(h){return vn.filter(function(e){return e.vars.id===h})[0]};ts()&&qe.registerPlugin(Be);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ee,xn,ye,Ie,gt,Ce,io,Cr,Qn,Yn,On,rr,Je,Ar,Qr,st,wo,vo,bn,ss,Nr,is,ot,$r,as,ls,Gt,Kr,ao,Cn,lo,Sr,Jr,Lr,or=1,et=Date.now,Br=et(),wt=0,Nn=0,To=function(e,r,n){var t=dt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+r+"Clamp"]=t,t?e.substr(6,e.length-7):e},Co=function(e,r){return r&&(!dt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},ri=function h(){return Nn&&requestAnimationFrame(h)},So=function(){return Ar=1},Mo=function(){return Ar=0},kt=function(e){return e},Ln=function(e){return Math.round(e*1e5)/1e5||0},cs=function(){return typeof window<"u"},us=function(){return ee||cs()&&(ee=window.gsap)&&ee.registerPlugin&&ee},cn=function(e){return!!~io.indexOf(e)},fs=function(e){return(e==="Height"?lo:ye["inner"+e])||gt["client"+e]||Ce["client"+e]},hs=function(e){return Vt(e,"getBoundingClientRect")||(cn(e)?function(){return wr.width=ye.innerWidth,wr.height=lo,wr}:function(){return Lt(e)})},oi=function(e,r,n){var t=n.d,o=n.d2,a=n.a;return(a=Vt(e,"getBoundingClientRect"))?function(){return a()[t]}:function(){return(r?fs(o):e["client"+o])||0}},si=function(e,r){return!r||~Ot.indexOf(e)?hs(e):function(){return wr}},Dt=function(e,r){var n=r.s,t=r.d2,o=r.d,a=r.a;return Math.max(0,(n="scroll"+t)&&(a=Vt(e,n))?a()-hs(e)()[o]:cn(e)?(gt[n]||Ce[n])-fs(t):e[n]-e["offset"+t])},sr=function(e,r){for(var n=0;n<bn.length;n+=3)(!r||~r.indexOf(bn[n+1]))&&e(bn[n],bn[n+1],bn[n+2])},dt=function(e){return typeof e=="string"},tt=function(e){return typeof e=="function"},Bn=function(e){return typeof e=="number"},en=function(e){return typeof e=="object"},Dn=function(e,r,n){return e&&e.progress(r?0:1)&&n&&e.pause()},zr=function(e,r){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return r(e)}):r(e);n&&n.totalTime&&(e.callbackAnimation=n)}},mn=Math.abs,ps="left",ds="top",co="right",uo="bottom",on="width",sn="height",Xn="Right",Wn="Left",Vn="Top",Zn="Bottom",ze="padding",_t="margin",En="Width",fo="Height",Fe="px",xt=function(e){return ye.getComputedStyle(e)},ii=function(e){var r=xt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Eo=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Lt=function(e,r){var n=r&&xt(e)[Qr]!=="matrix(1, 0, 0, 1, 0, 0)"&&ee.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),t=e.getBoundingClientRect();return n&&n.progress(0).kill(),t},Mr=function(e,r){var n=r.d2;return e["offset"+n]||e["client"+n]||0},gs=function(e){var r=[],n=e.labels,t=e.duration(),o;for(o in n)r.push(n[o]/t);return r},ai=function(e){return function(r){return ee.utils.snap(gs(e),r)}},ho=function(e){var r=ee.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(t,o){return t-o});return n?function(t,o,a){a===void 0&&(a=.001);var l;if(!o)return r(t);if(o>0){for(t-=a,l=0;l<n.length;l++)if(n[l]>=t)return n[l];return n[l-1]}else for(l=n.length,t+=a;l--;)if(n[l]<=t)return n[l];return n[0]}:function(t,o,a){a===void 0&&(a=.001);var l=r(t);return!o||Math.abs(l-t)<a||l-t<0==o<0?l:r(o<0?t-e:t+e)}},li=function(e){return function(r,n){return ho(gs(e))(r,n.direction)}},ir=function(e,r,n,t){return n.split(",").forEach(function(o){return e(r,o,t)})},Xe=function(e,r,n,t,o){return e.addEventListener(r,n,{passive:!t,capture:!!o})},Ye=function(e,r,n,t){return e.removeEventListener(r,n,!!t)},ar=function(e,r,n){n=n&&n.wheelHandler,n&&(e(r,"wheel",n),e(r,"touchmove",n))},Po={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},lr={toggleActions:"play",anticipatePin:0},Er={top:0,left:0,center:.5,bottom:1,right:1},yr=function(e,r){if(dt(e)){var n=e.indexOf("="),t=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(t*=r/100),e=e.substr(0,n-1)),e=t+(e in Er?Er[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},cr=function(e,r,n,t,o,a,l,x){var M=o.startColor,L=o.endColor,S=o.fontSize,P=o.indent,y=o.fontWeight,I=Ie.createElement("div"),C=cn(n)||Vt(n,"pinType")==="fixed",d=e.indexOf("scroller")!==-1,F=C?Ce:n,W=e.indexOf("start")!==-1,R=W?M:L,b="border-color:"+R+";font-size:"+S+";color:"+R+";font-weight:"+y+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((d||x)&&C?"fixed;":"absolute;"),(d||x||!C)&&(b+=(t===He?co:uo)+":"+(a+parseFloat(P))+"px;"),l&&(b+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),I._isStart=W,I.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),I.style.cssText=b,I.innerText=r||r===0?e+"-"+r:e,F.children[0]?F.insertBefore(I,F.children[0]):F.appendChild(I),I._offset=I["offset"+t.op.d2],_r(I,0,t,W),I},_r=function(e,r,n,t){var o={display:"block"},a=n[t?"os2":"p2"],l=n[t?"p2":"os2"];e._isFlipped=t,o[n.a+"Percent"]=t?-100:0,o[n.a]=t?"1px":0,o["border"+a+En]=1,o["border"+l+En]=0,o[n.p]=r+"px",ee.set(e,o)},ge=[],eo={},$n,Io=function(){return et()-wt>34&&($n||($n=requestAnimationFrame(zt)))},yn=function(){(!ot||!ot.isPressed||ot.startX>Ce.clientWidth)&&(_e.cache++,ot?$n||($n=requestAnimationFrame(zt)):zt(),wt||fn("scrollStart"),wt=et())},Ur=function(){ls=ye.innerWidth,as=ye.innerHeight},zn=function(e){_e.cache++,(e===!0||!Je&&!is&&!Ie.fullscreenElement&&!Ie.webkitFullscreenElement&&(!$r||ls!==ye.innerWidth||Math.abs(ye.innerHeight-as)>ye.innerHeight*.25))&&Cr.restart(!0)},un={},ci=[],ms=function h(){return Ye(de,"scrollEnd",h)||rn(!0)},fn=function(e){return un[e]&&un[e].map(function(r){return r()})||ci},pt=[],ys=function(e){for(var r=0;r<pt.length;r+=5)(!e||pt[r+4]&&pt[r+4].query===e)&&(pt[r].style.cssText=pt[r+1],pt[r].getBBox&&pt[r].setAttribute("transform",pt[r+2]||""),pt[r+3].uncache=1)},po=function(e,r){var n;for(st=0;st<ge.length;st++)n=ge[st],n&&(!r||n._ctx===r)&&(e?n.kill(1):n.revert(!0,!0));Sr=!0,r&&ys(r),r||fn("revert")},_s=function(e,r){_e.cache++,(r||!it)&&_e.forEach(function(n){return tt(n)&&n.cacheID++&&(n.rec=0)}),dt(e)&&(ye.history.scrollRestoration=ao=e)},it,an=0,Ao,ui=function(){if(Ao!==an){var e=Ao=an;requestAnimationFrame(function(){return e===an&&rn(!0)})}},xs=function(){Ce.appendChild(Cn),lo=!ot&&Cn.offsetHeight||ye.innerHeight,Ce.removeChild(Cn)},ko=function(e){return Qn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},rn=function(e,r){if(gt=Ie.documentElement,Ce=Ie.body,io=[ye,Ie,gt,Ce],wt&&!e&&!Sr){Xe(de,"scrollEnd",ms);return}xs(),it=de.isRefreshing=!0,_e.forEach(function(t){return tt(t)&&++t.cacheID&&(t.rec=t())});var n=fn("refreshInit");ss&&de.sort(),r||po(),_e.forEach(function(t){tt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))}),ge.slice(0).forEach(function(t){return t.refresh()}),Sr=!1,ge.forEach(function(t){if(t._subPinOffset&&t.pin){var o=t.vars.horizontal?"offsetWidth":"offsetHeight",a=t.pin[o];t.revert(!0,1),t.adjustPinSpacing(t.pin[o]-a),t.refresh()}}),Jr=1,ko(!0),ge.forEach(function(t){var o=Dt(t.scroller,t._dir),a=t.vars.end==="max"||t._endClamp&&t.end>o,l=t._startClamp&&t.start>=o;(a||l)&&t.setPositions(l?o-1:t.start,a?Math.max(l?o:t.start+1,o):t.end,!0)}),ko(!1),Jr=0,n.forEach(function(t){return t&&t.render&&t.render(-1)}),_e.forEach(function(t){tt(t)&&(t.smooth&&requestAnimationFrame(function(){return t.target.style.scrollBehavior="smooth"}),t.rec&&t(t.rec))}),_s(ao,1),Cr.pause(),an++,it=2,zt(2),ge.forEach(function(t){return tt(t.vars.onRefresh)&&t.vars.onRefresh(t)}),it=de.isRefreshing=!1,fn("refresh")},to=0,xr=1,qn,zt=function(e){if(e===2||!it&&!Sr){de.isUpdating=!0,qn&&qn.update(0);var r=ge.length,n=et(),t=n-Br>=50,o=r&&ge[0].scroll();if(xr=to>o?-1:1,it||(to=o),t&&(wt&&!Ar&&n-wt>200&&(wt=0,fn("scrollEnd")),On=Br,Br=n),xr<0){for(st=r;st-- >0;)ge[st]&&ge[st].update(0,t);xr=1}else for(st=0;st<r;st++)ge[st]&&ge[st].update(0,t);de.isUpdating=!1}$n=0},no=[ps,ds,uo,co,_t+Zn,_t+Xn,_t+Vn,_t+Wn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],br=no.concat([on,sn,"boxSizing","max"+En,"max"+fo,"position",_t,ze,ze+Vn,ze+Xn,ze+Zn,ze+Wn]),fi=function(e,r,n){Sn(n);var t=e._gsap;if(t.spacerIsNative)Sn(t.spacerState);else if(e._gsap.swappedIn){var o=r.parentNode;o&&(o.insertBefore(e,r),o.removeChild(r))}e._gsap.swappedIn=!1},Fr=function(e,r,n,t){if(!e._gsap.swappedIn){for(var o=no.length,a=r.style,l=e.style,x;o--;)x=no[o],a[x]=n[x];a.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(a.display="inline-block"),l[uo]=l[co]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[on]=Mr(e,at)+Fe,a[sn]=Mr(e,He)+Fe,a[ze]=l[_t]=l[ds]=l[ps]="0",Sn(t),l[on]=l["max"+En]=n[on],l[sn]=l["max"+fo]=n[sn],l[ze]=n[ze],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},hi=/([A-Z])/g,Sn=function(e){if(e){var r=e.t.style,n=e.length,t=0,o,a;for((e.t._gsap||ee.core.getCache(e.t)).uncache=1;t<n;t+=2)a=e[t+1],o=e[t],a?r[o]=a:r[o]&&r.removeProperty(o.replace(hi,"-$1").toLowerCase())}},ur=function(e){for(var r=br.length,n=e.style,t=[],o=0;o<r;o++)t.push(br[o],n[br[o]]);return t.t=e,t},pi=function(e,r,n){for(var t=[],o=e.length,a=n?8:0,l;a<o;a+=2)l=e[a],t.push(l,l in r?r[l]:e[a+1]);return t.t=e.t,t},wr={left:0,top:0},Ro=function(e,r,n,t,o,a,l,x,M,L,S,P,y,I){tt(e)&&(e=e(x)),dt(e)&&e.substr(0,3)==="max"&&(e=P+(e.charAt(4)==="="?yr("0"+e.substr(3),n):0));var C=y?y.time():0,d,F,W;if(y&&y.seek(0),isNaN(e)||(e=+e),Bn(e))y&&(e=ee.utils.mapRange(y.scrollTrigger.start,y.scrollTrigger.end,0,P,e)),l&&_r(l,n,t,!0);else{tt(r)&&(r=r(x));var R=(e||"0").split(" "),b,N,H,E;W=lt(r,x)||Ce,b=Lt(W)||{},(!b||!b.left&&!b.top)&&xt(W).display==="none"&&(E=W.style.display,W.style.display="block",b=Lt(W),E?W.style.display=E:W.style.removeProperty("display")),N=yr(R[0],b[t.d]),H=yr(R[1]||"0",n),e=b[t.p]-M[t.p]-L+N+o-H,l&&_r(l,H,t,n-H<20||l._isStart&&H>20),n-=n-H}if(I&&(x[I]=e||-.001,e<0&&(e=0)),a){var Y=e+n,V=a._isStart;d="scroll"+t.d2,_r(a,Y,t,V&&Y>20||!V&&(S?Math.max(Ce[d],gt[d]):a.parentNode[d])<=Y+1),S&&(M=Lt(l),S&&(a.style[t.op.p]=M[t.op.p]-t.op.m-a._offset+Fe))}return y&&W&&(d=Lt(W),y.seek(P),F=Lt(W),y._caScrollDist=d[t.p]-F[t.p],e=e/y._caScrollDist*P),y&&y.seek(C),y?e:Math.round(e)},di=/(webkit|moz|length|cssText|inset)/i,Do=function(e,r,n,t){if(e.parentNode!==r){var o=e.style,a,l;if(r===Ce){e._stOrig=o.cssText,l=xt(e);for(a in l)!+a&&!di.test(a)&&l[a]&&typeof o[a]=="string"&&a!=="0"&&(o[a]=l[a]);o.top=n,o.left=t}else o.cssText=e._stOrig;ee.core.getCache(e).uncache=1,r.appendChild(e)}},bs=function(e,r,n){var t=r,o=t;return function(a){var l=Math.round(e());return l!==t&&l!==o&&Math.abs(l-t)>3&&Math.abs(l-o)>3&&(a=l,n&&n()),o=t,t=Math.round(a),t}},fr=function(e,r,n){var t={};t[r.p]="+="+n,ee.set(e,t)},Oo=function(e,r){var n=Zt(e,r),t="_scroll"+r.p2,o=function a(l,x,M,L,S){var P=a.tween,y=x.onComplete,I={};M=M||n();var C=bs(n,M,function(){P.kill(),a.tween=0});return S=L&&S||0,L=L||l-M,P&&P.kill(),x[t]=l,x.inherit=!1,x.modifiers=I,I[t]=function(){return C(M+L*P.ratio+S*P.ratio*P.ratio)},x.onUpdate=function(){_e.cache++,a.tween&&zt()},x.onComplete=function(){a.tween=0,y&&y.call(P)},P=a.tween=ee.to(e,x),P};return e[t]=n,n.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Xe(e,"wheel",n.wheelHandler),de.isTouch&&Xe(e,"touchmove",n.wheelHandler),o},de=function(){function h(r,n){xn||h.register(ee)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Kr(this),this.init(r,n)}var e=h.prototype;return e.init=function(n,t){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Nn){this.update=this.refresh=this.kill=kt;return}n=Eo(dt(n)||Bn(n)||n.nodeType?{trigger:n}:n,lr);var o=n,a=o.onUpdate,l=o.toggleClass,x=o.id,M=o.onToggle,L=o.onRefresh,S=o.scrub,P=o.trigger,y=o.pin,I=o.pinSpacing,C=o.invalidateOnRefresh,d=o.anticipatePin,F=o.onScrubComplete,W=o.onSnapComplete,R=o.once,b=o.snap,N=o.pinReparent,H=o.pinSpacer,E=o.containerAnimation,Y=o.fastScrollEnd,V=o.preventOverlaps,D=n.horizontal||n.containerAnimation&&n.horizontal!==!1?at:He,re=!S&&S!==0,A=lt(n.scroller||ye),te=ee.core.getCache(A),$=cn(A),Z=("pinType"in n?n.pinType:Vt(A,"pinType")||$&&"fixed")==="fixed",U=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],O=re&&n.toggleActions.split(" "),w="markers"in n?n.markers:lr.markers,J=$?0:parseFloat(xt(A)["border"+D.p2+En])||0,f=this,ne=n.onRefreshInit&&function(){return n.onRefreshInit(f)},se=oi(A,$,D),le=si(A,$),g=0,u=0,i=0,s=Zt(A,D),v,z,_,B,X,k,T,G,q,p,m,c,K,j,we,ve,ae,ce,ke,me,Pe,Se,Re,je,Me,ft,We,Ut,hn,Ft,qt,xe,jt,vt,Tt,Ct,Qt,pn,Nt;if(f._startClamp=f._endClamp=!1,f._dir=D,d*=45,f.scroller=A,f.scroll=E?E.time.bind(E):s,B=s(),f.vars=n,t=t||n.animation,"refreshPriority"in n&&(ss=1,n.refreshPriority===-9999&&(qn=f)),te.tweenScroll=te.tweenScroll||{top:Oo(A,He),left:Oo(A,at)},f.tweenTo=v=te.tweenScroll[D.p],f.scrubDuration=function(Q){jt=Bn(Q)&&Q,jt?xe?xe.duration(Q):xe=ee.to(t,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:jt,paused:!0,onComplete:function(){return F&&F(f)}}):(xe&&xe.progress(1).kill(),xe=0)},t&&(t.vars.lazy=!1,t._initted&&!f.isReverted||t.vars.immediateRender!==!1&&n.immediateRender!==!1&&t.duration()&&t.render(0,!0,!0),f.animation=t.pause(),t.scrollTrigger=f,f.scrubDuration(S),Ft=0,x||(x=t.vars.id)),b&&((!en(b)||b.push)&&(b={snapTo:b}),"scrollBehavior"in Ce.style&&ee.set($?[Ce,gt]:A,{scrollBehavior:"auto"}),_e.forEach(function(Q){return tt(Q)&&Q.target===($?Ie.scrollingElement||gt:A)&&(Q.smooth=!1)}),_=tt(b.snapTo)?b.snapTo:b.snapTo==="labels"?ai(t):b.snapTo==="labelsDirectional"?li(t):b.directional!==!1?function(Q,ue){return ho(b.snapTo)(Q,et()-u<500?0:ue.direction)}:ee.utils.snap(b.snapTo),vt=b.duration||{min:.1,max:2},vt=en(vt)?Yn(vt.min,vt.max):Yn(vt,vt),Tt=ee.delayedCall(b.delay||jt/2||.1,function(){var Q=s(),ue=et()-u<500,oe=v.tween;if((ue||Math.abs(f.getVelocity())<10)&&!oe&&!Ar&&g!==Q){var fe=(Q-k)/j,Ge=t&&!re?t.totalProgress():fe,be=ue?0:(Ge-qt)/(et()-On)*1e3||0,Ne=ee.utils.clamp(-fe,1-fe,mn(be/2)*be/.185),Qe=fe+(b.inertia===!1?0:Ne),Oe,Ae,Ee=b,St=Ee.onStart,De=Ee.onInterrupt,ht=Ee.onComplete;if(Oe=_(Qe,f),Bn(Oe)||(Oe=Qe),Ae=Math.max(0,Math.round(k+Oe*j)),Q<=T&&Q>=k&&Ae!==Q){if(oe&&!oe._initted&&oe.data<=mn(Ae-Q))return;b.inertia===!1&&(Ne=Oe-fe),v(Ae,{duration:vt(mn(Math.max(mn(Qe-Ge),mn(Oe-Ge))*.185/be/.05||0)),ease:b.ease||"power3",data:mn(Ae-Q),onInterrupt:function(){return Tt.restart(!0)&&De&&De(f)},onComplete:function(){f.update(),g=s(),t&&!re&&(xe?xe.resetTo("totalProgress",Oe,t._tTime/t._tDur):t.progress(Oe)),Ft=qt=t&&!re?t.totalProgress():f.progress,W&&W(f),ht&&ht(f)}},Q,Ne*j,Ae-Q-Ne*j),St&&St(f,v.tween)}}else f.isActive&&g!==Q&&Tt.restart(!0)}).pause()),x&&(eo[x]=f),P=f.trigger=lt(P||y!==!0&&y),Nt=P&&P._gsap&&P._gsap.stRevert,Nt&&(Nt=Nt(f)),y=y===!0?P:lt(y),dt(l)&&(l={targets:P,className:l}),y&&(I===!1||I===_t||(I=!I&&y.parentNode&&y.parentNode.style&&xt(y.parentNode).display==="flex"?!1:ze),f.pin=y,z=ee.core.getCache(y),z.spacer?we=z.pinState:(H&&(H=lt(H),H&&!H.nodeType&&(H=H.current||H.nativeElement),z.spacerIsNative=!!H,H&&(z.spacerState=ur(H))),z.spacer=ce=H||Ie.createElement("div"),ce.classList.add("pin-spacer"),x&&ce.classList.add("pin-spacer-"+x),z.pinState=we=ur(y)),n.force3D!==!1&&ee.set(y,{force3D:!0}),f.spacer=ce=z.spacer,hn=xt(y),je=hn[I+D.os2],me=ee.getProperty(y),Pe=ee.quickSetter(y,D.a,Fe),Fr(y,ce,hn),ae=ur(y)),w){c=en(w)?Eo(w,Po):Po,p=cr("scroller-start",x,A,D,c,0),m=cr("scroller-end",x,A,D,c,0,p),ke=p["offset"+D.op.d2];var Pn=lt(Vt(A,"content")||A);G=this.markerStart=cr("start",x,Pn,D,c,ke,0,E),q=this.markerEnd=cr("end",x,Pn,D,c,ke,0,E),E&&(pn=ee.quickSetter([G,q],D.a,Fe)),!Z&&!(Ot.length&&Vt(A,"fixedMarkers")===!0)&&(ii($?Ce:A),ee.set([p,m],{force3D:!0}),ft=ee.quickSetter(p,D.a,Fe),Ut=ee.quickSetter(m,D.a,Fe))}if(E){var he=E.vars.onUpdate,ie=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){f.update(0,0,1),he&&he.apply(E,ie||[])})}if(f.previous=function(){return ge[ge.indexOf(f)-1]},f.next=function(){return ge[ge.indexOf(f)+1]},f.revert=function(Q,ue){if(!ue)return f.kill(!0);var oe=Q!==!1||!f.enabled,fe=Je;oe!==f.isReverted&&(oe&&(Ct=Math.max(s(),f.scroll.rec||0),i=f.progress,Qt=t&&t.progress()),G&&[G,q,p,m].forEach(function(Ge){return Ge.style.display=oe?"none":"block"}),oe&&(Je=f,f.update(oe)),y&&(!N||!f.isActive)&&(oe?fi(y,ce,we):Fr(y,ce,xt(y),Me)),oe||f.update(oe),Je=fe,f.isReverted=oe)},f.refresh=function(Q,ue,oe,fe){if(!((Je||!f.enabled)&&!ue)){if(y&&Q&&wt){Xe(h,"scrollEnd",ms);return}!it&&ne&&ne(f),Je=f,v.tween&&!oe&&(v.tween.kill(),v.tween=0),xe&&xe.pause(),C&&t&&t.revert({kill:!1}).invalidate(),f.isReverted||f.revert(!0,!0),f._subPinOffset=!1;var Ge=se(),be=le(),Ne=E?E.duration():Dt(A,D),Qe=j<=.01,Oe=0,Ae=fe||0,Ee=en(oe)?oe.end:n.end,St=n.endTrigger||P,De=en(oe)?oe.start:n.start||(n.start===0||!P?0:y?"0 0":"0 100%"),ht=f.pinnedContainer=n.pinnedContainer&&lt(n.pinnedContainer,f),Et=P&&Math.max(0,ge.indexOf(f))||0,Ve=Et,Ze,$e,$t,Jn,Ke,Ue,Pt,kr,go,In,It,An,er;for(w&&en(oe)&&(An=ee.getProperty(p,D.p),er=ee.getProperty(m,D.p));Ve-- >0;)Ue=ge[Ve],Ue.end||Ue.refresh(0,1)||(Je=f),Pt=Ue.pin,Pt&&(Pt===P||Pt===y||Pt===ht)&&!Ue.isReverted&&(In||(In=[]),In.unshift(Ue),Ue.revert(!0,!0)),Ue!==ge[Ve]&&(Et--,Ve--);for(tt(De)&&(De=De(f)),De=To(De,"start",f),k=Ro(De,P,Ge,D,s(),G,p,f,be,J,Z,Ne,E,f._startClamp&&"_startClamp")||(y?-.001:0),tt(Ee)&&(Ee=Ee(f)),dt(Ee)&&!Ee.indexOf("+=")&&(~Ee.indexOf(" ")?Ee=(dt(De)?De.split(" ")[0]:"")+Ee:(Oe=yr(Ee.substr(2),Ge),Ee=dt(De)?De:(E?ee.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,k):k)+Oe,St=P)),Ee=To(Ee,"end",f),T=Math.max(k,Ro(Ee||(St?"100% 0":Ne),St,Ge,D,s()+Oe,q,m,f,be,J,Z,Ne,E,f._endClamp&&"_endClamp"))||-.001,Oe=0,Ve=Et;Ve--;)Ue=ge[Ve],Pt=Ue.pin,Pt&&Ue.start-Ue._pinPush<=k&&!E&&Ue.end>0&&(Ze=Ue.end-(f._startClamp?Math.max(0,Ue.start):Ue.start),(Pt===P&&Ue.start-Ue._pinPush<k||Pt===ht)&&isNaN(De)&&(Oe+=Ze*(1-Ue.progress)),Pt===y&&(Ae+=Ze));if(k+=Oe,T+=Oe,f._startClamp&&(f._startClamp+=Oe),f._endClamp&&!it&&(f._endClamp=T||-.001,T=Math.min(T,Dt(A,D))),j=T-k||(k-=.01)&&.001,Qe&&(i=ee.utils.clamp(0,1,ee.utils.normalize(k,T,Ct))),f._pinPush=Ae,G&&Oe&&(Ze={},Ze[D.a]="+="+Oe,ht&&(Ze[D.p]="-="+s()),ee.set([G,q],Ze)),y&&!(Jr&&f.end>=Dt(A,D)))Ze=xt(y),Jn=D===He,$t=s(),Se=parseFloat(me(D.a))+Ae,!Ne&&T>1&&(It=($?Ie.scrollingElement||gt:A).style,It={style:It,value:It["overflow"+D.a.toUpperCase()]},$&&xt(Ce)["overflow"+D.a.toUpperCase()]!=="scroll"&&(It.style["overflow"+D.a.toUpperCase()]="scroll")),Fr(y,ce,Ze),ae=ur(y),$e=Lt(y,!0),kr=Z&&Zt(A,Jn?at:He)(),I?(Me=[I+D.os2,j+Ae+Fe],Me.t=ce,Ve=I===ze?Mr(y,D)+j+Ae:0,Ve&&(Me.push(D.d,Ve+Fe),ce.style.flexBasis!=="auto"&&(ce.style.flexBasis=Ve+Fe)),Sn(Me),ht&&ge.forEach(function(kn){kn.pin===ht&&kn.vars.pinSpacing!==!1&&(kn._subPinOffset=!0)}),Z&&s(Ct)):(Ve=Mr(y,D),Ve&&ce.style.flexBasis!=="auto"&&(ce.style.flexBasis=Ve+Fe)),Z&&(Ke={top:$e.top+(Jn?$t-k:kr)+Fe,left:$e.left+(Jn?kr:$t-k)+Fe,boxSizing:"border-box",position:"fixed"},Ke[on]=Ke["max"+En]=Math.ceil($e.width)+Fe,Ke[sn]=Ke["max"+fo]=Math.ceil($e.height)+Fe,Ke[_t]=Ke[_t+Vn]=Ke[_t+Xn]=Ke[_t+Zn]=Ke[_t+Wn]="0",Ke[ze]=Ze[ze],Ke[ze+Vn]=Ze[ze+Vn],Ke[ze+Xn]=Ze[ze+Xn],Ke[ze+Zn]=Ze[ze+Zn],Ke[ze+Wn]=Ze[ze+Wn],ve=pi(we,Ke,N),it&&s(0)),t?(go=t._initted,Nr(1),t.render(t.duration(),!0,!0),Re=me(D.a)-Se+j+Ae,We=Math.abs(j-Re)>1,Z&&We&&ve.splice(ve.length-2,2),t.render(0,!0,!0),go||t.invalidate(!0),t.parent||t.totalTime(t.totalTime()),Nr(0)):Re=j,It&&(It.value?It.style["overflow"+D.a.toUpperCase()]=It.value:It.style.removeProperty("overflow-"+D.a));else if(P&&s()&&!E)for($e=P.parentNode;$e&&$e!==Ce;)$e._pinOffset&&(k-=$e._pinOffset,T-=$e._pinOffset),$e=$e.parentNode;In&&In.forEach(function(kn){return kn.revert(!1,!0)}),f.start=k,f.end=T,B=X=it?Ct:s(),!E&&!it&&(B<Ct&&s(Ct),f.scroll.rec=0),f.revert(!1,!0),u=et(),Tt&&(g=-1,Tt.restart(!0)),Je=0,t&&re&&(t._initted||Qt)&&t.progress()!==Qt&&t.progress(Qt||0,!0).render(t.time(),!0,!0),(Qe||i!==f.progress||E||C||t&&!t._initted)&&(t&&!re&&t.totalProgress(E&&k<-.001&&!i?ee.utils.normalize(k,T,0):i,!0),f.progress=Qe||(B-k)/j===i?0:i),y&&I&&(ce._pinOffset=Math.round(f.progress*Re)),xe&&xe.invalidate(),isNaN(An)||(An-=ee.getProperty(p,D.p),er-=ee.getProperty(m,D.p),fr(p,D,An),fr(G,D,An-(fe||0)),fr(m,D,er),fr(q,D,er-(fe||0))),Qe&&!it&&f.update(),L&&!it&&!K&&(K=!0,L(f),K=!1)}},f.getVelocity=function(){return(s()-X)/(et()-On)*1e3||0},f.endAnimation=function(){Dn(f.callbackAnimation),t&&(xe?xe.progress(1):t.paused()?re||Dn(t,f.direction<0,1):Dn(t,t.reversed()))},f.labelToScroll=function(Q){return t&&t.labels&&(k||f.refresh()||k)+t.labels[Q]/t.duration()*j||0},f.getTrailing=function(Q){var ue=ge.indexOf(f),oe=f.direction>0?ge.slice(0,ue).reverse():ge.slice(ue+1);return(dt(Q)?oe.filter(function(fe){return fe.vars.preventOverlaps===Q}):oe).filter(function(fe){return f.direction>0?fe.end<=k:fe.start>=T})},f.update=function(Q,ue,oe){if(!(E&&!oe&&!Q)){var fe=it===!0?Ct:f.scroll(),Ge=Q?0:(fe-k)/j,be=Ge<0?0:Ge>1?1:Ge||0,Ne=f.progress,Qe,Oe,Ae,Ee,St,De,ht,Et;if(ue&&(X=B,B=E?s():fe,b&&(qt=Ft,Ft=t&&!re?t.totalProgress():be)),d&&y&&!Je&&!or&&wt&&(!be&&k<fe+(fe-X)/(et()-On)*d?be=1e-4:be===1&&T>fe+(fe-X)/(et()-On)*d&&(be=.9999)),be!==Ne&&f.enabled){if(Qe=f.isActive=!!be&&be<1,Oe=!!Ne&&Ne<1,De=Qe!==Oe,St=De||!!be!=!!Ne,f.direction=be>Ne?1:-1,f.progress=be,St&&!Je&&(Ae=be&&!Ne?0:be===1?1:Ne===1?2:3,re&&(Ee=!De&&O[Ae+1]!=="none"&&O[Ae+1]||O[Ae],Et=t&&(Ee==="complete"||Ee==="reset"||Ee in t))),V&&(De||Et)&&(Et||S||!t)&&(tt(V)?V(f):f.getTrailing(V).forEach(function($t){return $t.endAnimation()})),re||(xe&&!Je&&!or?(xe._dp._time-xe._start!==xe._time&&xe.render(xe._dp._time-xe._start),xe.resetTo?xe.resetTo("totalProgress",be,t._tTime/t._tDur):(xe.vars.totalProgress=be,xe.invalidate().restart())):t&&t.totalProgress(be,!!(Je&&(u||Q)))),y){if(Q&&I&&(ce.style[I+D.os2]=je),!Z)Pe(Ln(Se+Re*be));else if(St){if(ht=!Q&&be>Ne&&T+1>fe&&fe+1>=Dt(A,D),N)if(!Q&&(Qe||ht)){var Ve=Lt(y,!0),Ze=fe-k;Do(y,Ce,Ve.top+(D===He?Ze:0)+Fe,Ve.left+(D===He?0:Ze)+Fe)}else Do(y,ce);Sn(Qe||ht?ve:ae),We&&be<1&&Qe||Pe(Se+(be===1&&!ht?Re:0))}}b&&!v.tween&&!Je&&!or&&Tt.restart(!0),l&&(De||R&&be&&(be<1||!Lr))&&Qn(l.targets).forEach(function($t){return $t.classList[Qe||R?"add":"remove"](l.className)}),a&&!re&&!Q&&a(f),St&&!Je?(re&&(Et&&(Ee==="complete"?t.pause().totalProgress(1):Ee==="reset"?t.restart(!0).pause():Ee==="restart"?t.restart(!0):t[Ee]()),a&&a(f)),(De||!Lr)&&(M&&De&&zr(f,M),U[Ae]&&zr(f,U[Ae]),R&&(be===1?f.kill(!1,1):U[Ae]=0),De||(Ae=be===1?1:3,U[Ae]&&zr(f,U[Ae]))),Y&&!Qe&&Math.abs(f.getVelocity())>(Bn(Y)?Y:2500)&&(Dn(f.callbackAnimation),xe?xe.progress(1):Dn(t,Ee==="reverse"?1:!be,1))):re&&a&&!Je&&a(f)}if(Ut){var $e=E?fe/E.duration()*(E._caScrollDist||0):fe;ft($e+(p._isFlipped?1:0)),Ut($e)}pn&&pn(-fe/E.duration()*(E._caScrollDist||0))}},f.enable=function(Q,ue){f.enabled||(f.enabled=!0,Xe(A,"resize",zn),$||Xe(A,"scroll",yn),ne&&Xe(h,"refreshInit",ne),Q!==!1&&(f.progress=i=0,B=X=g=s()),ue!==!1&&f.refresh())},f.getTween=function(Q){return Q&&v?v.tween:xe},f.setPositions=function(Q,ue,oe,fe){if(E){var Ge=E.scrollTrigger,be=E.duration(),Ne=Ge.end-Ge.start;Q=Ge.start+Ne*Q/be,ue=Ge.start+Ne*ue/be}f.refresh(!1,!1,{start:Co(Q,oe&&!!f._startClamp),end:Co(ue,oe&&!!f._endClamp)},fe),f.update()},f.adjustPinSpacing=function(Q){if(Me&&Q){var ue=Me.indexOf(D.d)+1;Me[ue]=parseFloat(Me[ue])+Q+Fe,Me[1]=parseFloat(Me[1])+Q+Fe,Sn(Me)}},f.disable=function(Q,ue){if(f.enabled&&(Q!==!1&&f.revert(!0,!0),f.enabled=f.isActive=!1,ue||xe&&xe.pause(),Ct=0,z&&(z.uncache=1),ne&&Ye(h,"refreshInit",ne),Tt&&(Tt.pause(),v.tween&&v.tween.kill()&&(v.tween=0)),!$)){for(var oe=ge.length;oe--;)if(ge[oe].scroller===A&&ge[oe]!==f)return;Ye(A,"resize",zn),$||Ye(A,"scroll",yn)}},f.kill=function(Q,ue){f.disable(Q,ue),xe&&!ue&&xe.kill(),x&&delete eo[x];var oe=ge.indexOf(f);oe>=0&&ge.splice(oe,1),oe===st&&xr>0&&st--,oe=0,ge.forEach(function(fe){return fe.scroller===f.scroller&&(oe=1)}),oe||it||(f.scroll.rec=0),t&&(t.scrollTrigger=null,Q&&t.revert({kill:!1}),ue||t.kill()),G&&[G,q,p,m].forEach(function(fe){return fe.parentNode&&fe.parentNode.removeChild(fe)}),qn===f&&(qn=0),y&&(z&&(z.uncache=1),oe=0,ge.forEach(function(fe){return fe.pin===y&&oe++}),oe||(z.spacer=0)),n.onKill&&n.onKill(f)},ge.push(f),f.enable(!1,!1),Nt&&Nt(f),t&&t.add&&!j){var Te=f.update;f.update=function(){f.update=Te,_e.cache++,k||T||f.refresh()},ee.delayedCall(.01,f.update),j=.01,k=T=0}else f.refresh();y&&ui()},h.register=function(n){return xn||(ee=n||us(),cs()&&window.document&&h.enable(),xn=Nn),xn},h.defaults=function(n){if(n)for(var t in n)lr[t]=n[t];return lr},h.disable=function(n,t){Nn=0,ge.forEach(function(a){return a[t?"kill":"disable"](n)}),Ye(ye,"wheel",yn),Ye(Ie,"scroll",yn),clearInterval(rr),Ye(Ie,"touchcancel",kt),Ye(Ce,"touchstart",kt),ir(Ye,Ie,"pointerdown,touchstart,mousedown",So),ir(Ye,Ie,"pointerup,touchend,mouseup",Mo),Cr.kill(),sr(Ye);for(var o=0;o<_e.length;o+=3)ar(Ye,_e[o],_e[o+1]),ar(Ye,_e[o],_e[o+2])},h.enable=function(){if(ye=window,Ie=document,gt=Ie.documentElement,Ce=Ie.body,ee&&(Qn=ee.utils.toArray,Yn=ee.utils.clamp,Kr=ee.core.context||kt,Nr=ee.core.suppressOverwrites||kt,ao=ye.history.scrollRestoration||"auto",to=ye.pageYOffset||0,ee.core.globals("ScrollTrigger",h),Ce)){Nn=1,Cn=document.createElement("div"),Cn.style.height="100vh",Cn.style.position="absolute",xs(),ri(),Be.register(ee),h.isTouch=Be.isTouch,Gt=Be.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),$r=Be.isTouch===1,Xe(ye,"wheel",yn),io=[ye,Ie,gt,Ce],ee.matchMedia?(h.matchMedia=function(M){var L=ee.matchMedia(),S;for(S in M)L.add(S,M[S]);return L},ee.addEventListener("matchMediaInit",function(){return po()}),ee.addEventListener("matchMediaRevert",function(){return ys()}),ee.addEventListener("matchMedia",function(){rn(0,1),fn("matchMedia")}),ee.matchMedia().add("(orientation: portrait)",function(){return Ur(),Ur})):console.warn("Requires GSAP 3.11.0 or later"),Ur(),Xe(Ie,"scroll",yn);var n=Ce.hasAttribute("style"),t=Ce.style,o=t.borderTopStyle,a=ee.core.Animation.prototype,l,x;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),t.borderTopStyle="solid",l=Lt(Ce),He.m=Math.round(l.top+He.sc())||0,at.m=Math.round(l.left+at.sc())||0,o?t.borderTopStyle=o:t.removeProperty("border-top-style"),n||(Ce.setAttribute("style",""),Ce.removeAttribute("style")),rr=setInterval(Io,250),ee.delayedCall(.5,function(){return or=0}),Xe(Ie,"touchcancel",kt),Xe(Ce,"touchstart",kt),ir(Xe,Ie,"pointerdown,touchstart,mousedown",So),ir(Xe,Ie,"pointerup,touchend,mouseup",Mo),Qr=ee.utils.checkPrefix("transform"),br.push(Qr),xn=et(),Cr=ee.delayedCall(.2,rn).pause(),bn=[Ie,"visibilitychange",function(){var M=ye.innerWidth,L=ye.innerHeight;Ie.hidden?(wo=M,vo=L):(wo!==M||vo!==L)&&zn()},Ie,"DOMContentLoaded",rn,ye,"load",rn,ye,"resize",zn],sr(Xe),ge.forEach(function(M){return M.enable(0,1)}),x=0;x<_e.length;x+=3)ar(Ye,_e[x],_e[x+1]),ar(Ye,_e[x],_e[x+2])}},h.config=function(n){"limitCallbacks"in n&&(Lr=!!n.limitCallbacks);var t=n.syncInterval;t&&clearInterval(rr)||(rr=t)&&setInterval(Io,t),"ignoreMobileResize"in n&&($r=h.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(sr(Ye)||sr(Xe,n.autoRefreshEvents||"none"),is=(n.autoRefreshEvents+"").indexOf("resize")===-1)},h.scrollerProxy=function(n,t){var o=lt(n),a=_e.indexOf(o),l=cn(o);~a&&_e.splice(a,l?6:2),t&&(l?Ot.unshift(ye,t,Ce,t,gt,t):Ot.unshift(o,t))},h.clearMatchMedia=function(n){ge.forEach(function(t){return t._ctx&&t._ctx.query===n&&t._ctx.kill(!0,!0)})},h.isInViewport=function(n,t,o){var a=(dt(n)?lt(n):n).getBoundingClientRect(),l=a[o?on:sn]*t||0;return o?a.right-l>0&&a.left+l<ye.innerWidth:a.bottom-l>0&&a.top+l<ye.innerHeight},h.positionInViewport=function(n,t,o){dt(n)&&(n=lt(n));var a=n.getBoundingClientRect(),l=a[o?on:sn],x=t==null?l/2:t in Er?Er[t]*l:~t.indexOf("%")?parseFloat(t)*l/100:parseFloat(t)||0;return o?(a.left+x)/ye.innerWidth:(a.top+x)/ye.innerHeight},h.killAll=function(n){if(ge.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),n!==!0){var t=un.killAll||[];un={},t.forEach(function(o){return o()})}},h}();de.version="3.12.7";de.saveStyles=function(h){return h?Qn(h).forEach(function(e){if(e&&e.style){var r=pt.indexOf(e);r>=0&&pt.splice(r,5),pt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ee.core.getCache(e),Kr())}}):pt};de.revert=function(h,e){return po(!h,e)};de.create=function(h,e){return new de(h,e)};de.refresh=function(h){return h?zn(!0):(xn||de.register())&&rn(!0)};de.update=function(h){return++_e.cache&&zt(h===!0?2:0)};de.clearScrollMemory=_s;de.maxScroll=function(h,e){return Dt(h,e?at:He)};de.getScrollFunc=function(h,e){return Zt(lt(h),e?at:He)};de.getById=function(h){return eo[h]};de.getAll=function(){return ge.filter(function(h){return h.vars.id!=="ScrollSmoother"})};de.isScrolling=function(){return!!wt};de.snapDirectional=ho;de.addEventListener=function(h,e){var r=un[h]||(un[h]=[]);~r.indexOf(e)||r.push(e)};de.removeEventListener=function(h,e){var r=un[h],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)};de.batch=function(h,e){var r=[],n={},t=e.interval||.016,o=e.batchMax||1e9,a=function(M,L){var S=[],P=[],y=ee.delayedCall(t,function(){L(S,P),S=[],P=[]}).pause();return function(I){S.length||y.restart(!0),S.push(I.trigger),P.push(I),o<=S.length&&y.progress(1)}},l;for(l in e)n[l]=l.substr(0,2)==="on"&&tt(e[l])&&l!=="onRefreshInit"?a(l,e[l]):e[l];return tt(o)&&(o=o(),Xe(de,"refresh",function(){return o=e.batchMax()})),Qn(h).forEach(function(x){var M={};for(l in n)M[l]=n[l];M.trigger=x,r.push(de.create(M))}),r};var No=function(e,r,n,t){return r>t?e(t):r<0&&e(0),n>t?(t-r)/(n-r):n<0?r/(r-n):1},Hr=function h(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Be.isTouch?" pinch-zoom":""):"none",e===gt&&h(Ce,r)},hr={auto:1,scroll:1},gi=function(e){var r=e.event,n=e.target,t=e.axis,o=(r.changedTouches?r.changedTouches[0]:r).target,a=o._gsap||ee.core.getCache(o),l=et(),x;if(!a._isScrollT||l-a._isScrollT>2e3){for(;o&&o!==Ce&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(hr[(x=xt(o)).overflowY]||hr[x.overflowX]));)o=o.parentNode;a._isScroll=o&&o!==n&&!cn(o)&&(hr[(x=xt(o)).overflowY]||hr[x.overflowX]),a._isScrollT=l}(a._isScroll||t==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},ws=function(e,r,n,t){return Be.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:t=t&&gi,onPress:t,onDrag:t,onScroll:t,onEnable:function(){return n&&Xe(Ie,Be.eventTypes[0],Bo,!1,!0)},onDisable:function(){return Ye(Ie,Be.eventTypes[0],Bo,!0)}})},mi=/(input|label|select|textarea)/i,Lo,Bo=function(e){var r=mi.test(e.target.tagName);(r||Lo)&&(e._gsapAllow=!0,Lo=r)},yi=function(e){en(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,n=r.normalizeScrollX,t=r.momentum,o=r.allowNestedScroll,a=r.onRelease,l,x,M=lt(e.target)||gt,L=ee.core.globals().ScrollSmoother,S=L&&L.get(),P=Gt&&(e.content&&lt(e.content)||S&&e.content!==!1&&!S.smooth()&&S.content()),y=Zt(M,He),I=Zt(M,at),C=1,d=(Be.isTouch&&ye.visualViewport?ye.visualViewport.scale*ye.visualViewport.width:ye.outerWidth)/ye.innerWidth,F=0,W=tt(t)?function(){return t(l)}:function(){return t||2.8},R,b,N=ws(M,e.type,!0,o),H=function(){return b=!1},E=kt,Y=kt,V=function(){x=Dt(M,He),Y=Yn(Gt?1:0,x),n&&(E=Yn(0,Dt(M,at))),R=an},D=function(){P._gsap.y=Ln(parseFloat(P._gsap.y)+y.offset)+"px",P.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(P._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},re=function(){if(b){requestAnimationFrame(H);var w=Ln(l.deltaY/2),J=Y(y.v-w);if(P&&J!==y.v+y.offset){y.offset=J-y.v;var f=Ln((parseFloat(P&&P._gsap.y)||0)-y.offset);P.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+f+", 0, 1)",P._gsap.y=f+"px",y.cacheID=_e.cache,zt()}return!0}y.offset&&D(),b=!0},A,te,$,Z,U=function(){V(),A.isActive()&&A.vars.scrollY>x&&(y()>x?A.progress(1)&&y(x):A.resetTo("scrollY",x))};return P&&ee.set(P,{y:"+=0"}),e.ignoreCheck=function(O){return Gt&&O.type==="touchmove"&&re()||C>1.05&&O.type!=="touchstart"||l.isGesturing||O.touches&&O.touches.length>1},e.onPress=function(){b=!1;var O=C;C=Ln((ye.visualViewport&&ye.visualViewport.scale||1)/d),A.pause(),O!==C&&Hr(M,C>1.01?!0:n?!1:"x"),te=I(),$=y(),V(),R=an},e.onRelease=e.onGestureStart=function(O,w){if(y.offset&&D(),!w)Z.restart(!0);else{_e.cache++;var J=W(),f,ne;n&&(f=I(),ne=f+J*.05*-O.velocityX/.227,J*=No(I,f,ne,Dt(M,at)),A.vars.scrollX=E(ne)),f=y(),ne=f+J*.05*-O.velocityY/.227,J*=No(y,f,ne,Dt(M,He)),A.vars.scrollY=Y(ne),A.invalidate().duration(J).play(.01),(Gt&&A.vars.scrollY>=x||f>=x-1)&&ee.to({},{onUpdate:U,duration:J})}a&&a(O)},e.onWheel=function(){A._ts&&A.pause(),et()-F>1e3&&(R=0,F=et())},e.onChange=function(O,w,J,f,ne){if(an!==R&&V(),w&&n&&I(E(f[2]===w?te+(O.startX-O.x):I()+w-f[1])),J){y.offset&&D();var se=ne[2]===J,le=se?$+O.startY-O.y:y()+J-ne[1],g=Y(le);se&&le!==g&&($+=g-le),y(g)}(J||w)&&zt()},e.onEnable=function(){Hr(M,n?!1:"x"),de.addEventListener("refresh",U),Xe(ye,"resize",U),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=I.smooth=!1),N.enable()},e.onDisable=function(){Hr(M,!0),Ye(ye,"resize",U),de.removeEventListener("refresh",U),N.kill()},e.lockAxis=e.lockAxis!==!1,l=new Be(e),l.iOS=Gt,Gt&&!y()&&y(1),Gt&&ee.ticker.add(kt),Z=l._dc,A=ee.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:bs(y,y(),function(){return A.pause()})},onUpdate:zt,onComplete:Z.vars.onComplete}),l};de.sort=function(h){if(tt(h))return ge.sort(h);var e=ye.pageYOffset||0;return de.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+ye.innerHeight}),ge.sort(h||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};de.observe=function(h){return new Be(h)};de.normalizeScroll=function(h){if(typeof h>"u")return ot;if(h===!0&&ot)return ot.enable();if(h===!1){ot&&ot.kill(),ot=h;return}var e=h instanceof Be?h:yi(h);return ot&&ot.target===e.target&&ot.kill(),cn(e.target)&&(ot=e),e};de.core={_getVelocityProp:jr,_inputObserver:ws,_scrollers:_e,_proxies:Ot,bridge:{ss:function(){wt||fn("scrollStart"),wt=et()},ref:function(){return Je}}};us()&&ee.registerPlugin(de);var jn=function(){var h=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(L){L.preventDefault(),n(++h%e.children.length)},!1);function r(L){return e.appendChild(L.dom),L}function n(L){for(var S=0;S<e.children.length;S++)e.children[S].style.display=S===L?"block":"none";h=L}var t=(performance||Date).now(),o=t,a=0,l=r(new jn.Panel("FPS","#0ff","#002")),x=r(new jn.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var M=r(new jn.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:r,showPanel:n,begin:function(){t=(performance||Date).now()},end:function(){a++;var L=(performance||Date).now();if(x.update(L-t,200),L>=o+1e3&&(l.update(a*1e3/(L-o),100),o=L,a=0,M)){var S=performance.memory;M.update(S.usedJSHeapSize/1048576,S.jsHeapSizeLimit/1048576)}return L},update:function(){t=this.end()},domElement:e,setMode:n}};jn.Panel=function(h,e,r){var n=1/0,t=0,o=Math.round,a=o(window.devicePixelRatio||1),l=80*a,x=48*a,M=3*a,L=2*a,S=3*a,P=15*a,y=74*a,I=30*a,C=document.createElement("canvas");C.width=l,C.height=x,C.style.cssText="width:80px;height:48px";var d=C.getContext("2d");return d.font="bold "+9*a+"px Helvetica,Arial,sans-serif",d.textBaseline="top",d.fillStyle=r,d.fillRect(0,0,l,x),d.fillStyle=e,d.fillText(h,M,L),d.fillRect(S,P,y,I),d.fillStyle=r,d.globalAlpha=.9,d.fillRect(S,P,y,I),{dom:C,update:function(F,W){n=Math.min(n,F),t=Math.max(t,F),d.fillStyle=r,d.globalAlpha=1,d.fillRect(0,0,l,P),d.fillStyle=e,d.fillText(o(F)+" "+h+" ("+o(n)+"-"+o(t)+")",M,L),d.drawImage(C,S+a,P,y-a,I,S,P,y-a,I),d.fillRect(S+y-a,P,a,I),d.fillStyle=r,d.globalAlpha=.9,d.fillRect(S+y-a,P,a,o((1-F/W)*I))}}};class vs extends Is{constructor(e,r={}){const n=r.font;if(n===void 0)super();else{const t=n.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(t,r)}this.type="TextGeometry"}}const _i=Ds;class Pr extends Vo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,r,n,t){const o=this,a=new Zo(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{r(o.parse(l))}catch(x){t?t(x):console.error(x),o.manager.itemError(e)}},n,t)}parse(e){const r=this;function n(g,u){if(g.nodeType!==1)return;const i=b(g);let s=!1,v=null;switch(g.nodeName){case"svg":u=I(g,u);break;case"style":o(g);break;case"g":u=I(g,u);break;case"path":u=I(g,u),g.hasAttribute("d")&&(v=t(g));break;case"rect":u=I(g,u),v=x(g);break;case"polygon":u=I(g,u),v=M(g);break;case"polyline":u=I(g,u),v=L(g);break;case"circle":u=I(g,u),v=S(g);break;case"ellipse":u=I(g,u),v=P(g);break;case"line":u=I(g,u),v=y(g);break;case"defs":s=!0;break;case"use":u=I(g,u);const B=(g.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),X=g.viewportElement.getElementById(B);X?n(X,u):console.warn("SVGLoader: 'use node' references non-existent node id: "+B);break}v&&(u.fill!==void 0&&u.fill!=="none"&&v.color.setStyle(u.fill,_i),H(v,ne),A.push(v),v.userData={node:g,style:u});const z=g.childNodes;for(let _=0;_<z.length;_++){const B=z[_];s&&B.nodeName!=="style"&&B.nodeName!=="defs"||n(B,u)}i&&($.pop(),$.length>0?ne.copy($[$.length-1]):ne.identity())}function t(g){const u=new Ht,i=new pe,s=new pe,v=new pe;let z=!0,_=!1;const B=g.getAttribute("d");if(B===""||B==="none")return null;const X=B.match(/[a-df-z][^a-df-z]*/ig);for(let k=0,T=X.length;k<T;k++){const G=X[k],q=G.charAt(0),p=G.slice(1).trim();z===!0&&(_=!0,z=!1);let m;switch(q){case"M":m=d(p);for(let c=0,K=m.length;c<K;c+=2)i.x=m[c+0],i.y=m[c+1],s.x=i.x,s.y=i.y,c===0?u.moveTo(i.x,i.y):u.lineTo(i.x,i.y),c===0&&v.copy(i);break;case"H":m=d(p);for(let c=0,K=m.length;c<K;c++)i.x=m[c],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),c===0&&_===!0&&v.copy(i);break;case"V":m=d(p);for(let c=0,K=m.length;c<K;c++)i.y=m[c],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),c===0&&_===!0&&v.copy(i);break;case"L":m=d(p);for(let c=0,K=m.length;c<K;c+=2)i.x=m[c+0],i.y=m[c+1],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),c===0&&_===!0&&v.copy(i);break;case"C":m=d(p);for(let c=0,K=m.length;c<K;c+=6)u.bezierCurveTo(m[c+0],m[c+1],m[c+2],m[c+3],m[c+4],m[c+5]),s.x=m[c+2],s.y=m[c+3],i.x=m[c+4],i.y=m[c+5],c===0&&_===!0&&v.copy(i);break;case"S":m=d(p);for(let c=0,K=m.length;c<K;c+=4)u.bezierCurveTo(C(i.x,s.x),C(i.y,s.y),m[c+0],m[c+1],m[c+2],m[c+3]),s.x=m[c+0],s.y=m[c+1],i.x=m[c+2],i.y=m[c+3],c===0&&_===!0&&v.copy(i);break;case"Q":m=d(p);for(let c=0,K=m.length;c<K;c+=4)u.quadraticCurveTo(m[c+0],m[c+1],m[c+2],m[c+3]),s.x=m[c+0],s.y=m[c+1],i.x=m[c+2],i.y=m[c+3],c===0&&_===!0&&v.copy(i);break;case"T":m=d(p);for(let c=0,K=m.length;c<K;c+=2){const j=C(i.x,s.x),we=C(i.y,s.y);u.quadraticCurveTo(j,we,m[c+0],m[c+1]),s.x=j,s.y=we,i.x=m[c+0],i.y=m[c+1],c===0&&_===!0&&v.copy(i)}break;case"A":m=d(p,[3,4],7);for(let c=0,K=m.length;c<K;c+=7){if(m[c+5]==i.x&&m[c+6]==i.y)continue;const j=i.clone();i.x=m[c+5],i.y=m[c+6],s.x=i.x,s.y=i.y,a(u,m[c],m[c+1],m[c+2],m[c+3],m[c+4],j,i),c===0&&_===!0&&v.copy(i)}break;case"m":m=d(p);for(let c=0,K=m.length;c<K;c+=2)i.x+=m[c+0],i.y+=m[c+1],s.x=i.x,s.y=i.y,c===0?u.moveTo(i.x,i.y):u.lineTo(i.x,i.y),c===0&&v.copy(i);break;case"h":m=d(p);for(let c=0,K=m.length;c<K;c++)i.x+=m[c],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),c===0&&_===!0&&v.copy(i);break;case"v":m=d(p);for(let c=0,K=m.length;c<K;c++)i.y+=m[c],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),c===0&&_===!0&&v.copy(i);break;case"l":m=d(p);for(let c=0,K=m.length;c<K;c+=2)i.x+=m[c+0],i.y+=m[c+1],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),c===0&&_===!0&&v.copy(i);break;case"c":m=d(p);for(let c=0,K=m.length;c<K;c+=6)u.bezierCurveTo(i.x+m[c+0],i.y+m[c+1],i.x+m[c+2],i.y+m[c+3],i.x+m[c+4],i.y+m[c+5]),s.x=i.x+m[c+2],s.y=i.y+m[c+3],i.x+=m[c+4],i.y+=m[c+5],c===0&&_===!0&&v.copy(i);break;case"s":m=d(p);for(let c=0,K=m.length;c<K;c+=4)u.bezierCurveTo(C(i.x,s.x),C(i.y,s.y),i.x+m[c+0],i.y+m[c+1],i.x+m[c+2],i.y+m[c+3]),s.x=i.x+m[c+0],s.y=i.y+m[c+1],i.x+=m[c+2],i.y+=m[c+3],c===0&&_===!0&&v.copy(i);break;case"q":m=d(p);for(let c=0,K=m.length;c<K;c+=4)u.quadraticCurveTo(i.x+m[c+0],i.y+m[c+1],i.x+m[c+2],i.y+m[c+3]),s.x=i.x+m[c+0],s.y=i.y+m[c+1],i.x+=m[c+2],i.y+=m[c+3],c===0&&_===!0&&v.copy(i);break;case"t":m=d(p);for(let c=0,K=m.length;c<K;c+=2){const j=C(i.x,s.x),we=C(i.y,s.y);u.quadraticCurveTo(j,we,i.x+m[c+0],i.y+m[c+1]),s.x=j,s.y=we,i.x=i.x+m[c+0],i.y=i.y+m[c+1],c===0&&_===!0&&v.copy(i)}break;case"a":m=d(p,[3,4],7);for(let c=0,K=m.length;c<K;c+=7){if(m[c+5]==0&&m[c+6]==0)continue;const j=i.clone();i.x+=m[c+5],i.y+=m[c+6],s.x=i.x,s.y=i.y,a(u,m[c],m[c+1],m[c+2],m[c+3],m[c+4],j,i),c===0&&_===!0&&v.copy(i)}break;case"Z":case"z":u.currentPath.autoClose=!0,u.currentPath.curves.length>0&&(i.copy(v),u.currentPath.currentPoint.copy(i),z=!0);break;default:console.warn(G)}_=!1}return u}function o(g){if(!(!g.sheet||!g.sheet.cssRules||!g.sheet.cssRules.length))for(let u=0;u<g.sheet.cssRules.length;u++){const i=g.sheet.cssRules[u];if(i.type!==1)continue;const s=i.selectorText.split(/,/gm).filter(Boolean).map(v=>v.trim());for(let v=0;v<s.length;v++){const z=Object.fromEntries(Object.entries(i.style).filter(([,_])=>_!==""));te[s[v]]=Object.assign(te[s[v]]||{},z)}}}function a(g,u,i,s,v,z,_,B){if(u==0||i==0){g.lineTo(B.x,B.y);return}s=s*Math.PI/180,u=Math.abs(u),i=Math.abs(i);const X=(_.x-B.x)/2,k=(_.y-B.y)/2,T=Math.cos(s)*X+Math.sin(s)*k,G=-Math.sin(s)*X+Math.cos(s)*k;let q=u*u,p=i*i;const m=T*T,c=G*G,K=m/q+c/p;if(K>1){const Re=Math.sqrt(K);u=Re*u,i=Re*i,q=u*u,p=i*i}const j=q*c+p*m,we=(q*p-j)/j;let ve=Math.sqrt(Math.max(0,we));v===z&&(ve=-ve);const ae=ve*u*G/i,ce=-ve*i*T/u,ke=Math.cos(s)*ae-Math.sin(s)*ce+(_.x+B.x)/2,me=Math.sin(s)*ae+Math.cos(s)*ce+(_.y+B.y)/2,Pe=l(1,0,(T-ae)/u,(G-ce)/i),Se=l((T-ae)/u,(G-ce)/i,(-T-ae)/u,(-G-ce)/i)%(Math.PI*2);g.currentPath.absellipse(ke,me,u,i,Pe,Pe+Se,z===0,s)}function l(g,u,i,s){const v=g*i+u*s,z=Math.sqrt(g*g+u*u)*Math.sqrt(i*i+s*s);let _=Math.acos(Math.max(-1,Math.min(1,v/z)));return g*s-u*i<0&&(_=-_),_}function x(g){const u=R(g.getAttribute("x")||0),i=R(g.getAttribute("y")||0),s=R(g.getAttribute("rx")||g.getAttribute("ry")||0),v=R(g.getAttribute("ry")||g.getAttribute("rx")||0),z=R(g.getAttribute("width")),_=R(g.getAttribute("height")),B=1-.551915024494,X=new Ht;return X.moveTo(u+s,i),X.lineTo(u+z-s,i),(s!==0||v!==0)&&X.bezierCurveTo(u+z-s*B,i,u+z,i+v*B,u+z,i+v),X.lineTo(u+z,i+_-v),(s!==0||v!==0)&&X.bezierCurveTo(u+z,i+_-v*B,u+z-s*B,i+_,u+z-s,i+_),X.lineTo(u+s,i+_),(s!==0||v!==0)&&X.bezierCurveTo(u+s*B,i+_,u,i+_-v*B,u,i+_-v),X.lineTo(u,i+v),(s!==0||v!==0)&&X.bezierCurveTo(u,i+v*B,u+s*B,i,u+s,i),X}function M(g){function u(z,_,B){const X=R(_),k=R(B);v===0?s.moveTo(X,k):s.lineTo(X,k),v++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Ht;let v=0;return g.getAttribute("points").replace(i,u),s.currentPath.autoClose=!0,s}function L(g){function u(z,_,B){const X=R(_),k=R(B);v===0?s.moveTo(X,k):s.lineTo(X,k),v++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Ht;let v=0;return g.getAttribute("points").replace(i,u),s.currentPath.autoClose=!1,s}function S(g){const u=R(g.getAttribute("cx")||0),i=R(g.getAttribute("cy")||0),s=R(g.getAttribute("r")||0),v=new Rr;v.absarc(u,i,s,0,Math.PI*2);const z=new Ht;return z.subPaths.push(v),z}function P(g){const u=R(g.getAttribute("cx")||0),i=R(g.getAttribute("cy")||0),s=R(g.getAttribute("rx")||0),v=R(g.getAttribute("ry")||0),z=new Rr;z.absellipse(u,i,s,v,0,Math.PI*2);const _=new Ht;return _.subPaths.push(z),_}function y(g){const u=R(g.getAttribute("x1")||0),i=R(g.getAttribute("y1")||0),s=R(g.getAttribute("x2")||0),v=R(g.getAttribute("y2")||0),z=new Ht;return z.moveTo(u,i),z.lineTo(s,v),z.currentPath.autoClose=!1,z}function I(g,u){u=Object.assign({},u);let i={};if(g.hasAttribute("class")){const _=g.getAttribute("class").split(/\s/).filter(Boolean).map(B=>B.trim());for(let B=0;B<_.length;B++)i=Object.assign(i,te["."+_[B]])}g.hasAttribute("id")&&(i=Object.assign(i,te["#"+g.getAttribute("id")]));function s(_,B,X){X===void 0&&(X=function(T){return T.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),T}),g.hasAttribute(_)&&(u[B]=X(g.getAttribute(_))),i[_]&&(u[B]=X(i[_])),g.style&&g.style[_]!==""&&(u[B]=X(g.style[_]))}function v(_){return Math.max(0,Math.min(1,R(_)))}function z(_){return Math.max(0,R(_))}return s("fill","fill"),s("fill-opacity","fillOpacity",v),s("fill-rule","fillRule"),s("opacity","opacity",v),s("stroke","stroke"),s("stroke-opacity","strokeOpacity",v),s("stroke-width","strokeWidth",z),s("stroke-linejoin","strokeLineJoin"),s("stroke-linecap","strokeLineCap"),s("stroke-miterlimit","strokeMiterLimit",z),s("visibility","visibility"),u}function C(g,u){return g-(u-g)}function d(g,u,i){if(typeof g!="string")throw new TypeError("Invalid input: "+typeof g);const s={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},v=0,z=1,_=2,B=3;let X=v,k=!0,T="",G="";const q=[];function p(j,we,ve){const ae=new SyntaxError('Unexpected character "'+j+'" at index '+we+".");throw ae.partial=ve,ae}function m(){T!==""&&(G===""?q.push(Number(T)):q.push(Number(T)*Math.pow(10,Number(G)))),T="",G=""}let c;const K=g.length;for(let j=0;j<K;j++){if(c=g[j],Array.isArray(u)&&u.includes(q.length%i)&&s.FLAGS.test(c)){X=z,T=c,m();continue}if(X===v){if(s.WHITESPACE.test(c))continue;if(s.DIGIT.test(c)||s.SIGN.test(c)){X=z,T=c;continue}if(s.POINT.test(c)){X=_,T=c;continue}s.COMMA.test(c)&&(k&&p(c,j,q),k=!0)}if(X===z){if(s.DIGIT.test(c)){T+=c;continue}if(s.POINT.test(c)){T+=c,X=_;continue}if(s.EXP.test(c)){X=B;continue}s.SIGN.test(c)&&T.length===1&&s.SIGN.test(T[0])&&p(c,j,q)}if(X===_){if(s.DIGIT.test(c)){T+=c;continue}if(s.EXP.test(c)){X=B;continue}s.POINT.test(c)&&T[T.length-1]==="."&&p(c,j,q)}if(X===B){if(s.DIGIT.test(c)){G+=c;continue}if(s.SIGN.test(c)){if(G===""){G+=c;continue}G.length===1&&s.SIGN.test(G)&&p(c,j,q)}}s.WHITESPACE.test(c)?(m(),X=v,k=!1):s.COMMA.test(c)?(m(),X=v,k=!0):s.SIGN.test(c)?(m(),X=z,T=c):s.POINT.test(c)?(m(),X=_,T=c):p(c,j,q)}return m(),q}const F=["mm","cm","in","pt","pc","px"],W={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function R(g){let u="px";if(typeof g=="string"||g instanceof String)for(let s=0,v=F.length;s<v;s++){const z=F[s];if(g.endsWith(z)){u=z,g=g.substring(0,g.length-z.length);break}}let i;return u==="px"&&r.defaultUnit!=="px"?i=W.in[r.defaultUnit]/r.defaultDPI:(i=W[u][r.defaultUnit],i<0&&(i=W[u].in*r.defaultDPI)),i*parseFloat(g)}function b(g){if(!(g.hasAttribute("transform")||g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))))return null;const u=N(g);return $.length>0&&u.premultiply($[$.length-1]),ne.copy(u),$.push(u),u}function N(g){const u=new gn,i=Z;if(g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))){const s=R(g.getAttribute("x")),v=R(g.getAttribute("y"));u.translate(s,v)}if(g.hasAttribute("transform")){const s=g.getAttribute("transform").split(")");for(let v=s.length-1;v>=0;v--){const z=s[v].trim();if(z==="")continue;const _=z.indexOf("("),B=z.length;if(_>0&&_<B){const X=z.slice(0,_),k=d(z.slice(_+1));switch(i.identity(),X){case"translate":if(k.length>=1){const T=k[0];let G=0;k.length>=2&&(G=k[1]),i.translate(T,G)}break;case"rotate":if(k.length>=1){let T=0,G=0,q=0;T=k[0]*Math.PI/180,k.length>=3&&(G=k[1],q=k[2]),U.makeTranslation(-G,-q),O.makeRotation(T),w.multiplyMatrices(O,U),U.makeTranslation(G,q),i.multiplyMatrices(U,w)}break;case"scale":if(k.length>=1){const T=k[0];let G=T;k.length>=2&&(G=k[1]),i.scale(T,G)}break;case"skewX":k.length===1&&i.set(1,Math.tan(k[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":k.length===1&&i.set(1,0,0,Math.tan(k[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":k.length===6&&i.set(k[0],k[2],k[4],k[1],k[3],k[5],0,0,1);break}}u.premultiply(i)}}return u}function H(g,u){function i(_){f.set(_.x,_.y,1).applyMatrix3(u),_.set(f.x,f.y)}function s(_){const B=_.xRadius,X=_.yRadius,k=Math.cos(_.aRotation),T=Math.sin(_.aRotation),G=new Le(B*k,B*T,0),q=new Le(-X*T,X*k,0),p=G.applyMatrix3(u),m=q.applyMatrix3(u),c=Z.set(p.x,m.x,0,p.y,m.y,0,0,0,1),K=U.copy(c).invert(),ve=O.copy(K).transpose().multiply(K).elements,ae=re(ve[0],ve[1],ve[4]),ce=Math.sqrt(ae.rt1),ke=Math.sqrt(ae.rt2);if(_.xRadius=1/ce,_.yRadius=1/ke,_.aRotation=Math.atan2(ae.sn,ae.cs),!((_.aEndAngle-_.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Pe=U.set(ce,0,0,0,ke,0,0,0,1),Se=O.set(ae.cs,ae.sn,0,-ae.sn,ae.cs,0,0,0,1),Re=Pe.multiply(Se).multiply(c),je=Me=>{const{x:ft,y:We}=new Le(Math.cos(Me),Math.sin(Me),0).applyMatrix3(Re);return Math.atan2(We,ft)};_.aStartAngle=je(_.aStartAngle),_.aEndAngle=je(_.aEndAngle),E(u)&&(_.aClockwise=!_.aClockwise)}}function v(_){const B=V(u),X=D(u);_.xRadius*=B,_.yRadius*=X;const k=B>Number.EPSILON?Math.atan2(u.elements[1],u.elements[0]):Math.atan2(-u.elements[3],u.elements[4]);_.aRotation+=k,E(u)&&(_.aStartAngle*=-1,_.aEndAngle*=-1,_.aClockwise=!_.aClockwise)}const z=g.subPaths;for(let _=0,B=z.length;_<B;_++){const k=z[_].curves;for(let T=0;T<k.length;T++){const G=k[T];G.isLineCurve?(i(G.v1),i(G.v2)):G.isCubicBezierCurve?(i(G.v0),i(G.v1),i(G.v2),i(G.v3)):G.isQuadraticBezierCurve?(i(G.v0),i(G.v1),i(G.v2)):G.isEllipseCurve&&(J.set(G.aX,G.aY),i(J),G.aX=J.x,G.aY=J.y,Y(u)?s(G):v(G))}}}function E(g){const u=g.elements;return u[0]*u[4]-u[1]*u[3]<0}function Y(g){const u=g.elements,i=u[0]*u[3]+u[1]*u[4];if(i===0)return!1;const s=V(g),v=D(g);return Math.abs(i/(s*v))>Number.EPSILON}function V(g){const u=g.elements;return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function D(g){const u=g.elements;return Math.sqrt(u[3]*u[3]+u[4]*u[4])}function re(g,u,i){let s,v,z,_,B;const X=g+i,k=g-i,T=Math.sqrt(k*k+4*u*u);return X>0?(s=.5*(X+T),B=1/s,v=g*B*i-u*B*u):X<0?v=.5*(X-T):(s=.5*T,v=-.5*T),k>0?z=k+T:z=k-T,Math.abs(z)>2*Math.abs(u)?(B=-2*u/z,_=1/Math.sqrt(1+B*B),z=B*_):Math.abs(u)===0?(z=1,_=0):(B=-.5*z/u,z=1/Math.sqrt(1+B*B),_=B*z),k>0&&(B=z,z=-_,_=B),{rt1:s,rt2:v,cs:z,sn:_}}const A=[],te={},$=[],Z=new gn,U=new gn,O=new gn,w=new gn,J=new pe,f=new Le,ne=new gn,se=new DOMParser().parseFromString(e,"image/svg+xml");return n(se.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:A,xml:se.documentElement}}static createShapes(e){const n={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:n.ORIGIN,t:0};function o(C,d,F,W){const R=C.x,b=d.x,N=F.x,H=W.x,E=C.y,Y=d.y,V=F.y,D=W.y,re=(H-N)*(E-V)-(D-V)*(R-N),A=(b-R)*(E-V)-(Y-E)*(R-N),te=(D-V)*(b-R)-(H-N)*(Y-E),$=re/te,Z=A/te;if(te===0&&re!==0||$<=0||$>=1||Z<0||Z>1)return null;if(re===0&&te===0){for(let U=0;U<2;U++)if(a(U===0?F:W,C,d),t.loc==n.ORIGIN){const O=U===0?F:W;return{x:O.x,y:O.y,t:t.t}}else if(t.loc==n.BETWEEN){const O=+(R+t.t*(b-R)).toPrecision(10),w=+(E+t.t*(Y-E)).toPrecision(10);return{x:O,y:w,t:t.t}}return null}else{for(let w=0;w<2;w++)if(a(w===0?F:W,C,d),t.loc==n.ORIGIN){const J=w===0?F:W;return{x:J.x,y:J.y,t:t.t}}const U=+(R+$*(b-R)).toPrecision(10),O=+(E+$*(Y-E)).toPrecision(10);return{x:U,y:O,t:$}}}function a(C,d,F){const W=F.x-d.x,R=F.y-d.y,b=C.x-d.x,N=C.y-d.y,H=W*N-b*R;if(C.x===d.x&&C.y===d.y){t.loc=n.ORIGIN,t.t=0;return}if(C.x===F.x&&C.y===F.y){t.loc=n.DESTINATION,t.t=1;return}if(H<-Number.EPSILON){t.loc=n.LEFT;return}if(H>Number.EPSILON){t.loc=n.RIGHT;return}if(W*b<0||R*N<0){t.loc=n.BEHIND;return}if(Math.sqrt(W*W+R*R)<Math.sqrt(b*b+N*N)){t.loc=n.BEYOND;return}let E;W!==0?E=b/W:E=N/R,t.loc=n.BETWEEN,t.t=E}function l(C,d){const F=[],W=[];for(let R=1;R<C.length;R++){const b=C[R-1],N=C[R];for(let H=1;H<d.length;H++){const E=d[H-1],Y=d[H],V=o(b,N,E,Y);V!==null&&F.find(D=>D.t<=V.t+Number.EPSILON&&D.t>=V.t-Number.EPSILON)===void 0&&(F.push(V),W.push(new pe(V.x,V.y)))}}return W}function x(C,d,F){const W=new pe;d.getCenter(W);const R=[];return F.forEach(b=>{b.boundingBox.containsPoint(W)&&l(C,b.points).forEach(H=>{R.push({identifier:b.identifier,isCW:b.isCW,point:H})})}),R.sort((b,N)=>b.point.x-N.point.x),R}function M(C,d,F,W,R){(R==null||R==="")&&(R="nonzero");const b=new pe;C.boundingBox.getCenter(b);const N=[new pe(F,b.y),new pe(W,b.y)],H=x(N,C.boundingBox,d);H.sort((A,te)=>A.point.x-te.point.x);const E=[],Y=[];H.forEach(A=>{A.identifier===C.identifier?E.push(A):Y.push(A)});const V=E[0].point.x,D=[];let re=0;for(;re<Y.length&&Y[re].point.x<V;)D.length>0&&D[D.length-1]===Y[re].identifier?D.pop():D.push(Y[re].identifier),re++;if(D.push(C.identifier),R==="evenodd"){const A=D.length%2===0,te=D[D.length-2];return{identifier:C.identifier,isHole:A,for:te}}else if(R==="nonzero"){let A=!0,te=null,$=null;for(let Z=0;Z<D.length;Z++){const U=D[Z];A?($=d[U].isCW,A=!1,te=U):$!==d[U].isCW&&($=d[U].isCW,A=!0)}return{identifier:C.identifier,isHole:A,for:te}}else console.warn('fill-rule: "'+R+'" is currently not implemented.')}let L=999999999,S=-999999999,P=e.subPaths.map(C=>{const d=C.getPoints();let F=-999999999,W=999999999,R=-999999999,b=999999999;for(let N=0;N<d.length;N++){const H=d[N];H.y>F&&(F=H.y),H.y<W&&(W=H.y),H.x>R&&(R=H.x),H.x<b&&(b=H.x)}return S<=R&&(S=R+1),L>=b&&(L=b-1),{curves:C.curves,points:d,isCW:ks.isClockWise(d),identifier:-1,boundingBox:new As(new pe(b,W),new pe(R,F))}});P=P.filter(C=>C.points.length>1);for(let C=0;C<P.length;C++)P[C].identifier=C;const y=P.map(C=>M(C,P,L,S,e.userData?e.userData.style.fillRule:void 0)),I=[];return P.forEach(C=>{if(!y[C.identifier].isHole){const F=new Rs;F.curves=C.curves,y.filter(R=>R.isHole&&R.for===C.identifier).forEach(R=>{const b=P[R.identifier],N=new Rr;N.curves=b.curves,F.holes.push(N)}),I.push(F)}}),I}static getStrokeStyle(e,r,n,t,o){return e=e!==void 0?e:1,r=r!==void 0?r:"#000",n=n!==void 0?n:"miter",t=t!==void 0?t:"butt",o=o!==void 0?o:4,{strokeColor:r,strokeWidth:e,strokeLineJoin:n,strokeLineCap:t,strokeMiterLimit:o}}static pointsToStroke(e,r,n,t){const o=[],a=[],l=[];if(Pr.pointsToStrokeWithBuffers(e,r,n,t,o,a,l)===0)return null;const x=new Ir;return x.setAttribute("position",new Un(o,3)),x.setAttribute("normal",new Un(a,3)),x.setAttribute("uv",new Un(l,2)),x}static pointsToStrokeWithBuffers(e,r,n,t,o,a,l,x){const M=new pe,L=new pe,S=new pe,P=new pe,y=new pe,I=new pe,C=new pe,d=new pe,F=new pe,W=new pe,R=new pe,b=new pe,N=new pe,H=new pe,E=new pe,Y=new pe,V=new pe;n=n!==void 0?n:12,t=t!==void 0?t:.001,x=x!==void 0?x:0,e=k(e);const D=e.length;if(D<2)return 0;const re=e[0].equals(e[D-1]);let A,te=e[0],$;const Z=r.strokeWidth/2,U=1/(D-1);let O=0,w,J,f,ne,se=!1,le=0,g=x*3,u=x*2;i(e[0],e[1],M).multiplyScalar(Z),d.copy(e[0]).sub(M),F.copy(e[0]).add(M),W.copy(d),R.copy(F);for(let T=1;T<D;T++){A=e[T],T===D-1?re?$=e[1]:$=void 0:$=e[T+1];const G=M;if(i(te,A,G),S.copy(G).multiplyScalar(Z),b.copy(A).sub(S),N.copy(A).add(S),w=O+U,J=!1,$!==void 0){i(A,$,L),S.copy(L).multiplyScalar(Z),H.copy(A).sub(S),E.copy(A).add(S),f=!0,S.subVectors($,te),G.dot(S)<0&&(f=!1),T===1&&(se=f),S.subVectors($,A),S.normalize();const q=Math.abs(G.dot(S));if(q>Number.EPSILON){const p=Z/q;S.multiplyScalar(-p),P.subVectors(A,te),y.copy(P).setLength(p).add(S),Y.copy(y).negate();const m=y.length(),c=P.length();P.divideScalar(c),I.subVectors($,A);const K=I.length();switch(I.divideScalar(K),P.dot(Y)<c&&I.dot(Y)<K&&(J=!0),V.copy(y).add(A),Y.add(A),ne=!1,J?f?(E.copy(Y),N.copy(Y)):(H.copy(Y),b.copy(Y)):z(),r.strokeLineJoin){case"bevel":_(f,J,w);break;case"round":B(f,J),f?v(A,b,H,w,0):v(A,E,N,w,1);break;case"miter":case"miter-clip":default:const j=Z*r.strokeMiterLimit/m;if(j<1)if(r.strokeLineJoin!=="miter-clip"){_(f,J,w);break}else B(f,J),f?(I.subVectors(V,b).multiplyScalar(j).add(b),C.subVectors(V,H).multiplyScalar(j).add(H),s(b,w,0),s(I,w,0),s(A,w,.5),s(A,w,.5),s(I,w,0),s(C,w,0),s(A,w,.5),s(C,w,0),s(H,w,0)):(I.subVectors(V,N).multiplyScalar(j).add(N),C.subVectors(V,E).multiplyScalar(j).add(E),s(N,w,1),s(I,w,1),s(A,w,.5),s(A,w,.5),s(I,w,1),s(C,w,1),s(A,w,.5),s(C,w,1),s(E,w,1));else J?(f?(s(F,O,1),s(d,O,0),s(V,w,0),s(F,O,1),s(V,w,0),s(Y,w,1)):(s(F,O,1),s(d,O,0),s(V,w,1),s(d,O,0),s(Y,w,0),s(V,w,1)),f?H.copy(V):E.copy(V)):f?(s(b,w,0),s(V,w,0),s(A,w,.5),s(A,w,.5),s(V,w,0),s(H,w,0)):(s(N,w,1),s(V,w,1),s(A,w,.5),s(A,w,.5),s(V,w,1),s(E,w,1)),ne=!0;break}}else z()}else z();!re&&T===D-1&&X(e[0],W,R,f,!0,O),O=w,te=A,d.copy(H),F.copy(E)}if(!re)X(A,b,N,f,!1,w);else if(J&&o){let T=V,G=Y;se!==f&&(T=Y,G=V),f?(ne||se)&&(G.toArray(o,0*3),G.toArray(o,3*3),ne&&T.toArray(o,1*3)):(ne||!se)&&(G.toArray(o,1*3),G.toArray(o,3*3),ne&&T.toArray(o,0*3))}return le;function i(T,G,q){return q.subVectors(G,T),q.set(-q.y,q.x).normalize()}function s(T,G,q){o&&(o[g]=T.x,o[g+1]=T.y,o[g+2]=0,a&&(a[g]=0,a[g+1]=0,a[g+2]=1),g+=3,l&&(l[u]=G,l[u+1]=q,u+=2)),le+=3}function v(T,G,q,p,m){M.copy(G).sub(T).normalize(),L.copy(q).sub(T).normalize();let c=Math.PI;const K=M.dot(L);Math.abs(K)<1&&(c=Math.abs(Math.acos(K))),c/=n,S.copy(G);for(let j=0,we=n-1;j<we;j++)P.copy(S).rotateAround(T,c),s(S,p,m),s(P,p,m),s(T,p,.5),S.copy(P);s(P,p,m),s(q,p,m),s(T,p,.5)}function z(){s(F,O,1),s(d,O,0),s(b,w,0),s(F,O,1),s(b,w,0),s(N,w,1)}function _(T,G,q){G?T?(s(F,O,1),s(d,O,0),s(b,w,0),s(F,O,1),s(b,w,0),s(Y,w,1),s(b,q,0),s(H,q,0),s(Y,q,.5)):(s(F,O,1),s(d,O,0),s(N,w,1),s(d,O,0),s(Y,w,0),s(N,w,1),s(N,q,1),s(Y,q,0),s(E,q,1)):T?(s(b,q,0),s(H,q,0),s(A,q,.5)):(s(N,q,1),s(E,q,0),s(A,q,.5))}function B(T,G){G&&(T?(s(F,O,1),s(d,O,0),s(b,w,0),s(F,O,1),s(b,w,0),s(Y,w,1),s(b,O,0),s(A,w,.5),s(Y,w,1),s(A,w,.5),s(H,O,0),s(Y,w,1)):(s(F,O,1),s(d,O,0),s(N,w,1),s(d,O,0),s(Y,w,0),s(N,w,1),s(N,O,1),s(Y,w,0),s(A,w,.5),s(A,w,.5),s(Y,w,0),s(E,O,1)))}function X(T,G,q,p,m,c){switch(r.strokeLineCap){case"round":m?v(T,q,G,c,.5):v(T,G,q,c,.5);break;case"square":if(m)M.subVectors(G,T),L.set(M.y,-M.x),S.addVectors(M,L).add(T),P.subVectors(L,M).add(T),p?(S.toArray(o,1*3),P.toArray(o,0*3),P.toArray(o,3*3)):(S.toArray(o,1*3),l[3*2+1]===1?P.toArray(o,3*3):S.toArray(o,3*3),P.toArray(o,0*3));else{M.subVectors(q,T),L.set(M.y,-M.x),S.addVectors(M,L).add(T),P.subVectors(L,M).add(T);const K=o.length;p?(S.toArray(o,K-1*3),P.toArray(o,K-2*3),P.toArray(o,K-4*3)):(P.toArray(o,K-2*3),S.toArray(o,K-1*3),P.toArray(o,K-4*3))}break}}function k(T){let G=!1;for(let p=1,m=T.length-1;p<m;p++)if(T[p].distanceTo(T[p+1])<t){G=!0;break}if(!G)return T;const q=[];q.push(T[0]);for(let p=1,m=T.length-1;p<m;p++)T[p].distanceTo(T[p+1])>=t&&q.push(T[p]);return q.push(T[T.length-1]),q}}}function xi(h,e,r,n){const{CUBE_SIZE:t,FIRST_CUBE_Z:o}=n,a=8,l=24,x=.075,M=200;let L,S=[],P=[],y=[],I=[];const C=(b,N,H,E)=>{const Y=new Mn(b,b,b),V=new vr(Y),D=[new At({color:16711680,transparent:!0,opacity:E.opacity,blending:Yt}),new At({color:65280,transparent:!0,opacity:E.opacity,blending:Yt}),new At({color:255,transparent:!0,opacity:E.opacity,blending:Yt}),new At({color:65535,transparent:!0,opacity:E.opacity,blending:Yt}),new At({color:16711935,transparent:!0,opacity:E.opacity,blending:Yt}),new At({color:16776960,transparent:!0,opacity:E.opacity,blending:Yt})],re=new nn,A=V.getAttribute("position").array,te=[];for(let U=0;U<A.length/3;U+=2)te.push(U,U+1);const $=Array(6).fill(null).map(()=>new Ir),Z=Array(6).fill(null).map(()=>[]);for(let U=0;U<te.length/2;U++){const O=U%6;Z[O].push(te[U*2],te[U*2+1])}return $.forEach((U,O)=>{U.setIndex(Z[O]),U.setAttribute("position",V.getAttribute("position"));const w=new wn(U,D[O]);re.add(w)}),re.position.z=N,re.rotation.z=H,re};return(()=>{const H=.9/(l-1);for(let te=0;te<l;te++)P[te]=new At({transparent:!0,opacity:1-te*H});if(L=new nn,!L){console.error("introGroup failed to initialize");return}for(let te=0;te<l;te++){const $=t-te*a,Z=C($,0,0,P[te]),U=Z.children.map(O=>O.material);I.push(U.map(O=>({material:O,originalColor:O.color.clone()}))),L.add(Z)}L.position.z=o,e.add(L),S.push(L),y=P.map(te=>te.opacity);const E=ut.timeline({repeat:-1});E.to(L.rotation,{x:yt.degToRad(360),duration:12,ease:"none"},0),E.to(L.rotation,{y:yt.degToRad(360),duration:10,ease:"none"},0),E.to(L.rotation,{z:yt.degToRad(360),duration:14,ease:"none"},0);let Y=-1,V=0;const D=x*1e3,re=l*D,A=te=>{const $=te%re/D,Z=Math.floor($)%l;Y!==-1&&te-V>=D&&(I[Y].forEach(w=>{w.material.opacity=y[Y],w.material.color.copy(w.originalColor)}),Y=-1),Y===-1&&Z!==Y&&(Y=Z,V=te,I[Y].forEach(O=>{O.material.opacity=1,O.material.color.set(1,1,1)})),requestAnimationFrame(A)};requestAnimationFrame(A)})(),r.then(b=>{if(b){const N=F(b);h.add(N)}}),{introCubes:S};function F(b){const N=new nn,H=W(b);H.position.set(0,-36,0),N.add(H),R(Y=>{N.add(Y),ut.fromTo(H.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const V=Y.children.find(D=>D instanceof ct&&D!==Y.children[0]);if(V){const D=V.position.y;ut.to(V.position,{y:D+3,duration:1,ease:"easeOut",onComplete:()=>{V.position.y=D},repeat:-1})}}),N.position.x=0,N.position.y=-240;const E=o-l*a;return N.position.z=E+M,N}function W(b){const N=new vs("SCROLL TO CONTINUE",{font:b,size:8,depth:0,curveSegments:12,bevelEnabled:!1});N.computeBoundingBox(),N.center();const H=new Rt({color:16777215,transparent:!0,opacity:1});return new ct(N,H)}function R(b){new Pr().load("/3D/mouse.svg",H=>{const E=H.paths;let Y=null,V=null,D=new nn;if(E.forEach((re,A)=>{Pr.createShapes(re).forEach($=>{const Z=new Os($);Z.computeBoundingBox();const U=new Rt({color:16777215,transparent:!0,opacity:1,side:gr}),O=new ct(Z,U);O.scale.set(.05,.05,1),A===0?Y=O:A===1&&(V=O)})}),Y&&V){D.add(Y),D.add(V);const A=(Y.geometry.boundingBox.max.x-Y.geometry.boundingBox.min.x)*Y.scale.x/2;D.position.x=-A,D.rotation.x=Math.PI,b(D)}})}}class bi extends Vo{constructor(e){super(e)}load(e,r,n,t){const o=this,a=new Zo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){const x=o.parse(JSON.parse(l));r&&r(x)},n,t)}parse(e){return new wi(e)}}class wi{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const n=[],t=vi(e,r,this.data);for(let o=0,a=t.length;o<a;o++)n.push(...t[o].toShapes());return n}}function vi(h,e,r){const n=Array.from(h),t=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*t,a=[];let l=0,x=0;for(let M=0;M<n.length;M++){const L=n[M];if(L===`
`)l=0,x-=o;else{const S=Ti(L,t,l,x,r);l+=S.offsetX,a.push(S.path)}}return a}function Ti(h,e,r,n,t){const o=t.glyphs[h]||t.glyphs["?"];if(!o){console.error('THREE.Font: character "'+h+'" does not exists in font family '+t.familyName+".");return}const a=new Ht;let l,x,M,L,S,P,y,I;if(o.o){const C=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let d=0,F=C.length;d<F;)switch(C[d++]){case"m":l=C[d++]*e+r,x=C[d++]*e+n,a.moveTo(l,x);break;case"l":l=C[d++]*e+r,x=C[d++]*e+n,a.lineTo(l,x);break;case"q":M=C[d++]*e+r,L=C[d++]*e+n,S=C[d++]*e+r,P=C[d++]*e+n,a.quadraticCurveTo(S,P,M,L);break;case"b":M=C[d++]*e+r,L=C[d++]*e+n,S=C[d++]*e+r,P=C[d++]*e+n,y=C[d++]*e+r,I=C[d++]*e+n,a.bezierCurveTo(S,P,y,I,M,L);break}}return{offsetX:o.ha*e,path:a}}function Ci(h,e,r){const{CUBE_SIZE:n,CUBE_SPACING:t,FIRST_CUBE_Z:o}=e,a=o-(r.length+1)*t,l=65535,x=16711935,M=16711680,L=yt.degToRad(15),S=1e3,P=.5;let y=[],I=null,C=null,d=!1,F=new Ns,W=new pe,R=null,b=null,N=null,H=!1,E=null,Y=!1;const V=(Z,U,O,w,J)=>{const f=new nn;f.position.z=U,f.rotation.z=O,f.userData.isActive=!1;const ne=new Mn(Z,Z,Z),se=new vr(ne),le=new At({color:new bt(l),transparent:!0,opacity:0}),g=new wn(se,le);f.add(g);let u="right";const i=()=>{const s=new Bs(25,40,24,2),v=new vr(s),z=new At({color:new bt(l),transparent:!0,opacity:0}),_=new wn(v,z),B=new Vr(120,120),X=new Rt({visible:!1,side:gr}),k=new ct(B,X);k.userData.isPortalHitbox=!0,k.userData.portal=_;const T=Z/2;switch(u){case"left":_.position.set(-T,0,0),_.rotation.y=Math.PI/2,k.position.set(-T,0,0),k.rotation.y=Math.PI/2;break;case"top":_.position.set(0,T,0),_.rotation.x=-Math.PI/2,k.position.set(0,T,0),k.rotation.x=-Math.PI/2;break;case"right":_.position.set(T,0,0),_.rotation.y=-Math.PI/2,k.position.set(T,0,0),k.rotation.y=-Math.PI/2;break;case"bottom":_.position.set(0,-T,0),_.rotation.x=Math.PI/2,k.position.set(0,-T,0),k.rotation.x=Math.PI/2;break}f.add(_),f.add(k)};return w?new Ls().load(w,v=>{const z=new Vr(Z-1,Z-1),_=new Rt({map:v,transparent:!0,opacity:0,blending:Yt,side:gr}),B=new ct(z,_),X=["left","top","right","bottom"].includes(J)?J:"left",k=Z/2;switch(X){case"left":B.position.set(-k,0,0),B.rotation.y=Math.PI/2,u="right";break;case"top":B.position.set(0,k,0),B.rotation.x=-Math.PI/2,u="bottom";break;case"right":B.position.set(k,0,0),B.rotation.y=-Math.PI/2,u="left";break;case"bottom":B.position.set(0,-k,0),B.rotation.x=Math.PI/2,u="top";break}f.add(B),i()},void 0,v=>{i()}):i(),f},D=(Z,U,O,w,J,f)=>{const ne=new vs(Z,{font:f,size:J,depth:0,curveSegments:12,bevelEnabled:!1});ne.computeBoundingBox(),ne.center();const se=new Rt({color:16777215,transparent:!0,opacity:0,side:gr}),le=new ct(ne,se);return le.position.set(U,O,w),h.add(le),le},re=()=>new Promise(Z=>{I=new bi,I.load("/fonts/Poppins_Regular.json",U=>{C=U;const O=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r),O.forEach((w,J)=>{const f=o-(J+1)*t,ne=(J+1)*L,se=V(n,f,ne,w.keyart,w.keyartLocation);h.add(se),y.push(se),D(w.title,0,w.size+15,o-(J+1)*t,w.size,U)}),Z()},void 0,U=>console.error("Error loading font:",U))}),A=()=>d?Promise.resolve({projectCubes:y,updateCubeColors:te,loadedFont:C}):re().then(()=>(d=!0,{projectCubes:y,updateCubeColors:te,loadedFont:C})),te=Z=>{const U=Z.position.z;let O=[];h.traverse(w=>{w instanceof ct&&w.geometry&&w.geometry.type==="TextGeometry"&&O.push(w)}),y.forEach(w=>{const J=w.position.z,f=Math.abs(U-J);let ne=0;f<=S&&(ne=1-f/S),w.userData.isActive=ne>=P,w.children.forEach(se=>{if(se instanceof wn&&!se.userData.isPortalHitbox){const le=se.material;if(f<=S){const g=yt.lerp((l>>16&255)/255,(x>>16&255)/255,ne),u=yt.lerp((l>>8&255)/255,(x>>8&255)/255,ne),i=yt.lerp((l&255)/255,(x&255)/255,ne);le.color.set(g,u,i),le.opacity=Math.min(1,ne*2)}else le.opacity=0}else if(se instanceof wn){const le=se.material;f<=S?le.opacity=Math.min(1,ne*2):le.opacity=0}else if(se instanceof ct&&se.material instanceof Rt&&!se.userData.isPortalHitbox){const le=se.material;if(f<=S){const g=1-f/S;le.opacity=Math.min(.8,g*2)}else le.opacity=0}})}),O.forEach(w=>{const J=w.material,f=w.position.z,ne=Math.abs(U-f);if(ne<=S){const se=1-ne/S;J.opacity=Math.min(1,se*2)}else J.opacity=0})};return{getInitializedData:A,updateCubeColors:te,setupInteractivity:(Z,U,O)=>{E=O;const w=se=>{W.x=se.clientX/window.innerWidth*2-1,W.y=-(se.clientY/window.innerHeight)*2+1,F.setFromCamera(W,Z);const le=[];y.forEach(u=>{u.userData.isActive&&u.children.forEach(i=>{i instanceof ct&&i.userData.isPortalHitbox&&le.push(i)})});const g=F.intersectObjects(le);if(g.length>0){const i=g[0].object.userData.portal;if(R!==i){if(R){const v=R.material;ut.to(v.color,{r:(l>>16&255)/255,g:(l>>8&255)/255,b:(l&255)/255,duration:.5})}R=i;const s=R.material;ut.to(s.color,{r:(M>>16&255)/255,g:(M>>8&255)/255,b:(M&255)/255,duration:.5})}U.style.cursor="pointer"}else{if(R){const u=R.material;ut.to(u.color,{r:(l>>16&255)/255,g:(l>>8&255)/255,b:(l&255)/255,duration:.5}),R=null}U.style.cursor="auto"}},J=se=>{if(H)return;W.x=se.clientX/window.innerWidth*2-1,W.y=-(se.clientY/window.innerHeight)*2+1,F.setFromCamera(W,Z);const le=[];y.forEach(u=>{u.userData.isActive&&u.children.forEach(i=>{i instanceof ct&&i.userData.isPortalHitbox&&le.push(i)})});const g=F.intersectObjects(le);if(g.length>0){const u=g[0].object,i=u.userData.portal,s=u.parent;b||(b=Z.position.clone(),N=new Le(0,0,a));const v=i.getWorldPosition(new Le);E&&E(!0,b,N);const z={x:N.x,y:N.y,z:N.z};ut.to(z,{x:v.x,y:v.y,z:v.z,duration:1,ease:"power3.out",onStart:()=>{H=!0},onUpdate:()=>{Z.lookAt(z.x,z.y,z.z)}});const _=s.getWorldPosition(new Le),B=new Le(0,0,_.z);ut.to(Z.position,{x:B.x,y:B.y,z:B.z,duration:1,ease:"power3.out"})}},f=se=>{if(H&&!Y&&b&&N&&(se.preventDefault(),se.stopPropagation(),se.deltaY<0)){Y=!0;const le=N.clone(),g=new Le;Z.getWorldDirection(g),g.multiplyScalar(1e3).add(Z.position);const u={x:g.x,y:g.y,z:g.z};ut.to(Z.position,{x:b.x,y:b.y,z:b.z,duration:1,ease:"power3.out"}),ut.to(u,{x:le.x,y:le.y,z:le.z,duration:1,ease:"power3.out",onUpdate:()=>{Z.lookAt(u.x,u.y,u.z)},onComplete:()=>{H=!1,E&&E(!1),b=null,N=null,Y=!1}})}},ne=()=>{};return U.addEventListener("mousemove",w),U.addEventListener("click",J),U.addEventListener("wheel",f,{passive:!1}),window.addEventListener("scroll",ne),()=>{U.removeEventListener("mousemove",w),U.removeEventListener("click",J),U.removeEventListener("wheel",f),window.removeEventListener("scroll",ne),U.style.cursor="auto"}}}}function Si(h,e){let R,b,N,H=[],E=[],Y=[],V=[],D=[];const re=()=>{R=new nn;const $=new Mn(100,100,100),Z=new vr($),U=32*60,O=new zs;O.copy(Z),O.instanceCount=U;const w=new At({color:2236962,transparent:!0,fog:!0,vertexColors:!0}),J=new Float32Array(U*3),f=new Float32Array(U*3),ne=new Float32Array(U*3),se=32*100,le=-3200/2+100/2,g=-500;for(let j=0;j<32;j++){const we=A(j);for(let ve=0;ve<60;ve++){const ae=j*60+ve,ce=le+j*100,ke=g-ve*100,me=yt.randFloat(100,300),Pe=me/100,Se=-600+me/2;J[ae*3]=ce,J[ae*3+1]=Se,J[ae*3+2]=ke,f[ae*3]=1,f[ae*3+1]=Pe,f[ae*3+2]=1,ne[ae*3]=we,ne[ae*3+1]=we,ne[ae*3+2]=we}}O.setAttribute("instancePosition",new Dr(J,3)),O.setAttribute("instanceScale",new Dr(f,3)),O.setAttribute("color",new Dr(ne,3)),w.onBeforeCompile=j=>{j.vertexShader=`
                attribute vec3 instancePosition;
                attribute vec3 instanceScale;
                ${j.vertexShader}
            `.replace("#include <begin_vertex>",`#include <begin_vertex>
                transformed *= instanceScale;
                transformed += instancePosition;`)},b=new wn(O,w);const u=-3200/2,i=se/2,s=-600,v=-300,z=-6500,_=-500;O.boundingBox=new Us(new Le(u,s,z),new Le(i,v,_));const B=(u+i)/2,X=(s+v)/2,k=(z+_)/2,T=i-u,G=v-s,q=_-z,p=Math.sqrt(T*T+G*G+q*q)/2;O.boundingSphere=new Fs(new Le(B,X,k),p),R.add(b),e.add(R),N=new nn;const m=se/5,c=-3200/2;for(let j=0;j<6;j++){let ve=c+j*m,ae=-500;const ce=[new Le(ve,-450,ae)];let ke=0;for(;ae>-6500;){const me=ae===-500?yt.randFloat(300,800):Math.min(yt.randFloat(300,800),Math.abs(ae- -6500));if(ae-=me,ce.push(new Le(ve,-450,ae)),ke+=me,ae<=-6500){ce[ce.length-1].z=-6500;break}const Pe=Math.random()<.5?-1:1,Se=yt.randFloat(100,300);ve+=Pe*Se,ce.push(new Le(ve,-450,ae)),ke+=Se}E.push({points:ce,totalLength:ke})}const K=new Mn(4,4,4);for(let j=0;j<6;j++){const we=E[j],ve=we.totalLength,ae=ve/60;for(let ce=0;ce<60;ce++){const ke=new Rt({color:16711680,fog:!0}),me=new ct(K,ke),Pe=ce*ae;let Se=Pe;for(let Re=0;Re<we.points.length-1;Re++){const je=we.points[Re],Me=we.points[Re+1],ft=je.distanceTo(Me);if(Se<=ft){const We=Se/ft;me.position.lerpVectors(je,Me,We);break}Se-=ft}H.push(me),Y.push(Pe),V.push(j),D.push(1),N.add(me)}for(let ce=0;ce<60;ce++){const ke=new Rt({color:16777215,fog:!0}),me=new ct(K,ke),Pe=ve-ce*ae;let Se=ve-Pe;const Re=[...we.points].reverse();for(let je=0;je<Re.length-1;je++){const Me=Re[je],ft=Re[je+1],We=Me.distanceTo(ft);if(Se<=We){const Ut=Se/We;me.position.lerpVectors(Me,ft,Ut);break}Se-=We}H.push(me),Y.push(Pe),V.push(j),D.push(-1),N.add(me)}}e.add(N)},A=$=>{if($<10)return .05+$*.10555555555555556;if($>=22){const Z=31-$,U=(1-.05)/9;return .05+Z*U}return 1},te=$=>{const Z=100*$;for(let U=0;U<H.length;U++){const O=D[U];Y[U]+=Z*O;const w=V[U],J=E[w],f=J.totalLength;if(O===1&&Y[U]>=f)Y[U]=0,H[U].position.copy(J.points[0]);else if(O===-1&&Y[U]<=0)Y[U]=f,H[U].position.copy(J.points[J.points.length-1]);else{const ne=Y[U],se=O===1?J.points:[...J.points].reverse();let le=O===1?ne:f-ne;for(let g=0;g<se.length-1;g++){const u=se[g],i=se[g+1],s=u.distanceTo(i);if(le<=s){const v=le/s;H[U].position.lerpVectors(u,i,v);break}le-=s}}}};return re(),{cityGroup:R,buildingLines:[b],updateParticles:te}}function Mi(h,e,r,n,t,o,a){const{CUBE_SPACING:l,FIRST_CUBE_Z:x}=o,M=x-(n.length+1)*l;let L=!1,S=!1;return a&&a((I,C,d)=>{L=I,S=I?!1:S}),ut.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:()=>{const I=Math.abs(M),C=l,F=n.length*C;return`${I+F}px`},scrub:1,pin:!0,onUpdate:I=>{if(!L&&!S){const C=I.progress,d=Math.min(0,yt.lerp(0,M,C));e.position.set(0,0,d),e.lookAt(0,0,M)}t(e)}}}).to(e.position,{z:M,duration:1,ease:"none"}),{setReverting:I=>{S=I}}}function Ei(h,e){const P=new Ir,y=new Float32Array(1e3*3),I=new Float32Array(1e3),C=new Float32Array(1e3);let d=0;for(;d<1e3;){const N=(Math.random()-.5)*4e3,H=(Math.random()-.5)*4e3,E=-1e3+Math.random()*-8e3,Y=E>-7200&&Math.abs(N)<1e3&&Math.abs(H)<1e3,V=Math.abs(N)<150&&Math.abs(H)<150&&E>-2500&&E<-500;if(!Y&&!V){const D=d*3;y[D]=N,y[D+1]=H,y[D+2]=E;const re=.1+Math.random()*(.7-.1);I[d]=re,C[d]=re,d++}}P.setAttribute("position",new mo(y,3)),P.setAttribute("opacity",new mo(C,1));const F=new tn({uniforms:{color:{value:new bt(1,1,1)},size:{value:20}},vertexShader:`
      attribute float opacity;
      varying float vOpacity;
      uniform float size;

      void main() {
        vOpacity = opacity;
        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
        gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
        gl_Position = projectionMatrix * mvPosition;
      }
    `,fragmentShader:`
      uniform vec3 color;
      varying float vOpacity;

      void main() {
        float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
        float alpha = vOpacity * (1.0 - dist);
        if (alpha <= 0.0) discard;
        gl_FragColor = vec4(color, alpha);
      }
    `,transparent:!0,fog:!1,depthWrite:!1}),W=new Hs(P,F);h.add(W);const R=P.attributes.opacity;for(let N=0;N<1e3;N++)ut.to({opacity:I[N]},{opacity:.05,duration:1+Math.random(),yoyo:!0,repeat:-1,ease:"sine.inOut",delay:Math.random()*2,onUpdate:function(){C[N]=this.targets()[0].opacity,R.needsUpdate=!0}});return{dispose:()=>{ut.killTweensOf(C),h.remove(W),P.dispose(),F.dispose()}}}const zo=250,Uo=500,Gr=-500,Yr=-520,Fo=-720,Pi=ro({__name:"HallwayEngine",props:{projects:{}},setup(h){ut.registerPlugin(de);const e=h,r=Xr(null),n=Xr(null);let t,o,a,l,x,M,L,S,P=0,y=null,I=null,C=null;const d=()=>{const b=r.value?r.value.getBoundingClientRect().width:window.innerWidth,N=window.innerHeight;a.setSize(b,N),l.setSize(b,N),o.aspect=b/N,o.far=6e4,o.updateProjectionMatrix()},F=()=>{t=new Xo,t.background=new bt(0),t.fog=new Gs(0,700,4e3),o=new Ys(75,window.innerWidth/window.innerHeight,1,6e4),o.position.set(0,0,0),o.lookAt(0,0,1e3),a=new Wo({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),l=new Qo(a);const b=new $o(t,o);if(l.addPass(b),x=new ln(new pe(window.innerWidth,window.innerHeight),3.5,.4,0),x.renderToScreen=!0,l.addPass(x),d(),r.value)r.value.appendChild(a.domElement);else return;L=new jn,L.dom.style.position="fixed",L.dom.style.top="0px",L.dom.style.left="0px",L.dom.style.zIndex="1000",document.body.appendChild(L.dom);const{updateParticles:N}=Si(t,t);S=N;const H=Ci(t,{CUBE_SIZE:zo,CUBE_SPACING:Uo,FIRST_CUBE_Z:Gr},e.projects);H.getInitializedData().then(({projectCubes:Y,updateCubeColors:V,loadedFont:D})=>{const{introCubes:re}=xi(t,t,Promise.resolve(D),{CUBE_SIZE:zo,FIRST_CUBE_Z:Gr}),A=[...re,...Y],{setReverting:te}=Mi(t,o,n,A,V,{CUBE_SPACING:Uo,FIRST_CUBE_Z:Gr},($,Z,U)=>{C&&C($)});C=te,I=H.setupInteractivity(o,a.domElement,($,Z,U)=>{C&&C($)}),W()});const{dispose:E}=Ei(t);y=E},W=(b=0)=>{if(M=requestAnimationFrame(W),a&&l){const N=(b-P)/1e3;P=b,S(N);const H=Fo-Yr;let E=0;o.position.z>=Yr?E=0:o.position.z<=Fo?E=1:E=(o.position.z-Yr)/H,x.strength=yt.lerp(1,.125,E),l.render()}de.update(),L.update()};Ho(()=>{F(),window.addEventListener("resize",R)}),Go(()=>{I&&I(),window.removeEventListener("resize",R),cancelAnimationFrame(M),de.getAll().forEach(b=>b.kill()),a.dispose(),l.dispose(),t.clear(),document.body.removeChild(L.dom),y&&y()});const R=()=>{d(),de.refresh()};return(b,N)=>(so(),oo("section",{ref_key:"wrapper",ref:n,class:"wrapper"},[_n("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),Ii=Vs(Pi,[["__scopeId","data-v-0b16e122"]]),Ai={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},ki={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Ri={class:"overflow-hidden"},Di={class:"flex justify-center items-center"},Oi={class:"flex justify-center items-center -mt-24 mix-blend-screen"},zi=ro({__name:"Welcome",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},laravelVersion:{},phpVersion:{},projects:{}},setup(h){return(e,r)=>(so(),oo(Ms,null,[dn(Cs(Ss),{title:"Welcome"}),_n("div",Ai,[_n("nav",ki,[dn(Xs)]),_n("div",Ri,[dn(Ii,{projects:e.projects},null,8,["projects"])]),_n("div",Di,[dn(xo,{"particle-width":20,"particle-height":20})]),_n("div",Oi,[dn(xo,{"particle-width":15,"particle-height":160})]),dn(Ws)])],64))}});export{zi as default};
