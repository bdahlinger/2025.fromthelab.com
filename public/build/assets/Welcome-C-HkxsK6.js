import{M as ga,d as $e,W as gr,E as Wt,N as ln,I as fn,x as pn,y as Bi,e as at,o as it,a as He,n as No,j as io,u as Fo,G as yo,F as Hn,h as Un,p as ma,b as Ro,w as Qi,f as Tn,t as Io,g as Ki,T as mr,c as ui,O as va,m as xa}from"./app-CZZ41DDW.js";import{c as Ue,O as ya,h as to,F as bo,l as Oo,U as es,V as Zt,m as ci,H as fi,N as wa,C as Ca,n as Ft,f as Re,b as co,o as ht,e as mt,G as qt,g as K,p as ge,B as un,E as Ho,L as ct,q as ba,u as Po,R as _a,r as ws,s as vr,P as wo,a as $t,t as Mn,v as Ci,w as Bs,Q as Ea,I as Fa,x as Oi,y as ts,z as pi,J as di,K as zi,T as Ta,X as xr,Y as yr,Z as Ma,_ as os,$ as ns,a0 as Yn,M as Pa,a1 as Sa,a2 as Aa,a3 as Rs,S as Ba,a4 as Ra,a5 as ka,W as La,a6 as Ia,a7 as Oa,d as Ht,j as za,k as Na}from"./GlobalFooter-Cvg_NYNQ.js";import{u as xo,_ as Ha}from"./App.vue_vue_type_script_setup_true_lang-BSwaPlL9.js";import{_ as dn}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ri=ga("audio",()=>{const s=$e(!1),e=$e(1),t=$e(!1),n=$e(!1);function o(){s.value=!s.value}function i(u){e.value=Math.max(0,Math.min(1,u))}function r(){t.value||(t.value=!0,n.value=!0)}function a(){t.value&&(n.value=!n.value)}return{isMuted:s,masterVolume:e,userEngaged:t,audioEnabled:n,toggleMute:o,setVolume:i,unlockAudio:r,toggleAudioEnabled:a}});function Ua(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function ja(s,e,t){return e&&Ua(s.prototype,e),s}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tt,hi,Vt,_o,Eo,nn,wr,ko,Pn,Cr,go,no,br,_r=function(){return Tt||typeof window<"u"&&(Tt=window.gsap)&&Tt.registerPlugin&&Tt},Er=1,tn=[],ot=[],po=[],Sn=Date.now,is=function(e,t){return t},Ga=function(){var e=Pn.core,t=e.bridge||{},n=e._scrollers,o=e._proxies;n.push.apply(n,ot),o.push.apply(o,po),ot=n,po=o,is=function(r,a){return t[r](a)}},To=function(e,t){return~po.indexOf(e)&&po[po.indexOf(e)+1][t]},An=function(e){return!!~Cr.indexOf(e)},kt=function(e,t,n,o,i){return e.addEventListener(t,n,{passive:o!==!1,capture:!!i})},Rt=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Xn="scrollLeft",$n="scrollTop",ss=function(){return go&&go.isPressed||ot.cache++},bi=function(e,t){var n=function o(i){if(i||i===0){Er&&(Vt.history.scrollRestoration="manual");var r=go&&go.isPressed;i=o.v=Math.round(i)||(go&&go.iOS?1:0),e(i),o.cacheID=ot.cache,r&&is("ss",i)}else(t||ot.cache!==o.cacheID||is("ref"))&&(o.cacheID=ot.cache,o.v=e());return o.v+o.offset};return n.offset=0,e&&n},zt={s:Xn,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:bi(function(s){return arguments.length?Vt.scrollTo(s,bt.sc()):Vt.pageXOffset||_o[Xn]||Eo[Xn]||nn[Xn]||0})},bt={s:$n,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:zt,sc:bi(function(s){return arguments.length?Vt.scrollTo(zt.sc(),s):Vt.pageYOffset||_o[$n]||Eo[$n]||nn[$n]||0})},Nt=function(e,t){return(t&&t._ctx&&t._ctx.selector||Tt.utils.toArray)(e)[0]||(typeof e=="string"&&Tt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Mo=function(e,t){var n=t.s,o=t.sc;An(e)&&(e=_o.scrollingElement||Eo);var i=ot.indexOf(e),r=o===bt.sc?1:2;!~i&&(i=ot.push(e)-1),ot[i+r]||kt(e,"scroll",ss);var a=ot[i+r],u=a||(ot[i+r]=bi(To(e,n),!0)||(An(e)?o:bi(function(l){return arguments.length?e[n]=l:e[n]})));return u.target=e,a||(u.smooth=Tt.getProperty(e,"scrollBehavior")==="smooth"),u},rs=function(e,t,n){var o=e,i=e,r=Sn(),a=r,u=t||50,l=Math.max(500,u*3),g=function(p,d){var D=Sn();d||D-r>u?(i=o,o=p,a=r,r=D):n?o+=p:o=i+(p-i)/(D-a)*(r-a)},c=function(){i=o=n?0:o,a=r=0},h=function(p){var d=a,D=i,v=Sn();return(p||p===0)&&p!==o&&g(p),r===a||v-a>l?0:(o+(n?D:-D))/((n?v:r)-d)*1e3};return{update:g,reset:c,getVelocity:h}},gn=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},ks=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Fr=function(){Pn=Tt.core.globals().ScrollTrigger,Pn&&Pn.core&&Ga()},Tr=function(e){return Tt=e||_r(),!hi&&Tt&&typeof document<"u"&&document.body&&(Vt=window,_o=document,Eo=_o.documentElement,nn=_o.body,Cr=[Vt,_o,Eo,nn],Tt.utils.clamp,br=Tt.core.context||function(){},ko="onpointerenter"in nn?"pointer":"mouse",wr=Dt.isTouch=Vt.matchMedia&&Vt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Vt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,no=Dt.eventTypes=("ontouchstart"in Eo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Eo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Er=0},500),Fr(),hi=1),hi};zt.op=bt;ot.cache=0;var Dt=function(){function s(t){this.init(t)}var e=s.prototype;return e.init=function(n){hi||Tr(Tt)||console.warn("Please gsap.registerPlugin(Observer)"),Pn||Fr();var o=n.tolerance,i=n.dragMinimum,r=n.type,a=n.target,u=n.lineHeight,l=n.debounce,g=n.preventDefault,c=n.onStop,h=n.onStopDelay,f=n.ignore,p=n.wheelSpeed,d=n.event,D=n.onDragStart,v=n.onDragEnd,y=n.onDrag,F=n.onPress,C=n.onRelease,B=n.onRight,M=n.onLeft,b=n.onUp,W=n.onDown,w=n.onChangeX,E=n.onChangeY,_=n.onChange,S=n.onToggleX,I=n.onToggleY,te=n.onHover,Y=n.onHoverEnd,le=n.onMove,U=n.ignoreCheck,ue=n.isNormalizer,$=n.onGestureStart,m=n.onGestureEnd,Z=n.onWheel,ie=n.onEnable,q=n.onDisable,we=n.onClick,Ze=n.scrollSpeed,ze=n.capture,We=n.allowClicks,je=n.lockAxis,Ie=n.onLockAxis;this.target=a=Nt(a)||Eo,this.vars=n,f&&(f=Tt.utils.toArray(f)),o=o||1e-9,i=i||0,p=p||1,Ze=Ze||1,r=r||"wheel,touch,pointer",l=l!==!1,u||(u=parseFloat(Vt.getComputedStyle(nn).lineHeight)||22);var Oe,R,Fe,re,fe,Ce,Ae,x=this,be=0,ke=0,Ne=n.passive||!g&&n.passive!==!1,Ye=Mo(a,zt),ft=Mo(a,bt),H=Ye(),oe=ft(),X=~r.indexOf("touch")&&!~r.indexOf("pointer")&&no[0]==="pointerdown",L=An(a),O=a.ownerDocument||_o,he=[0,0,0],Me=[0,0,0],Qe=0,T=function(){return Qe=Sn()},k=function(G,Se){return(x.event=G)&&f&&~f.indexOf(G.target)||Se&&X&&G.pointerType!=="touch"||U&&U(G,Se)},P=function(){x._vx.reset(),x._vy.reset(),R.pause(),c&&c(x)},se=function(){var G=x.deltaX=ks(he),Se=x.deltaY=ks(Me),N=Math.abs(G)>=o,Ee=Math.abs(Se)>=o;_&&(N||Ee)&&_(x,G,Se,he,Me),N&&(B&&x.deltaX>0&&B(x),M&&x.deltaX<0&&M(x),w&&w(x),S&&x.deltaX<0!=be<0&&S(x),be=x.deltaX,he[0]=he[1]=he[2]=0),Ee&&(W&&x.deltaY>0&&W(x),b&&x.deltaY<0&&b(x),E&&E(x),I&&x.deltaY<0!=ke<0&&I(x),ke=x.deltaY,Me[0]=Me[1]=Me[2]=0),(re||Fe)&&(le&&le(x),Fe&&(D&&Fe===1&&D(x),y&&y(x),Fe=0),re=!1),Ce&&!(Ce=!1)&&Ie&&Ie(x),fe&&(Z(x),fe=!1),Oe=0},V=function(G,Se,N){he[N]+=G,Me[N]+=Se,x._vx.update(G),x._vy.update(Se),l?Oe||(Oe=requestAnimationFrame(se)):se()},ve=function(G,Se){je&&!Ae&&(x.axis=Ae=Math.abs(G)>Math.abs(Se)?"x":"y",Ce=!0),Ae!=="y"&&(he[2]+=G,x._vx.update(G,!0)),Ae!=="x"&&(Me[2]+=Se,x._vy.update(Se,!0)),l?Oe||(Oe=requestAnimationFrame(se)):se()},De=function(G){if(!k(G,1)){G=gn(G,g);var Se=G.clientX,N=G.clientY,Ee=Se-x.x,J=N-x.y,j=x.isDragging;x.x=Se,x.y=N,(j||(Ee||J)&&(Math.abs(x.startX-Se)>=i||Math.abs(x.startY-N)>=i))&&(Fe=j?2:1,j||(x.isDragging=!0),ve(Ee,J))}},z=x.onPress=function(_e){k(_e,1)||_e&&_e.button||(x.axis=Ae=null,R.pause(),x.isPressed=!0,_e=gn(_e),be=ke=0,x.startX=x.x=_e.clientX,x.startY=x.y=_e.clientY,x._vx.reset(),x._vy.reset(),kt(ue?a:O,no[1],De,Ne,!0),x.deltaX=x.deltaY=0,F&&F(x))},A=x.onRelease=function(_e){if(!k(_e,1)){Rt(ue?a:O,no[1],De,!0);var G=!isNaN(x.y-x.startY),Se=x.isDragging,N=Se&&(Math.abs(x.x-x.startX)>3||Math.abs(x.y-x.startY)>3),Ee=gn(_e);!N&&G&&(x._vx.reset(),x._vy.reset(),g&&We&&Tt.delayedCall(.08,function(){if(Sn()-Qe>300&&!_e.defaultPrevented){if(_e.target.click)_e.target.click();else if(O.createEvent){var J=O.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,Vt,1,Ee.screenX,Ee.screenY,Ee.clientX,Ee.clientY,!1,!1,!1,!1,0,null),_e.target.dispatchEvent(J)}}})),x.isDragging=x.isGesturing=x.isPressed=!1,c&&Se&&!ue&&R.restart(!0),Fe&&se(),v&&Se&&v(x),C&&C(x,N)}},Pe=function(G){return G.touches&&G.touches.length>1&&(x.isGesturing=!0)&&$(G,x.isDragging)},pe=function(){return(x.isGesturing=!1)||m(x)},Ge=function(G){if(!k(G)){var Se=Ye(),N=ft();V((Se-H)*Ze,(N-oe)*Ze,1),H=Se,oe=N,c&&R.restart(!0)}},ne=function(G){if(!k(G)){G=gn(G,g),Z&&(fe=!0);var Se=(G.deltaMode===1?u:G.deltaMode===2?Vt.innerHeight:1)*p;V(G.deltaX*Se,G.deltaY*Se,0),c&&!ue&&R.restart(!0)}},Te=function(G){if(!k(G)){var Se=G.clientX,N=G.clientY,Ee=Se-x.x,J=N-x.y;x.x=Se,x.y=N,re=!0,c&&R.restart(!0),(Ee||J)&&ve(Ee,J)}},vt=function(G){x.event=G,te(x)},pt=function(G){x.event=G,Y(x)},Bt=function(G){return k(G)||gn(G,g)&&we(x)};R=x._dc=Tt.delayedCall(h||.25,P).pause(),x.deltaX=x.deltaY=0,x._vx=rs(0,50,!0),x._vy=rs(0,50,!0),x.scrollX=Ye,x.scrollY=ft,x.isDragging=x.isGesturing=x.isPressed=!1,br(this),x.enable=function(_e){return x.isEnabled||(kt(L?O:a,"scroll",ss),r.indexOf("scroll")>=0&&kt(L?O:a,"scroll",Ge,Ne,ze),r.indexOf("wheel")>=0&&kt(a,"wheel",ne,Ne,ze),(r.indexOf("touch")>=0&&wr||r.indexOf("pointer")>=0)&&(kt(a,no[0],z,Ne,ze),kt(O,no[2],A),kt(O,no[3],A),We&&kt(a,"click",T,!0,!0),we&&kt(a,"click",Bt),$&&kt(O,"gesturestart",Pe),m&&kt(O,"gestureend",pe),te&&kt(a,ko+"enter",vt),Y&&kt(a,ko+"leave",pt),le&&kt(a,ko+"move",Te)),x.isEnabled=!0,x.isDragging=x.isGesturing=x.isPressed=re=Fe=!1,x._vx.reset(),x._vy.reset(),H=Ye(),oe=ft(),_e&&_e.type&&z(_e),ie&&ie(x)),x},x.disable=function(){x.isEnabled&&(tn.filter(function(_e){return _e!==x&&An(_e.target)}).length||Rt(L?O:a,"scroll",ss),x.isPressed&&(x._vx.reset(),x._vy.reset(),Rt(ue?a:O,no[1],De,!0)),Rt(L?O:a,"scroll",Ge,ze),Rt(a,"wheel",ne,ze),Rt(a,no[0],z,ze),Rt(O,no[2],A),Rt(O,no[3],A),Rt(a,"click",T,!0),Rt(a,"click",Bt),Rt(O,"gesturestart",Pe),Rt(O,"gestureend",pe),Rt(a,ko+"enter",vt),Rt(a,ko+"leave",pt),Rt(a,ko+"move",Te),x.isEnabled=x.isPressed=x.isDragging=!1,q&&q(x))},x.kill=x.revert=function(){x.disable();var _e=tn.indexOf(x);_e>=0&&tn.splice(_e,1),go===x&&(go=0)},tn.push(x),ue&&An(a)&&(go=x),x.enable(d)},ja(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();Dt.version="3.12.7";Dt.create=function(s){return new Dt(s)};Dt.register=Tr;Dt.getAll=function(){return tn.slice()};Dt.getById=function(s){return tn.filter(function(e){return e.vars.id===s})[0]};_r()&&Tt.registerPlugin(Dt);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var de,Qo,tt,lt,Gt,rt,Cs,_i,jn,Bn,xn,Zn,Pt,ki,as,It,Ls,Is,Ko,Mr,Ni,Pr,Lt,ls,Sr,Ar,Co,us,bs,sn,_s,Ei,cs,Hi,qn=1,St=Date.now,Ui=St(),oo=0,yn=0,Os=function(e,t,n){var o=jt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=o,o?e.substr(6,e.length-7):e},zs=function(e,t){return t&&(!jt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Va=function s(){return yn&&requestAnimationFrame(s)},Ns=function(){return ki=1},Hs=function(){return ki=0},uo=function(e){return e},wn=function(e){return Math.round(e*1e5)/1e5||0},Br=function(){return typeof window<"u"},Rr=function(){return de||Br()&&(de=window.gsap)&&de.registerPlugin&&de},Yo=function(e){return!!~Cs.indexOf(e)},kr=function(e){return(e==="Height"?_s:tt["inner"+e])||Gt["client"+e]||rt["client"+e]},Lr=function(e){return To(e,"getBoundingClientRect")||(Yo(e)?function(){return xi.width=tt.innerWidth,xi.height=_s,xi}:function(){return ho(e)})},Wa=function(e,t,n){var o=n.d,i=n.d2,r=n.a;return(r=To(e,"getBoundingClientRect"))?function(){return r()[o]}:function(){return(t?kr(i):e["client"+i])||0}},Ya=function(e,t){return!t||~po.indexOf(e)?Lr(e):function(){return xi}},fo=function(e,t){var n=t.s,o=t.d2,i=t.d,r=t.a;return Math.max(0,(n="scroll"+o)&&(r=To(e,n))?r()-Lr(e)()[i]:Yo(e)?(Gt[n]||rt[n])-kr(o):e[n]-e["offset"+o])},Jn=function(e,t){for(var n=0;n<Ko.length;n+=3)(!t||~t.indexOf(Ko[n+1]))&&e(Ko[n],Ko[n+1],Ko[n+2])},jt=function(e){return typeof e=="string"},At=function(e){return typeof e=="function"},Cn=function(e){return typeof e=="number"},Lo=function(e){return typeof e=="object"},mn=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},ji=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},qo=Math.abs,Ir="left",Or="top",Es="right",Fs="bottom",Uo="width",jo="height",Rn="Right",kn="Left",Ln="Top",In="Bottom",gt="padding",Jt="margin",cn="Width",Ts="Height",Ct="px",Qt=function(e){return tt.getComputedStyle(e)},Xa=function(e){var t=Qt(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},Us=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ho=function(e,t){var n=t&&Qt(e)[as]!=="matrix(1, 0, 0, 1, 0, 0)"&&de.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return n&&n.progress(0).kill(),o},Fi=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},zr=function(e){var t=[],n=e.labels,o=e.duration(),i;for(i in n)t.push(n[i]/o);return t},$a=function(e){return function(t){return de.utils.snap(zr(e),t)}},Ms=function(e){var t=de.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(o,i){return o-i});return n?function(o,i,r){r===void 0&&(r=.001);var a;if(!i)return t(o);if(i>0){for(o-=r,a=0;a<n.length;a++)if(n[a]>=o)return n[a];return n[a-1]}else for(a=n.length,o+=r;a--;)if(n[a]<=o)return n[a];return n[0]}:function(o,i,r){r===void 0&&(r=.001);var a=t(o);return!i||Math.abs(a-o)<r||a-o<0==i<0?a:t(i<0?o-e:o+e)}},Za=function(e){return function(t,n){return Ms(zr(e))(t,n.direction)}},Qn=function(e,t,n,o){return n.split(",").forEach(function(i){return e(t,i,o)})},Et=function(e,t,n,o,i){return e.addEventListener(t,n,{passive:!o,capture:!!i})},_t=function(e,t,n,o){return e.removeEventListener(t,n,!!o)},Kn=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},js={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ei={toggleActions:"play",anticipatePin:0},Ti={top:0,left:0,center:.5,bottom:1,right:1},Di=function(e,t){if(jt(e)){var n=e.indexOf("="),o=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(o*=t/100),e=e.substr(0,n-1)),e=o+(e in Ti?Ti[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},ti=function(e,t,n,o,i,r,a,u){var l=i.startColor,g=i.endColor,c=i.fontSize,h=i.indent,f=i.fontWeight,p=lt.createElement("div"),d=Yo(n)||To(n,"pinType")==="fixed",D=e.indexOf("scroller")!==-1,v=d?rt:n,y=e.indexOf("start")!==-1,F=y?l:g,C="border-color:"+F+";font-size:"+c+";color:"+F+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((D||u)&&d?"fixed;":"absolute;"),(D||u||!d)&&(C+=(o===bt?Es:Fs)+":"+(r+parseFloat(h))+"px;"),a&&(C+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=y,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=C,p.innerText=t||t===0?e+"-"+t:e,v.children[0]?v.insertBefore(p,v.children[0]):v.appendChild(p),p._offset=p["offset"+o.op.d2],gi(p,0,o,y),p},gi=function(e,t,n,o){var i={display:"block"},r=n[o?"os2":"p2"],a=n[o?"p2":"os2"];e._isFlipped=o,i[n.a+"Percent"]=o?-100:0,i[n.a]=o?"1px":0,i["border"+r+cn]=1,i["border"+a+cn]=0,i[n.p]=t+"px",de.set(e,i)},et=[],fs={},Gn,Gs=function(){return St()-oo>34&&(Gn||(Gn=requestAnimationFrame(vo)))},Jo=function(){(!Lt||!Lt.isPressed||Lt.startX>rt.clientWidth)&&(ot.cache++,Lt?Gn||(Gn=requestAnimationFrame(vo)):vo(),oo||$o("scrollStart"),oo=St())},Gi=function(){Ar=tt.innerWidth,Sr=tt.innerHeight},bn=function(e){ot.cache++,(e===!0||!Pt&&!Pr&&!lt.fullscreenElement&&!lt.webkitFullscreenElement&&(!ls||Ar!==tt.innerWidth||Math.abs(tt.innerHeight-Sr)>tt.innerHeight*.25))&&_i.restart(!0)},Xo={},qa=[],Nr=function s(){return _t(Ve,"scrollEnd",s)||zo(!0)},$o=function(e){return Xo[e]&&Xo[e].map(function(t){return t()})||qa},Ut=[],Hr=function(e){for(var t=0;t<Ut.length;t+=5)(!e||Ut[t+4]&&Ut[t+4].query===e)&&(Ut[t].style.cssText=Ut[t+1],Ut[t].getBBox&&Ut[t].setAttribute("transform",Ut[t+2]||""),Ut[t+3].uncache=1)},Ps=function(e,t){var n;for(It=0;It<et.length;It++)n=et[It],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));Ei=!0,t&&Hr(t),t||$o("revert")},Ur=function(e,t){ot.cache++,(t||!Ot)&&ot.forEach(function(n){return At(n)&&n.cacheID++&&(n.rec=0)}),jt(e)&&(tt.history.scrollRestoration=bs=e)},Ot,Go=0,Vs,Ja=function(){if(Vs!==Go){var e=Vs=Go;requestAnimationFrame(function(){return e===Go&&zo(!0)})}},jr=function(){rt.appendChild(sn),_s=!Lt&&sn.offsetHeight||tt.innerHeight,rt.removeChild(sn)},Ws=function(e){return jn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},zo=function(e,t){if(Gt=lt.documentElement,rt=lt.body,Cs=[tt,lt,Gt,rt],oo&&!e&&!Ei){Et(Ve,"scrollEnd",Nr);return}jr(),Ot=Ve.isRefreshing=!0,ot.forEach(function(o){return At(o)&&++o.cacheID&&(o.rec=o())});var n=$o("refreshInit");Mr&&Ve.sort(),t||Ps(),ot.forEach(function(o){At(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),et.slice(0).forEach(function(o){return o.refresh()}),Ei=!1,et.forEach(function(o){if(o._subPinOffset&&o.pin){var i=o.vars.horizontal?"offsetWidth":"offsetHeight",r=o.pin[i];o.revert(!0,1),o.adjustPinSpacing(o.pin[i]-r),o.refresh()}}),cs=1,Ws(!0),et.forEach(function(o){var i=fo(o.scroller,o._dir),r=o.vars.end==="max"||o._endClamp&&o.end>i,a=o._startClamp&&o.start>=i;(r||a)&&o.setPositions(a?i-1:o.start,r?Math.max(a?i:o.start+1,i):o.end,!0)}),Ws(!1),cs=0,n.forEach(function(o){return o&&o.render&&o.render(-1)}),ot.forEach(function(o){At(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),Ur(bs,1),_i.pause(),Go++,Ot=2,vo(2),et.forEach(function(o){return At(o.vars.onRefresh)&&o.vars.onRefresh(o)}),Ot=Ve.isRefreshing=!1,$o("refresh")},ps=0,mi=1,On,vo=function(e){if(e===2||!Ot&&!Ei){Ve.isUpdating=!0,On&&On.update(0);var t=et.length,n=St(),o=n-Ui>=50,i=t&&et[0].scroll();if(mi=ps>i?-1:1,Ot||(ps=i),o&&(oo&&!ki&&n-oo>200&&(oo=0,$o("scrollEnd")),xn=Ui,Ui=n),mi<0){for(It=t;It-- >0;)et[It]&&et[It].update(0,o);mi=1}else for(It=0;It<t;It++)et[It]&&et[It].update(0,o);Ve.isUpdating=!1}Gn=0},ds=[Ir,Or,Fs,Es,Jt+In,Jt+Rn,Jt+Ln,Jt+kn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],vi=ds.concat([Uo,jo,"boxSizing","max"+cn,"max"+Ts,"position",Jt,gt,gt+Ln,gt+Rn,gt+In,gt+kn]),Qa=function(e,t,n){rn(n);var o=e._gsap;if(o.spacerIsNative)rn(o.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},Vi=function(e,t,n,o){if(!e._gsap.swappedIn){for(var i=ds.length,r=t.style,a=e.style,u;i--;)u=ds[i],r[u]=n[u];r.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(r.display="inline-block"),a[Fs]=a[Es]="auto",r.flexBasis=n.flexBasis||"auto",r.overflow="visible",r.boxSizing="border-box",r[Uo]=Fi(e,zt)+Ct,r[jo]=Fi(e,bt)+Ct,r[gt]=a[Jt]=a[Or]=a[Ir]="0",rn(o),a[Uo]=a["max"+cn]=n[Uo],a[jo]=a["max"+Ts]=n[jo],a[gt]=n[gt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Ka=/([A-Z])/g,rn=function(e){if(e){var t=e.t.style,n=e.length,o=0,i,r;for((e.t._gsap||de.core.getCache(e.t)).uncache=1;o<n;o+=2)r=e[o+1],i=e[o],r?t[i]=r:t[i]&&t.removeProperty(i.replace(Ka,"-$1").toLowerCase())}},oi=function(e){for(var t=vi.length,n=e.style,o=[],i=0;i<t;i++)o.push(vi[i],n[vi[i]]);return o.t=e,o},el=function(e,t,n){for(var o=[],i=e.length,r=n?8:0,a;r<i;r+=2)a=e[r],o.push(a,a in t?t[a]:e[r+1]);return o.t=e.t,o},xi={left:0,top:0},Ys=function(e,t,n,o,i,r,a,u,l,g,c,h,f,p){At(e)&&(e=e(u)),jt(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?Di("0"+e.substr(3),n):0));var d=f?f.time():0,D,v,y;if(f&&f.seek(0),isNaN(e)||(e=+e),Cn(e))f&&(e=de.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,h,e)),a&&gi(a,n,o,!0);else{At(t)&&(t=t(u));var F=(e||"0").split(" "),C,B,M,b;y=Nt(t,u)||rt,C=ho(y)||{},(!C||!C.left&&!C.top)&&Qt(y).display==="none"&&(b=y.style.display,y.style.display="block",C=ho(y),b?y.style.display=b:y.style.removeProperty("display")),B=Di(F[0],C[o.d]),M=Di(F[1]||"0",n),e=C[o.p]-l[o.p]-g+B+i-M,a&&gi(a,M,o,n-M<20||a._isStart&&M>20),n-=n-M}if(p&&(u[p]=e||-.001,e<0&&(e=0)),r){var W=e+n,w=r._isStart;D="scroll"+o.d2,gi(r,W,o,w&&W>20||!w&&(c?Math.max(rt[D],Gt[D]):r.parentNode[D])<=W+1),c&&(l=ho(a),c&&(r.style[o.op.p]=l[o.op.p]-o.op.m-r._offset+Ct))}return f&&y&&(D=ho(y),f.seek(h),v=ho(y),f._caScrollDist=D[o.p]-v[o.p],e=e/f._caScrollDist*h),f&&f.seek(d),f?e:Math.round(e)},tl=/(webkit|moz|length|cssText|inset)/i,Xs=function(e,t,n,o){if(e.parentNode!==t){var i=e.style,r,a;if(t===rt){e._stOrig=i.cssText,a=Qt(e);for(r in a)!+r&&!tl.test(r)&&a[r]&&typeof i[r]=="string"&&r!=="0"&&(i[r]=a[r]);i.top=n,i.left=o}else i.cssText=e._stOrig;de.core.getCache(e).uncache=1,t.appendChild(e)}},Gr=function(e,t,n){var o=t,i=o;return function(r){var a=Math.round(e());return a!==o&&a!==i&&Math.abs(a-o)>3&&Math.abs(a-i)>3&&(r=a,n&&n()),i=o,o=Math.round(r),o}},ni=function(e,t,n){var o={};o[t.p]="+="+n,de.set(e,o)},$s=function(e,t){var n=Mo(e,t),o="_scroll"+t.p2,i=function r(a,u,l,g,c){var h=r.tween,f=u.onComplete,p={};l=l||n();var d=Gr(n,l,function(){h.kill(),r.tween=0});return c=g&&c||0,g=g||a-l,h&&h.kill(),u[o]=a,u.inherit=!1,u.modifiers=p,p[o]=function(){return d(l+g*h.ratio+c*h.ratio*h.ratio)},u.onUpdate=function(){ot.cache++,r.tween&&vo()},u.onComplete=function(){r.tween=0,f&&f.call(h)},h=r.tween=de.to(e,u),h};return e[o]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Et(e,"wheel",n.wheelHandler),Ve.isTouch&&Et(e,"touchmove",n.wheelHandler),i},Ve=function(){function s(t,n){Qo||s.register(de)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),us(this),this.init(t,n)}var e=s.prototype;return e.init=function(n,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!yn){this.update=this.refresh=this.kill=uo;return}n=Us(jt(n)||Cn(n)||n.nodeType?{trigger:n}:n,ei);var i=n,r=i.onUpdate,a=i.toggleClass,u=i.id,l=i.onToggle,g=i.onRefresh,c=i.scrub,h=i.trigger,f=i.pin,p=i.pinSpacing,d=i.invalidateOnRefresh,D=i.anticipatePin,v=i.onScrubComplete,y=i.onSnapComplete,F=i.once,C=i.snap,B=i.pinReparent,M=i.pinSpacer,b=i.containerAnimation,W=i.fastScrollEnd,w=i.preventOverlaps,E=n.horizontal||n.containerAnimation&&n.horizontal!==!1?zt:bt,_=!c&&c!==0,S=Nt(n.scroller||tt),I=de.core.getCache(S),te=Yo(S),Y=("pinType"in n?n.pinType:To(S,"pinType")||te&&"fixed")==="fixed",le=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],U=_&&n.toggleActions.split(" "),ue="markers"in n?n.markers:ei.markers,$=te?0:parseFloat(Qt(S)["border"+E.p2+cn])||0,m=this,Z=n.onRefreshInit&&function(){return n.onRefreshInit(m)},ie=Wa(S,te,E),q=Ya(S,te),we=0,Ze=0,ze=0,We=Mo(S,E),je,Ie,Oe,R,Fe,re,fe,Ce,Ae,x,be,ke,Ne,Ye,ft,H,oe,X,L,O,he,Me,Qe,T,k,P,se,V,ve,De,z,A,Pe,pe,Ge,ne,Te,vt,pt;if(m._startClamp=m._endClamp=!1,m._dir=E,D*=45,m.scroller=S,m.scroll=b?b.time.bind(b):We,R=We(),m.vars=n,o=o||n.animation,"refreshPriority"in n&&(Mr=1,n.refreshPriority===-9999&&(On=m)),I.tweenScroll=I.tweenScroll||{top:$s(S,bt),left:$s(S,zt)},m.tweenTo=je=I.tweenScroll[E.p],m.scrubDuration=function(N){Pe=Cn(N)&&N,Pe?A?A.duration(N):A=de.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Pe,paused:!0,onComplete:function(){return v&&v(m)}}):(A&&A.progress(1).kill(),A=0)},o&&(o.vars.lazy=!1,o._initted&&!m.isReverted||o.vars.immediateRender!==!1&&n.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),m.animation=o.pause(),o.scrollTrigger=m,m.scrubDuration(c),De=0,u||(u=o.vars.id)),C&&((!Lo(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in rt.style&&de.set(te?[rt,Gt]:S,{scrollBehavior:"auto"}),ot.forEach(function(N){return At(N)&&N.target===(te?lt.scrollingElement||Gt:S)&&(N.smooth=!1)}),Oe=At(C.snapTo)?C.snapTo:C.snapTo==="labels"?$a(o):C.snapTo==="labelsDirectional"?Za(o):C.directional!==!1?function(N,Ee){return Ms(C.snapTo)(N,St()-Ze<500?0:Ee.direction)}:de.utils.snap(C.snapTo),pe=C.duration||{min:.1,max:2},pe=Lo(pe)?Bn(pe.min,pe.max):Bn(pe,pe),Ge=de.delayedCall(C.delay||Pe/2||.1,function(){var N=We(),Ee=St()-Ze<500,J=je.tween;if((Ee||Math.abs(m.getVelocity())<10)&&!J&&!ki&&we!==N){var j=(N-re)/Ye,ee=o&&!_?o.totalProgress():j,me=Ee?0:(ee-z)/(St()-xn)*1e3||0,xe=de.utils.clamp(-j,1-j,qo(me/2)*me/.185),Be=j+(C.inertia===!1?0:xe),Q,ye,ae=C,nt=ae.onStart,ce=ae.onInterrupt,Le=ae.onComplete;if(Q=Oe(Be,m),Cn(Q)||(Q=Be),ye=Math.max(0,Math.round(re+Q*Ye)),N<=fe&&N>=re&&ye!==N){if(J&&!J._initted&&J.data<=qo(ye-N))return;C.inertia===!1&&(xe=Q-j),je(ye,{duration:pe(qo(Math.max(qo(Be-ee),qo(Q-ee))*.185/me/.05||0)),ease:C.ease||"power3",data:qo(ye-N),onInterrupt:function(){return Ge.restart(!0)&&ce&&ce(m)},onComplete:function(){m.update(),we=We(),o&&!_&&(A?A.resetTo("totalProgress",Q,o._tTime/o._tDur):o.progress(Q)),De=z=o&&!_?o.totalProgress():m.progress,y&&y(m),Le&&Le(m)}},N,xe*Ye,ye-N-xe*Ye),nt&&nt(m,je.tween)}}else m.isActive&&we!==N&&Ge.restart(!0)}).pause()),u&&(fs[u]=m),h=m.trigger=Nt(h||f!==!0&&f),pt=h&&h._gsap&&h._gsap.stRevert,pt&&(pt=pt(m)),f=f===!0?h:Nt(f),jt(a)&&(a={targets:h,className:a}),f&&(p===!1||p===Jt||(p=!p&&f.parentNode&&f.parentNode.style&&Qt(f.parentNode).display==="flex"?!1:gt),m.pin=f,Ie=de.core.getCache(f),Ie.spacer?ft=Ie.pinState:(M&&(M=Nt(M),M&&!M.nodeType&&(M=M.current||M.nativeElement),Ie.spacerIsNative=!!M,M&&(Ie.spacerState=oi(M))),Ie.spacer=X=M||lt.createElement("div"),X.classList.add("pin-spacer"),u&&X.classList.add("pin-spacer-"+u),Ie.pinState=ft=oi(f)),n.force3D!==!1&&de.set(f,{force3D:!0}),m.spacer=X=Ie.spacer,ve=Qt(f),T=ve[p+E.os2],O=de.getProperty(f),he=de.quickSetter(f,E.a,Ct),Vi(f,X,ve),oe=oi(f)),ue){ke=Lo(ue)?Us(ue,js):js,x=ti("scroller-start",u,S,E,ke,0),be=ti("scroller-end",u,S,E,ke,0,x),L=x["offset"+E.op.d2];var Bt=Nt(To(S,"content")||S);Ce=this.markerStart=ti("start",u,Bt,E,ke,L,0,b),Ae=this.markerEnd=ti("end",u,Bt,E,ke,L,0,b),b&&(vt=de.quickSetter([Ce,Ae],E.a,Ct)),!Y&&!(po.length&&To(S,"fixedMarkers")===!0)&&(Xa(te?rt:S),de.set([x,be],{force3D:!0}),P=de.quickSetter(x,E.a,Ct),V=de.quickSetter(be,E.a,Ct))}if(b){var _e=b.vars.onUpdate,G=b.vars.onUpdateParams;b.eventCallback("onUpdate",function(){m.update(0,0,1),_e&&_e.apply(b,G||[])})}if(m.previous=function(){return et[et.indexOf(m)-1]},m.next=function(){return et[et.indexOf(m)+1]},m.revert=function(N,Ee){if(!Ee)return m.kill(!0);var J=N!==!1||!m.enabled,j=Pt;J!==m.isReverted&&(J&&(ne=Math.max(We(),m.scroll.rec||0),ze=m.progress,Te=o&&o.progress()),Ce&&[Ce,Ae,x,be].forEach(function(ee){return ee.style.display=J?"none":"block"}),J&&(Pt=m,m.update(J)),f&&(!B||!m.isActive)&&(J?Qa(f,X,ft):Vi(f,X,Qt(f),k)),J||m.update(J),Pt=j,m.isReverted=J)},m.refresh=function(N,Ee,J,j){if(!((Pt||!m.enabled)&&!Ee)){if(f&&N&&oo){Et(s,"scrollEnd",Nr);return}!Ot&&Z&&Z(m),Pt=m,je.tween&&!J&&(je.tween.kill(),je.tween=0),A&&A.pause(),d&&o&&o.revert({kill:!1}).invalidate(),m.isReverted||m.revert(!0,!0),m._subPinOffset=!1;var ee=ie(),me=q(),xe=b?b.duration():fo(S,E),Be=Ye<=.01,Q=0,ye=j||0,ae=Lo(J)?J.end:n.end,nt=n.endTrigger||h,ce=Lo(J)?J.start:n.start||(n.start===0||!h?0:f?"0 0":"0 100%"),Le=m.pinnedContainer=n.pinnedContainer&&Nt(n.pinnedContainer,m),qe=h&&Math.max(0,et.indexOf(m))||0,Xe=qe,Je,Ke,ro,So,xt,dt,Yt,Dn,Ao,ut,yt,Mt,wt;for(ue&&Lo(J)&&(Mt=de.getProperty(x,E.p),wt=de.getProperty(be,E.p));Xe-- >0;)dt=et[Xe],dt.end||dt.refresh(0,1)||(Pt=m),Yt=dt.pin,Yt&&(Yt===h||Yt===f||Yt===Le)&&!dt.isReverted&&(ut||(ut=[]),ut.unshift(dt),dt.revert(!0,!0)),dt!==et[Xe]&&(qe--,Xe--);for(At(ce)&&(ce=ce(m)),ce=Os(ce,"start",m),re=Ys(ce,h,ee,E,We(),Ce,x,m,me,$,Y,xe,b,m._startClamp&&"_startClamp")||(f?-.001:0),At(ae)&&(ae=ae(m)),jt(ae)&&!ae.indexOf("+=")&&(~ae.indexOf(" ")?ae=(jt(ce)?ce.split(" ")[0]:"")+ae:(Q=Di(ae.substr(2),ee),ae=jt(ce)?ce:(b?de.utils.mapRange(0,b.duration(),b.scrollTrigger.start,b.scrollTrigger.end,re):re)+Q,nt=h)),ae=Os(ae,"end",m),fe=Math.max(re,Ys(ae||(nt?"100% 0":xe),nt,ee,E,We()+Q,Ae,be,m,me,$,Y,xe,b,m._endClamp&&"_endClamp"))||-.001,Q=0,Xe=qe;Xe--;)dt=et[Xe],Yt=dt.pin,Yt&&dt.start-dt._pinPush<=re&&!b&&dt.end>0&&(Je=dt.end-(m._startClamp?Math.max(0,dt.start):dt.start),(Yt===h&&dt.start-dt._pinPush<re||Yt===Le)&&isNaN(ce)&&(Q+=Je*(1-dt.progress)),Yt===f&&(ye+=Je));if(re+=Q,fe+=Q,m._startClamp&&(m._startClamp+=Q),m._endClamp&&!Ot&&(m._endClamp=fe||-.001,fe=Math.min(fe,fo(S,E))),Ye=fe-re||(re-=.01)&&.001,Be&&(ze=de.utils.clamp(0,1,de.utils.normalize(re,fe,ne))),m._pinPush=ye,Ce&&Q&&(Je={},Je[E.a]="+="+Q,Le&&(Je[E.p]="-="+We()),de.set([Ce,Ae],Je)),f&&!(cs&&m.end>=fo(S,E)))Je=Qt(f),So=E===bt,ro=We(),Me=parseFloat(O(E.a))+ye,!xe&&fe>1&&(yt=(te?lt.scrollingElement||Gt:S).style,yt={style:yt,value:yt["overflow"+E.a.toUpperCase()]},te&&Qt(rt)["overflow"+E.a.toUpperCase()]!=="scroll"&&(yt.style["overflow"+E.a.toUpperCase()]="scroll")),Vi(f,X,Je),oe=oi(f),Ke=ho(f,!0),Dn=Y&&Mo(S,So?zt:bt)(),p?(k=[p+E.os2,Ye+ye+Ct],k.t=X,Xe=p===gt?Fi(f,E)+Ye+ye:0,Xe&&(k.push(E.d,Xe+Ct),X.style.flexBasis!=="auto"&&(X.style.flexBasis=Xe+Ct)),rn(k),Le&&et.forEach(function(ao){ao.pin===Le&&ao.vars.pinSpacing!==!1&&(ao._subPinOffset=!0)}),Y&&We(ne)):(Xe=Fi(f,E),Xe&&X.style.flexBasis!=="auto"&&(X.style.flexBasis=Xe+Ct)),Y&&(xt={top:Ke.top+(So?ro-re:Dn)+Ct,left:Ke.left+(So?Dn:ro-re)+Ct,boxSizing:"border-box",position:"fixed"},xt[Uo]=xt["max"+cn]=Math.ceil(Ke.width)+Ct,xt[jo]=xt["max"+Ts]=Math.ceil(Ke.height)+Ct,xt[Jt]=xt[Jt+Ln]=xt[Jt+Rn]=xt[Jt+In]=xt[Jt+kn]="0",xt[gt]=Je[gt],xt[gt+Ln]=Je[gt+Ln],xt[gt+Rn]=Je[gt+Rn],xt[gt+In]=Je[gt+In],xt[gt+kn]=Je[gt+kn],H=el(ft,xt,B),Ot&&We(0)),o?(Ao=o._initted,Ni(1),o.render(o.duration(),!0,!0),Qe=O(E.a)-Me+Ye+ye,se=Math.abs(Ye-Qe)>1,Y&&se&&H.splice(H.length-2,2),o.render(0,!0,!0),Ao||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),Ni(0)):Qe=Ye,yt&&(yt.value?yt.style["overflow"+E.a.toUpperCase()]=yt.value:yt.style.removeProperty("overflow-"+E.a));else if(h&&We()&&!b)for(Ke=h.parentNode;Ke&&Ke!==rt;)Ke._pinOffset&&(re-=Ke._pinOffset,fe-=Ke._pinOffset),Ke=Ke.parentNode;ut&&ut.forEach(function(ao){return ao.revert(!1,!0)}),m.start=re,m.end=fe,R=Fe=Ot?ne:We(),!b&&!Ot&&(R<ne&&We(ne),m.scroll.rec=0),m.revert(!1,!0),Ze=St(),Ge&&(we=-1,Ge.restart(!0)),Pt=0,o&&_&&(o._initted||Te)&&o.progress()!==Te&&o.progress(Te||0,!0).render(o.time(),!0,!0),(Be||ze!==m.progress||b||d||o&&!o._initted)&&(o&&!_&&o.totalProgress(b&&re<-.001&&!ze?de.utils.normalize(re,fe,0):ze,!0),m.progress=Be||(R-re)/Ye===ze?0:ze),f&&p&&(X._pinOffset=Math.round(m.progress*Qe)),A&&A.invalidate(),isNaN(Mt)||(Mt-=de.getProperty(x,E.p),wt-=de.getProperty(be,E.p),ni(x,E,Mt),ni(Ce,E,Mt-(j||0)),ni(be,E,wt),ni(Ae,E,wt-(j||0))),Be&&!Ot&&m.update(),g&&!Ot&&!Ne&&(Ne=!0,g(m),Ne=!1)}},m.getVelocity=function(){return(We()-Fe)/(St()-xn)*1e3||0},m.endAnimation=function(){mn(m.callbackAnimation),o&&(A?A.progress(1):o.paused()?_||mn(o,m.direction<0,1):mn(o,o.reversed()))},m.labelToScroll=function(N){return o&&o.labels&&(re||m.refresh()||re)+o.labels[N]/o.duration()*Ye||0},m.getTrailing=function(N){var Ee=et.indexOf(m),J=m.direction>0?et.slice(0,Ee).reverse():et.slice(Ee+1);return(jt(N)?J.filter(function(j){return j.vars.preventOverlaps===N}):J).filter(function(j){return m.direction>0?j.end<=re:j.start>=fe})},m.update=function(N,Ee,J){if(!(b&&!J&&!N)){var j=Ot===!0?ne:m.scroll(),ee=N?0:(j-re)/Ye,me=ee<0?0:ee>1?1:ee||0,xe=m.progress,Be,Q,ye,ae,nt,ce,Le,qe;if(Ee&&(Fe=R,R=b?We():j,C&&(z=De,De=o&&!_?o.totalProgress():me)),D&&f&&!Pt&&!qn&&oo&&(!me&&re<j+(j-Fe)/(St()-xn)*D?me=1e-4:me===1&&fe>j+(j-Fe)/(St()-xn)*D&&(me=.9999)),me!==xe&&m.enabled){if(Be=m.isActive=!!me&&me<1,Q=!!xe&&xe<1,ce=Be!==Q,nt=ce||!!me!=!!xe,m.direction=me>xe?1:-1,m.progress=me,nt&&!Pt&&(ye=me&&!xe?0:me===1?1:xe===1?2:3,_&&(ae=!ce&&U[ye+1]!=="none"&&U[ye+1]||U[ye],qe=o&&(ae==="complete"||ae==="reset"||ae in o))),w&&(ce||qe)&&(qe||c||!o)&&(At(w)?w(m):m.getTrailing(w).forEach(function(ro){return ro.endAnimation()})),_||(A&&!Pt&&!qn?(A._dp._time-A._start!==A._time&&A.render(A._dp._time-A._start),A.resetTo?A.resetTo("totalProgress",me,o._tTime/o._tDur):(A.vars.totalProgress=me,A.invalidate().restart())):o&&o.totalProgress(me,!!(Pt&&(Ze||N)))),f){if(N&&p&&(X.style[p+E.os2]=T),!Y)he(wn(Me+Qe*me));else if(nt){if(Le=!N&&me>xe&&fe+1>j&&j+1>=fo(S,E),B)if(!N&&(Be||Le)){var Xe=ho(f,!0),Je=j-re;Xs(f,rt,Xe.top+(E===bt?Je:0)+Ct,Xe.left+(E===bt?0:Je)+Ct)}else Xs(f,X);rn(Be||Le?H:oe),se&&me<1&&Be||he(Me+(me===1&&!Le?Qe:0))}}C&&!je.tween&&!Pt&&!qn&&Ge.restart(!0),a&&(ce||F&&me&&(me<1||!Hi))&&jn(a.targets).forEach(function(ro){return ro.classList[Be||F?"add":"remove"](a.className)}),r&&!_&&!N&&r(m),nt&&!Pt?(_&&(qe&&(ae==="complete"?o.pause().totalProgress(1):ae==="reset"?o.restart(!0).pause():ae==="restart"?o.restart(!0):o[ae]()),r&&r(m)),(ce||!Hi)&&(l&&ce&&ji(m,l),le[ye]&&ji(m,le[ye]),F&&(me===1?m.kill(!1,1):le[ye]=0),ce||(ye=me===1?1:3,le[ye]&&ji(m,le[ye]))),W&&!Be&&Math.abs(m.getVelocity())>(Cn(W)?W:2500)&&(mn(m.callbackAnimation),A?A.progress(1):mn(o,ae==="reverse"?1:!me,1))):_&&r&&!Pt&&r(m)}if(V){var Ke=b?j/b.duration()*(b._caScrollDist||0):j;P(Ke+(x._isFlipped?1:0)),V(Ke)}vt&&vt(-j/b.duration()*(b._caScrollDist||0))}},m.enable=function(N,Ee){m.enabled||(m.enabled=!0,Et(S,"resize",bn),te||Et(S,"scroll",Jo),Z&&Et(s,"refreshInit",Z),N!==!1&&(m.progress=ze=0,R=Fe=we=We()),Ee!==!1&&m.refresh())},m.getTween=function(N){return N&&je?je.tween:A},m.setPositions=function(N,Ee,J,j){if(b){var ee=b.scrollTrigger,me=b.duration(),xe=ee.end-ee.start;N=ee.start+xe*N/me,Ee=ee.start+xe*Ee/me}m.refresh(!1,!1,{start:zs(N,J&&!!m._startClamp),end:zs(Ee,J&&!!m._endClamp)},j),m.update()},m.adjustPinSpacing=function(N){if(k&&N){var Ee=k.indexOf(E.d)+1;k[Ee]=parseFloat(k[Ee])+N+Ct,k[1]=parseFloat(k[1])+N+Ct,rn(k)}},m.disable=function(N,Ee){if(m.enabled&&(N!==!1&&m.revert(!0,!0),m.enabled=m.isActive=!1,Ee||A&&A.pause(),ne=0,Ie&&(Ie.uncache=1),Z&&_t(s,"refreshInit",Z),Ge&&(Ge.pause(),je.tween&&je.tween.kill()&&(je.tween=0)),!te)){for(var J=et.length;J--;)if(et[J].scroller===S&&et[J]!==m)return;_t(S,"resize",bn),te||_t(S,"scroll",Jo)}},m.kill=function(N,Ee){m.disable(N,Ee),A&&!Ee&&A.kill(),u&&delete fs[u];var J=et.indexOf(m);J>=0&&et.splice(J,1),J===It&&mi>0&&It--,J=0,et.forEach(function(j){return j.scroller===m.scroller&&(J=1)}),J||Ot||(m.scroll.rec=0),o&&(o.scrollTrigger=null,N&&o.revert({kill:!1}),Ee||o.kill()),Ce&&[Ce,Ae,x,be].forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),On===m&&(On=0),f&&(Ie&&(Ie.uncache=1),J=0,et.forEach(function(j){return j.pin===f&&J++}),J||(Ie.spacer=0)),n.onKill&&n.onKill(m)},et.push(m),m.enable(!1,!1),pt&&pt(m),o&&o.add&&!Ye){var Se=m.update;m.update=function(){m.update=Se,ot.cache++,re||fe||m.refresh()},de.delayedCall(.01,m.update),Ye=.01,re=fe=0}else m.refresh();f&&Ja()},s.register=function(n){return Qo||(de=n||Rr(),Br()&&window.document&&s.enable(),Qo=yn),Qo},s.defaults=function(n){if(n)for(var o in n)ei[o]=n[o];return ei},s.disable=function(n,o){yn=0,et.forEach(function(r){return r[o?"kill":"disable"](n)}),_t(tt,"wheel",Jo),_t(lt,"scroll",Jo),clearInterval(Zn),_t(lt,"touchcancel",uo),_t(rt,"touchstart",uo),Qn(_t,lt,"pointerdown,touchstart,mousedown",Ns),Qn(_t,lt,"pointerup,touchend,mouseup",Hs),_i.kill(),Jn(_t);for(var i=0;i<ot.length;i+=3)Kn(_t,ot[i],ot[i+1]),Kn(_t,ot[i],ot[i+2])},s.enable=function(){if(tt=window,lt=document,Gt=lt.documentElement,rt=lt.body,de&&(jn=de.utils.toArray,Bn=de.utils.clamp,us=de.core.context||uo,Ni=de.core.suppressOverwrites||uo,bs=tt.history.scrollRestoration||"auto",ps=tt.pageYOffset||0,de.core.globals("ScrollTrigger",s),rt)){yn=1,sn=document.createElement("div"),sn.style.height="100vh",sn.style.position="absolute",jr(),Va(),Dt.register(de),s.isTouch=Dt.isTouch,Co=Dt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ls=Dt.isTouch===1,Et(tt,"wheel",Jo),Cs=[tt,lt,Gt,rt],de.matchMedia?(s.matchMedia=function(l){var g=de.matchMedia(),c;for(c in l)g.add(c,l[c]);return g},de.addEventListener("matchMediaInit",function(){return Ps()}),de.addEventListener("matchMediaRevert",function(){return Hr()}),de.addEventListener("matchMedia",function(){zo(0,1),$o("matchMedia")}),de.matchMedia().add("(orientation: portrait)",function(){return Gi(),Gi})):console.warn("Requires GSAP 3.11.0 or later"),Gi(),Et(lt,"scroll",Jo);var n=rt.hasAttribute("style"),o=rt.style,i=o.borderTopStyle,r=de.core.Animation.prototype,a,u;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",a=ho(rt),bt.m=Math.round(a.top+bt.sc())||0,zt.m=Math.round(a.left+zt.sc())||0,i?o.borderTopStyle=i:o.removeProperty("border-top-style"),n||(rt.setAttribute("style",""),rt.removeAttribute("style")),Zn=setInterval(Gs,250),de.delayedCall(.5,function(){return qn=0}),Et(lt,"touchcancel",uo),Et(rt,"touchstart",uo),Qn(Et,lt,"pointerdown,touchstart,mousedown",Ns),Qn(Et,lt,"pointerup,touchend,mouseup",Hs),as=de.utils.checkPrefix("transform"),vi.push(as),Qo=St(),_i=de.delayedCall(.2,zo).pause(),Ko=[lt,"visibilitychange",function(){var l=tt.innerWidth,g=tt.innerHeight;lt.hidden?(Ls=l,Is=g):(Ls!==l||Is!==g)&&bn()},lt,"DOMContentLoaded",zo,tt,"load",zo,tt,"resize",bn],Jn(Et),et.forEach(function(l){return l.enable(0,1)}),u=0;u<ot.length;u+=3)Kn(_t,ot[u],ot[u+1]),Kn(_t,ot[u],ot[u+2])}},s.config=function(n){"limitCallbacks"in n&&(Hi=!!n.limitCallbacks);var o=n.syncInterval;o&&clearInterval(Zn)||(Zn=o)&&setInterval(Gs,o),"ignoreMobileResize"in n&&(ls=s.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Jn(_t)||Jn(Et,n.autoRefreshEvents||"none"),Pr=(n.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(n,o){var i=Nt(n),r=ot.indexOf(i),a=Yo(i);~r&&ot.splice(r,a?6:2),o&&(a?po.unshift(tt,o,rt,o,Gt,o):po.unshift(i,o))},s.clearMatchMedia=function(n){et.forEach(function(o){return o._ctx&&o._ctx.query===n&&o._ctx.kill(!0,!0)})},s.isInViewport=function(n,o,i){var r=(jt(n)?Nt(n):n).getBoundingClientRect(),a=r[i?Uo:jo]*o||0;return i?r.right-a>0&&r.left+a<tt.innerWidth:r.bottom-a>0&&r.top+a<tt.innerHeight},s.positionInViewport=function(n,o,i){jt(n)&&(n=Nt(n));var r=n.getBoundingClientRect(),a=r[i?Uo:jo],u=o==null?a/2:o in Ti?Ti[o]*a:~o.indexOf("%")?parseFloat(o)*a/100:parseFloat(o)||0;return i?(r.left+u)/tt.innerWidth:(r.top+u)/tt.innerHeight},s.killAll=function(n){if(et.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var o=Xo.killAll||[];Xo={},o.forEach(function(i){return i()})}},s}();Ve.version="3.12.7";Ve.saveStyles=function(s){return s?jn(s).forEach(function(e){if(e&&e.style){var t=Ut.indexOf(e);t>=0&&Ut.splice(t,5),Ut.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),de.core.getCache(e),us())}}):Ut};Ve.revert=function(s,e){return Ps(!s,e)};Ve.create=function(s,e){return new Ve(s,e)};Ve.refresh=function(s){return s?bn(!0):(Qo||Ve.register())&&zo(!0)};Ve.update=function(s){return++ot.cache&&vo(s===!0?2:0)};Ve.clearScrollMemory=Ur;Ve.maxScroll=function(s,e){return fo(s,e?zt:bt)};Ve.getScrollFunc=function(s,e){return Mo(Nt(s),e?zt:bt)};Ve.getById=function(s){return fs[s]};Ve.getAll=function(){return et.filter(function(s){return s.vars.id!=="ScrollSmoother"})};Ve.isScrolling=function(){return!!oo};Ve.snapDirectional=Ms;Ve.addEventListener=function(s,e){var t=Xo[s]||(Xo[s]=[]);~t.indexOf(e)||t.push(e)};Ve.removeEventListener=function(s,e){var t=Xo[s],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Ve.batch=function(s,e){var t=[],n={},o=e.interval||.016,i=e.batchMax||1e9,r=function(l,g){var c=[],h=[],f=de.delayedCall(o,function(){g(c,h),c=[],h=[]}).pause();return function(p){c.length||f.restart(!0),c.push(p.trigger),h.push(p),i<=c.length&&f.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&At(e[a])&&a!=="onRefreshInit"?r(a,e[a]):e[a];return At(i)&&(i=i(),Et(Ve,"refresh",function(){return i=e.batchMax()})),jn(s).forEach(function(u){var l={};for(a in n)l[a]=n[a];l.trigger=u,t.push(Ve.create(l))}),t};var Zs=function(e,t,n,o){return t>o?e(o):t<0&&e(0),n>o?(o-t)/(n-t):n<0?t/(t-n):1},Wi=function s(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Dt.isTouch?" pinch-zoom":""):"none",e===Gt&&s(rt,t)},ii={auto:1,scroll:1},ol=function(e){var t=e.event,n=e.target,o=e.axis,i=(t.changedTouches?t.changedTouches[0]:t).target,r=i._gsap||de.core.getCache(i),a=St(),u;if(!r._isScrollT||a-r._isScrollT>2e3){for(;i&&i!==rt&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(ii[(u=Qt(i)).overflowY]||ii[u.overflowX]));)i=i.parentNode;r._isScroll=i&&i!==n&&!Yo(i)&&(ii[(u=Qt(i)).overflowY]||ii[u.overflowX]),r._isScrollT=a}(r._isScroll||o==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},Vr=function(e,t,n,o){return Dt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:o=o&&ol,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return n&&Et(lt,Dt.eventTypes[0],Js,!1,!0)},onDisable:function(){return _t(lt,Dt.eventTypes[0],Js,!0)}})},nl=/(input|label|select|textarea)/i,qs,Js=function(e){var t=nl.test(e.target.tagName);(t||qs)&&(e._gsapAllow=!0,qs=t)},il=function(e){Lo(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,o=t.momentum,i=t.allowNestedScroll,r=t.onRelease,a,u,l=Nt(e.target)||Gt,g=de.core.globals().ScrollSmoother,c=g&&g.get(),h=Co&&(e.content&&Nt(e.content)||c&&e.content!==!1&&!c.smooth()&&c.content()),f=Mo(l,bt),p=Mo(l,zt),d=1,D=(Dt.isTouch&&tt.visualViewport?tt.visualViewport.scale*tt.visualViewport.width:tt.outerWidth)/tt.innerWidth,v=0,y=At(o)?function(){return o(a)}:function(){return o||2.8},F,C,B=Vr(l,e.type,!0,i),M=function(){return C=!1},b=uo,W=uo,w=function(){u=fo(l,bt),W=Bn(Co?1:0,u),n&&(b=Bn(0,fo(l,zt))),F=Go},E=function(){h._gsap.y=wn(parseFloat(h._gsap.y)+f.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},_=function(){if(C){requestAnimationFrame(M);var ue=wn(a.deltaY/2),$=W(f.v-ue);if(h&&$!==f.v+f.offset){f.offset=$-f.v;var m=wn((parseFloat(h&&h._gsap.y)||0)-f.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+m+", 0, 1)",h._gsap.y=m+"px",f.cacheID=ot.cache,vo()}return!0}f.offset&&E(),C=!0},S,I,te,Y,le=function(){w(),S.isActive()&&S.vars.scrollY>u&&(f()>u?S.progress(1)&&f(u):S.resetTo("scrollY",u))};return h&&de.set(h,{y:"+=0"}),e.ignoreCheck=function(U){return Co&&U.type==="touchmove"&&_()||d>1.05&&U.type!=="touchstart"||a.isGesturing||U.touches&&U.touches.length>1},e.onPress=function(){C=!1;var U=d;d=wn((tt.visualViewport&&tt.visualViewport.scale||1)/D),S.pause(),U!==d&&Wi(l,d>1.01?!0:n?!1:"x"),I=p(),te=f(),w(),F=Go},e.onRelease=e.onGestureStart=function(U,ue){if(f.offset&&E(),!ue)Y.restart(!0);else{ot.cache++;var $=y(),m,Z;n&&(m=p(),Z=m+$*.05*-U.velocityX/.227,$*=Zs(p,m,Z,fo(l,zt)),S.vars.scrollX=b(Z)),m=f(),Z=m+$*.05*-U.velocityY/.227,$*=Zs(f,m,Z,fo(l,bt)),S.vars.scrollY=W(Z),S.invalidate().duration($).play(.01),(Co&&S.vars.scrollY>=u||m>=u-1)&&de.to({},{onUpdate:le,duration:$})}r&&r(U)},e.onWheel=function(){S._ts&&S.pause(),St()-v>1e3&&(F=0,v=St())},e.onChange=function(U,ue,$,m,Z){if(Go!==F&&w(),ue&&n&&p(b(m[2]===ue?I+(U.startX-U.x):p()+ue-m[1])),$){f.offset&&E();var ie=Z[2]===$,q=ie?te+U.startY-U.y:f()+$-Z[1],we=W(q);ie&&q!==we&&(te+=we-q),f(we)}($||ue)&&vo()},e.onEnable=function(){Wi(l,n?!1:"x"),Ve.addEventListener("refresh",le),Et(tt,"resize",le),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=p.smooth=!1),B.enable()},e.onDisable=function(){Wi(l,!0),_t(tt,"resize",le),Ve.removeEventListener("refresh",le),B.kill()},e.lockAxis=e.lockAxis!==!1,a=new Dt(e),a.iOS=Co,Co&&!f()&&f(1),Co&&de.ticker.add(uo),Y=a._dc,S=de.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Gr(f,f(),function(){return S.pause()})},onUpdate:vo,onComplete:Y.vars.onComplete}),a};Ve.sort=function(s){if(At(s))return et.sort(s);var e=tt.pageYOffset||0;return Ve.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+tt.innerHeight}),et.sort(s||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Ve.observe=function(s){return new Dt(s)};Ve.normalizeScroll=function(s){if(typeof s>"u")return Lt;if(s===!0&&Lt)return Lt.enable();if(s===!1){Lt&&Lt.kill(),Lt=s;return}var e=s instanceof Dt?s:il(s);return Lt&&Lt.target===e.target&&Lt.kill(),Yo(e.target)&&(Lt=e),e};Ve.core={_getVelocityProp:rs,_inputObserver:Vr,_scrollers:ot,_proxies:po,bridge:{ss:function(){oo||$o("scrollStart"),oo=St()},ref:function(){return Pt}}};Rr()&&de.registerPlugin(Ve);var zn=function(){var s=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(g){g.preventDefault(),n(++s%e.children.length)},!1);function t(g){return e.appendChild(g.dom),g}function n(g){for(var c=0;c<e.children.length;c++)e.children[c].style.display=c===g?"block":"none";s=g}var o=(performance||Date).now(),i=o,r=0,a=t(new zn.Panel("FPS","#0ff","#002")),u=t(new zn.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new zn.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){r++;var g=(performance||Date).now();if(u.update(g-o,200),g>=i+1e3&&(a.update(r*1e3/(g-i),100),i=g,r=0,l)){var c=performance.memory;l.update(c.usedJSHeapSize/1048576,c.jsHeapSizeLimit/1048576)}return g},update:function(){o=this.end()},domElement:e,setMode:n}};zn.Panel=function(s,e,t){var n=1/0,o=0,i=Math.round,r=i(window.devicePixelRatio||1),a=80*r,u=48*r,l=3*r,g=2*r,c=3*r,h=15*r,f=74*r,p=30*r,d=document.createElement("canvas");d.width=a,d.height=u,d.style.cssText="width:80px;height:48px";var D=d.getContext("2d");return D.font="bold "+9*r+"px Helvetica,Arial,sans-serif",D.textBaseline="top",D.fillStyle=t,D.fillRect(0,0,a,u),D.fillStyle=e,D.fillText(s,l,g),D.fillRect(c,h,f,p),D.fillStyle=t,D.globalAlpha=.9,D.fillRect(c,h,f,p),{dom:d,update:function(v,y){n=Math.min(n,v),o=Math.max(o,v),D.fillStyle=t,D.globalAlpha=1,D.fillRect(0,0,a,h),D.fillStyle=e,D.fillText(i(v)+" "+s+" ("+i(n)+"-"+i(o)+")",l,g),D.drawImage(d,c+r,h,f-r,p,c,h,f-r,p),D.fillRect(c+f-r,h,r,p),D.fillStyle=t,D.globalAlpha=.9,D.fillRect(c+f-r,h,r,i((1-v/y)*p))}}};const Wr={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Wn{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const sl=new ya(-1,1,1,-1,0,1);class rl extends to{constructor(){super(),this.setAttribute("position",new bo([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new bo([0,2,0,0,2,0],2))}}const al=new rl;class Yr{constructor(e){this._mesh=new Ue(al,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,sl)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class ll extends Wn{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Oo?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=es.clone(e.uniforms),this.material=new Oo({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Yr(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Qs extends Wn{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const o=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let r,a;this.inverse?(r=0,a=1):(r=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),i.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(o.EQUAL,1,4294967295),i.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),i.buffers.stencil.setLocked(!0)}}class ul extends Wn{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class cl{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const n=e.getSize(new Zt);this._width=n.width,this._height=n.height,t=new ci(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:fi}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new ll(Wr),this.copyPass.material.blending=wa,this.clock=new Ca}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let o=0,i=this.passes.length;o<i;o++){const r=this.passes[o];if(r.enabled!==!1){if(r.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),r.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),r.needsSwap){if(n){const a=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}Qs!==void 0&&(r instanceof Qs?n=!0:r instanceof ul&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Zt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(n,o),this.renderTarget2.setSize(n,o);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class fl extends Wn{constructor(e,t,n=null,o=null,i=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Ft}render(e,t,n){const o=e.autoClear;e.autoClear=!1;let i,r;this.overrideMaterial!==null&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=r),e.autoClear=o}}const pl={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Ft(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Zo extends Wn{constructor(e,t,n,o){super(),this.strength=t!==void 0?t:1,this.radius=n,this.threshold=o,this.resolution=e!==void 0?new Zt(e.x,e.y):new Zt(256,256),this.clearColor=new Ft(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);this.renderTargetBright=new ci(i,r,{type:fi}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const h=new ci(i,r,{type:fi});h.texture.name="UnrealBloomPass.h"+c,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const f=new ci(i,r,{type:fi});f.texture.name="UnrealBloomPass.v"+c,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),i=Math.round(i/2),r=Math.round(r/2)}const a=pl;this.highPassUniforms=es.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Oo({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const u=[3,5,7,9,11];i=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(u[c])),this.separableBlurMaterials[c].uniforms.invSize.value=new Zt(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new Re(1,1,1),new Re(1,1,1),new Re(1,1,1),new Re(1,1,1),new Re(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const g=Wr;this.copyUniforms=es.clone(g.uniforms),this.blendMaterial=new Oo({uniforms:this.copyUniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader,blending:co,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Ft,this.oldClearAlpha=1,this.basic=new ht,this.fsQuad=new Yr(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let n=Math.round(e/2),o=Math.round(t/2);this.renderTargetBright.setSize(n,o);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,o),this.renderTargetsVertical[i].setSize(n,o),this.separableBlurMaterials[i].uniforms.invSize.value=new Zt(1/n,1/o),n=Math.round(n/2),o=Math.round(o/2)}render(e,t,n,o,i){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[u].uniforms.direction.value=Zo.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=Zo.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}getSeparableBlurMaterial(e){const t=[];for(let n=0;n<e;n++)t.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new Oo({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Zt(.5,.5)},direction:{value:new Zt(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Oo({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Zo.BlurDirectionX=new Zt(1,0);Zo.BlurDirectionY=new Zt(0,1);function dl(s,e,t,n){xo();const{CUBE_SIZE:o,FIRST_CUBE_Z:i}=t,r=8,a=24,u=.075;let l,g=[],c=[],h=[],f=[];const p=(D,v,y,F)=>{const C=new un(D,D,D),B=new Ho(C),M=[new mt({color:16711680,transparent:!0,opacity:F.opacity,blending:co}),new mt({color:65280,transparent:!0,opacity:F.opacity,blending:co}),new mt({color:255,transparent:!0,opacity:F.opacity,blending:co}),new mt({color:65535,transparent:!0,opacity:F.opacity,blending:co}),new mt({color:16711935,transparent:!0,opacity:F.opacity,blending:co}),new mt({color:16776960,transparent:!0,opacity:F.opacity,blending:co})],b=new qt,W=B.getAttribute("position").array,w=[];for(let S=0;S<W.length/3;S+=2)w.push(S,S+1);const E=Array(6).fill(null).map(()=>new to),_=Array(6).fill(null).map(()=>[]);for(let S=0;S<w.length/2;S++){const I=S%6;_[I].push(w[S*2],w[S*2+1])}return E.forEach((S,I)=>{S.setIndex(_[I]),S.setAttribute("position",B.getAttribute("position"));const te=new ct(S,M[I]);b.add(te)}),b.position.z=v,b.rotation.z=y,b};return(()=>{const y=.9/(a-1);for(let w=0;w<a;w++)c[w]=new mt({transparent:!0,opacity:1-w*y});if(l=new qt,!l){console.error("introGroup failed to initialize");return}for(let w=0;w<a;w++){const E=o-w*r,_=p(E,0,0,c[w]),S=_.children.map(I=>I.material);f.push(S.map(I=>({material:I,originalColor:I.color.clone()}))),l.add(_)}l.position.z=i,s.add(l),g.push(l),h=c.map(w=>w.opacity);const F=K.timeline({repeat:-1});F.to(l.rotation,{x:ge.degToRad(360),duration:12,ease:"none"},0),F.to(l.rotation,{y:ge.degToRad(360),duration:10,ease:"none"},0),F.to(l.rotation,{z:ge.degToRad(360),duration:14,ease:"none"},0);let C=-1,B=0;const M=u*1e3,b=a*M,W=w=>{const E=w%b/M,_=Math.floor(E)%a;C!==-1&&w-B>=M&&(f[C].forEach(te=>{te.material.opacity=h[C],te.material.color.copy(te.originalColor)}),C=-1),C===-1&&_!==C&&(C=_,B=w,f[C].forEach(I=>{I.material.opacity=1,I.material.color.set(1,1,1)})),requestAnimationFrame(W)};requestAnimationFrame(W)})(),{introCubes:g}}class Yi extends ba{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const o=n.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(o,t)}this.type="TextGeometry"}}function hl(s,e,t,n,o,i,r,a){const u=xo(),l=Po(),{CUBE_SIZE:g,CUBE_SPACING:c,FIRST_CUBE_Z:h}=e,f=h-(t.length+1)*c,p=65535,d=16711935,D=(p>>16&255)/255,v=(p>>8&255)/255,y=(p&255)/255,F=(d>>16&255)/255,C=(d>>8&255)/255,B=(d&255)/255,M=ge.degToRad(15),b=1e3,W=.5,w=65280,E=80,_=1,S=15,I=.1,te="ENTER TO LEARN MORE",Y=u.isMobile?1:.5,le=40,U=.125,ue=100,$=8,m=u.isMobile?2.5:2,Z=u.isMobile?4:3.5,ie=1;let q=[];q.length=0;let we=[],Ze=!1,ze=new _a,We=new Zt,je=null,Ie=null,Oe=null,R=!1,Fe=null,re=[];const fe=new Map,Ce=new Map,Ae=new Map,x=(T,k,P,se,V,ve,De)=>{const z=new qt;z.name="group",z.position.z=P,z.rotation.z=se,z.userData.isActive=!1,z.userData.cubeIndex=De;const A=new un(k,k,k),Pe=new Ho(A),pe=new mt({color:new Ft(p),transparent:!0,opacity:0}),Ge=new ct(Pe,pe);Ge.geometry.computeBoundingSphere(),z.add(Ge);let ne="right";const Te=k/2,vt=()=>{const G=u.isMobile?2:1,Se=25*G,N=40*G,Ee=new Bs(N,75),J=new Ho(Ee),j=new mt({color:new Ft(p),transparent:!0,opacity:0,visible:!0}),ee=new ct(J,j);ee.name="portal",ee.userData.isPortal=!0,ee.userData.isAnimating=!1,ee.geometry.computeBoundingSphere();const me=80*G,xe=new wo(me,me),Be=new ht({visible:!1,side:$t}),Q=new Ue(xe,Be);Q.userData.isPortalHitbox=!0,Q.userData.portal=ee,Q.geometry.computeBoundingSphere();const ye=new qt,ae=_*G,nt=S*G,ce=new wo(ae,nt),Le=(Se+N)/2;for(let ut=0;ut<E;ut++){const yt=new ht({color:new Ft(d),transparent:!0,opacity:0,visible:!1,side:$t}),Mt=new Ue(ce,yt),wt=ut/E*Math.PI*2;Mt.position.set(Math.cos(wt)*Le,Math.sin(wt)*Le,0),Mt.rotation.z=wt+Math.PI/2,Mt.userData.baseOpacity=.01,Mt.userData.index=ut,Mt.geometry.computeBoundingSphere(),ye.add(Mt)}ee.userData.pulsesGroup=ye;const qe=2*G,Xe=25;for(let ut=1;ut<Xe;ut++){const yt=new Bs(N,75),Mt=new Ho(yt),wt=ge.lerp(.125,.1,ut/(Xe-1)),ao=new mt({color:new Ft(p),transparent:!0,opacity:0}),lo=new ct(Mt,ao);lo.userData.isPortal=!0,lo.userData.maxOpacity=wt,lo.position.z=-ut*qe,lo.geometry.computeBoundingSphere(),ee.add(lo)}ee.userData.maxOpacity=.125;let Je=null;if(a.value){const ut=3*G,yt=new Yi(te,{font:a.value,size:ut,depth:0,curveSegments:4,bevelEnabled:!1});yt.computeBoundingBox(),yt.center();const Mt=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),wt=new Ue(yt,Mt);wt.visible=!1,wt.userData.isVisible=!1,wt.userData.isExploreText=!0,wt.userData.skipTextMeshes=!0;const ao=-45*G;wt.position.set(0,ao,0),wt.name="textMesh",ee.add(wt),ee.userData.exploreText=wt;const lo=yt.boundingBox,ua=(lo.max.x-lo.min.x+10)*G,ca=(lo.max.y-lo.min.y+10)*G,fa=new wo(ua,ca),pa=new ht({transparent:!0,opacity:0,side:$t,visible:!1});Je=new Ue(fa,pa),Je.position.set(0,ao,0),Je.userData.isExploreTextHitbox=!0,Je.userData.portal=ee,Je.geometry.computeBoundingSphere(),Je.name="textHitbox",ee.add(Je),ee.userData.exploreTextHitbox=Je;const da=5,Ii=new Yi(T.title,{font:a.value,size:da,depth:0,curveSegments:4,bevelEnabled:!1});Ii.computeBoundingBox(),Ii.center();const ha=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),Bo=new Ue(Ii,ha);Bo.visible=!1,Bo.userData.isVisible=!1,Bo.userData.isTitleText=!0,Bo.userData.skipTextMeshes=!0;const Da=u.isMobile?u.orientation==="portrait"?100:106:60;Bo.position.set(0,Da,0),ee.add(Bo),ee.userData.titleText=Bo}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const Ke=new qt;Ke.name="closeGroup",Ke.position.set(u.isMobile?N-10:N,N,2);const ro=new wo(12,u.isMobile?1:.5),So=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),xt=new Ue(ro,So);xt.rotation.z=Math.PI/4;const dt=new Ue(ro,So);dt.rotation.z=-Math.PI/4,Ke.add(xt,dt);const Yt=new wo(15*G,15*G),Dn=new ht({side:$t,visible:!1}),Ao=new Ue(Yt,Dn);switch(Ao.userData.isCloseHitbox=!0,Ao.geometry.computeBoundingSphere(),Ao.renderOrder=2,Ke.add(Ao),ne){case"left":ee.position.set(-Te,0,0),ee.rotation.y=Math.PI/2,Q.position.set(-Te,0,0),Q.rotation.y=Math.PI/2,se>=ge.degToRad(120)&&(ee.rotation.z=Math.PI),ye.children.forEach(ut=>ut.position.x+=I);break;case"top":ee.position.set(0,-Te,0),ee.rotation.x=-Math.PI/2,ee.rotation.z=-Math.PI/2,Q.position.set(0,-Te,0),Q.rotation.x=Math.PI/2,se>=ge.degToRad(100)&&se>=ge.degToRad(180)&&(ee.rotation.z=Math.PI/2),ye.children.forEach(ut=>ut.position.y+=I);break;case"right":ee.position.set(Te,0,0),ee.rotation.y=-Math.PI/2,Q.position.set(Te,0,0),Q.rotation.y=-Math.PI/2,se>=ge.degToRad(120)&&(ee.rotation.z=Math.PI),ye.children.forEach(ut=>ut.position.x+=I);break;case"bottom":ee.position.set(0,Te,0),ee.rotation.x=Math.PI/2,ee.rotation.z=-Math.PI/2,Q.position.set(0,Te,0),Q.rotation.x=Math.PI/2,ye.children.forEach(ut=>ut.position.y+=I);break}ee.add(Ke),ee.userData.closeButton=Ke,Ke.updateMatrixWorld(!0),ee.add(ye),z.add(ee),z.add(Q),z.userData.closeButton=Ke,ee.updateMatrixWorld(!0),ye.updateMatrixWorld(!0),Ke.updateMatrixWorld(!0),fe.set(z,[]),Ce.set(z,0),Ae.set(z,0)},pt=G=>{(G instanceof ct||G instanceof Ue)&&G.geometry&&G.geometry.computeBoundingSphere(),z.add(G)};if(V&&i.showKeyarts){switch(["left","top","right","bottom"].includes(ve)?ve:"left"){case"left":ne="right";break;case"top":ne="bottom";break;case"right":ne="left";break;case"bottom":ne="top";break}const Se=r.get(V);if(Se){const N=new wo(k-1,k-1),Ee=new ht({map:Se,transparent:!0,opacity:0,blending:co,side:$t}),J=new Ue(N,Ee);switch(J.userData.isLoaded=!0,ve){case"left":J.position.set(-Te,0,0),se>=ge.degToRad(120)?(J.rotation.y=Math.PI/2,J.rotation.z=-Math.PI,z.userData.flipped=!0):J.rotation.y=Math.PI/2;break;case"top":J.position.set(0,-Te,0),J.rotation.x=-Math.PI/2,J.rotation.z=-Math.PI/2;break;case"right":J.position.set(Te,0,0),se>=ge.degToRad(120)?(J.rotation.y=-Math.PI/2,J.rotation.z=-Math.PI,z.userData.flipped=!0):J.rotation.y=-Math.PI/2;break;case"bottom":J.position.set(0,Te,0),se>=ge.degToRad(180)?se>=ge.degToRad(220)?(J.rotation.x=Math.PI/2,J.rotation.z=Math.PI/2,z.userData.flipped=!0):(J.rotation.x=-Math.PI/2,J.rotation.z=Math.PI/2,z.userData.flipped=!0):(J.rotation.x=Math.PI/2,J.rotation.z=-Math.PI/2);break}J.geometry.computeBoundingSphere(),pt(J),vt()}else console.warn(`Keyart texture not preloaded for ${T.title}: ${V}`),vt()}else vt();z.userData.portalLocation=ne;{const G=(me,xe,Be,Q)=>{const ye=new wo(k-1,k-1),ae={map:me,transparent:!0,opacity:0,blending:co,side:$t,depthWrite:!1};Q&&(ae.color=Q);const nt=new ht(ae),ce=new Ue(ye,nt);ce.position.copy(xe),Be.x&&(ce.rotation.x=Be.x),Be.y&&(ce.rotation.y=Be.y),ce.userData.isGridPlane=!0,ce.geometry.computeBoundingSphere(),pt(ce)},Se=r.get(n),N=r.get(o),Ee=["left","top","right","bottom"],j=[V&&i.showKeyarts?ve||"left":null,ne].filter(Boolean),ee=Ee.filter(me=>!j.includes(me));if(Se)switch(G(Se,new Re(0,0,-k/2-1),{y:0}),G(Se,new Re(0,0,k/2+1),{y:0},new Ft(16744448)),ee[0]){case"left":G(Se,new Re(-Te,0,0),{y:-Math.PI/2},new Ft(255));break;case"top":G(Se,new Re(0,Te,0),{x:Math.PI/2},new Ft(255));break;case"right":G(Se,new Re(Te,0,0),{y:Math.PI/2},new Ft(255));break;case"bottom":G(Se,new Re(0,-Te,0),{x:-Math.PI/2},new Ft(255));break}else console.warn(`Grid texture not preloaded: ${n}`);if(N)switch(ee[1]){case"left":G(N,new Re(-Te,0,0),{y:-Math.PI/2});break;case"top":G(N,new Re(0,Te,0),{x:Math.PI/2});break;case"right":G(N,new Re(Te,0,0),{y:Math.PI/2});break;case"bottom":G(N,new Re(0,-Te,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}z.children.forEach(G=>{G.updateMatrixWorld(!0),G instanceof qt&&G.children.forEach(Se=>{Se.updateMatrixWorld(!0)})}),z.updateMatrixWorld(!0);const Bt=new Mn().setFromObject(z),_e=new Ci;return Bt.getBoundingSphere(_e),z.boundingSphere=_e,z},be=new ws,ke=(T,k,P,se,V)=>{if(!a.value){console.warn("Font not available; skipping text creation for:",T);const Bt=new to,_e=new ht({visible:!1});return new Ue(Bt,_e)}const ve=new Yi(T,{font:a.value,size:V,depth:0,curveSegments:4,bevelEnabled:!1});ve.computeBoundingBox(),ve.center();const De=new ht({color:16777215,transparent:!0,opacity:0,side:$t}),z=new Ue(ve,De);z.position.set(k,P,se);const A=ve.boundingBox,Pe=A.max.x-A.min.x,pe=A.max.y-A.min.y,Ge=Pe+8,ne=pe+4,Te=new wo(Ge,ne),vt=new ht({color:0,transparent:!0,opacity:0,side:$t}),pt=new Ue(Te,vt);return pt.position.set(k,P,se-1),s.add(pt),s.add(z),z.userData.backgroundPlane=pt,z},Ne=()=>{const T=Array.isArray(t)?t:[];Array.isArray(t)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",t);let k=0;T.forEach((P,se)=>{const V=h-(se+1)*c,ve=(se+1)*M,De=x(P,g,V,ve,P.keyart,P.keyartLocation,k);s.add(De),q.push(De),k++,ke(P.title,0,P.size-15,h+90-(se+1)*c,P.size)}),s.traverse(P=>{var se;P instanceof Ue&&((se=P.geometry)==null?void 0:se.type)==="TextGeometry"&&!P.userData.skipTextMeshes&&we.push(P)})},Ye=()=>Ze?Promise.resolve({projectCubes:q,updateCubeColors:L,maxZ:f,cubeMetadata:re}):(Ne(),Ze=!0,re=q.map(T=>({index:T.userData.cubeIndex,rotation:ge.radToDeg(T.rotation.z),flipped:T.userData.flipped})),l.setCubeMetadata(re),Promise.resolve({projectCubes:q,updateCubeColors:L,maxZ:f,cubeMetadata:re})),ft=T=>{if(T.userData.isAnimating)return;T.userData.isAnimating=!0;const k=T.userData.pulsesGroup;if(!k){console.warn("Pulses group not found in portal.userData");return}const P=k.children,se=P.length,V=K.timeline({repeat:-1,defaults:{ease:"none"}}),ve={value:0};V.to(ve,{value:1,duration:1.5,onUpdate:()=>{P.forEach(z=>{const A=z.material;if(A.visible){const Pe=(z.userData.index/se+ve.value)%1,Ge=(Math.sin(Pe*Math.PI*2)+1)/2;A.opacity=.01+(1-.01)*Math.pow(Ge,4)}})}}),T.userData.animationTimeline=V},H=T=>{if(!T.userData.isAnimating)return;T.userData.isAnimating=!1;const k=T.userData.pulsesGroup;if(!k){console.warn("Pulses group not found in portal.userData");return}T.userData.animationTimeline&&(T.userData.animationTimeline.kill(),delete T.userData.animationTimeline),k.children.forEach(P=>{const se=P.material;se.opacity=0})},oe=(T,k)=>{let P;const se=(Ae.get(T)||0)+1;Ae.set(T,se),se%$===0?P=new vr(m,Z,12,1):P=new un(Y,Y,Y);const V=new ht({color:16777215,transparent:!0,opacity:0}),ve=new Ue(P,V);ve.position.set(0,0,0);const De=k.position.clone(),z=De.clone().normalize(),A=De.length()+ue;if(se%$===0){const pe=ve.position.clone().add(z);ve.lookAt(pe),ve.rotateX(Math.PI/2)}T.add(ve),K.to(V,{opacity:.5,duration:ie,ease:"power2.in",overwrite:"auto"});const Pe=fe.get(T)||[];Pe.push({mesh:ve,direction:z,distanceTraveled:0,totalDistance:A}),fe.set(T,Pe)},X=T=>{(fe.get(T)||[]).forEach(P=>{T.remove(P.mesh),P.mesh.geometry.dispose(),P.mesh.material.dispose()}),fe.set(T,[])},L=T=>{be.setFromProjectionMatrix(T.projectionMatrix.clone().multiply(T.matrixWorldInverse));const k=T.position.z;q.forEach((P,se)=>{const V=P.boundingSphere;if(V){const A=V.clone();if(A.radius*=1.5,!be.intersectsSphere(A))return}else console.warn(`Cube ${se} has no boundingSphere`);const ve=P.position.z,De=Math.abs(k-ve);let z=0;De<=b&&(z=1-De/b),P.userData.isActive=z>=W,P.children.forEach(A=>{if(A instanceof ct&&!A.userData.isPortal&&!A.userData.isPortalHitbox){const Pe=A.material;if(De<=b){const pe=ge.lerp(D,F,z),Ge=ge.lerp(v,C,z),ne=ge.lerp(y,B,z);Pe.color.set(pe,Ge,ne),Pe.opacity=Math.min(1,z*2)}else Pe.opacity=0}else if(A instanceof ct&&A.userData.isPortal){A.children.forEach(pe=>{if(pe instanceof Ue&&pe.userData.isExploreText){const Ge=pe.material;if(pe===A.userData.titleText&&R)return;if(De<=b){const ne=1-De/b;Ge.opacity=Math.min(1,ne*2),pe.visible=!0}else Ge.opacity=0,pe.visible=!1}});const Pe=A.userData.pulsesGroup;z>.1?Pe&&Pe.children.forEach(pe=>{pe instanceof Ue&&(pe.material.visible=!0,!A.userData.animationStarted&&i.showPortalPulses&&(ft(A),A.userData.animationStarted=!0))}):z<=.1&&A.userData.animationStarted&&(Pe&&Pe.children.forEach(pe=>{pe instanceof Ue&&(pe.material.visible=!1)}),H(A),delete A.userData.animationStarted)}else if(A instanceof Ue&&!A.userData.isPortalHitbox&&!A.userData.isCloseHitbox){const Pe=A.material;if(A.userData.isLoaded||A.userData.isGridPlane)if(De<=b){const pe=1-De/b;Pe.opacity=Math.min(.8,pe*2),A.visible=!0}else Pe.opacity=0,A.visible=!1}})}),we.forEach(P=>{if(!be.intersectsObject(P))return;const se=P.material,V=P.userData.backgroundPlane,ve=V==null?void 0:V.material,De=P.position.z,z=Math.abs(k-De+120);if(R){se.opacity=0,ve&&(ve.opacity=0);return}if(z<=b){const A=1-z/b,Pe=Math.min(1,A*2);se.opacity=Pe,ve&&(ve.opacity=Pe*.8)}else se.opacity=0,ve&&(ve.opacity=0)})},O=(T,k)=>{const P=performance.now()/1e3,se=T.position.z;q.forEach(V=>{const ve=V.position.z;if(Math.abs(se-ve+90)<=b&&!R){const z=Ce.get(V)||0;if(P-z>=U){const pe=V.children.find(Ge=>Ge instanceof ct&&Ge.userData.isPortal);pe&&(oe(V,pe),Ce.set(V,P))}const Pe=(fe.get(V)||[]).filter(pe=>{if(pe.distanceTraveled+=le*k,pe.mesh.position.copy(pe.direction.clone().multiplyScalar(pe.distanceTraveled)),(pe.totalDistance-pe.distanceTraveled)/le<=ie&&!pe.isFadingOut){pe.isFadingOut=!0;const Te=pe.mesh.material;K.to(Te,{opacity:0,duration:ie,ease:"power2.out",overwrite:"auto"})}return pe.distanceTraveled>=pe.totalDistance?(V.remove(pe.mesh),pe.mesh.geometry.dispose(),pe.mesh.material.dispose(),!1):!0});fe.set(V,Pe)}else X(V)})},he=T=>{const k=[T,...T.children.filter(V=>V instanceof ct&&V.userData.isPortal)],P=2,se=.1;k.forEach((V,ve)=>{const De=V.material;De.opacity=V.userData.maxOpacity;const z=K.timeline({repeat:-1,delay:ve*se});z.to(De,{opacity:0,duration:P/2,ease:"power2.inOut"}).to(De,{opacity:V.userData.maxOpacity,duration:P/2,ease:"power2.inOut"}),V.userData.marqueeTimeline=z})},Me=T=>{const k=[T,...T.children.filter(P=>P instanceof ct&&P.userData.isPortal)];k.forEach(P=>{P.userData.marqueeTimeline&&(P.userData.marqueeTimeline.kill(),delete P.userData.marqueeTimeline)}),T.userData.ringExpandTimeline&&(T.userData.ringExpandTimeline.kill(),delete T.userData.ringExpandTimeline),k.forEach((P,se)=>{const V=P.material;K.killTweensOf(P.position),K.killTweensOf(V),P.position.z=-se*2,V.opacity=0})};return{getInitializedData:Ye,updateCubeColors:L,setupInteractivity:(T,k,P,se,V)=>{Fe=se;let ve=null,De=null,z=null,A=!1,Pe=!1,pe=!1,Ge=!1,ne=!1;const Te=j=>{R&&(ve=j.touches[0].clientY,De=De??window.scrollY,A=!0)},vt=j=>{if(!R||!z||!ve||Ge)return;const me=j.touches[0].clientY-ve;u.isMobile&&me<-50&&!Pe&&(j.cancelable&&j.preventDefault(),_e(),ve=null)},pt=j=>{ve=null,A=!1,pe=!0,K.delayedCall(.5,()=>{pe=!1})},Bt=j=>{if(A||Pe||pe||Ge){j.preventDefault(),j.stopPropagation(),De!==null&&(window.scrollTo(0,De),K.to(window,{scrollTo:{y:De},duration:0}));return}if(!R||!z||!Ie||!Oe)return;if(u.isMobile){j.preventDefault(),j.stopPropagation();return}let ee=0;if(j instanceof WheelEvent?ee=j.deltaY:ee=window.scrollY-(De||0),j.preventDefault(),j.stopPropagation(),ee>0){window.scrollTo(0,De);return}ee<0&&_e()},_e=()=>{const j=z,ee=Oe?Oe.clone():new Re(0,0,f),me=(Ie==null?void 0:Ie.z)??T.position.z,xe=j==null?void 0:j.parent,Be=j?q.indexOf(xe):-1;if(Ge=!0,l.setPortalLock(!1),j){Me(j);const ae=j.userData.titleText;if(ae){const nt=ae.material;K.to(nt,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ae.visible=!1}})}if(j.userData.closeButton){const nt=j.userData.closeButton,ce=nt.children.filter(Le=>Le instanceof Ue&&!Le.userData.isCloseHitbox).map(Le=>Le.material);ce.length>0&&K.to(ce,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{nt.visible=!1}})}}K.to(T.position,{x:(Ie==null?void 0:Ie.x)??T.position.x,y:(Ie==null?void 0:Ie.y)??T.position.y,z:me,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const ae=we[Be];if(Be!==-1&&ae){const nt=ae.material,ce=ae.userData.backgroundPlane,Le=Math.abs(T.position.z-ae.position.z+120),qe=Le<=b?Math.min(1,(1-Le/b)*2):0;K.to(nt,{opacity:qe,duration:.5,ease:"power2.in"}),ce&&K.to(ce.material,{opacity:qe*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const ae=ye.progress,nt=ge.lerp(Q.x,ee.x,ae),ce=ge.lerp(Q.y,ee.y,ae),Le=ge.lerp(Q.z,ee.z,ae);T.lookAt(nt,ce,Le),T.updateMatrixWorld(!0)},onComplete:()=>{T.lookAt(ee),R=!1,z=null,document.body.classList.remove("no-scrollbar"),u.isMobile&&(document.body.style.overflow=""),Fe&&Fe(!1),De=null,Ie=null,Oe=null,T.userData.lockedLookAt=null,Ge=!1,q.forEach(ae=>{Math.abs(T.position.z-ae.position.z+90)<=b&&Ce.set(ae,0)})}});const Q=T.userData.lockedLookAt?T.userData.lockedLookAt.clone():T.getWorldDirection(new Re).multiplyScalar(1e3).add(T.position),ye={progress:0};K.to(ye,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},G=(j,ee=!0)=>{const me=[j,...j.children.filter(Q=>Q instanceof ct&&Q.userData.isPortal)],xe=ee?25:2,Be=K.timeline({onComplete:()=>{ee&&me[0]===j&&he(j)}});me.forEach((Q,ye)=>{let ae=-ye*xe;(j.position.y>0&&j.rotation.x===-Math.PI/2||j.position.y<0&&j.rotation.x===Math.PI/2)&&(ae=ye*xe);const nt=ee?Q.userData.maxOpacity:0;Be.to(Q.position,{z:ae,duration:1,ease:"power3.out",delay:.5},0),Be.to(Q.material,{opacity:nt,duration:1,ease:"power3.out",delay:.5},0)}),j.userData.ringExpandTimeline=Be},Se=j=>{We.x=j.clientX/window.innerWidth*2-1,We.y=-(j.clientY/window.innerHeight)*2+1,ze.setFromCamera(We,T),T.userData.lockedLookAt&&(T.lookAt(T.userData.lockedLookAt),T.updateMatrixWorld(!0)),q.forEach(xe=>{xe.userData.lockedPosition&&(xe.position.equals(xe.userData.lockedPosition)||xe.position.copy(xe.userData.lockedPosition)),xe.updateMatrixWorld(!0),xe.children.forEach(Be=>Be.updateMatrixWorld(!0))});const ee=q.flatMap(xe=>{const Be=[];return!R&&xe.userData.isActive&&xe.children.forEach(Q=>{Q instanceof Ue&&(Q.userData.isPortalHitbox||Q.userData.isExploreTextHitbox)&&Be.push(Q)}),R&&z&&xe===z.parent&&xe.children.forEach(Q=>{if(Q instanceof Ue&&Q.userData.isPortalHitbox&&Be.push(Q),Q instanceof ct&&Q.userData.isPortal){const ye=Q;ye.children.forEach(ae=>{ae instanceof Ue&&ae.userData.isExploreTextHitbox&&Be.push(ae),ae instanceof qt&&ae===ye.userData.closeButton&&ae.children.forEach(nt=>{nt instanceof Ue&&nt.userData.isCloseHitbox&&Be.push(nt)})})}}),Be}),me=ze.intersectObjects(ee);if(me.length>0){const xe=me[0].object;if(xe.userData.isPortalHitbox||xe.userData.isExploreTextHitbox){const Be=xe.userData.portal;je!==Be&&(je&&[je,...je.children.filter(ae=>ae instanceof ct&&ae.userData.isPortal)].forEach(ae=>{const nt=ae.material;K.to(nt.color,{r:(p>>16&255)/255,g:(p>>8&255)/255,b:(p&255)/255,duration:.5})}),je=Be,[je,...je.children.filter(ye=>ye instanceof ct&&ye.userData.isPortal)].forEach(ye=>{const ae=ye.material;K.to(ae.color,{r:(w>>16&255)/255,g:(w>>8&255)/255,b:(w&255)/255,duration:.5})})),k.style.cursor="pointer"}else if(xe.userData.isCloseHitbox&&R){if(!ne){ne=!0;const Be=xe.parent;K.to(Be.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}k.style.cursor="pointer"}}else{if(je&&([je,...je.children.filter(Be=>Be instanceof ct&&Be.userData.isPortal)].forEach(Be=>{const Q=Be.material;K.to(Q.color,{r:(p>>16&255)/255,g:(p>>8&255)/255,b:(p&255)/255,duration:.5})}),je=null),R&&z&&ne){const xe=z.userData.closeButton;xe&&(ne=!1,K.to(xe.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}k.style.cursor="auto"}},N=j=>{if(Ge)return;We.x=j.clientX/window.innerWidth*2-1,We.y=-(j.clientY/window.innerHeight)*2+1,ze.setFromCamera(We,T);const ee=q.flatMap(ce=>{const Le=[];return R&&z&&ce===z.parent&&ce.children.forEach(qe=>{if(qe instanceof ct&&qe.userData.isPortal){const Xe=qe;Xe.children.forEach(Je=>{Je instanceof qt&&Je===Xe.userData.closeButton&&Je.children.forEach(Ke=>{Ke instanceof Ue&&Ke.userData.isCloseHitbox&&Le.push(Ke)})})}}),Le}),me=q.flatMap(ce=>{const Le=[];return!R&&ce.userData.isActive&&ce.children.forEach(qe=>{qe instanceof Ue&&(qe.userData.isPortalHitbox||qe.userData.isExploreTextHitbox)&&Le.push(qe)}),R&&z&&ce===z.parent&&ce.children.forEach(qe=>{qe instanceof Ue&&qe.userData.isPortalHitbox&&Le.push(qe),qe instanceof ct&&qe.userData.isPortal&&qe.children.forEach(Xe=>{Xe instanceof Ue&&Xe.userData.isExploreTextHitbox&&Le.push(Xe)})}),Le});let xe=ze.intersectObjects(ee);for(const ce of xe)if(ce.object.userData.isCloseHitbox){_e();return}if(xe=ze.intersectObjects(me),xe.length===0)return;const Q=xe[0].object.userData.portal,ye=Q.parent,ae=q.indexOf(ye),nt=t[ae];if(R&&Q===z){let ce=new Re;const Le=e.CUBE_SIZE/2;Q.position.x===Le?ce.set(-1,0,0):Q.position.x===-Le?ce.set(1,0,0):Q.position.y===Le?ce.set(0,-1,0):Q.position.y===-Le&&ce.set(0,1,0),ce.applyQuaternion(ye.getWorldQuaternion(new Ea)).normalize();const Xe=T.position.clone().clone().add(ce.clone().multiplyScalar(-675)),Je=ce.clone().multiplyScalar(-1e3),Ke=Xe.clone().add(Je);Ge=!0,K.to(T.position,{x:Xe.x,y:Xe.y,z:Xe.z,duration:1,ease:"power2.in",onUpdate:()=>T.lookAt(Ke),onStart:()=>{K.to(P.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{nt!=null&&nt.slug&&(l.setScrollPosition(window.scrollY),gr.visit(route("project.show",{project:nt.slug}),{preserveScroll:!1})),Ge=!1}})}else if(!R){Ie||(Ie=T.position.clone(),Oe=new Re(0,0,f)),Fe&&se(!0,Ie,Oe);const ce=Q.getWorldPosition(new Re);Pe=!0,Ge=!0,De=window.scrollY,K.to(T.position,{x:0,y:0,z:ye.getWorldPosition(new Re).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{R=!0,z=Q,document.body.classList.add("no-scrollbar"),u.isMobile&&(document.body.style.overflow="hidden"),ye.userData.lockedPosition=ye.position.clone(),X(ye);const Le=we[ae];if(Le){const Xe=Le.material,Je=Le.userData.backgroundPlane;K.to(Xe,{opacity:0,duration:.5,ease:"power2.out"}),Je&&K.to(Je.material,{opacity:0,duration:.5,ease:"power2.out"})}const qe=Q.userData.titleText;if(qe){qe.visible=!0;const Xe=qe.material;K.to(Xe,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(Q.userData.closeButton){const Xe=Q.userData.closeButton;Xe.visible=!0;const Je=Xe.children.filter(Ke=>Ke instanceof Ue&&!Ke.userData.isCloseHitbox).map(Ke=>Ke.material);Je.length>0&&K.to(Je,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}l.setPortalLock(!0,ae)},onComplete:()=>{G(Q,!0),Pe=!1,Ge=!1,T.userData.lockedLookAt=ce.clone()}}),K.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const Le=this.progress(),qe=T.getWorldDirection(new Re).multiplyScalar(1e3).add(T.position),Xe=ge.lerp(qe.x,ce.x,Le),Je=ge.lerp(qe.y,ce.y,Le),Ke=ge.lerp(qe.z,ce.z,Le);T.lookAt(Xe,Je,Ke)},onComplete:()=>{T.lookAt(ce.x,ce.y,ce.z),T.updateMatrixWorld(!0)}})}};k.addEventListener("mousemove",Se),k.addEventListener("click",N),k.addEventListener("touchstart",Te,{passive:!1}),k.addEventListener("touchmove",vt,{passive:!1}),k.addEventListener("touchend",pt,{passive:!0}),window.addEventListener("wheel",Bt,{passive:!1}),window.addEventListener("scroll",Bt,{passive:!1});const Ee=()=>{fe.forEach((j,ee)=>{j.forEach(me=>{ee.remove(me.mesh),me.mesh.geometry.dispose(),me.mesh.material.dispose()})}),fe.clear(),Ce.clear(),Ae.clear()},J=()=>{k.removeEventListener("mousemove",Se),k.removeEventListener("click",N),k.removeEventListener("touchstart",Te),k.removeEventListener("touchmove",vt),k.removeEventListener("touchend",pt),window.removeEventListener("wheel",Bt),window.removeEventListener("scroll",Bt),z&&Me(z),u.isMobile&&(document.body.style.overflow="")};return()=>{J(),Ee()}},updateClickHereParticles:O}}function Dl(s,e,t,n){const o=xo(),i=100,r=100,a=300,u=3355443,l=o.isMobile?24:32,g=-600,c=-500,h=500,f=o.isMobile?5:10,p=.05,d=1,D=o.isMobile?6:4,v=o.isMobile?4:6,y=100,F=-450,C=60,B=t-h,M=Math.abs(c-B),b=Math.ceil(M/i),W=()=>{const m=new qt;let Z=null,ie=null;const q=[],we=[],Ze=[],ze=[],We=[];{const je=new un(i,i,i),Ie=new Ho(je),Oe=l*b,R=new Fa;R.copy(Ie),R.instanceCount=Oe;const Fe=new mt({color:u,transparent:!0,fog:!0,vertexColors:!0}),re=new Float32Array(Oe*3),fe=new Float32Array(Oe*3),Ce=new Float32Array(Oe*3),Ae=l*i,x=-Ae/2+i/2,be=c;for(let k=0;k<l;k++){const P=w(k);for(let se=0;se<b;se++){const V=k*b+se,ve=x+k*i,De=be-se*i,z=ge.randFloat(r,a),A=z/i,Pe=g+z/2;re[V*3]=ve,re[V*3+1]=Pe,re[V*3+2]=De,fe[V*3]=1,fe[V*3+1]=A,fe[V*3+2]=1,Ce[V*3]=P,Ce[V*3+1]=P,Ce[V*3+2]=P}}R.setAttribute("instancePosition",new Oi(re,3)),R.setAttribute("instanceScale",new Oi(fe,3)),R.setAttribute("color",new Oi(Ce,3)),Fe.onBeforeCompile=k=>{k.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${k.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},Z=new ct(R,Fe);const ke=-Ae/2,Ne=Ae/2,Ye=g,ft=g+a,H=B,oe=c;R.boundingBox=new Mn(new Re(ke,Ye,H),new Re(Ne,ft,oe));const X=(ke+Ne)/2,L=(Ye+ft)/2,O=(H+oe)/2,he=Ne-ke,Me=ft-Ye,Qe=oe-H,T=Math.sqrt(he*he+Me*Me+Qe*Qe)/2;R.boundingSphere=new Ci(new Re(X,L,O),T),m.add(Z)}{ie=new qt;const je=l*i/(v-1),Ie=-(l*i)/2;for(let R=0;R<v;R++){let re=Ie+R*je,fe=c;const Ce=[new Re(re,F,fe)];let Ae=0;for(;fe>B;){const x=fe===c?ge.randFloat(300,800):Math.min(ge.randFloat(300,800),Math.abs(fe-B));if(fe-=x,Ce.push(new Re(re,F,fe)),Ae+=x,fe<=B){Ce[Ce.length-1].z=B;break}const be=Math.random()<.5?-1:1,ke=ge.randFloat(100,300);re+=be*ke,Ce.push(new Re(re,F,fe)),Ae+=ke}we.push({points:Ce,totalLength:Ae})}const Oe=new un(D,D,D);for(let R=0;R<v;R++){const Fe=we[R],re=Fe.totalLength,fe=re/C;for(let Ce=0;Ce<C;Ce++){const Ae=new ht({color:16711680,fog:!0}),x=new Ue(Oe,Ae),be=Ce*fe;let ke=be;for(let Ne=0;Ne<Fe.points.length-1;Ne++){const Ye=Fe.points[Ne],ft=Fe.points[Ne+1],H=Ye.distanceTo(ft);if(ke<=H){const oe=ke/H;x.position.lerpVectors(Ye,ft,oe);break}ke-=H}q.push(x),Ze.push(be),ze.push(R),We.push(1),ie.add(x)}for(let Ce=0;Ce<C;Ce++){const Ae=new ht({color:16777215,fog:!0}),x=new Ue(Oe,Ae),be=re-(Ce*fe+fe/2);let ke=re-be;const Ne=[...Fe.points].reverse();for(let Ye=0;Ye<Ne.length-1;Ye++){const ft=Ne[Ye],H=Ne[Ye+1],oe=ft.distanceTo(H);if(ke<=oe){const X=ke/oe;x.position.lerpVectors(ft,H,X);break}ke-=oe}q.push(x),Ze.push(be),ze.push(R),We.push(-1),ie.add(x)}}e.add(ie)}return e.add(m),{cityGroup:m,instancedLines:Z,particleGroup:ie,particles:q,paths:we,particleDistances:Ze,particlePaths:ze,particleDirections:We}},w=m=>{if(m<f){const Z=(d-p)/(f-1);return p+m*Z}else if(m>=l-f){const Z=l-1-m,ie=(d-p)/(f-1);return p+Z*ie}return d},{cityGroup:E,instancedLines:_,particleGroup:S,particles:I,paths:te,particleDistances:Y,particlePaths:le,particleDirections:U}=W();return{cityGroup:E,buildingLines:_?[_]:[],updateParticles:m=>{const Z=y*m;for(let ie=0;ie<I.length;ie++){const q=U[ie],we=le[ie],Ze=te[we],ze=Ze.totalLength;Y[ie]+=Z*q,q===1?(Y[ie]=Y[ie]%ze,Y[ie]<0&&(Y[ie]+=ze)):Y[ie]=(Y[ie]+ze)%ze;const We=Y[ie],je=q===1?Ze.points:[...Ze.points].reverse();let Ie=q===1?We:ze-We;for(let Oe=0;Oe<je.length-1;Oe++){const R=je[Oe],Fe=je[Oe+1],re=R.distanceTo(Fe);if(Ie<=re){const fe=Ie/re;I[ie].position.lerpVectors(R,Fe,fe);break}Ie-=re}}},dispose:()=>{_&&(E.remove(_),_.geometry.dispose(),_.material.dispose()),S&&(e.remove(S),S.children.forEach(m=>{m.geometry.dispose(),m.material.dispose()})),e.remove(E)}}}K.registerPlugin(Ve);function gl(s,e,t,n,o,i,r={},a,u){const l=xo(),g=Po(),{CUBE_SPACING:c,FIRST_CUBE_Z:h}=i,f=(n==null?void 0:n.length)||0,p=h-(f+1)*c;let d=!1,D=!1;const v=l.isMobile?(Math.abs(p)+(f-1)*c)*.7:Math.abs(p)+(f-1)*c;let y=K.timeline();Ve.config({ignoreMobileResize:!0});{let B=0,M=0;const b=16;y=K.timeline({scrollTrigger:{trigger:t.value,start:"top top",end:`+=${v}`,scrub:r.scrub,pin:!0,onUpdate:W=>{const w=performance.now();if(w-M>=b){if(!d){const E=W.progress,_=ge.lerp(0,p,E);e.position.set(0,0,_),e.lookAt(0,0,p),B++,(B%4===0||_<1)&&g.setProgress(Math.round(Math.abs(_)))}o(e),M=w}u&&u.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),y.fromTo(e.position,{z:0},{z:p,duration:1,ease:"none"},0)}return{setReverting:B=>{d=B},timeline:y,isScrollTriggerActive:()=>D}}function ml(s,e,t){const n=xo(),o=n.isMobile?25:20,i=n.isMobile?600:1800,r=4e3,a=-1e3,u=t-1e3,l=1e3,g=t,c=150,h=-500,f=t,p=new to,d=new Float32Array(i*3),D=new Float32Array(i),v=new Float32Array(i);let y=0;for(;y<i;){const W=(Math.random()-.5)*r,w=(Math.random()-.5)*r,E=a+Math.random()*(u-a),_=E>g&&Math.abs(W)<l&&Math.abs(w)<l,S=Math.abs(W)<c&&Math.abs(w)<c&&E>f&&E<h;if(!_&&!S){const I=y*3;d[I]=W,d[I+1]=w,d[I+2]=E;const te=.1+Math.random()*(.7-.1);D[y]=te,v[y]=te,y++}}p.setAttribute("position",new ts(d,3)),p.setAttribute("opacity",new ts(v,1));const F=new Oo({uniforms:{color:{value:new Ft(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),C=new pi(p,F);C.frustumCulled=!0,s.add(C);const B={values:v.slice()},M=p.attributes.opacity;return K.to(B,{duration:2,onUpdate:()=>{const W=Date.now()*.001;for(let w=0;w<i;w++)B.values[w]=D[w]*(.05+.95*Math.abs(Math.sin(W+w*.01)));M.array.set(B.values),M.needsUpdate=!0},repeat:-1,ease:"none"}),new ws,{dispose:()=>{K.killTweensOf(v),s.remove(C),p.dispose(),F.dispose()}}}function vl(s,e){const n=e-1500,o=100,i=2,r=64,a=1e3,u=r*3,l=[4,4.5,5],g=6;let c,h,f,p,d,D;const v=[],y=[[],[],[]],F=[[],[],[]],C=[[],[],[]];let B=[0,0,0];const M=()=>{const E=0-n,_=[];for(let $=0;$<o;$++){const m=$/(o-1),Z=0-m*E,ie=m*5*2*Math.PI,q=90*(.8+.2*Math.sin(ie*2)),we=new Re(q*Math.cos(ie),q*Math.sin(ie),Z);(isNaN(we.x)||isNaN(we.y)||isNaN(we.z))&&console.error("NaN in chaserPath points",{t:m,z:Z,projectMaxZ:e}),_.push(we)}c=new di(_);const S=new to().setFromPoints(c.getPoints(200));p=new zi(S,new mt({color:16711935,linewidth:2,visible:!1})),s.add(p);const I=[];for(let $=0;$<o;$++){const m=$/(o-1),Z=0-m*E,ie=m*3*2*Math.PI,q=60*(.8+.2*Math.sin(ie*4)),we=new Re(q*Math.cos(ie),q*Math.sin(ie),Z);(isNaN(we.x)||isNaN(we.y)||isNaN(we.z))&&console.error("NaN in chaserPath2 points",{t:m,z:Z,projectMaxZ:e}),I.push(we)}h=new di(I);const te=new to().setFromPoints(h.getPoints(200));d=new zi(te,new mt({color:65535,linewidth:2,visible:!1})),s.add(d);const Y=[];for(let $=0;$<o;$++){const m=$/(o-1),Z=0-m*E,ie=m*7*2*Math.PI,q=100,we=90,Ze=.1*Math.sin(ie),ze=new Re(q*(1+Ze)*Math.cos(ie),we*(1-Ze)*Math.sin(ie),Z);(isNaN(ze.x)||isNaN(ze.y)||isNaN(ze.z))&&console.error("NaN in chaserPath3 points",{t:m,z:Z,projectMaxZ:e}),Y.push(ze)}f=new di(Y);const le=new to().setFromPoints(f.getPoints(200));D=new zi(le,new mt({color:16776960,linewidth:2,visible:!1})),s.add(D);const U=[16711680,65280,255],ue=new un(i,i,i);ue.attributes.color&&delete ue.attributes.color;for(let $=0;$<3;$++){const m=new qt;m.opacity=1,m.renderOrder=1,v[$]=m,s.add(m);for(let Z=0;Z<u;Z++){const ie=new ht({color:U[$],transparent:!0,opacity:0,blending:Ta,fog:!0,depthWrite:!1}),q=new Ue(ue,ie);q.renderOrder=1,q.visible=!1,m.add(q),y[$][Z]=q,F[$][Z]=0,C[$][Z]=!1}}},b=E=>{const _=[c,h,f][E],S=_.getLength(),I=C[E].filter(Y=>Y).length;if(u-I>=r){let Y=0;for(let le=0;le<r;le++){const U=C[E].findIndex(we=>!we);if(U===-1){console.warn(`No available chasers for path ${E}, emitted ${Y}/${r}`);break}const ue=Y/(r-1),$=.05+(1-.05)*Math.pow(ue,3),m=new ht({color:[16711680,65280,255][E],transparent:!0,opacity:$,blending:co,fog:!0,depthWrite:!1});y[E][U].material=m,y[E][U].visible=!0;const Z=Y*g;F[E][U]=Z,C[E][U]=!0;const ie=Z/S,q=_.getPointAt(ie);y[E][U].position.copy(q),Y++}}},W=E=>{const _=performance.now()/1e3,S=[c,h,f];for(let I=0;I<3;I++){_-B[I]>=l[I]&&(b(I),B[I]=_);const te=S[I],Y=te.getLength(),le=a*E;for(let U=0;U<u;U++)if(C[I][U]){F[I][U]+=le;const ue=F[I][U]/Y;if(ue>=1)y[I][U].visible=!1,C[I][U]=!1,F[I][U]=0;else{const $=te.getPointAt(ue);y[I][U].position.copy($)}}}};return M(),{chaserPath:c,chaserPath2:h,chaserPath3:f,updateChasers:W,dispose:()=>{s.remove(p),s.remove(d),s.remove(D),p.geometry.dispose(),p.material.dispose(),d.geometry.dispose(),d.material.dispose(),D.geometry.dispose(),D.material.dispose(),v.forEach(E=>{E.children.forEach(_=>{_.geometry.dispose(),_.material.dispose()}),s.remove(E)})}}}class xl extends xr{constructor(e){super(e)}load(e,t,n,o){const i=this,r=new yr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){const u=i.parse(JSON.parse(a));t&&t(u)},n,o)}parse(e){return new yl(e)}}class yl{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],o=wl(e,t,this.data);for(let i=0,r=o.length;i<r;i++)n.push(...o[i].toShapes());return n}}function wl(s,e,t){const n=Array.from(s),o=e/t.resolution,i=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*o,r=[];let a=0,u=0;for(let l=0;l<n.length;l++){const g=n[l];if(g===`
`)a=0,u-=i;else{const c=Cl(g,o,a,u,t);a+=c.offsetX,r.push(c.path)}}return r}function Cl(s,e,t,n,o){const i=o.glyphs[s]||o.glyphs["?"];if(!i){console.error('THREE.Font: character "'+s+'" does not exists in font family '+o.familyName+".");return}const r=new Ma;let a,u,l,g,c,h,f,p;if(i.o){const d=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let D=0,v=d.length;D<v;)switch(d[D++]){case"m":a=d[D++]*e+t,u=d[D++]*e+n,r.moveTo(a,u);break;case"l":a=d[D++]*e+t,u=d[D++]*e+n,r.lineTo(a,u);break;case"q":l=d[D++]*e+t,g=d[D++]*e+n,c=d[D++]*e+t,h=d[D++]*e+n,r.quadraticCurveTo(c,h,l,g);break;case"b":l=d[D++]*e+t,g=d[D++]*e+n,c=d[D++]*e+t,h=d[D++]*e+n,f=d[D++]*e+t,p=d[D++]*e+n,r.bezierCurveTo(c,h,f,p,l,g);break}}return{offsetX:i.ha*e,path:r}}function bl(s="/fonts/Poppins_Regular.json"){const e=$e(null),t=$e(0),n=$e(!1),o=()=>new Promise((r,a)=>{new xl().load(s,l=>{e.value=l,t.value=100,n.value=!0,r(l)},l=>{l.lengthComputable&&(t.value=l.loaded/l.total*100)},l=>{t.value=100,n.value=!0,a(l)})});return{font:e,loadingProgress:t,isLoaded:n,initialize:()=>o()}}const _l=/^[og]\s*(.+)?/,El=/^mtllib /,Fl=/^usemtl /,Tl=/^usemap /,Ks=/\s+/,er=new Re,Xi=new Re,tr=new Re,or=new Re,Xt=new Re,si=new Ft;function Ml(){const s={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,i){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const a={index:this.materials.length,name:o||"",mtllib:Array.isArray(i)&&i.length>0?i[i.length-1]:"",smooth:r!==void 0?r.smooth:this.smooth,groupStart:r!==void 0?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(u){const l={index:typeof u=="number"?u:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const i=this.currentMaterial();if(i&&i.groupEnd===-1&&(i.groupEnd=this.geometry.vertices.length/3,i.groupCount=i.groupEnd-i.groupStart,i.inherited=!1),o&&this.materials.length>1)for(let r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),i}},n&&n.name&&typeof n.clone=="function"){const o=n.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseNormalIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseUVIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/2)*2},addVertex:function(e,t,n){const o=this.vertices,i=this.object.geometry.vertices;i.push(o[e+0],o[e+1],o[e+2]),i.push(o[t+0],o[t+1],o[t+2]),i.push(o[n+0],o[n+1],o[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const o=this.normals,i=this.object.geometry.normals;i.push(o[e+0],o[e+1],o[e+2]),i.push(o[t+0],o[t+1],o[t+2]),i.push(o[n+0],o[n+1],o[n+2])},addFaceNormal:function(e,t,n){const o=this.vertices,i=this.object.geometry.normals;er.fromArray(o,e),Xi.fromArray(o,t),tr.fromArray(o,n),Xt.subVectors(tr,Xi),or.subVectors(er,Xi),Xt.cross(or),Xt.normalize(),i.push(Xt.x,Xt.y,Xt.z),i.push(Xt.x,Xt.y,Xt.z),i.push(Xt.x,Xt.y,Xt.z)},addColor:function(e,t,n){const o=this.colors,i=this.object.geometry.colors;o[e]!==void 0&&i.push(o[e+0],o[e+1],o[e+2]),o[t]!==void 0&&i.push(o[t+0],o[t+1],o[t+2]),o[n]!==void 0&&i.push(o[n+0],o[n+1],o[n+2])},addUV:function(e,t,n){const o=this.uvs,i=this.object.geometry.uvs;i.push(o[e+0],o[e+1]),i.push(o[t+0],o[t+1]),i.push(o[n+0],o[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,o,i,r,a,u,l){const g=this.vertices.length;let c=this.parseVertexIndex(e,g),h=this.parseVertexIndex(t,g),f=this.parseVertexIndex(n,g);if(this.addVertex(c,h,f),this.addColor(c,h,f),a!==void 0&&a!==""){const p=this.normals.length;c=this.parseNormalIndex(a,p),h=this.parseNormalIndex(u,p),f=this.parseNormalIndex(l,p),this.addNormal(c,h,f)}else this.addFaceNormal(c,h,f);if(o!==void 0&&o!==""){const p=this.uvs.length;c=this.parseUVIndex(o,p),h=this.parseUVIndex(i,p),f=this.parseUVIndex(r,p),this.addUV(c,h,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,o=e.length;n<o;n++){const i=this.parseVertexIndex(e[n],t);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,o=this.uvs.length;for(let i=0,r=e.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(let i=0,r=t.length;i<r;i++)this.addUVLine(this.parseUVIndex(t[i],o))}};return s.startObject("",!1),s}class nr extends xr{constructor(e){super(e),this.materials=null}load(e,t,n,o){const i=this,r=new yr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(a){try{t(i.parse(a))}catch(u){o?o(u):console.error(u),i.manager.itemError(e)}},n,o)}setMaterials(e){return this.materials=e,this}parse(e){const t=new Ml;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const n=e.split(`
`);let o=[];for(let a=0,u=n.length;a<u;a++){const l=n[a].trimStart();if(l.length===0)continue;const g=l.charAt(0);if(g!=="#")if(g==="v"){const c=l.split(Ks);switch(c[0]){case"v":t.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),c.length>=7?(si.setRGB(parseFloat(c[4]),parseFloat(c[5]),parseFloat(c[6]),os),t.colors.push(si.r,si.g,si.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));break;case"vt":t.uvs.push(parseFloat(c[1]),parseFloat(c[2]));break}}else if(g==="f"){const h=l.slice(1).trim().split(Ks),f=[];for(let d=0,D=h.length;d<D;d++){const v=h[d];if(v.length>0){const y=v.split("/");f.push(y)}}const p=f[0];for(let d=1,D=f.length-1;d<D;d++){const v=f[d],y=f[d+1];t.addFace(p[0],v[0],y[0],p[1],v[1],y[1],p[2],v[2],y[2])}}else if(g==="l"){const c=l.substring(1).trim().split(" ");let h=[];const f=[];if(l.indexOf("/")===-1)h=c;else for(let p=0,d=c.length;p<d;p++){const D=c[p].split("/");D[0]!==""&&h.push(D[0]),D[1]!==""&&f.push(D[1])}t.addLineGeometry(h,f)}else if(g==="p"){const h=l.slice(1).trim().split(" ");t.addPointGeometry(h)}else if((o=_l.exec(l))!==null){const c=(" "+o[0].slice(1).trim()).slice(1);t.startObject(c)}else if(Fl.test(l))t.object.startMaterial(l.substring(7).trim(),t.materialLibraries);else if(El.test(l))t.materialLibraries.push(l.substring(7).trim());else if(Tl.test(l))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(g==="s"){if(o=l.split(" "),o.length>1){const h=o[1].trim().toLowerCase();t.object.smooth=h!=="0"&&h!=="off"}else t.object.smooth=!0;const c=t.object.currentMaterial();c&&(c.smooth=t.object.smooth)}else{if(l==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+l+'"')}}t.finalize();const i=new qt;if(i.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,u=t.objects.length;a<u;a++){const l=t.objects[a],g=l.geometry,c=l.materials,h=g.type==="Line",f=g.type==="Points";let p=!1;if(g.vertices.length===0)continue;const d=new to;d.setAttribute("position",new bo(g.vertices,3)),g.normals.length>0&&d.setAttribute("normal",new bo(g.normals,3)),g.colors.length>0&&(p=!0,d.setAttribute("color",new bo(g.colors,3))),g.hasUVIndices===!0&&d.setAttribute("uv",new bo(g.uvs,2));const D=[];for(let y=0,F=c.length;y<F;y++){const C=c[y],B=C.name+"_"+C.smooth+"_"+p;let M=t.materials[B];if(this.materials!==null){if(M=this.materials.create(C.name),h&&M&&!(M instanceof mt)){const b=new mt;ns.prototype.copy.call(b,M),b.color.copy(M.color),M=b}else if(f&&M&&!(M instanceof Yn)){const b=new Yn({size:10,sizeAttenuation:!1});ns.prototype.copy.call(b,M),b.color.copy(M.color),b.map=M.map,M=b}}M===void 0&&(h?M=new mt:f?M=new Yn({size:1,sizeAttenuation:!1}):M=new Pa,M.name=C.name,M.flatShading=!C.smooth,M.vertexColors=p,t.materials[B]=M),D.push(M)}let v;if(D.length>1){for(let y=0,F=c.length;y<F;y++){const C=c[y];d.addGroup(C.groupStart,C.groupCount,y)}h?v=new ct(d,D):f?v=new pi(d,D):v=new Ue(d,D)}else h?v=new ct(d,D[0]):f?v=new pi(d,D[0]):v=new Ue(d,D[0]);v.name=l.name,i.add(v)}else if(t.vertices.length>0){const a=new Yn({size:1,sizeAttenuation:!1}),u=new to;u.setAttribute("position",new bo(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(u.setAttribute("color",new bo(t.colors,3)),a.vertexColors=!0);const l=new pi(u,a);i.add(l)}return i}}/*!
 * paths 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Pl=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Sl=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Al=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Bl=/(^[#\.][a-z]|[a-y][a-z])/i,Rl=Math.PI/180,kl=180/Math.PI,ri=Math.sin,ai=Math.cos,eo=Math.abs,Do=Math.sqrt,Ll=Math.atan2,hs=1e8,ir=function(e){return typeof e=="string"},Xr=function(e){return typeof e=="number"},Il=function(e){return typeof e>"u"},Ol={},zl={},Mi=1e5,$r=function(e){return Math.round((e+hs)%1*Mi)/Mi||(e<0?0:1)},st=function(e){return Math.round(e*Mi)/Mi||0},sr=function(e){return Math.round(e*1e10)/1e10||0},rr=function(e,t,n,o){var i=e[t],r=o===1?6:Ds(i,n,o);if((r||!o)&&r+n+2<i.length)return e.splice(t,0,i.slice(0,n+r+2)),i.splice(0,n+r),1},Zr=function(e,t,n){var o=e.length,i=~~(n*o);if(e[i]>t){for(;--i&&e[i]>t;);i<0&&(i=0)}else for(;e[++i]<t&&i<o;);return i<o?i:o-1},Nl=function(e,t){var n=e.length;for(e.reverse();n--;)e[n].reversed||jl(e[n])},ar=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},Hl=function(e,t){var n=e.length,o=e[n-1]||[],i=o.length;n&&t[0]===o[i-2]&&t[1]===o[i-1]&&(t=o.concat(t.slice(2)),n--),e[n]=t};function yi(s){s=ir(s)&&Bl.test(s)&&document.querySelector(s)||s;var e=s.getAttribute?s:0,t;return e&&(s=s.getAttribute("d"))?(e._gsPath||(e._gsPath={}),t=e._gsPath[s],t&&!t._dirty?t:e._gsPath[s]=Pi(s)):s?ir(s)?Pi(s):Xr(s[0])?[s]:s:console.warn("Expecting a <path> element or an SVG path data string")}function Ul(s){for(var e=[],t=0;t<s.length;t++)e[t]=ar(s[t],s[t].slice(0));return ar(s,e)}function jl(s){var e=0,t;for(s.reverse();e<s.length;e+=2)t=s[e],s[e]=s[e+1],s[e+1]=t;s.reversed=!s.reversed}var Gl=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),o=[].slice.call(e.attributes),i=o.length,r;for(t=","+t+",";--i>-1;)r=o[i].nodeName.toLowerCase(),t.indexOf(","+r+",")<0&&n.setAttributeNS(null,r,o[i].nodeValue);return n},Vl={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},Wl=function(e,t){for(var n=t?t.split(","):[],o={},i=n.length;--i>-1;)o[n[i]]=+e.getAttribute(n[i])||0;return o};function Yl(s,e){var t=s.tagName.toLowerCase(),n=.552284749831,o,i,r,a,u,l,g,c,h,f,p,d,D,v,y,F,C,B,M,b,W,w;return t==="path"||!s.getBBox?s:(l=Gl(s,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),w=Wl(s,Vl[t]),t==="rect"?(a=w.rx,u=w.ry||a,i=w.x,r=w.y,f=w.width-a*2,p=w.height-u*2,a||u?(d=i+a*(1-n),D=i+a,v=D+f,y=v+a*n,F=v+a,C=r+u*(1-n),B=r+u,M=B+p,b=M+u*n,W=M+u,o="M"+F+","+B+" V"+M+" C"+[F,b,y,W,v,W,v-(v-D)/3,W,D+(v-D)/3,W,D,W,d,W,i,b,i,M,i,M-(M-B)/3,i,B+(M-B)/3,i,B,i,C,d,r,D,r,D+(v-D)/3,r,v-(v-D)/3,r,v,r,y,r,F,C,F,B].join(",")+"z"):o="M"+(i+f)+","+r+" v"+p+" h"+-f+" v"+-p+" h"+f+"z"):t==="circle"||t==="ellipse"?(t==="circle"?(a=u=w.r,c=a*n):(a=w.rx,u=w.ry,c=u*n),i=w.cx,r=w.cy,g=a*n,o="M"+(i+a)+","+r+" C"+[i+a,r+c,i+g,r+u,i,r+u,i-g,r+u,i-a,r+c,i-a,r,i-a,r-c,i-g,r-u,i,r-u,i+g,r-u,i+a,r-c,i+a,r].join(",")+"z"):t==="line"?o="M"+w.x1+","+w.y1+" L"+w.x2+","+w.y2:(t==="polyline"||t==="polygon")&&(h=(s.getAttribute("points")+"").match(Sl)||[],i=h.shift(),r=h.shift(),o="M"+i+","+r+" L"+h.join(","),t==="polygon"&&(o+=","+i+","+r+"z")),l.setAttribute("d",Qr(l._gsRawPath=Pi(o))),e&&s.parentNode&&(s.parentNode.insertBefore(l,s),s.parentNode.removeChild(s)),l)}function qr(s,e,t){var n=s[e],o=s[e+2],i=s[e+4],r;return n+=(o-n)*t,o+=(i-o)*t,n+=(o-n)*t,r=o+(i+(s[e+6]-i)*t-o)*t-n,n=s[e+1],o=s[e+3],i=s[e+5],n+=(o-n)*t,o+=(i-o)*t,n+=(o-n)*t,st(Ll(o+(i+(s[e+7]-i)*t-o)*t-n,r)*kl)}function Jr(s,e,t){t=Il(t)?1:sr(t)||0,e=sr(e)||0;var n=Math.max(0,~~(eo(t-e)-1e-8)),o=Ul(s);if(e>t&&(e=1-e,t=1-t,Nl(o),o.totalLength=0),e<0||t<0){var i=Math.abs(~~Math.min(e,t))+1;e+=i,t+=i}o.totalLength||Vo(o);var r=t>1,a=lr(o,e,Ol,!0),u=lr(o,t,zl),l=u.segment,g=a.segment,c=u.segIndex,h=a.segIndex,f=u.i,p=a.i,d=h===c,D=f===p&&d,v,y,F,C,B,M,b,W;if(r||n){for(v=c<h||d&&f<p||D&&u.t<a.t,rr(o,h,p,a.t)&&(h++,v||(c++,D?(u.t=(u.t-a.t)/(1-a.t),f=0):d&&(f-=p))),Math.abs(1-(t-e))<1e-5?c=h-1:!u.t&&c?c--:rr(o,c,f,u.t)&&v&&h++,a.t===1&&(h=(h+1)%o.length),B=[],M=o.length,b=1+M*n,W=h,b+=(M-h+c)%M,C=0;C<b;C++)Hl(B,o[W++%M]);o=B}else if(F=u.t===1?6:Ds(l,f,u.t),e!==t)for(y=Ds(g,p,D?a.t/u.t:a.t),d&&(F+=y),l.splice(f+F+2),(y||p)&&g.splice(0,p+y),C=o.length;C--;)(C<h||C>c)&&o.splice(C,1);else l.angle=qr(l,f+F,0),f+=F,a=l[f],u=l[f+1],l.length=l.totalLength=0,l.totalPoints=o.totalPoints=8,l.push(a,u,a,u,a,u,a,u);return o.totalLength=0,o}function Xl(s,e,t){e=e||0,s.samples||(s.samples=[],s.lookup=[]);var n=~~s.resolution||12,o=1/n,i=s.length,r=s[e],a=s[e+1],u=e?e/6*n:0,l=s.samples,g=s.lookup,c=(e?s.minLength:hs)||hs,h=l[u+t*n-1],f=e?l[u-1]:0,p,d,D,v,y,F,C,B,M,b,W,w,E,_,S,I,te;for(l.length=g.length=0,d=e+2;d<i;d+=6){if(D=s[d+4]-r,v=s[d+2]-r,y=s[d]-r,B=s[d+5]-a,M=s[d+3]-a,b=s[d+1]-a,F=C=W=w=0,eo(D)<.01&&eo(B)<.01&&eo(y)+eo(b)<.01)s.length>8&&(s.splice(d,6),d-=6,i-=6);else for(p=1;p<=n;p++)_=o*p,E=1-_,F=C-(C=(_*_*D+3*E*(_*v+E*y))*_),W=w-(w=(_*_*B+3*E*(_*M+E*b))*_),I=Do(W*W+F*F),I<c&&(c=I),f+=I,l[u++]=f;r+=D,a+=B}if(h)for(h-=f;u<l.length;u++)l[u]+=h;if(l.length&&c){if(s.totalLength=te=l[l.length-1]||0,s.minLength=c,te/c<9999)for(I=S=0,p=0;p<te;p+=c)g[I++]=l[S]<p?++S:S}else s.totalLength=l[0]=0;return e?f-l[e/2-1]:f}function Vo(s,e){var t,n,o;for(o=t=n=0;o<s.length;o++)s[o].resolution=~~e||12,n+=s[o].length,t+=Xl(s[o]);return s.totalPoints=n,s.totalLength=t,s}function Ds(s,e,t){if(t<=0||t>=1)return 0;var n=s[e],o=s[e+1],i=s[e+2],r=s[e+3],a=s[e+4],u=s[e+5],l=s[e+6],g=s[e+7],c=n+(i-n)*t,h=i+(a-i)*t,f=o+(r-o)*t,p=r+(u-r)*t,d=c+(h-c)*t,D=f+(p-f)*t,v=a+(l-a)*t,y=u+(g-u)*t;return h+=(v-h)*t,p+=(y-p)*t,s.splice(e+2,4,st(c),st(f),st(d),st(D),st(d+(h-d)*t),st(D+(p-D)*t),st(h),st(p),st(v),st(y)),s.samples&&s.samples.splice(e/6*s.resolution|0,0,0,0,0,0,0,0),6}function lr(s,e,t,n){t=t||{},s.totalLength||Vo(s),(e<0||e>1)&&(e=$r(e));var o=0,i=s[0],r,a,u,l,g,c,h;if(!e)h=c=o=0,i=s[0];else if(e===1)h=1,o=s.length-1,i=s[o],c=i.length-8;else{if(s.length>1){for(u=s.totalLength*e,g=c=0;(g+=s[c++].totalLength)<u;)o=c;i=s[o],l=g-i.totalLength,e=(u-l)/(g-l)||0}r=i.samples,a=i.resolution,u=i.totalLength*e,c=i.lookup.length?i.lookup[~~(u/i.minLength)]||0:Zr(r,u,e),l=c?r[c-1]:0,g=r[c],g<u&&(l=g,g=r[++c]),h=1/a*((u-l)/(g-l)+c%a),c=~~(c/a)*6,n&&h===1&&(c+6<i.length?(c+=6,h=0):o+1<s.length&&(c=h=0,i=s[++o]))}return t.t=h,t.i=c,t.path=s,t.segment=i,t.segIndex=o,t}function ur(s,e,t,n){var o=s[0],i=n||{},r,a,u,l,g,c,h,f,p;if((e<0||e>1)&&(e=$r(e)),o.lookup||Vo(s),s.length>1){for(u=s.totalLength*e,g=c=0;(g+=s[c++].totalLength)<u;)o=s[c];l=g-o.totalLength,e=(u-l)/(g-l)||0}return r=o.samples,a=o.resolution,u=o.totalLength*e,c=o.lookup.length?o.lookup[e<1?~~(u/o.minLength):o.lookup.length-1]||0:Zr(r,u,e),l=c?r[c-1]:0,g=r[c],g<u&&(l=g,g=r[++c]),h=1/a*((u-l)/(g-l)+c%a)||0,p=1-h,c=~~(c/a)*6,f=o[c],i.x=st((h*h*(o[c+6]-f)+3*p*(h*(o[c+4]-f)+p*(o[c+2]-f)))*h+f),i.y=st((h*h*(o[c+7]-(f=o[c+1]))+3*p*(h*(o[c+5]-f)+p*(o[c+3]-f)))*h+f),t&&(i.angle=o.totalLength?qr(o,c,h>=1?1-1e-9:h||1e-9):o.angle||0),i}function _n(s,e,t,n,o,i,r){for(var a=s.length,u,l,g,c,h;--a>-1;)for(u=s[a],l=u.length,g=0;g<l;g+=2)c=u[g],h=u[g+1],u[g]=c*e+h*n+i,u[g+1]=c*t+h*o+r;return s._dirty=1,s}function $l(s,e,t,n,o,i,r,a,u){if(!(s===a&&e===u)){t=eo(t),n=eo(n);var l=o%360*Rl,g=ai(l),c=ri(l),h=Math.PI,f=h*2,p=(s-a)/2,d=(e-u)/2,D=g*p+c*d,v=-c*p+g*d,y=D*D,F=v*v,C=y/(t*t)+F/(n*n);C>1&&(t=Do(C)*t,n=Do(C)*n);var B=t*t,M=n*n,b=(B*M-B*F-M*y)/(B*F+M*y);b<0&&(b=0);var W=(i===r?-1:1)*Do(b),w=W*(t*v/n),E=W*-(n*D/t),_=(s+a)/2,S=(e+u)/2,I=_+(g*w-c*E),te=S+(c*w+g*E),Y=(D-w)/t,le=(v-E)/n,U=(-D-w)/t,ue=(-v-E)/n,$=Y*Y+le*le,m=(le<0?-1:1)*Math.acos(Y/Do($)),Z=(Y*ue-le*U<0?-1:1)*Math.acos((Y*U+le*ue)/Do($*(U*U+ue*ue)));isNaN(Z)&&(Z=h),!r&&Z>0?Z-=f:r&&Z<0&&(Z+=f),m%=f,Z%=f;var ie=Math.ceil(eo(Z)/(f/4)),q=[],we=Z/ie,Ze=4/3*ri(we/2)/(1+ai(we/2)),ze=g*t,We=c*t,je=c*-n,Ie=g*n,Oe;for(Oe=0;Oe<ie;Oe++)o=m+Oe*we,D=ai(o),v=ri(o),Y=ai(o+=we),le=ri(o),q.push(D-Ze*v,v+Ze*D,Y+Ze*le,le-Ze*Y,Y,le);for(Oe=0;Oe<q.length;Oe+=2)D=q[Oe],v=q[Oe+1],q[Oe]=D*ze+v*je+I,q[Oe+1]=D*We+v*Ie+te;return q[Oe-2]=a,q[Oe-1]=u,q}}function Pi(s){var e=(s+"").replace(Al,function(w){var E=+w;return E<1e-4&&E>-1e-4?0:E}).match(Pl)||[],t=[],n=0,o=0,i=2/3,r=e.length,a=0,u="ERROR: malformed path: "+s,l,g,c,h,f,p,d,D,v,y,F,C,B,M,b,W=function(E,_,S,I){y=(S-E)/3,F=(I-_)/3,d.push(E+y,_+F,S-y,I-F,S,I)};if(!s||!isNaN(e[0])||isNaN(e[1]))return console.log(u),t;for(l=0;l<r;l++)if(B=f,isNaN(e[l])?(f=e[l].toUpperCase(),p=f!==e[l]):l--,c=+e[l+1],h=+e[l+2],p&&(c+=n,h+=o),l||(D=c,v=h),f==="M")d&&(d.length<8?t.length-=1:a+=d.length),n=D=c,o=v=h,d=[c,h],t.push(d),l+=2,f="L";else if(f==="C")d||(d=[0,0]),p||(n=o=0),d.push(c,h,n+e[l+3]*1,o+e[l+4]*1,n+=e[l+5]*1,o+=e[l+6]*1),l+=6;else if(f==="S")y=n,F=o,(B==="C"||B==="S")&&(y+=n-d[d.length-4],F+=o-d[d.length-3]),p||(n=o=0),d.push(y,F,c,h,n+=e[l+3]*1,o+=e[l+4]*1),l+=4;else if(f==="Q")y=n+(c-n)*i,F=o+(h-o)*i,p||(n=o=0),n+=e[l+3]*1,o+=e[l+4]*1,d.push(y,F,n+(c-n)*i,o+(h-o)*i,n,o),l+=4;else if(f==="T")y=n-d[d.length-4],F=o-d[d.length-3],d.push(n+y,o+F,c+(n+y*1.5-c)*i,h+(o+F*1.5-h)*i,n=c,o=h),l+=2;else if(f==="H")W(n,o,n=c,o),l+=1;else if(f==="V")W(n,o,n,o=c+(p?o-n:0)),l+=1;else if(f==="L"||f==="Z")f==="Z"&&(c=D,h=v,d.closed=!0),(f==="L"||eo(n-c)>.5||eo(o-h)>.5)&&(W(n,o,c,h),f==="L"&&(l+=2)),n=c,o=h;else if(f==="A"){if(M=e[l+4],b=e[l+5],y=e[l+6],F=e[l+7],g=7,M.length>1&&(M.length<3?(F=y,y=b,g--):(F=b,y=M.substr(2),g-=2),b=M.charAt(1),M=M.charAt(0)),C=$l(n,o,+e[l+1],+e[l+2],+e[l+3],+M,+b,(p?n:0)+y*1,(p?o:0)+F*1),l+=g,C)for(g=0;g<C.length;g++)d.push(C[g]);n=d[d.length-2],o=d[d.length-1]}else console.log(u);return l=d.length,l<6?(t.pop(),l=0):d[0]===d[l-2]&&d[1]===d[l-1]&&(d.closed=!0),t.totalPoints=a+l,t}function Zl(s,e){e===void 0&&(e=1);for(var t=s[0],n=0,o=[t,n],i=2;i<s.length;i+=2)o.push(t,n,s[i],n=(s[i]-t)*e/2,t=s[i],-n);return o}function gs(s,e){eo(s[0]-s[2])<1e-4&&eo(s[1]-s[3])<1e-4&&(s=s.slice(2));var t=s.length-2,n=+s[0],o=+s[1],i=+s[2],r=+s[3],a=[n,o,n,o],u=i-n,l=r-o,g=Math.abs(s[t]-n)<.001&&Math.abs(s[t+1]-o)<.001,c,h,f,p,d,D,v,y,F,C,B,M,b,W,w;for(g&&(s.push(i,r),i=n,r=o,n=s[t-2],o=s[t-1],s.unshift(n,o),t+=4),e=e||e===0?+e:1,f=2;f<t;f+=2)c=n,h=o,n=i,o=r,i=+s[f+2],r=+s[f+3],!(n===i&&o===r)&&(p=u,d=l,u=i-n,l=r-o,D=Do(p*p+d*d),v=Do(u*u+l*l),y=Do(Math.pow(u/v+p/D,2)+Math.pow(l/v+d/D,2)),F=(D+v)*e*.25/y,C=n-(n-c)*(D?F/D:0),B=n+(i-n)*(v?F/v:0),M=n-(C+((B-C)*(D*3/(D+v)+.5)/4||0)),b=o-(o-h)*(D?F/D:0),W=o+(r-o)*(v?F/v:0),w=o-(b+((W-b)*(D*3/(D+v)+.5)/4||0)),(n!==c||o!==h)&&a.push(st(C+M),st(b+w),st(n),st(o),st(B+M),st(W+w)));return n!==i||o!==r||a.length<4?a.push(st(i),st(r),st(i),st(r)):a.length-=2,a.length===2?a.push(n,o,n,o,n,o):g&&(a.splice(0,6),a.length=a.length-6),a}function Qr(s){Xr(s[0])&&(s=[s]);var e="",t=s.length,n,o,i,r;for(o=0;o<t;o++){for(r=s[o],e+="M"+st(r[0])+","+st(r[1])+" C",n=r.length,i=2;i<n;i++)e+=st(r[i++])+","+st(r[i++])+" "+st(r[i++])+","+st(r[i++])+" "+st(r[i++])+","+st(r[i])+" ";r.closed&&(e+="z")}return e}/*!
 * matrix 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var mo,Wo,Ss,Li,En,wi,Si,Nn,so="transform",ms=so+"Origin",Kr,ea=function(e){var t=e.ownerDocument||e;for(!(so in e.style)&&("msTransform"in e.style)&&(so="msTransform",ms=so+"Origin");t.parentNode&&(t=t.parentNode););if(Wo=window,Si=new Vn,t){mo=t,Ss=t.documentElement,Li=t.body,Nn=mo.createElementNS("http://www.w3.org/2000/svg","g"),Nn.style.transform="none";var n=t.createElement("div"),o=t.createElement("div"),i=t&&(t.body||t.firstElementChild);i&&i.appendChild&&(i.appendChild(n),n.appendChild(o),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Kr=o.offsetParent!==n,i.removeChild(n))}return t},ql=function(e){for(var t,n;e&&e!==Li;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},ta=[],oa=[],Jl=function(){return Wo.pageYOffset||mo.scrollTop||Ss.scrollTop||Li.scrollTop||0},Ql=function(){return Wo.pageXOffset||mo.scrollLeft||Ss.scrollLeft||Li.scrollLeft||0},As=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},Kl=function s(e){if(Wo.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return s(e)},$i=function s(e,t){if(e.parentNode&&(mo||ea(e))){var n=As(e),o=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i=n?t?"rect":"g":"div",r=t!==2?0:100,a=t===3?100:0,u="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",l=mo.createElementNS?mo.createElementNS(o.replace(/^https/,"http"),i):mo.createElement(i);return t&&(n?(wi||(wi=s(e)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+r+","+a+")"),wi.appendChild(l)):(En||(En=s(e),En.style.cssText=u),l.style.cssText=u+"width:0.1px;height:0.1px;top:"+a+"px;left:"+r+"px",En.appendChild(l))),l}throw"Need document and parent."},eu=function(e){for(var t=new Vn,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},tu=function(e){var t=e.getCTM(),n;return t||(n=e.style[so],e.style[so]="none",e.appendChild(Nn),t=Nn.getCTM(),e.removeChild(Nn),n?e.style[so]=n:e.style.removeProperty(so.replace(/([A-Z])/g,"-$1").toLowerCase())),t||Si.clone()},ou=function(e,t){var n=As(e),o=e===n,i=n?ta:oa,r=e.parentNode,a,u,l,g,c,h;if(e===Wo)return e;if(i.length||i.push($i(e,1),$i(e,2),$i(e,3)),a=n?wi:En,n)o?(l=tu(e),g=-l.e/l.a,c=-l.f/l.d,u=Si):e.getBBox?(l=e.getBBox(),u=e.transform?e.transform.baseVal:{},u=u.numberOfItems?u.numberOfItems>1?eu(u):u.getItem(0).matrix:Si,g=u.a*l.x+u.c*l.y,c=u.b*l.x+u.d*l.y):(u=new Vn,g=c=0),t&&e.tagName.toLowerCase()==="g"&&(g=c=0),(o?n:r).appendChild(a),a.setAttribute("transform","matrix("+u.a+","+u.b+","+u.c+","+u.d+","+(u.e+g)+","+(u.f+c)+")");else{if(g=c=0,Kr)for(u=e.offsetParent,l=e;l&&(l=l.parentNode)&&l!==u&&l.parentNode;)(Wo.getComputedStyle(l)[so]+"").length>4&&(g=l.offsetLeft,c=l.offsetTop,l=0);if(h=Wo.getComputedStyle(e),h.position!=="absolute"&&h.position!=="fixed")for(u=e.offsetParent;r&&r!==u;)g+=r.scrollLeft||0,c+=r.scrollTop||0,r=r.parentNode;l=a.style,l.top=e.offsetTop-c+"px",l.left=e.offsetLeft-g+"px",l[so]=h[so],l[ms]=h[ms],l.position=h.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(a)}return a},Zi=function(e,t,n,o,i,r,a){return e.a=t,e.b=n,e.c=o,e.d=i,e.e=r,e.f=a,e},Vn=function(){function s(t,n,o,i,r,a){t===void 0&&(t=1),n===void 0&&(n=0),o===void 0&&(o=0),i===void 0&&(i=1),r===void 0&&(r=0),a===void 0&&(a=0),Zi(this,t,n,o,i,r,a)}var e=s.prototype;return e.inverse=function(){var n=this.a,o=this.b,i=this.c,r=this.d,a=this.e,u=this.f,l=n*r-o*i||1e-10;return Zi(this,r/l,-o/l,-i/l,n/l,(i*u-r*a)/l,-(n*u-o*a)/l)},e.multiply=function(n){var o=this.a,i=this.b,r=this.c,a=this.d,u=this.e,l=this.f,g=n.a,c=n.c,h=n.b,f=n.d,p=n.e,d=n.f;return Zi(this,g*o+h*r,g*i+h*a,c*o+f*r,c*i+f*a,u+p*o+d*r,l+p*i+d*a)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var o=this.a,i=this.b,r=this.c,a=this.d,u=this.e,l=this.f;return o===n.a&&i===n.b&&r===n.c&&a===n.d&&u===n.e&&l===n.f},e.apply=function(n,o){o===void 0&&(o={});var i=n.x,r=n.y,a=this.a,u=this.b,l=this.c,g=this.d,c=this.e,h=this.f;return o.x=i*a+r*l+c||0,o.y=i*u+r*g+h||0,o},s}();function an(s,e,t,n){if(!s||!s.parentNode||(mo||ea(s)).documentElement===s)return new Vn;var o=ql(s),i=As(s),r=i?ta:oa,a=ou(s,t),u=r[0].getBoundingClientRect(),l=r[1].getBoundingClientRect(),g=r[2].getBoundingClientRect(),c=a.parentNode,h=!n&&Kl(s),f=new Vn((l.left-u.left)/100,(l.top-u.top)/100,(g.left-u.left)/100,(g.top-u.top)/100,u.left+(h?0:Ql()),u.top+(h?0:Jl()));if(c.removeChild(a),o)for(u=o.length;u--;)l=o[u],l.scaleX=l.scaleY=0,l.renderTransform(1,l);return e?f.inverse():f}/*!
 * MotionPathPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var nu="x,translateX,left,marginLeft,xPercent".split(","),iu="y,translateY,top,marginTop,yPercent".split(","),su=Math.PI/180,Kt,na,en,vs,qi,cr,ru=function(){return Kt||typeof window<"u"&&(Kt=window.gsap)&&Kt.registerPlugin&&Kt},vn=function(e,t,n,o){for(var i=t.length,r=o===2?0:o,a=0;a<i;a++)e[r]=parseFloat(t[a][n]),o===2&&(e[r+1]=0),r+=2;return e},on=function(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},ia=function(e){var t=e[0],n=e[1],o;for(o=2;o<e.length;o+=2)t=e[o]+=t,n=e[o+1]+=n},fr=function(e,t,n,o,i,r,a,u,l){if(a.type==="cubic")t=[t];else{a.fromCurrent!==!1&&t.unshift(on(n,o,u),i?on(n,i,l):0),a.relative&&ia(t);var g=i?gs:Zl;t=[g(t,a.curviness)]}return t=r(sa(t,n,a)),Ai(e,n,o,t,"x",u),i&&Ai(e,n,i,t,"y",l),Vo(t,a.resolution||(a.curviness===0?20:12))},au=function(e){return e},lu=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,pr=function(e,t,n){var o=an(e),i=0,r=0,a;return(e.tagName+"").toLowerCase()==="svg"?(a=e.viewBox.baseVal,a.width||(a={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):a=t&&e.getBBox&&e.getBBox(),t&&t!=="auto"&&(i=t.push?t[0]*(a?a.width:e.offsetWidth||0):t.x,r=t.push?t[1]*(a?a.height:e.offsetHeight||0):t.y),n.apply(i||r?o.apply({x:i,y:r}):{x:o.e,y:o.f})},xs=function(e,t,n,o){var i=an(e.parentNode,!0,!0),r=i.clone().multiply(an(t)),a=pr(e,n,i),u=pr(t,o,i),l=u.x,g=u.y,c;return r.e=r.f=0,o==="auto"&&t.getTotalLength&&t.tagName.toLowerCase()==="path"&&(c=t.getAttribute("d").match(lu)||[],c=r.apply({x:+c[0],y:+c[1]}),l+=c.x,g+=c.y),c&&(c=r.apply(t.getBBox()),l-=c.x,g-=c.y),r.e=l-a.x,r.f=g-a.y,r},sa=function(e,t,n){var o=n.align,i=n.matrix,r=n.offsetX,a=n.offsetY,u=n.alignOrigin,l=e[0][0],g=e[0][1],c=on(t,"x"),h=on(t,"y"),f,p,d;return!e||!e.length?yi("M0,0L0,0"):(o&&(o==="self"||(f=vs(o)[0]||t)===t?_n(e,1,0,0,1,c-l,h-g):(u&&u[2]!==!1?Kt.set(t,{transformOrigin:u[0]*100+"% "+u[1]*100+"%"}):u=[on(t,"xPercent")/-100,on(t,"yPercent")/-100],p=xs(t,f,u,"auto"),d=p.apply({x:l,y:g}),_n(e,p.a,p.b,p.c,p.d,c+p.e-(d.x-p.e),h+p.f-(d.y-p.f)))),i?_n(e,i.a,i.b,i.c,i.d,i.e,i.f):(r||a)&&_n(e,1,0,0,1,r||0,a||0),e)},Ai=function(e,t,n,o,i,r){var a=t._gsap,u=a.harness,l=u&&u.aliases&&u.aliases[n],g=l&&l.indexOf(",")<0?l:n,c=e._pt=new na(e._pt,t,g,0,0,au,0,a.set(t,g,e));c.u=en(a.get(t,g,r))||0,c.path=o,c.pp=i,e._props.push(g)},uu=function(e,t){return function(n){return e||t!==1?Jr(n,e,t):n}},ra={version:"3.12.7",name:"motionPath",register:function(e,t,n){Kt=e,en=Kt.utils.getUnit,vs=Kt.utils.toArray,qi=Kt.core.getStyleSaver,cr=Kt.core.reverting||function(){},na=n},init:function(e,t,n){if(!Kt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof t=="object"&&!t.style)||!t.path)&&(t={path:t});var o=[],i=t,r=i.path,a=i.autoRotate,u=i.unitX,l=i.unitY,g=i.x,c=i.y,h=r[0],f=uu(t.start,"end"in t?t.end:1),p,d;if(this.rawPaths=o,this.target=e,this.tween=n,this.styles=qi&&qi(e,"transform"),(this.rotate=a||a===0)&&(this.rOffset=parseFloat(a)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=en(e._gsap.get(e,this.rProp))||0),Array.isArray(r)&&!("closed"in r)&&typeof h!="number"){for(d in h)!g&&~nu.indexOf(d)?g=d:!c&&~iu.indexOf(d)&&(c=d);g&&c?o.push(fr(this,vn(vn([],r,g,0),r,c,1),e,g,c,f,t,u||en(r[0][g]),l||en(r[0][c]))):g=c=0;for(d in h)d!==g&&d!==c&&o.push(fr(this,vn([],r,d,2),e,d,0,f,t,en(r[0][d])))}else p=f(sa(yi(t.path),e,t)),Vo(p,t.resolution),o.push(p),Ai(this,e,t.x||"x",p,"x",t.unitX||"px"),Ai(this,e,t.y||"y",p,"y",t.unitY||"px");n.vars.immediateRender&&this.render(n.progress(),this)},render:function(e,t){var n=t.rawPaths,o=n.length,i=t._pt;if(t.tween._time||!cr()){for(e>1?e=1:e<0&&(e=0);o--;)ur(n[o],e,!o&&t.rotate,n[o]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,e),i=i._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?su:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function(e){return Vo(yi(e)).totalLength},sliceRawPath:Jr,getRawPath:yi,pointsToSegment:gs,stringToRawPath:Pi,rawPathToString:Qr,transformRawPath:_n,getGlobalMatrix:an,getPositionOnPath:ur,cacheRawPathMeasurements:Vo,convertToPath:function(e,t){return vs(e).map(function(n){return Yl(n,t!==!1)})},convertCoordinates:function(e,t,n){var o=an(t,!0,!0).multiply(an(e));return n?o.apply(n):o},getAlignMatrix:xs,getRelativePosition:function(e,t,n,o){var i=xs(e,t,n,o);return{x:i.e,y:i.f}},arrayToRawPath:function(e,t){t=t||{};var n=vn(vn([],e,t.x||"x",0),e,t.y||"y",1);return t.relative&&ia(n),[t.type==="cubic"?n:gs(n,t.curviness)]}};ru()&&Kt.registerPlugin(ra);function cu(s){const e=Ri(),t=$e(null),n=$e(null),o=new Map,i=$e([]),r=async p=>{const d=await fetch(p);if(!d.ok)throw new Error(`Failed to fetch ${p}`);const D=await d.arrayBuffer();return s(1),D},a=async(p,d,D={})=>{const v=typeof d=="string"?await r(d):d;if(i.value.push({id:p,audioData:v,options:D}),t.value){const y=await t.value.decodeAudioData(v);u(p,y,D),i.value=i.value.filter(F=>F.id!==p)}};Wt(()=>e.userEngaged,p=>{p&&!t.value&&(t.value=new(window.AudioContext||window.webkitAudioContext),n.value=t.value.createGain(),n.value.connect(t.value.destination),n.value.gain.value=e.masterVolume,i.value.forEach(async({id:d,audioData:D,options:v})=>{const y=await t.value.decodeAudioData(D);u(d,y,v)}),i.value=[])},{immediate:!0}),Wt(()=>e.isMuted,p=>{n.value&&(n.value.gain.value=p?0:e.masterVolume)}),Wt(()=>e.masterVolume,p=>{n.value&&!e.isMuted&&(n.value.gain.value=p)}),Wt(()=>e.audioEnabled,p=>{p||o.forEach((d,D)=>{d.isPlaying&&g(D)})});function u(p,d,D={}){if(!t.value||!n.value)return;o.has(p)&&(console.warn(`Source ${p} already registered. Overwriting.`),g(p));const v=t.value.createGain(),y=t.value.createStereoPanner();v.connect(y).connect(n.value),o.set(p,{buffer:d,gain:v,panner:y,isPlaying:!1,loop:D.loop??!1,maxVolume:D.maxVolume??1,updatePosition:D.updatePosition})}function l(p,d){const D=o.get(p);if(!D||!t.value||!e.userEngaged||!e.audioEnabled||D.isPlaying)return;const v=t.value.createBufferSource();v.buffer=D.buffer,v.loop=D.loop??!1,v.connect(D.gain),v.start(),D.source=v,D.isPlaying=!0,d&&D.updatePosition&&c(p,d)}function g(p){const d=o.get(p);!d||!d.source||(d.source.stop(),d.source.disconnect(),d.source=void 0,d.isPlaying=!1)}function c(p,d){const D=o.get(p);if(!D||!D.updatePosition||!D.isPlaying)return;const{pan:v,gain:y}=D.updatePosition(D,d);D.panner.pan.value=ge.clamp(v,-1,1),D.gain.gain.value=ge.clamp(y*D.maxVolume,0,1)}function h(p){g(p);const d=o.get(p);d&&(d.gain.disconnect(),d.panner.disconnect(),o.delete(p))}function f(){o.forEach((p,d)=>h(d)),n.value&&n.value.disconnect(),t.value&&t.value.close(),t.value=null,n.value=null}return{registerAudio:a,play:l,stop:g,updatePositionalAudio:c,dispose:h,disposeAll:f}}K.registerPlugin(ra);function fu(s,e,t,n){Po();const o=Ri(),{audioEnabled:i}=ln(o),r=cu(n),a=5,u="/3D/jet.obj",l="/3D/ufo.obj",g=1200,c="/sounds/spaceship.mp3",h="/sounds/ufo.mp3",f="/sounds/minigun.mp3",p="/sounds/minigun-wind-down.mp3",d="/sounds/explosion.mp3",D=500,v=-500,y=75,F=2,C=2500,B={xMin:-800,xMax:800,yMin:100,yMax:800},M={xMin:-250,xMax:250,yMin:-250,yMax:250};let b=[],W=[],w=null,E=null,_=null,S=[],I=[],te=[],Y=!1,le=null,U=null,ue=[],$=null,m=1,Z=0,ie=!1;const q={initialJet:1,battleJet:.6,battleUfo:.2,minigun:.2,minigunWindDown:.2,explosion:1},we=async()=>{await r.registerAudio("initialJet",c,{maxVolume:q.initialJet,updatePosition:(H,oe)=>{const X=b[2]||w;if(!X||!X.visible)return{pan:0,gain:0};const L=ge.clamp(X.position.x/500*2,-1,1),O=Math.abs(oe.position.z-X.position.z),he=ge.clamp(1-O/C,0,1);return{pan:L,gain:he}}}),await r.registerAudio("battleJet",c,{maxVolume:q.battleJet,updatePosition:(H,oe)=>{if(!w||!w.visible)return{pan:0,gain:0};const X=ge.clamp(w.position.x/500*2,-1,1),L=Math.abs(oe.position.z-w.position.z),O=ge.clamp(1-L/C,0,1);return{pan:X,gain:O}}}),await r.registerAudio("battleUfo",h,{maxVolume:q.battleUfo,updatePosition:(H,oe)=>{if(!_||!_.visible)return{pan:0,gain:0};const X=ge.clamp(_.position.x/500*2,-1,1),L=Math.abs(oe.position.z-_.position.z),O=ge.clamp(1-L/C,0,1);return{pan:X,gain:O}}}),await r.registerAudio("minigun",f,{loop:!0,maxVolume:q.minigun,updatePosition:(H,oe)=>{if(!w||!w.visible)return{pan:0,gain:0};const X=ge.clamp(w.position.x/500*2,-1,1),L=Math.abs(oe.position.z-w.position.z),O=ge.clamp(1-L/C,0,1);return{pan:X,gain:O}}}),await r.registerAudio("minigunWindDown",p,{maxVolume:q.minigunWindDown,updatePosition:(H,oe)=>{if(!w||!w.visible)return{pan:0,gain:0};const X=ge.clamp(w.position.x/500*2,-1,1),L=Math.abs(oe.position.z-w.position.z),O=ge.clamp(1-L/C,0,1);return{pan:X,gain:O}}}),await r.registerAudio("explosion",d,{maxVolume:q.explosion,updatePosition:(H,oe)=>{if(!_||!_.visible)return{pan:0,gain:0};const X=ge.clamp(_.position.x/500*2,-1,1),L=Math.abs(oe.position.z-_.position.z),O=ge.clamp(1-L/C,0,1);return{pan:X,gain:O}}})},Ze=()=>new Promise((H,oe)=>{new nr().load(u,L=>{const O=L;O.name="jet";const he=new Mn().setFromObject(O),Me=he.getCenter(new Re);O.position.sub(Me),O.traverse(Qe=>{var T,k;if(Qe instanceof Ue){const P=new Ho(Qe.geometry,1),se=new mt({color:65280,depthTest:!0,fog:!0}),V=new ct(P,se);V.frustumCulled=!1,(T=Qe.parent)==null||T.add(V),(k=Qe.parent)==null||k.remove(Qe)}}),U=he,H(O)},void 0,L=>oe(L))}),ze=()=>new Promise((H,oe)=>{new nr().load(l,L=>{const O=L;O.name="ufo";const he=new Mn().setFromObject(O),Me=he.getCenter(new Re);O.position.sub(Me);const Qe=[];O.traverse(T=>{T instanceof Ue&&(Qe.push(T),T.geometry.computeBoundingSphere(),ue.push(T.geometry.clone()))}),Qe.forEach(T=>{var V,ve;const k=new Ho(T.geometry,1),P=new mt({color:T.name==="UFO_TOP_CAP"||T.name==="UFO_BOT_CAP"?16777215:255,depthTest:!0,fog:!0}),se=new ct(k,P);se.frustumCulled=!1,(V=T.parent)==null||V.add(se),(ve=T.parent)==null||ve.remove(T)}),O.geometry=new to,O.geometry.boundingSphere=new Ci,he.getBoundingSphere(O.geometry.boundingSphere),O.geometry.boundingSphere.radius*=10,H(O)},void 0,L=>{console.error("Failed to load UFO model:",L),oe(L)})}),We=()=>{const H=new vr(10,90,8),oe=new Sa(H),X=new mt({color:16777215,depthTest:!0,fog:!0}),L=new ct(oe,X);if(L.frustumCulled=!1,L.name="flame",U){const O=U.max.y-U.min.y,he=U.max.z,Me=U.min.y+O/2;L.position.set(0,Me-20,he+45)}else L.position.set(0,0,45);return L.rotation.x=Math.PI/2,L},je=H=>{const oe=new Rs(4),X=new ht({color:16777215,transparent:!0,opacity:.35,depthTest:!0,fog:!0}),L=new Ue(oe,X);return L.position.copy(H),L.frustumCulled=!1,L},Ie=H=>{if(!H||!H.visible)return;const oe=H.position.clone(),X=new Re(0,0,-1).applyQuaternion(H.quaternion),L=new Re(0,1,0).applyQuaternion(H.quaternion),O=U?-(U.max.z+45):-65,he=oe.clone().add(X.clone().multiplyScalar(O)).add(L.clone().multiplyScalar(5)),Me=je(he);s.add(Me),I.push(Me),K.to(Me.material,{opacity:0,duration:1,ease:"none",onComplete:()=>{s.remove(Me),Me.geometry.dispose(),Me.material.dispose();const Qe=I.indexOf(Me);Qe>-1&&I.splice(Qe,1)}})},Oe=(H,oe)=>{const X=new Rs(3),L=new ht({color:16711680,depthTest:!0,fog:!0}),O=new Ue(X,L);return O.position.copy(H),O.quaternion.setFromUnitVectors(new Re(0,0,-1),oe),O.frustumCulled=!1,O.geometry.computeBoundingSphere(),O.geometry.boundingSphere.radius*=5,O},R=()=>{if(!_||!_.visible||te.length>0)return;_.visible=!1,Ne("battleUfo"),i.value&&(ke("explosion"),r.updatePositionalAudio("explosion",t));const H=_.position.clone(),oe=new ht({color:16753920,side:$t,transparent:!0,depthTest:!0,fog:!0});ue.forEach(X=>{const L=X.getAttribute("position"),O=X.index,he=O?O.array:null,Me=L.count,Qe=he?he.length/3:Me/3;for(let T=0;T<Qe;T++){const k=new to,P=new Float32Array(9),se=he?[he[T*3],he[T*3+1],he[T*3+2]]:[T*3,T*3+1,T*3+2];for(let A=0;A<3;A++){const Pe=se[A];P[A*3]=L.array[Pe*3],P[A*3+1]=L.array[Pe*3+1],P[A*3+2]=L.array[Pe*3+2]}k.setAttribute("position",new ts(P,3)),k.computeVertexNormals();const V=new Ue(k,oe.clone());V.position.copy(H),s.add(V),te.push(V);const De=new Re((P[0]+P[3]+P[6])/3,(P[1]+P[4]+P[7])/3,(P[2]+P[5]+P[8])/3).add(H).clone().sub(H).normalize(),z=ge.randFloat(100,200);K.to(V.position,{x:H.x+De.x*z,y:H.y+De.y*z,z:H.z+De.z*z,duration:1.5,ease:"power2.out",onComplete:()=>{s.remove(V),V.geometry.dispose(),V.material.dispose();const A=te.indexOf(V);A>-1&&te.splice(A,1)}}),K.to(V.scale,{x:1.5,y:1.5,z:1.5,duration:.5,ease:"power1.in",yoyo:!0,repeat:1}),K.to(V.material,{opacity:0,duration:1.5,ease:"power2.out"})}}),i.value&&(ke("explosion"),K.delayedCall(.8,()=>Ne("explosion")))},Fe=()=>{if(!w||!w.visible||ie)return;const H=ge.randInt(10,30),oe=U?U.max.z:20;let X=!1;const L=new ws,O=.2;for(let he=0;he<H;he++)K.delayedCall(he*.05,()=>{const Me=w.position.clone(),Qe=new Re(0,0,-1).applyQuaternion(w.quaternion),T=new Re(0,1,0).applyQuaternion(w.quaternion),k=Me.clone().add(Qe.clone().multiplyScalar(oe)).add(T.clone().multiplyScalar(5)),P=Oe(k,Qe);s.add(P),S.push(P),!X&&i.value&&(ke("minigun"),X=!0);const se=1200,V=3600,ve=V/se;K.to(P.position,{x:`+=${Qe.x*V}`,y:`+=${Qe.y*V}`,z:`+=${Qe.z*V}`,duration:ve,ease:"none",onUpdate:()=>{var De;if(P.geometry.boundingSphere&&P.geometry.boundingSphere.center.copy(P.position),i.value&&X&&r.updatePositionalAudio("minigun",t),!ie&&_&&_.visible&&P.geometry.boundingSphere&&((De=_.geometry)!=null&&De.boundingSphere)){t.updateMatrixWorld(),L.setFromProjectionMatrix(new Aa().multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse));const z=L.containsPoint(w.position),A=L.containsPoint(_.position),Pe=ne=>{const Te=ne.clone().project(t);return Math.abs(Te.x)<1-O&&Math.abs(Te.y)<1-O},pe=z&&Pe(w.position),Ge=A&&Pe(_.position);if(pe&&Ge){_.updateMatrixWorld();const ne=_.geometry.boundingSphere.clone();ne.applyMatrix4(_.matrixWorld);const Te=P.geometry.boundingSphere.clone();Te.applyMatrix4(P.matrixWorld),Te.intersectsSphere(ne)&&(ie=!0,R())}}},onComplete:()=>{s.remove(P),P.geometry.dispose(),P.material.dispose();const De=S.indexOf(P);De>-1&&S.splice(De,1)}}),he===H-1&&i.value&&(Ne("minigun"),ke("minigunWindDown"),r.updatePositionalAudio("minigunWindDown",t),K.delayedCall(.5,()=>Ne("minigunWindDown")))})},re=()=>{const H=[],oe=ge.degToRad(y),L=2*Math.tan(oe/2)*(D-v)/(a-1)*F,O=L*(a-1)/2;for(let he=0;he<a;he++){const Me=-O+he*L;H.push(new Re(Me,D,v))}return H},fe=()=>{const H=[],L=160/(a-1);for(let O=0;O<a;O++){const he=-80+O*L;H.push(ge.degToRad(he))}return H},Ce=(H,oe,X,L)=>{const O=b.indexOf(H)===2;O&&i.value&&ke("initialJet"),H.position.copy(X),H.rotation.z=L,H.visible=!0;const Me=Math.abs(-1e4-X.z)/g,Qe=Me*.3;let T=0;const k=P=>{T+=P,T>=1&&(Ie(H),T-=1)};K.ticker.add(k),K.to(H.position,{z:-1e4,duration:Me,ease:"none",onUpdate:()=>{O&&i.value&&r.updatePositionalAudio("initialJet",t)},onComplete:()=>{K.ticker.remove(k),O&&K.delayedCall(3,()=>Ne("initialJet")),s.remove(H),Ae(H);const P=b.indexOf(H);P>-1&&(b.splice(P,1),W.splice(P,1))}}),K.to(H.rotation,{z:0,duration:Qe,ease:"none"})},Ae=H=>{H.traverse(oe=>{(oe instanceof Ue||oe instanceof ct)&&(oe.geometry&&oe.geometry.dispose(),oe.material&&(Array.isArray(oe.material)?oe.material.forEach(X=>X.dispose()):oe.material instanceof ns&&oe.material.dispose()))})},x=()=>{const H=[],oe=t.position.z-250,X=oe-2e3,L=ge.degToRad(t.fov),O=window.innerWidth/window.innerHeight,he=Math.abs(t.position.z-oe),Me=Math.abs(t.position.z-X),Qe=2*Math.tan(L/2)*he*O,T=2*Math.tan(L/2)*Me*O,k=Qe/2+200,P=T/2+200,se=m;m=-m;const V=se*k,ve=-se*P;H.push(new Re(V,ge.randFloat(B.yMin,B.yMax),oe));let De,z,A;do De=ge.randFloat(B.xMin/2,B.xMax/2),z=ge.randFloat(B.yMin,B.yMax),A=ge.randFloat(oe,X);while(De>M.xMin&&De<M.xMax&&z>M.yMin&&z<M.yMax);return H.push(new Re(De,z,A)),H.push(new Re(ve,ge.randFloat(B.yMin,B.yMax),X)),new di(H,!1,"catmullrom",.5)},be=(H,oe)=>{console.log("startBattle"),$&&($.kill(),$=null),Ne("battleJet"),Ne("battleUfo"),Ne("explosion");const X=x(),L=X.getLength(),O=450,he=L/O,Me=ge.randFloat(-.1,.1),Qe=O*(.9+Me),T=450/O;if(w||(w=H.clone(),E=We(),w.add(E),s.add(w)),w.visible=!0,w.position.copy(X.getPointAt(0)),w.rotation.set(0,0,0),!_){if(_=oe.clone(),!_.geometry||!_.geometry.boundingSphere){const ne=new Mn().setFromObject(_);_.geometry=new to,_.geometry.boundingSphere=new Ci,ne.getBoundingSphere(_.geometry.boundingSphere),_.geometry.boundingSphere.radius*=10}_.visible=!1,s.add(_)}_.visible=!0,_.position.copy(X.getPointAt(0)),_.rotation.set(0,0,0),ie=!1;const k={x:_.position.x,y:_.position.y,z:_.position.z,progress:0},P={x:0,y:0,z:0},se={x:w.position.x,y:w.position.y,z:w.position.z,progress:0};i.value&&(w&&ke("battleJet"),_&&ke("battleUfo")),$=K.timeline({onUpdate:()=>{w&&i.value&&r.updatePositionalAudio("battleJet",t),!ie&&_&&i.value&&r.updatePositionalAudio("battleUfo",t)},onComplete:()=>{_.visible=!1,w.visible=!1,Ne("battleJet"),Ne("battleUfo"),Ne("explosion"),S.forEach(ne=>{s.remove(ne),ne.geometry.dispose(),ne.material.dispose()}),S=[],I.forEach(ne=>{s.remove(ne),ne.geometry.dispose(),ne.material.dispose()}),I=[],te.forEach(ne=>{s.remove(ne),ne.geometry.dispose(),ne.material.dispose()}),te=[],K.ticker.remove(Ge),Z=0,K.delayedCall(1.5+Math.random()*(3-1.5),be,[H,oe])}}),$.to(k,{motionPath:{path:X.getPoints(50),autoRotate:!1},progress:1,duration:he,ease:"none",onUpdate:()=>{if(ie)return;const ne=k.progress;if(ne===void 0||ne<0||ne>1)return;const Te=X.getPointAt(ne);_.position.set(Te.x+P.x,Te.y+P.y,Te.z+P.z)}},0),K.to(_.rotation,{y:"+=6.2832",duration:3,repeat:-1,ease:"none"});const V=()=>{!_||!_.visible||ie||K.to(P,{x:ge.randFloat(-20,20),y:ge.randFloat(-20,20),z:ge.randFloat(-20,20),duration:ge.randFloat(.8,1.5),ease:"sine.inOut",onComplete:V})};V(),$.to(se,{motionPath:{path:X.getPoints(50),autoRotate:!1},progress:1,duration:he*(O/Qe),ease:"none",onStart:()=>{w.visible=!0},onUpdate:()=>{const ne=se.progress;if(ne===void 0||ne<0||ne>1)return;const Te=X.getPointAt(ne);w.position.copy(Te);const vt=X.getPointAt(Math.max(ne-.01,0)),pt=Te,_e=X.getPointAt(Math.min(ne+.01,1)).clone().sub(pt).normalize(),G=pt.clone().sub(vt).normalize();w.quaternion.setFromUnitVectors(new Re(0,0,-1),_e);const Se=new Re().crossVectors(G,_e).normalize(),N=G.angleTo(_e)*20,Ee=ge.clamp(N,-Math.PI/4,Math.PI/4);w.rotateZ(Se.z>0?Ee:-Ee)}},T);const ve=1,De=4,z=3,A=ge.randInt(ve,De),Pe=he-(A-1)*z,pe=[];for(let ne=0;ne<A;ne++)if(ne===0)pe.push(ge.randFloat(0,Pe/A));else{const Te=pe[ne-1]+z,vt=Te+Pe/A;pe.push(ge.randFloat(Te,Math.min(vt,he)))}pe.sort((ne,Te)=>ne-Te),pe.forEach(ne=>{K.delayedCall(ne,Fe)});const Ge=ne=>{Z+=ne,Z>=32&&(Ie(w),Z-=32)};K.ticker.add(Ge)},ke=(H,oe)=>{i.value&&r.play(H,t)},Ne=H=>{r.stop(H)},Ye=async()=>{try{const H=await Ze(),oe=await ze(),X=re(),L=fe();for(let O=0;O<a;O++){const he=H.clone(),Me=We();he.add(Me),he.position.copy(X[O]),he.rotation.z=L[O],he.visible=!1,s.add(he),b.push(he),W.push(Me)}Y=!0}catch(H){console.error("Jets initialization failed:",H),b=[],W=[]}};return Wt(()=>i.value,H=>{H&&$&&$.isActive()&&(w&&w.visible&&ke("battleJet"),_&&_.visible&&!ie&&ke("battleUfo"))}),{getInitializedData:async()=>{if(Y)return{jets:b,flames:W,dispose:le||(()=>{}),startJetAnimation:X};const H=await Ze().then(L=>(n(1),L)),oe=await ze().then(L=>(n(1),L));await Ye(),await we(),le=()=>{b.forEach(L=>{s.remove(L),Ae(L)}),w&&(s.remove(w),Ae(w),w=null),_&&(s.remove(_),Ae(_),_=null),S.forEach(L=>{s.remove(L),L.geometry.dispose(),L.material.dispose()}),S=[],I.forEach(L=>{s.remove(L),L.geometry.dispose(),L.material.dispose()}),I=[],te.forEach(L=>{s.remove(L),L.geometry.dispose(),L.material.dispose()}),te=[],ue.forEach(L=>L.dispose()),ue=[],$&&$.kill(),r.disposeAll()};const X=()=>{const L=re(),O=fe();b.forEach((he,Me)=>{Ce(he,W[Me],L[Me],O[Me])}),K.delayedCall(3,()=>be(H,oe))};return{jets:b,flames:W,dispose:le,startJetAnimation:X}}}}const Ji=-520,dr=-720,hr=4e3,pu=fn({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},emits:["camera-ready","scene-ready"],setup(s,{emit:e}){K.registerPlugin(Ve);const t=s,n=e,o=Po();o.projects=t.projects;const i=xo(),r=$e(!1),a=o.cubeSize,u=o.cubeSpacing,l=o.firstCubeZ,g={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0,showJets:!0},c=$e(null),h=$e(null),f=$e(!1),p=$e(!1),d=new Map;let D,v,y,F,C,B,M,b=null,W=null,w=null,E=null,_=null,S=null,I=[],te=null,Y=null,le=0,U=null,ue,$=null,m=null,Z=null,ie=null,q=null;const we=bl("/fonts/Poppins_Regular.json"),Ze=()=>{const R=c.value?c.value.getBoundingClientRect().width:window.innerWidth,Fe=window.innerHeight,re=1,fe=i.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;y.setSize(R*re,Fe*re),y.setPixelRatio(fe),F.setSize(R*re,Fe*re),v.aspect=R/Fe,v.updateProjectionMatrix(),y.domElement.style.width=`${R}px`,y.domElement.style.height=`${Fe}px`},ze=R=>d.has(R)?Promise.resolve(d.get(R)):new Promise((Fe,re)=>{new Oa().load(R,Ce=>{Ce.encoding=os,d.set(R,Ce),Fe(Ce)},void 0,Ce=>re(Ce))}),We=async()=>{D=new Ba,D.background=new Ft(0),D.fog=new Ra(0,700,hr),v=new ka(i.isMobile?i.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,hr+6e3),v.position.set(0,0,0),v.lookAt(0,0,1e3),y=new La({antialias:!0}),i.isMobile?y.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):y.setPixelRatio(window.devicePixelRatio),y.toneMapping=Ia,y.toneMappingExposure=1,y.outputEncoding=os,F=new cl(y);const R=new fl(D,v);F.addPass(R);const Fe=new Zt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(i.isMobile?C=new Zo(Fe,1,.1,0):C=new Zo(Fe,1.6,.2,0),C.renderToScreen=!0,F.addPass(C),c.value)c.value.appendChild(y.domElement),y.domElement.style.opacity="0";else return;B=new zn,B.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; z-index: 1000;"),document.body.appendChild(B.dom);const Ce=t.projects.filter(be=>be.keyart).length+2+1+7;let Ae=0;const x=(be=1)=>{Ae+=be;const ke=Ae/Ce*100,Ne=we.loadingProgress.value,Ye=ke*(Ce/(Ce+1))+Ne/(Ce+1);o.setLoadingProgress(Math.min(Ye,100)),Ae===Ce&&we.isLoaded.value&&(f.value=!0)};await we.initialize().then(()=>{x()}).catch(be=>{console.error("Font initialization failed:",be),x()}),await ze(t.projectGridFile).then(()=>x()).catch(()=>x()),await ze(t.projectGridFile2).then(()=>x()).catch(()=>x());for(const be of t.projects)be.keyart?await ze(be.keyart).then(()=>x()).catch(()=>x()):x();U=hl(D,{CUBE_SIZE:a,CUBE_SPACING:u,FIRST_CUBE_Z:l},t.projects,t.projectGridFile,t.projectGridFile2,g,d,we.font),ie=fu(D,g,v,x),await ie.getInitializedData().then(({dispose:be,startJetAnimation:ke})=>{S=be,q=ke}).catch(be=>{console.error("Jets initialization failed:",be)});try{if(await U.getInitializedData().then(({maxZ:be,updateCubeColors:ke,projectCubes:Ne})=>{if(ue=be,ue===void 0||isNaN(ue))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:Ye}=dl(D,we.font,{CUBE_SIZE:a,FIRST_CUBE_Z:l},g);I=[...Ye,...Ne],te=ke,n("camera-ready",v)}),g.showCars){const{cityGroup:be,updateParticles:ke,dispose:Ne}=Dl(D,D,ue,g);M=ke,_=Ne}if(g.showStarfield){const{dispose:be}=ml(D,v,ue);b=be}if(g.showChasers){const{dispose:be,updateChasers:ke}=vl(D,ue);w=be,E=ke}Ze(),n("scene-ready")}catch(be){console.error("Error initializing project cubes:",be),ue=l-(t.projects.length+1)*u}},je=(R=0)=>{if(Y=requestAnimationFrame(je),y&&F){const Fe=(R-le)/1e3;le=R,M(Fe),E&&E(Fe),U!=null&&U.updateClickHereParticles&&U.updateClickHereParticles(v,Fe);const re=4e3,fe=1e3,Ce=Math.abs(v.position.z-ue);v.far=Math.max(re+fe,Ce),v.updateProjectionMatrix();const Ae=dr-Ji;let x=0;v.position.z>=Ji?x=0:v.position.z<=dr?x=1:x=(v.position.z-Ji)/Ae;const be=.375,ke=1-Math.pow(1-x,2);let Ne;i.isMobile?Ne=ge.lerp(1.3,be,ke):Ne=ge.lerp(1.6,be,ke),C.strength=Ne,F.render()}B.update()},Ie=()=>{console.log("handleResize()"),Ze(),Ve.refresh()},Oe=()=>{if(i.isMobile){const R=i.orientation;console.log("Resize: orientation",R,"lastOrientation",m),R!==m&&(m=R,Z&&clearTimeout(Z),Z=setTimeout(()=>{Ie(),Z=null},500))}else Ie()};return pn(()=>{We().then(()=>{if(f.value){Y=requestAnimationFrame(je);let R=null;const Fe=U.getInitializedData().then(({projectCubes:fe,maxZ:Ce})=>{if(fe.forEach(Ae=>{Ae.userData.isActive=!0}),v.position.set(0,0,5e3),v.lookAt(0,0,Ce),v.updateProjectionMatrix(),te(v),F.render(),Ve.getAll().forEach(Ae=>Ae.kill()),I.length&&te){const Ae=gl(D,v,h,I,te,{CUBE_SPACING:u,FIRST_CUBE_Z:l},{scrub:i.isMobile?.5:1},g,B);R=Ae.setReverting,$=Ae.isScrollTriggerActive}y&&W===null&&(W=U.setupInteractivity(v,y.domElement,y,Ae=>{R&&R(Ae)},$)),r.value=!0,window.scrollTo({top:0,behavior:"auto"})}),re=()=>{Fe.then(()=>{v.position.set(0,0,5e3),v.updateProjectionMatrix(),K.to(y.domElement,{opacity:1,duration:.5,ease:"power4.out"});const fe={z:5e3};K.to(fe,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{v.position.z=fe.z,v.updateProjectionMatrix()},onComplete:()=>{v.position.z=0,p.value=!0,q&&q()}})})};K.delayedCall(.5,re)}}).catch(R=>{console.error("Initialization failed:",R)})}),Bi(()=>{Y!==null&&cancelAnimationFrame(Y),W&&W(),window.removeEventListener("resize",Oe),window.removeEventListener("click",handleGesture),window.removeEventListener("touchstart",handleGesture),window.removeEventListener("keydown",handleGesture),Ve.getAll().forEach(R=>R.kill()),F&&(F.passes.forEach(R=>{R.dispose&&R.dispose()}),F.dispose()),C&&C.dispose(),d.forEach(R=>{R.dispose()}),d.clear(),D.traverse(R=>{R instanceof Ue&&(R.geometry&&R.geometry.dispose(),R.material&&(Array.isArray(R.material)?R.material.forEach(Fe=>Fe.dispose()):R.material.dispose()))}),D.fog&&(D.fog=null),D.background instanceof Ft&&(D.background=null),D.clear(),y&&(y.dispose(),y.forceContextLoss(),y.domElement&&y.domElement.parentNode&&y.domElement.parentNode.removeChild(y.domElement)),B&&B.dom&&B.dom.parentNode&&B.dom.parentNode.removeChild(B.dom),b&&b(),w&&w(),_&&_(),S&&S(),Y=null,y=null,F=null,C=null,D=null,v=null,B=null,M=null,b=null,W=null,w=null,E=null,_=null,I=[],te=null,U=null,$=null}),(R,Fe)=>(it(),at("section",{ref_key:"wrapper",ref:h,class:No(["wrapper",{ready:r.value}])},[He("div",{ref_key:"tunnelWrapper",ref:c,class:"tunnel-wrapper"},null,512)],2))}}),du=dn(pu,[["__scopeId","data-v-3ea9d962"]]),hu={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-28"},Du={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},gu={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},mu={key:2},vu={key:3},xu=fn({__name:"IntroMessage",setup(s){const e=xo(),t=Po(),{progress:n}=ln(t),o=$e(null),i=io(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return pn(()=>{const r=o.value.querySelector("svg path:nth-child(2)");r&&K.to(r,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{r.position.y=0},repeat:-1})}),Wt(n,(r,a)=>{if(!o.value)return;const u=r>a,l=r<80,g=r>=80;(u&&g||!u&&l)&&(K.killTweensOf(o.value),K.to(o.value,{y:u?i.value:0,scale:u?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(r,a)=>(it(),at("div",hu,[He("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm drop-shadow-white"},[Fo(e).isMobile?(it(),at("svg",Du,a[0]||(a[0]=[He("g",null,[He("g",null,[He("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),He("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):(it(),at("svg",gu,a[1]||(a[1]=[He("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),He("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),Fo(e).isMobile?(it(),at("div",mu,"SWIPE UP TO CONTINUE")):(it(),at("div",vu,"SCROLL TO CONTINUE"))],512)]))}}),yu=dn(xu,[["__scopeId","data-v-282fe946"]]);/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var wu=/(?:^\s+|\s+$)/g,Cu=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function aa(s){var e=s.nodeType,t="";if(e===1||e===9||e===11){if(typeof s.textContent=="string")return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)t+=aa(s)}else if(e===3||e===4)return s.nodeValue;return t}function ys(s,e,t,n,o){for(var i=s.firstChild,r=[],a;i;)i.nodeType===3?(a=(i.nodeValue+"").replace(/^\n+/g,""),n||(a=a.replace(/\s+/g," ")),r.push.apply(r,la(a,e,t,n,o))):(i.nodeName+"").toLowerCase()==="br"?r[r.length-1]+="<br>":r.push(i.outerHTML),i=i.nextSibling;if(!o)for(a=r.length;a--;)r[a]==="&"&&r.splice(a,1,"&amp;");return r}function la(s,e,t,n,o){if(s+="",t&&(s=s.trim?s.trim():s.replace(wu,"")),e&&e!=="")return s.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var i=[],r=s.length,a=0,u,l;a<r;a++)l=s.charAt(a),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||s.charCodeAt(a+1)>=65024&&s.charCodeAt(a+1)<=65039)&&(u=((s.substr(a,12).split(Cu)||[])[1]||"").length||2,l=s.substr(a,u),i.emoji=1,a+=u-1),i.push(o?l:l===">"?"&gt;":l==="<"?"&lt;":n&&l===" "&&(s.charAt(a-1)===" "||s.charAt(a+1)===" ")?"&nbsp;":l);return i}/*!
 * TextPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Fn,li,bu=function(){return Fn||typeof window<"u"&&(Fn=window.gsap)&&Fn.registerPlugin&&Fn},hn={version:"3.12.7",name:"text",init:function(e,t,n){typeof t!="object"&&(t={value:t});var o=e.nodeName.toUpperCase(),i=this,r=t,a=r.newClass,u=r.oldClass,l=r.preserveSpaces,g=r.rtl,c=i.delimiter=t.delimiter||"",h=i.fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),f,p,d,D,v,y,F,C;if(i.svg=e.getBBox&&(o==="TEXT"||o==="TSPAN"),!("innerHTML"in e)&&!i.svg)return!1;if(i.target=e,!("value"in t)){i.text=i.original=[""];return}for(d=ys(e,c,!1,l,i.svg),li||(li=document.createElement("div")),li.innerHTML=t.value,p=ys(li,c,!1,l,i.svg),i.from=n._from,(i.from||g)&&!(g&&i.from)&&(o=d,d=p,p=o),i.hasClass=!!(a||u),i.newClass=g?u:a,i.oldClass=g?a:u,o=d.length-p.length,f=o<0?d:p,o<0&&(o=-o);--o>-1;)f.push(h);if(t.type==="diff"){for(D=0,v=[],y=[],F="",o=0;o<p.length;o++)C=p[o],C===d[o]?F+=C:(v[D]=F+C,y[D++]=F+d[o],F="");p=v,d=y,F&&(p.push(F),d.push(F))}t.speed&&n.duration(Math.min(.05/t.speed*f.length,t.maxDuration||9999)),i.rtl=g,i.original=d,i.text=p,i._props.push("text")},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var n=t.text,o=t.hasClass,i=t.newClass,r=t.oldClass,a=t.delimiter,u=t.target,l=t.fillChar,g=t.original,c=t.rtl,h=n.length,f=(c?1-e:e)*h+.5|0,p,d,D;o&&e?(p=i&&f,d=r&&f!==h,D=(p?"<span class='"+i+"'>":"")+n.slice(0,f).join(a)+(p?"</span>":"")+(d?"<span class='"+r+"'>":"")+a+g.slice(f).join(a)+(d?"</span>":"")):D=n.slice(0,f).join(a)+a+g.slice(f).join(a),t.svg?u.textContent=D:u.innerHTML=l==="&nbsp;"&&~D.indexOf("  ")?D.split("  ").join("&nbsp;&nbsp;"):D}};hn.splitInnerHTML=ys;hn.emojiSafeSplit=la;hn.getText=aa;bu()&&Fn.registerPlugin(hn);const _u=1e4,Eu=fn({__name:"HUDMiniMap",props:{project:{}},setup(s){const e=s,t=xo(),n=Po(),o=n.projects||[],{progress:i,isInPortalLock:r,activeProjectIndex:a,cubeMetadata:u}=ln(n),{screenWidth:l}=ln(t),g=n.cubeSpacing,c=n.firstCubeZ,h=io(()=>l.value<768),f=1+o.length,p=io(()=>h.value?l.value-16:(f-1)*16*2),d=io(()=>h.value?p.value/((f-1)*2):16),D=io(()=>d.value/2),v=io(()=>p.value/_u),y=$e(0),F=$e(0),C=$e(null),B=$e(null),M=$e(null),b=$e([]),W=$e(null),w=io(()=>Math.abs(c)*v.value),E=io(()=>o.map((I,te)=>(Math.abs(c)+(te+1)*g)*v.value)),_=I=>{const te=I*v.value+d.value/2;y.value=Math.min(Math.max(te,0),p.value-D.value)};Wt(i,I=>{r.value||K.to(y,{value:I*v.value+d.value/2,duration:.3,ease:"power2.out",onUpdate:()=>{y.value=Math.min(Math.max(y.value,0),p.value-D.value)}})},{immediate:!0}),Wt(o,()=>{console.log("Projects changed, re-rendering cubes")}),Wt([r,a],([I,te],[Y])=>{var le,U;if(I&&te!==null&&!Y){const ue=E.value[te]+d.value/2;let $=0;const m=(le=o[te])==null?void 0:le.keyartLocation,Z=(U=u.value)==null?void 0:U.find(q=>q.index===te),ie=(Z==null?void 0:Z.flipped)||!1;switch(m){case"left":case"bottom":$=ie?-90:90;break;case"right":case"top":$=ie?90:-90;break}K.to(y,{value:ue,duration:1,ease:"power2.out",onUpdate:()=>{y.value=Math.min(Math.max(y.value,0),p.value-D.value)}}),K.to(W.value,{rotation:$,duration:1,ease:"power2.out",onUpdate:()=>{var q;F.value=((q=W.value)==null?void 0:q.rotation)||0}})}else!I&&Y&&(K.to(y,{value:i.value*v.value+d.value/2,duration:2,ease:"power3.inOut",onUpdate:()=>{y.value=Math.min(Math.max(y.value,0),p.value-D.value)}}),K.to(W.value,{rotation:0,duration:2,ease:"power3.inOut",onUpdate:()=>{var ue;F.value=((ue=W.value)==null?void 0:ue.rotation)||0}}))});const S=()=>{_(i.value)};return pn(()=>{var I;if(_(i.value),C.value){const te=[B.value,M.value,...((I=M.value)==null?void 0:I.querySelectorAll("div"))||[],...b.value,W.value].filter(Boolean);K.to(te,{opacity:1,duration:.5,ease:"power2.out",stagger:.1,delay:.5,overwrite:!1})}window.addEventListener("resize",S)}),Bi(()=>{window.removeEventListener("resize",S)}),(I,te)=>(it(),at("div",{ref_key:"mapContainer",ref:C,class:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bottom-4 h-4",style:yo({width:`${p.value}px`,position:"relative"})},[He("div",{ref_key:"dashedPath",ref:B,class:"absolute top-1/2 -translate-y-1/2 h-px border-dotted border-t border-green-500/60 hidden-el",style:yo({width:`${p.value-D.value}px`,left:`${D.value/2}px`})},null,4),He("div",{ref_key:"introCube",ref:M,class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 hidden-el introCube",style:yo({width:`${d.value}px`,height:`${d.value}px`,left:`${w.value}px`})},[He("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${d.value*.75}px`,height:`${d.value*.75}px`})},[He("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${d.value*.5}px`,height:`${d.value*.5}px`})},[He("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${d.value*.25}px`,height:`${d.value*.25}px`})},null,4)],4)],4)],4),(it(!0),at(Hn,null,Un(Fo(o),(Y,le)=>{var U,ue;return it(),at("div",{key:le,ref_for:!0,ref:$=>b.value[le]=$,class:No(["border absolute top-1/2 -translate-y-1/2 hidden-el",{"border-fuchsia-600 shadow-fuchsia":((U=e.project)==null?void 0:U.slug)===Y.slug&&e.project!==null,"border-cyan-600/60":((ue=e.project)==null?void 0:ue.slug)!==Y.slug||e.project===null}]),style:yo({width:`${d.value}px`,height:`${d.value}px`,left:`${E.value[le]}px`})},null,6)}),128)),(it(),at("svg",{ref_key:"cameraSvg",ref:W,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 hidden-el",style:yo({width:`${D.value}px`,left:`${y.value}px`})},te[0]||(te[0]=[He("path",{class:"fill-green-500",d:"M0,0l32,18.3,383.8,219.3,32.2,18.4-32.2,18.4L32,493.7,0,512V0ZM383.5,256L32,55.1v401.7l351.5-200.8Z"},null,-1)]),4))],4))}}),Fu=dn(Eu,[["__scopeId","data-v-e1752c14"]]),Tu={class:"fixed inset-0 pointer-events-none z-10 font-sans"},Mu={class:"px-2 md:px-4 py-2 md:py-4 bg-black/70 md:h-[3.75vw] 3xl:h-[3.75rem] flex items-center"},Pu=["innerHTML"],Su={key:1,class:"md:flex items-center justify-between w-full"},Au={class:"md:flex items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto"},Bu={class:"flex-shrink-0 tracking-tighter md:tracking-normal font-mono text-white md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem] drop-shadow-white"},Ru={class:"flex-shrink-0 font-mono text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},ku=["innerHTML"],Lu=["innerHTML"],Iu={key:0,class:"contributions flex flex-wrap md:flex-nowrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0"},Ou={key:1,class:"segments flex flex-wrap gap-0.5 md:gap-[.125vw] 3xl:gap-[.125rem] mt-1 md:mt-0 drop-shadow-white"},zu={class:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-black/70 h-12 w-full"},Nu={class:"flex items-center gap-4 absolute hidden font-mono md:flex text-green-400/50 text-xxxs right-3 top-1/2 -translate-y-1/2"},Hu=["value"],Dr=.125,Uu=fn({__name:"HUD",props:{camera:{},ready:{type:Boolean}},emits:["scene-ready"],setup(s,{emit:e}){K.registerPlugin(hn);const t=s,n=e,o=Po(),i=xo(),{projects:r,isInPortalLock:a,activeProjectIndex:u}=ln(o),l=Ri(),g=$e(!0),c=$e(0),h=$e(null),f=$e(null),p=$e(null),d=$e(null),D=$e(null),v=$e(null),y=o.cubeSpacing,F=$e(!1),C=$e(!1),B=$e("WEB DESIGN + DEVELOPMENT: ENTERTAINMENT, ECOMMERCE, HOSPITALITY + TECHNOLOGY");let M=null,b=null;const W=(Y,le)=>{if(!t.ready)return!1;const U=Y;let ue=!1,$=c.value,m=h.value;r.value.forEach((ie,q)=>{const we=700+q*y,Ze=1e3+q*y;U>=we&&U<Ze&&(ue=!0,$=q,m=ie)});const Z=[f.value,p.value].filter(Boolean);Z.length&&(ue&&!F.value?(F.value=!0,c.value=$,h.value=m,b&&b.kill(),M=K.to(Z,{autoAlpha:1,duration:Dr,overwrite:"auto"})):!ue&&F.value&&(F.value=!1,M&&M.kill(),b=K.to(Z,{autoAlpha:0,duration:Dr,overwrite:"auto",onComplete:()=>{h.value=null}})))},w=io(()=>{if(!h.value)return"text-white/50";switch(h.value.classification){case Ht.Enums.Classification.ENTERTAINMENT:return"text-red-600 drop-shadow-red";case Ht.Enums.Classification.ECOMMERCE:return"text-green-600 drop-shadow-green";case Ht.Enums.Classification.OTHER:return"text-blue-600";default:return"text-white/50"}}),E=Y=>{switch(Y){case Ht.Enums.Contributions.BACKEND:return"fill-red-400";case Ht.Enums.Contributions.FRONTEND:return"fill-blue-400";case Ht.Enums.Contributions.DEVOPS:return"fill-green-500";case Ht.Enums.Contributions.DESIGN:return"fill-purple-400";case Ht.Enums.Contributions.IDEATION:return"fill-magenta-400";case Ht.Enums.Contributions.UX:return"fill-yellow-400";default:return"fill-green-500"}},_=()=>{v.value&&!C.value&&K.to(v.value,{duration:2,text:{value:B.value},delay:1,onComplete:()=>{C.value=!0}})},S=()=>{h.value&&(o.setScrollPosition(window.scrollY),gr.visit(route("project.show",{project:h.value.slug}),{}))},I=()=>{l.userEngaged&&l.toggleAudioEnabled()},te=Y=>{const le=Y.target;l.setVolume(parseFloat(le.value))};return pn(()=>{var U,ue;const Y=(U=d.value)==null?void 0:U.querySelector("div"),le=(ue=D.value)==null?void 0:ue.querySelector("div");if(Y&&le){const $=window.innerWidth-(i.isMobile?16:42);K.to([Y,le],{opacity:1,width:$,duration:2,onComplete:()=>{n("scene-ready")}})}_()}),Bi(()=>{M&&M.kill(),b&&b.kill()}),Wt(()=>o.progress,(Y,le)=>{g.value=Y<500,W(Y)},{immediate:!0}),Wt(()=>t.camera,Y=>{Y&&W(o.progress)},{immediate:!1}),Wt(()=>t.ready,Y=>{Y&&W(0)}),(Y,le)=>(it(),at("div",Tu,[le[4]||(le[4]=ma('<svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true" data-v-ee952204><defs data-v-ee952204><pattern id="grid-pattern2" width="12" height="12" patternUnits="userSpaceOnUse" data-v-ee952204><line x1="0" y1="0" x2="0" y2="12" stroke="green" stroke-width="1" opacity="0.15" data-v-ee952204></line><line x1="0" y1="0" x2="12" y2="0" stroke="green" stroke-width="1" opacity="0.15" data-v-ee952204></line></pattern></defs><rect width="100%" height="100%" fill="url(#grid-pattern2)" data-v-ee952204></rect></svg>',1)),He("div",Mu,[Ro(mr,{name:"slide-up",mode:"out-in"},{default:Qi(()=>{var U,ue,$,m,Z,ie,q;return[g.value?(it(),at("div",{key:0,ref_key:"introMessageRef",ref:v,class:"relative pointer-events-auto font-mono text-xs text-green-500 text-center w-full text-white drop-shadow-white",innerHTML:C.value?B.value:"X540%512053%)4KF405=31650-3215-503=4400%254=053-50135FFKMFLKFJ04-3515-FFLH>F"},null,8,Pu)):(it(),at("div",Su,[He("div",{ref_key:"projectTitleEl",ref:p,class:"md:flex md:items-center gap-4 md:gap-[1vw] 3xl:gap-[1rem] pointer-events-auto",style:{opacity:"0"}},[He("div",Au,[He("h1",Bu,Io(((U=h.value)==null?void 0:U.title)||""),1),He("h2",Ru,[He("span",{class:"text-white/50 font-medium",innerHTML:((ue=h.value)==null?void 0:ue.client)||""},null,8,ku),le[0]||(le[0]=Ki("  ")),He("span",{class:No(w.value),innerHTML:(($=h.value)==null?void 0:$.classification)||""},null,10,Lu)])]),((m=h.value)==null?void 0:m.contributions.length)>0?(it(),at("div",Iu,[(it(!0),at(Hn,null,Un((Z=h.value)==null?void 0:Z.contributions,(we,Ze)=>(it(),at("span",{key:Ze,class:"inline-flex items-center gap-x-2 md:gap-x-[.5vw] 3xl:gap-x-[.5rem] rounded-full px-2 md:px-[.5vw] 3xl:px-[.5rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.575vw] 3xl:text-[.575rem] font-medium ring-1 ring-inset"},[(it(),at("svg",{class:No(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",E(we)]),viewBox:"0 0 6 6","aria-hidden":"true"},le[1]||(le[1]=[He("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Ki(" "+Io(we),1)]))),128))])):Tn("",!0),((ie=h.value)==null?void 0:ie.segments.length)>0?(it(),at("div",Ou,[(it(!0),at(Hn,null,Un((q=h.value)==null?void 0:q.segments,(we,Ze)=>(it(),at("span",{key:Ze,class:"inline-flex items-center rounded-full px-2 md:px-[.375vw] 3xl:px-[.375rem] py-1 md:py-[.25vw] 3xl:py-[.25rem] text-[8px] md:text-[.5vw] 3xl:text-[.5rem] font-medium ring-1 ring-inset fill-white-400/10 text-white-400 ring-white/20"},Io(we),1))),128))])):Tn("",!0)],512),He("div",{class:"flex justify-end md:block",ref_key:"clickHereEl",ref:f,style:{opacity:"0"}},[He("button",{onClick:S,class:"border border-current rounded-none px-2 py-1 mt-2 md:mt-0 whitespace-nowrap font-mono text-xxs text-white rounded transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"}," SEE PROJECT DETAILS ")],512)]))]}),_:1})]),He("div",{ref_key:"borderTopEl",ref:d,class:"flex justify-center"},le[2]||(le[2]=[He("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),He("div",zu,[He("div",{ref_key:"borderBottomEl",ref:D,class:"flex justify-center"},le[3]||(le[3]=[He("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),Y.ready?(it(),ui(Fu,{key:0,project:h.value},null,8,["project"])):Tn("",!0),He("div",Nu,[He("div",null,Io(Fo(o).progress.toString().padStart(10,"0")+".00"),1),He("button",{onClick:I,class:"border border-current rounded-none px-2 py-1 whitespace-nowrap text-xxxs text-white transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500 drop-shadow-white"},Io(Fo(l).audioEnabled?"Audio: On":"Audio: Off"),1),He("input",{type:"range",min:"0",max:"1",step:"0.01",value:Fo(l).masterVolume,onInput:te,class:"pointer-events-auto w-20 accent-green-500"},null,40,Hu)])])]))}}),ju=dn(Uu,[["__scopeId","data-v-ee952204"]]),Gu={class:"preloader"},Vu={key:1,class:"progress-label font-mono drop-shadow-white"},Wu=fn({__name:"Preloader",props:{progress:{}},setup(s){const e=$e(null);K.registerPlugin(hn);const t=$e(!1),n=$e(!1),o=s;return Wt(()=>o.progress,i=>{i>0&&!n&&(n.value=!0)}),pn(()=>{K.to(e.value,{duration:.5,text:{value:"INITIALIZING..."},delay:.25,onComplete:()=>{K.to(e.value,{duration:.5,alpha:0,y:-30,onComplete:()=>{t.value=!0}})}})}),(i,r)=>(it(),at("div",Gu,[t.value?(it(),at("div",Vu,Io(Math.round(i.progress))+"%",1)):(it(),at("div",{key:0,ref_key:"initTextRef",ref:e,class:"drop-shadow-white"},null,512))]))}}),Yu=dn(Wu,[["__scopeId","data-v-014ad8ef"]]),Xu={class:"relative bg-black text-white"},$u={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Zu={class:"mt-16 px-4 md:px-16"},qu={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ju=["innerHTML"],Qu={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},Ku=fn({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(s){const e=s,t=Po(),{loadingProgress:n}=ln(t),o=Ri(),i=$e(null),r=$e(!1);$e(!1);const a=$e(!1),u=f=>{i.value=f},l=io(()=>[...e.archived].sort((f,p)=>f.title.localeCompare(p.title))),g=io(()=>Object.values(Ht.Enums.Classification)),c=()=>{o.userEngaged||(o.unlockAudio(),window.removeEventListener("click",c),window.removeEventListener("touchstart",c),window.removeEventListener("keydown",c))},h=f=>{switch(f){case Ht.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case Ht.Enums.Classification.ECOMMERCE:return"fill-green-500";case Ht.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return va(()=>{}),pn(()=>{window.addEventListener("click",c),window.addEventListener("touchstart",c),window.addEventListener("keydown",c)}),Bi(()=>{window.removeEventListener("click",c),window.removeEventListener("touchstart",c),window.removeEventListener("keydown",c)}),(f,p)=>(it(),ui(Ha,null,{default:Qi(()=>[Ro(Fo(xa),{title:"Welcome"}),He("div",Xu,[He("nav",$u,[Ro(za)]),He("div",{class:No(["scene-wrap overflow-hidden relative",{ready:r.value}])},[a.value?(it(),ui(du,{key:0,projects:f.projects,"project-grid-file":f.projectGridFile,"project-grid-file2":f.projectGridFile2,onCameraReady:u,onSceneReady:p[0]||(p[0]=d=>r.value=!0)},null,8,["projects","project-grid-file","project-grid-file2"])):Tn("",!0),Ro(mr,{name:"fade"},{default:Qi(()=>[r.value?Tn("",!0):(it(),ui(Yu,{key:0,progress:Fo(n)||0},null,8,["progress"]))]),_:1}),Ro(yu),Ro(ju,{camera:i.value,ready:r.value,onSceneReady:p[1]||(p[1]=d=>a.value=!0)},null,8,["camera","ready"])],2),He("div",Zu,[p[4]||(p[4]=He("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),He("ul",qu,[(it(!0),at(Hn,null,Un(l.value,(d,D)=>(it(),at("li",{class:"text-xs text-white/80 flex items-center gap-2",key:D},[(it(),at("svg",{class:No(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",h(d.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},p[2]||(p[2]=[He("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),He("span",{innerHTML:d.title},null,8,Ju)]))),128))]),He("ul",Qu,[(it(!0),at(Hn,null,Un(g.value,d=>(it(),at("li",{class:"flex items-center gap-2",key:d},[(it(),at("svg",{class:No(["size-3",h(d)]),viewBox:"0 0 6 6","aria-hidden":"true"},p[3]||(p[3]=[He("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),Ki(" "+Io(d),1)]))),128))])]),p[5]||(p[5]=He("div",{class:"flex justify-center items-center"},null,-1)),p[6]||(p[6]=He("div",{class:"flex justify-center items-center"},null,-1)),Ro(Na)])]),_:1}))}}),ic=dn(Ku,[["__scopeId","data-v-e4af2a99"]]);export{ic as default};
