import{I as Lo,d as sn,D as Ms,x as Wr,y as Yr,e as Bo,o as no,J as Es,W as Is,a as un,t as As,b as an,T as ks,w as Rs,c as Ds,f as Ns,u as Os,m as Ls,F as Bs}from"./app-FHUw2rEJ.js";import{M as je,O as Xr,B as cr,F as Yn,C as xt,V as ye,W as vo,H as To,U as Ko,S as Pn,a as We,A as At,b as _t,N as Fs,c as zs,d as jr,e as Vr,f as An,P as jt,E as Us,g as Zr,h as qr,i as bn,j as Gs,k as Hs,l as Ws,m as Uo,n as Ys,o as Qt,p as kt,q as Xs,D as Gt,r as Bt,s as Qe,t as He,u as Xn,v as Kt,R as js,T as vn,w as br,Q as Vs,I as Zs,x as Go,y as qs,z as Qs,J as Zi,K as qi,X as Qi,Y as $i,Z as Ki,_ as $s,$ as Ks,a0 as Js,L as ei,G as ti}from"./GlobalFooter-BrC0ca6C.js";import{_ as Qr}from"./_plugin-vue_export-helper-DlAUqK2U.js";class so{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ni=new Xr(-1,1,1,-1,0,1);class oi extends cr{constructor(){super(),this.setAttribute("position",new Yn([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Yn([0,2,0,0,2,0],2))}}const ri=new oi;class $r{constructor(e){this._mesh=new je(ri,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ni)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const Kr={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},si={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new xt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class gn extends so{constructor(e,o,t,n){super(),this.strength=o!==void 0?o:1,this.radius=t,this.threshold=n,this.resolution=e!==void 0?new ye(e.x,e.y):new ye(256,256),this.clearColor=new xt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let r=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new vo(r,l,{type:To}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let v=0;v<this.nMips;v++){const C=new vo(r,l,{type:To});C.texture.name="UnrealBloomPass.h"+v,C.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(C);const _=new vo(r,l,{type:To});_.texture.name="UnrealBloomPass.v"+v,_.texture.generateMipmaps=!1,this.renderTargetsVertical.push(_),r=Math.round(r/2),l=Math.round(l/2)}const u=si;this.highPassUniforms=Ko.clone(u.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Pn({uniforms:this.highPassUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}),this.separableBlurMaterials=[];const w=[3,5,7,9,11];r=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);for(let v=0;v<this.nMips;v++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(w[v])),this.separableBlurMaterials[v].uniforms.invSize.value=new ye(1/r,1/l),r=Math.round(r/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=o,this.compositeMaterial.uniforms.bloomRadius.value=.1;const P=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=P,this.bloomTintColors=[new We(1,1,1),new We(1,1,1),new We(1,1,1),new We(1,1,1),new We(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const N=Kr;this.copyUniforms=Ko.clone(N.uniforms),this.blendMaterial=new Pn({uniforms:this.copyUniforms,vertexShader:N.vertexShader,fragmentShader:N.fragmentShader,blending:At,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new xt,this.oldClearAlpha=1,this.basic=new _t,this.fsQuad=new $r(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,o){let t=Math.round(e/2),n=Math.round(o/2);this.renderTargetBright.setSize(t,n);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(t,n),this.renderTargetsVertical[r].setSize(t,n),this.separableBlurMaterials[r].uniforms.invSize.value=new ye(1/t,1/n),t=Math.round(t/2),n=Math.round(n/2)}render(e,o,t,n,r){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const l=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),r&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let u=this.renderTargetBright;for(let w=0;w<this.nMips;w++)this.fsQuad.material=this.separableBlurMaterials[w],this.separableBlurMaterials[w].uniforms.colorTexture.value=u.texture,this.separableBlurMaterials[w].uniforms.direction.value=gn.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[w]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[w].uniforms.colorTexture.value=this.renderTargetsHorizontal[w].texture,this.separableBlurMaterials[w].uniforms.direction.value=gn.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[w]),e.clear(),this.fsQuad.render(e),u=this.renderTargetsVertical[w];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=l}getSeparableBlurMaterial(e){const o=[];for(let t=0;t<e;t++)o.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new Pn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new ye(.5,.5)},direction:{value:new ye(.5,.5)},gaussianCoefficients:{value:o}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Pn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}gn.BlurDirectionX=new ye(1,0);gn.BlurDirectionY=new ye(0,1);class ii extends so{constructor(e,o){super(),this.textureID=o!==void 0?o:"tDiffuse",e instanceof Pn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ko.clone(e.uniforms),this.material=new Pn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new $r(this.material)}render(e,o,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(o),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class wr extends so{constructor(e,o){super(),this.scene=e,this.camera=o,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,o,t){const n=e.getContext(),r=e.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);let l,u;this.inverse?(l=0,u=1):(l=1,u=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),r.buffers.stencil.setFunc(n.ALWAYS,l,4294967295),r.buffers.stencil.setClear(u),r.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(o),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.color.setMask(!0),r.buffers.depth.setMask(!0),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(n.EQUAL,1,4294967295),r.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),r.buffers.stencil.setLocked(!0)}}class ai extends so{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Jr{constructor(e,o){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),o===void 0){const t=e.getSize(new ye);this._width=t.width,this._height=t.height,o=new vo(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:To}),o.texture.name="EffectComposer.rt1"}else this._width=o.width,this._height=o.height;this.renderTarget1=o,this.renderTarget2=o.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new ii(Kr),this.copyPass.material.blending=Fs,this.clock=new zs}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,o){this.passes.splice(o,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const o=this.passes.indexOf(e);o!==-1&&this.passes.splice(o,1)}isLastEnabledPass(e){for(let o=e+1;o<this.passes.length;o++)if(this.passes[o].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const o=this.renderer.getRenderTarget();let t=!1;for(let n=0,r=this.passes.length;n<r;n++){const l=this.passes[n];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),l.needsSwap){if(t){const u=this.renderer.getContext(),w=this.renderer.state.buffers.stencil;w.setFunc(u.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),w.setFunc(u.EQUAL,1,4294967295)}this.swapBuffers()}wr!==void 0&&(l instanceof wr?t=!0:l instanceof ai&&(t=!1))}}this.renderer.setRenderTarget(o)}reset(e){if(e===void 0){const o=this.renderer.getSize(new ye);this._pixelRatio=this.renderer.getPixelRatio(),this._width=o.width,this._height=o.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,o){this._width=e,this._height=o;const t=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(t,n),this.renderTarget2.setSize(t,n);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(t,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class es extends so{constructor(e,o,t=null,n=null,r=null){super(),this.scene=e,this.camera=o,this.overrideMaterial=t,this.clearColor=n,this.clearAlpha=r,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new xt}render(e,o,t){const n=e.autoClear;e.autoClear=!1;let r,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(r=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(r),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=n}}const rn=.01,xr=45/3,li=3,Ho=45,vr=Lo({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(d){const e=d,o=sn(null);let t,n,r=null,l=null,u=null,w=[];const P=Ms({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),N=Ho/2+10;function v(m){const G=rn*P.particleWidth,q=rn*P.particleHeight,B=P.useSquares?new jt(G,q):new An(G,q,G),R=Math.floor(Math.random()*3);let Y;switch(R){case 0:Y=new xt(1,0,0);break;case 1:Y=new xt(0,1,0);break;case 2:Y=new xt(0,0,1);break;default:Y=new xt(1,0,0)}const X=new _t({color:Y,transparent:!0,opacity:.7}),F=new je(B,X),H=Ho+N*2;F.position.set(-45-N+m/(P.particleCount-1)*H,0,rn*(Math.random()-.5)*P.positionZRandomness*P.emitterDepth);const Z=rn*(Math.random()*(P.maxSpeed-P.minSpeed)+P.minSpeed);return F.speed=Z+rn*(Math.random()-.5)*P.speedRandomness,F.rotationSpeed=new We(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*P.rotationRandomness+.5),F}function C(){t=new jr;const m=li*1.5,G=m*xr;n=new Xr(-67.5/2,G/2,m/2,-4.5/2,.1,1e3),n.position.z=150,r=new Vr({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.domElement&&(r.domElement.style.width="100%",r.domElement.style.height="auto");const q=new es(t,n);u=new gn(new ye(window.innerWidth,window.innerHeight),P.bloomStrength,P.bloomRadius,.1),l=new Jr(r),l.addPass(q),l.addPass(u),U(),o.value&&o.value.appendChild(r.domElement),_(),k()}function _(){w.forEach(m=>t.remove(m)),w=[];for(let m=0;m<P.particleCount;m++){const G=v(m);w.push(G),t.add(G)}}function U(){if(!r||!l||!u)return;const m=window.innerWidth,G=m/xr;r.setSize(m,G),l.setSize(m,G),u.setSize(m,G),r.domElement&&(r.domElement.style.width="100%",r.domElement.style.height="auto")}function k(){requestAnimationFrame(k),w.forEach(m=>{m.position.x+=m.speed,!P.useSquares&&P.rotateParticles&&(m.rotation.x+=m.rotationSpeed.x*.016,m.rotation.y+=m.rotationSpeed.y*.016,m.rotation.z+=m.rotationSpeed.z*.016),m.position.x>Ho/2+N&&(w.indexOf(m),m.position.x=-45-N-rn*(m.geometry instanceof An,m.geometry.parameters.width),m.position.y=0,m.position.z=rn*(Math.random()-.5)*P.positionZRandomness*P.emitterDepth)}),l&&l.render()}return Wr(()=>{C(),window.addEventListener("resize",U)}),Yr(()=>{window.removeEventListener("resize",U),r==null||r.dispose()}),(m,G)=>(no(),Bo("div",{ref_key:"container",ref:o,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}}),ts=Es("tunnel",{state:()=>({activeProjectSlug:null,scrollPosition:0}),actions:{setActiveProject(d){this.activeProjectSlug=d},clearActiveProject(){this.activeProjectSlug=null},setScrollPosition(d){this.scrollPosition=d,console.log("Scroll position stored:",d)},clearScrollPosition(){this.scrollPosition=0}},persist:!0});function ci(d,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(d,t.key,t)}}function ui(d,e,o){return e&&ci(d.prototype,e),d}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var at,So,It,Jt,en,Mn,ns,ln,jn,os,Zt,Lt,rs,ss=function(){return at||typeof window<"u"&&(at=window.gsap)&&at.registerPlugin&&at},is=1,Cn=[],ve=[],Yt=[],Vn=Date.now,Jo=function(e,o){return o},fi=function(){var e=jn.core,o=e.bridge||{},t=e._scrollers,n=e._proxies;t.push.apply(t,ve),n.push.apply(n,Yt),ve=t,Yt=n,Jo=function(l,u){return o[l](u)}},tn=function(e,o){return~Yt.indexOf(e)&&Yt[Yt.indexOf(e)+1][o]},Zn=function(e){return!!~os.indexOf(e)},mt=function(e,o,t,n,r){return e.addEventListener(o,t,{passive:n!==!1,capture:!!r})},gt=function(e,o,t,n){return e.removeEventListener(o,t,!!n)},lo="scrollLeft",co="scrollTop",er=function(){return Zt&&Zt.isPressed||ve.cache++},Ao=function(e,o){var t=function n(r){if(r||r===0){is&&(It.history.scrollRestoration="manual");var l=Zt&&Zt.isPressed;r=n.v=Math.round(r)||(Zt&&Zt.iOS?1:0),e(r),n.cacheID=ve.cache,l&&Jo("ss",r)}else(o||ve.cache!==n.cacheID||Jo("ref"))&&(n.cacheID=ve.cache,n.v=e());return n.v+n.offset};return t.offset=0,e&&t},vt={s:lo,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ao(function(d){return arguments.length?It.scrollTo(d,et.sc()):It.pageXOffset||Jt[lo]||en[lo]||Mn[lo]||0})},et={s:co,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:vt,sc:Ao(function(d){return arguments.length?It.scrollTo(vt.sc(),d):It.pageYOffset||Jt[co]||en[co]||Mn[co]||0})},Tt=function(e,o){return(o&&o._ctx&&o._ctx.selector||at.utils.toArray)(e)[0]||(typeof e=="string"&&at.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},nn=function(e,o){var t=o.s,n=o.sc;Zn(e)&&(e=Jt.scrollingElement||en);var r=ve.indexOf(e),l=n===et.sc?1:2;!~r&&(r=ve.push(e)-1),ve[r+l]||mt(e,"scroll",er);var u=ve[r+l],w=u||(ve[r+l]=Ao(tn(e,t),!0)||(Zn(e)?n:Ao(function(P){return arguments.length?e[t]=P:e[t]})));return w.target=e,u||(w.smooth=at.getProperty(e,"scrollBehavior")==="smooth"),w},tr=function(e,o,t){var n=e,r=e,l=Vn(),u=l,w=o||50,P=Math.max(500,w*3),N=function(U,k){var m=Vn();k||m-l>w?(r=n,n=U,u=l,l=m):t?n+=U:n=r+(U-r)/(m-u)*(l-u)},v=function(){r=n=t?0:n,u=l=0},C=function(U){var k=u,m=r,G=Vn();return(U||U===0)&&U!==n&&N(U),l===u||G-u>P?0:(n+(t?m:-m))/((t?G:l)-k)*1e3};return{update:N,reset:v,getVelocity:C}},Ln=function(e,o){return o&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Tr=function(e){var o=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(o)>=Math.abs(t)?o:t},as=function(){jn=at.core.globals().ScrollTrigger,jn&&jn.core&&fi()},ls=function(e){return at=e||ss(),!So&&at&&typeof document<"u"&&document.body&&(It=window,Jt=document,en=Jt.documentElement,Mn=Jt.body,os=[It,Jt,en,Mn],at.utils.clamp,rs=at.core.context||function(){},ln="onpointerenter"in Mn?"pointer":"mouse",ns=Ze.isTouch=It.matchMedia&&It.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in It||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Lt=Ze.eventTypes=("ontouchstart"in en?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in en?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return is=0},500),as(),So=1),So};vt.op=et;ve.cache=0;var Ze=function(){function d(o){this.init(o)}var e=d.prototype;return e.init=function(t){So||ls(at)||console.warn("Please gsap.registerPlugin(Observer)"),jn||as();var n=t.tolerance,r=t.dragMinimum,l=t.type,u=t.target,w=t.lineHeight,P=t.debounce,N=t.preventDefault,v=t.onStop,C=t.onStopDelay,_=t.ignore,U=t.wheelSpeed,k=t.event,m=t.onDragStart,G=t.onDragEnd,q=t.onDrag,B=t.onPress,R=t.onRelease,Y=t.onRight,X=t.onLeft,F=t.onUp,H=t.onDown,Z=t.onChangeX,D=t.onChangeY,te=t.onChange,E=t.onToggleX,J=t.onToggleY,j=t.onHover,ee=t.onHoverEnd,V=t.onMove,O=t.ignoreCheck,T=t.isNormalizer,ne=t.onGestureStart,p=t.onGestureEnd,ie=t.onWheel,Ee=t.onEnable,ze=t.onDisable,g=t.onClick,c=t.scrollSpeed,i=t.capture,s=t.allowClicks,b=t.lockAxis,M=t.onLockAxis;this.target=u=Tt(u)||en,this.vars=t,_&&(_=at.utils.toArray(_)),n=n||1e-9,r=r||0,U=U||1,c=c||1,l=l||"wheel,touch,pointer",P=P!==!1,w||(w=parseFloat(It.getComputedStyle(Mn).lineHeight)||22);var y,I,z,A,x,S,L,f=this,h=0,a=0,W=t.passive||!N&&t.passive!==!1,$=nn(u,vt),Pe=nn(u,et),ge=$(),me=Pe(),Te=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Lt[0]==="pointerdown",le=Zn(u),fe=u.ownerDocument||Jt,Me=[0,0,0],oe=[0,0,0],be=0,ue=function(){return be=Vn()},Se=function(ae,Ie){return(f.event=ae)&&_&&~_.indexOf(ae.target)||Ie&&Te&&ae.pointerType!=="touch"||O&&O(ae,Ie)},Ye=function(){f._vx.reset(),f._vy.reset(),I.pause(),v&&v(f)},ce=function(){var ae=f.deltaX=Tr(Me),Ie=f.deltaY=Tr(oe),Q=Math.abs(ae)>=n,de=Math.abs(Ie)>=n;te&&(Q||de)&&te(f,ae,Ie,Me,oe),Q&&(Y&&f.deltaX>0&&Y(f),X&&f.deltaX<0&&X(f),Z&&Z(f),E&&f.deltaX<0!=h<0&&E(f),h=f.deltaX,Me[0]=Me[1]=Me[2]=0),de&&(H&&f.deltaY>0&&H(f),F&&f.deltaY<0&&F(f),D&&D(f),J&&f.deltaY<0!=a<0&&J(f),a=f.deltaY,oe[0]=oe[1]=oe[2]=0),(A||z)&&(V&&V(f),z&&(m&&z===1&&m(f),q&&q(f),z=0),A=!1),S&&!(S=!1)&&M&&M(f),x&&(ie(f),x=!1),y=0},Re=function(ae,Ie,Q){Me[Q]+=ae,oe[Q]+=Ie,f._vx.update(ae),f._vy.update(Ie),P?y||(y=requestAnimationFrame(ce)):ce()},tt=function(ae,Ie){b&&!L&&(f.axis=L=Math.abs(ae)>Math.abs(Ie)?"x":"y",S=!0),L!=="y"&&(Me[2]+=ae,f._vx.update(ae,!0)),L!=="x"&&(oe[2]+=Ie,f._vy.update(Ie,!0)),P?y||(y=requestAnimationFrame(ce)):ce()},Oe=function(ae){if(!Se(ae,1)){ae=Ln(ae,N);var Ie=ae.clientX,Q=ae.clientY,de=Ie-f.x,se=Q-f.y,pe=f.isDragging;f.x=Ie,f.y=Q,(pe||(de||se)&&(Math.abs(f.startX-Ie)>=r||Math.abs(f.startY-Q)>=r))&&(z=pe?2:1,pe||(f.isDragging=!0),tt(de,se))}},$e=f.onPress=function(he){Se(he,1)||he&&he.button||(f.axis=L=null,I.pause(),f.isPressed=!0,he=Ln(he),h=a=0,f.startX=f.x=he.clientX,f.startY=f.y=he.clientY,f._vx.reset(),f._vy.reset(),mt(T?u:fe,Lt[1],Oe,W,!0),f.deltaX=f.deltaY=0,B&&B(f))},re=f.onRelease=function(he){if(!Se(he,1)){gt(T?u:fe,Lt[1],Oe,!0);var ae=!isNaN(f.y-f.startY),Ie=f.isDragging,Q=Ie&&(Math.abs(f.x-f.startX)>3||Math.abs(f.y-f.startY)>3),de=Ln(he);!Q&&ae&&(f._vx.reset(),f._vy.reset(),N&&s&&at.delayedCall(.08,function(){if(Vn()-be>300&&!he.defaultPrevented){if(he.target.click)he.target.click();else if(fe.createEvent){var se=fe.createEvent("MouseEvents");se.initMouseEvent("click",!0,!0,It,1,de.screenX,de.screenY,de.clientX,de.clientY,!1,!1,!1,!1,0,null),he.target.dispatchEvent(se)}}})),f.isDragging=f.isGesturing=f.isPressed=!1,v&&Ie&&!T&&I.restart(!0),z&&ce(),G&&Ie&&G(f),R&&R(f,Q)}},Ae=function(ae){return ae.touches&&ae.touches.length>1&&(f.isGesturing=!0)&&ne(ae,f.isDragging)},Ue=function(){return(f.isGesturing=!1)||p(f)},Le=function(ae){if(!Se(ae)){var Ie=$(),Q=Pe();Re((Ie-ge)*c,(Q-me)*c,1),ge=Ie,me=Q,v&&I.restart(!0)}},Be=function(ae){if(!Se(ae)){ae=Ln(ae,N),ie&&(x=!0);var Ie=(ae.deltaMode===1?w:ae.deltaMode===2?It.innerHeight:1)*U;Re(ae.deltaX*Ie,ae.deltaY*Ie,0),v&&!T&&I.restart(!0)}},ht=function(ae){if(!Se(ae)){var Ie=ae.clientX,Q=ae.clientY,de=Ie-f.x,se=Q-f.y;f.x=Ie,f.y=Q,A=!0,v&&I.restart(!0),(de||se)&&tt(de,se)}},St=function(ae){f.event=ae,j(f)},Xt=function(ae){f.event=ae,ee(f)},Rn=function(ae){return Se(ae)||Ln(ae,N)&&g(f)};I=f._dc=at.delayedCall(C||.25,Ye).pause(),f.deltaX=f.deltaY=0,f._vx=tr(0,50,!0),f._vy=tr(0,50,!0),f.scrollX=$,f.scrollY=Pe,f.isDragging=f.isGesturing=f.isPressed=!1,rs(this),f.enable=function(he){return f.isEnabled||(mt(le?fe:u,"scroll",er),l.indexOf("scroll")>=0&&mt(le?fe:u,"scroll",Le,W,i),l.indexOf("wheel")>=0&&mt(u,"wheel",Be,W,i),(l.indexOf("touch")>=0&&ns||l.indexOf("pointer")>=0)&&(mt(u,Lt[0],$e,W,i),mt(fe,Lt[2],re),mt(fe,Lt[3],re),s&&mt(u,"click",ue,!0,!0),g&&mt(u,"click",Rn),ne&&mt(fe,"gesturestart",Ae),p&&mt(fe,"gestureend",Ue),j&&mt(u,ln+"enter",St),ee&&mt(u,ln+"leave",Xt),V&&mt(u,ln+"move",ht)),f.isEnabled=!0,f.isDragging=f.isGesturing=f.isPressed=A=z=!1,f._vx.reset(),f._vy.reset(),ge=$(),me=Pe(),he&&he.type&&$e(he),Ee&&Ee(f)),f},f.disable=function(){f.isEnabled&&(Cn.filter(function(he){return he!==f&&Zn(he.target)}).length||gt(le?fe:u,"scroll",er),f.isPressed&&(f._vx.reset(),f._vy.reset(),gt(T?u:fe,Lt[1],Oe,!0)),gt(le?fe:u,"scroll",Le,i),gt(u,"wheel",Be,i),gt(u,Lt[0],$e,i),gt(fe,Lt[2],re),gt(fe,Lt[3],re),gt(u,"click",ue,!0),gt(u,"click",Rn),gt(fe,"gesturestart",Ae),gt(fe,"gestureend",Ue),gt(u,ln+"enter",St),gt(u,ln+"leave",Xt),gt(u,ln+"move",ht),f.isEnabled=f.isPressed=f.isDragging=!1,ze&&ze(f))},f.kill=f.revert=function(){f.disable();var he=Cn.indexOf(f);he>=0&&Cn.splice(he,1),Zt===f&&(Zt=0)},Cn.push(f),T&&Zn(u)&&(Zt=f),f.enable(k)},ui(d,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),d}();Ze.version="3.12.7";Ze.create=function(d){return new Ze(d)};Ze.register=ls;Ze.getAll=function(){return Cn.slice()};Ze.getById=function(d){return Cn.filter(function(e){return e.vars.id===d})[0]};ss()&&at.registerPlugin(Ze);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var K,Tn,xe,Ne,Et,ke,ur,ko,oo,qn,zn,uo,ft,Fo,nr,bt,Sr,Pr,Sn,cs,Wo,us,yt,or,fs,ds,$t,rr,fr,En,dr,Ro,sr,Yo,fo=1,dt=Date.now,Xo=dt(),Nt=0,Un=0,Cr=function(e,o,t){var n=Mt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+o+"Clamp"]=n,n?e.substr(6,e.length-7):e},Mr=function(e,o){return o&&(!Mt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},di=function d(){return Un&&requestAnimationFrame(d)},Er=function(){return Fo=1},Ir=function(){return Fo=0},Ht=function(e){return e},Gn=function(e){return Math.round(e*1e5)/1e5||0},ps=function(){return typeof window<"u"},hs=function(){return K||ps()&&(K=window.gsap)&&K.registerPlugin&&K},mn=function(e){return!!~ur.indexOf(e)},gs=function(e){return(e==="Height"?dr:xe["inner"+e])||Et["client"+e]||ke["client"+e]},ms=function(e){return tn(e,"getBoundingClientRect")||(mn(e)?function(){return Io.width=xe.innerWidth,Io.height=dr,Io}:function(){return Vt(e)})},pi=function(e,o,t){var n=t.d,r=t.d2,l=t.a;return(l=tn(e,"getBoundingClientRect"))?function(){return l()[n]}:function(){return(o?gs(r):e["client"+r])||0}},hi=function(e,o){return!o||~Yt.indexOf(e)?ms(e):function(){return Io}},Wt=function(e,o){var t=o.s,n=o.d2,r=o.d,l=o.a;return Math.max(0,(t="scroll"+n)&&(l=tn(e,t))?l()-ms(e)()[r]:mn(e)?(Et[t]||ke[t])-gs(n):e[t]-e["offset"+n])},po=function(e,o){for(var t=0;t<Sn.length;t+=3)(!o||~o.indexOf(Sn[t+1]))&&e(Sn[t],Sn[t+1],Sn[t+2])},Mt=function(e){return typeof e=="string"},pt=function(e){return typeof e=="function"},Hn=function(e){return typeof e=="number"},cn=function(e){return typeof e=="object"},Bn=function(e,o,t){return e&&e.progress(o?0:1)&&t&&e.pause()},jo=function(e,o){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return o(e)}):o(e);t&&t.totalTime&&(e.callbackAnimation=t)}},wn=Math.abs,ys="left",_s="top",pr="right",hr="bottom",dn="width",pn="height",Qn="Right",$n="Left",Kn="Top",Jn="Bottom",qe="padding",Rt="margin",kn="Width",gr="Height",Je="px",Dt=function(e){return xe.getComputedStyle(e)},gi=function(e){var o=Dt(e).position;e.style.position=o==="absolute"||o==="fixed"?o:"relative"},Ar=function(e,o){for(var t in o)t in e||(e[t]=o[t]);return e},Vt=function(e,o){var t=o&&Dt(e)[nr]!=="matrix(1, 0, 0, 1, 0, 0)"&&K.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return t&&t.progress(0).kill(),n},Do=function(e,o){var t=o.d2;return e["offset"+t]||e["client"+t]||0},bs=function(e){var o=[],t=e.labels,n=e.duration(),r;for(r in t)o.push(t[r]/n);return o},mi=function(e){return function(o){return K.utils.snap(bs(e),o)}},mr=function(e){var o=K.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(n,r){return n-r});return t?function(n,r,l){l===void 0&&(l=.001);var u;if(!r)return o(n);if(r>0){for(n-=l,u=0;u<t.length;u++)if(t[u]>=n)return t[u];return t[u-1]}else for(u=t.length,n+=l;u--;)if(t[u]<=n)return t[u];return t[0]}:function(n,r,l){l===void 0&&(l=.001);var u=o(n);return!r||Math.abs(u-n)<l||u-n<0==r<0?u:o(r<0?n-e:n+e)}},yi=function(e){return function(o,t){return mr(bs(e))(o,t.direction)}},ho=function(e,o,t,n){return t.split(",").forEach(function(r){return e(o,r,n)})},rt=function(e,o,t,n,r){return e.addEventListener(o,t,{passive:!n,capture:!!r})},ot=function(e,o,t,n){return e.removeEventListener(o,t,!!n)},go=function(e,o,t){t=t&&t.wheelHandler,t&&(e(o,"wheel",t),e(o,"touchmove",t))},kr={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},mo={toggleActions:"play",anticipatePin:0},No={top:0,left:0,center:.5,bottom:1,right:1},Po=function(e,o){if(Mt(e)){var t=e.indexOf("="),n=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(n*=o/100),e=e.substr(0,t-1)),e=n+(e in No?No[e]*o:~e.indexOf("%")?parseFloat(e)*o/100:parseFloat(e)||0)}return e},yo=function(e,o,t,n,r,l,u,w){var P=r.startColor,N=r.endColor,v=r.fontSize,C=r.indent,_=r.fontWeight,U=Ne.createElement("div"),k=mn(t)||tn(t,"pinType")==="fixed",m=e.indexOf("scroller")!==-1,G=k?ke:t,q=e.indexOf("start")!==-1,B=q?P:N,R="border-color:"+B+";font-size:"+v+";color:"+B+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return R+="position:"+((m||w)&&k?"fixed;":"absolute;"),(m||w||!k)&&(R+=(n===et?pr:hr)+":"+(l+parseFloat(C))+"px;"),u&&(R+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),U._isStart=q,U.setAttribute("class","gsap-marker-"+e+(o?" marker-"+o:"")),U.style.cssText=R,U.innerText=o||o===0?e+"-"+o:e,G.children[0]?G.insertBefore(U,G.children[0]):G.appendChild(U),U._offset=U["offset"+n.op.d2],Co(U,0,n,q),U},Co=function(e,o,t,n){var r={display:"block"},l=t[n?"os2":"p2"],u=t[n?"p2":"os2"];e._isFlipped=n,r[t.a+"Percent"]=n?-100:0,r[t.a]=n?"1px":0,r["border"+l+kn]=1,r["border"+u+kn]=0,r[t.p]=o+"px",K.set(e,r)},we=[],ir={},ro,Rr=function(){return dt()-Nt>34&&(ro||(ro=requestAnimationFrame(qt)))},xn=function(){(!yt||!yt.isPressed||yt.startX>ke.clientWidth)&&(ve.cache++,yt?ro||(ro=requestAnimationFrame(qt)):qt(),Nt||_n("scrollStart"),Nt=dt())},Vo=function(){ds=xe.innerWidth,fs=xe.innerHeight},Wn=function(e){ve.cache++,(e===!0||!ft&&!us&&!Ne.fullscreenElement&&!Ne.webkitFullscreenElement&&(!or||ds!==xe.innerWidth||Math.abs(xe.innerHeight-fs)>xe.innerHeight*.25))&&ko.restart(!0)},yn={},_i=[],ws=function d(){return ot(_e,"scrollEnd",d)||fn(!0)},_n=function(e){return yn[e]&&yn[e].map(function(o){return o()})||_i},Ct=[],xs=function(e){for(var o=0;o<Ct.length;o+=5)(!e||Ct[o+4]&&Ct[o+4].query===e)&&(Ct[o].style.cssText=Ct[o+1],Ct[o].getBBox&&Ct[o].setAttribute("transform",Ct[o+2]||""),Ct[o+3].uncache=1)},yr=function(e,o){var t;for(bt=0;bt<we.length;bt++)t=we[bt],t&&(!o||t._ctx===o)&&(e?t.kill(1):t.revert(!0,!0));Ro=!0,o&&xs(o),o||_n("revert")},vs=function(e,o){ve.cache++,(o||!wt)&&ve.forEach(function(t){return pt(t)&&t.cacheID++&&(t.rec=0)}),Mt(e)&&(xe.history.scrollRestoration=fr=e)},wt,hn=0,Dr,bi=function(){if(Dr!==hn){var e=Dr=hn;requestAnimationFrame(function(){return e===hn&&fn(!0)})}},Ts=function(){ke.appendChild(En),dr=!yt&&En.offsetHeight||xe.innerHeight,ke.removeChild(En)},Nr=function(e){return oo(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(o){return o.style.display=e?"none":"block"})},fn=function(e,o){if(Et=Ne.documentElement,ke=Ne.body,ur=[xe,Ne,Et,ke],Nt&&!e&&!Ro){rt(_e,"scrollEnd",ws);return}Ts(),wt=_e.isRefreshing=!0,ve.forEach(function(n){return pt(n)&&++n.cacheID&&(n.rec=n())});var t=_n("refreshInit");cs&&_e.sort(),o||yr(),ve.forEach(function(n){pt(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),we.slice(0).forEach(function(n){return n.refresh()}),Ro=!1,we.forEach(function(n){if(n._subPinOffset&&n.pin){var r=n.vars.horizontal?"offsetWidth":"offsetHeight",l=n.pin[r];n.revert(!0,1),n.adjustPinSpacing(n.pin[r]-l),n.refresh()}}),sr=1,Nr(!0),we.forEach(function(n){var r=Wt(n.scroller,n._dir),l=n.vars.end==="max"||n._endClamp&&n.end>r,u=n._startClamp&&n.start>=r;(l||u)&&n.setPositions(u?r-1:n.start,l?Math.max(u?r:n.start+1,r):n.end,!0)}),Nr(!1),sr=0,t.forEach(function(n){return n&&n.render&&n.render(-1)}),ve.forEach(function(n){pt(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),vs(fr,1),ko.pause(),hn++,wt=2,qt(2),we.forEach(function(n){return pt(n.vars.onRefresh)&&n.vars.onRefresh(n)}),wt=_e.isRefreshing=!1,_n("refresh")},ar=0,Mo=1,eo,qt=function(e){if(e===2||!wt&&!Ro){_e.isUpdating=!0,eo&&eo.update(0);var o=we.length,t=dt(),n=t-Xo>=50,r=o&&we[0].scroll();if(Mo=ar>r?-1:1,wt||(ar=r),n&&(Nt&&!Fo&&t-Nt>200&&(Nt=0,_n("scrollEnd")),zn=Xo,Xo=t),Mo<0){for(bt=o;bt-- >0;)we[bt]&&we[bt].update(0,n);Mo=1}else for(bt=0;bt<o;bt++)we[bt]&&we[bt].update(0,n);_e.isUpdating=!1}ro=0},lr=[ys,_s,hr,pr,Rt+Jn,Rt+Qn,Rt+Kn,Rt+$n,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Eo=lr.concat([dn,pn,"boxSizing","max"+kn,"max"+gr,"position",Rt,qe,qe+Kn,qe+Qn,qe+Jn,qe+$n]),wi=function(e,o,t){In(t);var n=e._gsap;if(n.spacerIsNative)In(n.spacerState);else if(e._gsap.swappedIn){var r=o.parentNode;r&&(r.insertBefore(e,o),r.removeChild(o))}e._gsap.swappedIn=!1},Zo=function(e,o,t,n){if(!e._gsap.swappedIn){for(var r=lr.length,l=o.style,u=e.style,w;r--;)w=lr[r],l[w]=t[w];l.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(l.display="inline-block"),u[hr]=u[pr]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[dn]=Do(e,vt)+Je,l[pn]=Do(e,et)+Je,l[qe]=u[Rt]=u[_s]=u[ys]="0",In(n),u[dn]=u["max"+kn]=t[dn],u[pn]=u["max"+gr]=t[pn],u[qe]=t[qe],e.parentNode!==o&&(e.parentNode.insertBefore(o,e),o.appendChild(e)),e._gsap.swappedIn=!0}},xi=/([A-Z])/g,In=function(e){if(e){var o=e.t.style,t=e.length,n=0,r,l;for((e.t._gsap||K.core.getCache(e.t)).uncache=1;n<t;n+=2)l=e[n+1],r=e[n],l?o[r]=l:o[r]&&o.removeProperty(r.replace(xi,"-$1").toLowerCase())}},_o=function(e){for(var o=Eo.length,t=e.style,n=[],r=0;r<o;r++)n.push(Eo[r],t[Eo[r]]);return n.t=e,n},vi=function(e,o,t){for(var n=[],r=e.length,l=t?8:0,u;l<r;l+=2)u=e[l],n.push(u,u in o?o[u]:e[l+1]);return n.t=e.t,n},Io={left:0,top:0},Or=function(e,o,t,n,r,l,u,w,P,N,v,C,_,U){pt(e)&&(e=e(w)),Mt(e)&&e.substr(0,3)==="max"&&(e=C+(e.charAt(4)==="="?Po("0"+e.substr(3),t):0));var k=_?_.time():0,m,G,q;if(_&&_.seek(0),isNaN(e)||(e=+e),Hn(e))_&&(e=K.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,C,e)),u&&Co(u,t,n,!0);else{pt(o)&&(o=o(w));var B=(e||"0").split(" "),R,Y,X,F;q=Tt(o,w)||ke,R=Vt(q)||{},(!R||!R.left&&!R.top)&&Dt(q).display==="none"&&(F=q.style.display,q.style.display="block",R=Vt(q),F?q.style.display=F:q.style.removeProperty("display")),Y=Po(B[0],R[n.d]),X=Po(B[1]||"0",t),e=R[n.p]-P[n.p]-N+Y+r-X,u&&Co(u,X,n,t-X<20||u._isStart&&X>20),t-=t-X}if(U&&(w[U]=e||-.001,e<0&&(e=0)),l){var H=e+t,Z=l._isStart;m="scroll"+n.d2,Co(l,H,n,Z&&H>20||!Z&&(v?Math.max(ke[m],Et[m]):l.parentNode[m])<=H+1),v&&(P=Vt(u),v&&(l.style[n.op.p]=P[n.op.p]-n.op.m-l._offset+Je))}return _&&q&&(m=Vt(q),_.seek(C),G=Vt(q),_._caScrollDist=m[n.p]-G[n.p],e=e/_._caScrollDist*C),_&&_.seek(k),_?e:Math.round(e)},Ti=/(webkit|moz|length|cssText|inset)/i,Lr=function(e,o,t,n){if(e.parentNode!==o){var r=e.style,l,u;if(o===ke){e._stOrig=r.cssText,u=Dt(e);for(l in u)!+l&&!Ti.test(l)&&u[l]&&typeof r[l]=="string"&&l!=="0"&&(r[l]=u[l]);r.top=t,r.left=n}else r.cssText=e._stOrig;K.core.getCache(e).uncache=1,o.appendChild(e)}},Ss=function(e,o,t){var n=o,r=n;return function(l){var u=Math.round(e());return u!==n&&u!==r&&Math.abs(u-n)>3&&Math.abs(u-r)>3&&(l=u,t&&t()),r=n,n=Math.round(l),n}},bo=function(e,o,t){var n={};n[o.p]="+="+t,K.set(e,n)},Br=function(e,o){var t=nn(e,o),n="_scroll"+o.p2,r=function l(u,w,P,N,v){var C=l.tween,_=w.onComplete,U={};P=P||t();var k=Ss(t,P,function(){C.kill(),l.tween=0});return v=N&&v||0,N=N||u-P,C&&C.kill(),w[n]=u,w.inherit=!1,w.modifiers=U,U[n]=function(){return k(P+N*C.ratio+v*C.ratio*C.ratio)},w.onUpdate=function(){ve.cache++,l.tween&&qt()},w.onComplete=function(){l.tween=0,_&&_.call(C)},C=l.tween=K.to(e,w),C};return e[n]=t,t.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},rt(e,"wheel",t.wheelHandler),_e.isTouch&&rt(e,"touchmove",t.wheelHandler),r},_e=function(){function d(o,t){Tn||d.register(K)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),rr(this),this.init(o,t)}var e=d.prototype;return e.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Un){this.update=this.refresh=this.kill=Ht;return}t=Ar(Mt(t)||Hn(t)||t.nodeType?{trigger:t}:t,mo);var r=t,l=r.onUpdate,u=r.toggleClass,w=r.id,P=r.onToggle,N=r.onRefresh,v=r.scrub,C=r.trigger,_=r.pin,U=r.pinSpacing,k=r.invalidateOnRefresh,m=r.anticipatePin,G=r.onScrubComplete,q=r.onSnapComplete,B=r.once,R=r.snap,Y=r.pinReparent,X=r.pinSpacer,F=r.containerAnimation,H=r.fastScrollEnd,Z=r.preventOverlaps,D=t.horizontal||t.containerAnimation&&t.horizontal!==!1?vt:et,te=!v&&v!==0,E=Tt(t.scroller||xe),J=K.core.getCache(E),j=mn(E),ee=("pinType"in t?t.pinType:tn(E,"pinType")||j&&"fixed")==="fixed",V=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],O=te&&t.toggleActions.split(" "),T="markers"in t?t.markers:mo.markers,ne=j?0:parseFloat(Dt(E)["border"+D.p2+kn])||0,p=this,ie=t.onRefreshInit&&function(){return t.onRefreshInit(p)},Ee=pi(E,j,D),ze=hi(E,j),g=0,c=0,i=0,s=nn(E,D),b,M,y,I,z,A,x,S,L,f,h,a,W,$,Pe,ge,me,Te,le,fe,Me,oe,be,ue,Se,Ye,ce,Re,tt,Oe,$e,re,Ae,Ue,Le,Be,ht,St,Xt;if(p._startClamp=p._endClamp=!1,p._dir=D,m*=45,p.scroller=E,p.scroll=F?F.time.bind(F):s,I=s(),p.vars=t,n=n||t.animation,"refreshPriority"in t&&(cs=1,t.refreshPriority===-9999&&(eo=p)),J.tweenScroll=J.tweenScroll||{top:Br(E,et),left:Br(E,vt)},p.tweenTo=b=J.tweenScroll[D.p],p.scrubDuration=function(Q){Ae=Hn(Q)&&Q,Ae?re?re.duration(Q):re=K.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Ae,paused:!0,onComplete:function(){return G&&G(p)}}):(re&&re.progress(1).kill(),re=0)},n&&(n.vars.lazy=!1,n._initted&&!p.isReverted||n.vars.immediateRender!==!1&&t.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),p.animation=n.pause(),n.scrollTrigger=p,p.scrubDuration(v),Oe=0,w||(w=n.vars.id)),R&&((!cn(R)||R.push)&&(R={snapTo:R}),"scrollBehavior"in ke.style&&K.set(j?[ke,Et]:E,{scrollBehavior:"auto"}),ve.forEach(function(Q){return pt(Q)&&Q.target===(j?Ne.scrollingElement||Et:E)&&(Q.smooth=!1)}),y=pt(R.snapTo)?R.snapTo:R.snapTo==="labels"?mi(n):R.snapTo==="labelsDirectional"?yi(n):R.directional!==!1?function(Q,de){return mr(R.snapTo)(Q,dt()-c<500?0:de.direction)}:K.utils.snap(R.snapTo),Ue=R.duration||{min:.1,max:2},Ue=cn(Ue)?qn(Ue.min,Ue.max):qn(Ue,Ue),Le=K.delayedCall(R.delay||Ae/2||.1,function(){var Q=s(),de=dt()-c<500,se=b.tween;if((de||Math.abs(p.getVelocity())<10)&&!se&&!Fo&&g!==Q){var pe=(Q-A)/$,nt=n&&!te?n.totalProgress():pe,Ce=de?0:(nt-$e)/(dt()-zn)*1e3||0,Ve=K.utils.clamp(-pe,1-pe,wn(Ce/2)*Ce/.185),lt=pe+(R.inertia===!1?0:Ve),Xe,Fe,De=R,Ot=De.onStart,Ge=De.onInterrupt,Pt=De.onComplete;if(Xe=y(lt,p),Hn(Xe)||(Xe=lt),Fe=Math.max(0,Math.round(A+Xe*$)),Q<=x&&Q>=A&&Fe!==Q){if(se&&!se._initted&&se.data<=wn(Fe-Q))return;R.inertia===!1&&(Ve=Xe-pe),b(Fe,{duration:Ue(wn(Math.max(wn(lt-nt),wn(Xe-nt))*.185/Ce/.05||0)),ease:R.ease||"power3",data:wn(Fe-Q),onInterrupt:function(){return Le.restart(!0)&&Ge&&Ge(p)},onComplete:function(){p.update(),g=s(),n&&!te&&(re?re.resetTo("totalProgress",Xe,n._tTime/n._tDur):n.progress(Xe)),Oe=$e=n&&!te?n.totalProgress():p.progress,q&&q(p),Pt&&Pt(p)}},Q,Ve*$,Fe-Q-Ve*$),Ot&&Ot(p,b.tween)}}else p.isActive&&g!==Q&&Le.restart(!0)}).pause()),w&&(ir[w]=p),C=p.trigger=Tt(C||_!==!0&&_),Xt=C&&C._gsap&&C._gsap.stRevert,Xt&&(Xt=Xt(p)),_=_===!0?C:Tt(_),Mt(u)&&(u={targets:C,className:u}),_&&(U===!1||U===Rt||(U=!U&&_.parentNode&&_.parentNode.style&&Dt(_.parentNode).display==="flex"?!1:qe),p.pin=_,M=K.core.getCache(_),M.spacer?Pe=M.pinState:(X&&(X=Tt(X),X&&!X.nodeType&&(X=X.current||X.nativeElement),M.spacerIsNative=!!X,X&&(M.spacerState=_o(X))),M.spacer=Te=X||Ne.createElement("div"),Te.classList.add("pin-spacer"),w&&Te.classList.add("pin-spacer-"+w),M.pinState=Pe=_o(_)),t.force3D!==!1&&K.set(_,{force3D:!0}),p.spacer=Te=M.spacer,tt=Dt(_),ue=tt[U+D.os2],fe=K.getProperty(_),Me=K.quickSetter(_,D.a,Je),Zo(_,Te,tt),me=_o(_)),T){a=cn(T)?Ar(T,kr):kr,f=yo("scroller-start",w,E,D,a,0),h=yo("scroller-end",w,E,D,a,0,f),le=f["offset"+D.op.d2];var Rn=Tt(tn(E,"content")||E);S=this.markerStart=yo("start",w,Rn,D,a,le,0,F),L=this.markerEnd=yo("end",w,Rn,D,a,le,0,F),F&&(St=K.quickSetter([S,L],D.a,Je)),!ee&&!(Yt.length&&tn(E,"fixedMarkers")===!0)&&(gi(j?ke:E),K.set([f,h],{force3D:!0}),Ye=K.quickSetter(f,D.a,Je),Re=K.quickSetter(h,D.a,Je))}if(F){var he=F.vars.onUpdate,ae=F.vars.onUpdateParams;F.eventCallback("onUpdate",function(){p.update(0,0,1),he&&he.apply(F,ae||[])})}if(p.previous=function(){return we[we.indexOf(p)-1]},p.next=function(){return we[we.indexOf(p)+1]},p.revert=function(Q,de){if(!de)return p.kill(!0);var se=Q!==!1||!p.enabled,pe=ft;se!==p.isReverted&&(se&&(Be=Math.max(s(),p.scroll.rec||0),i=p.progress,ht=n&&n.progress()),S&&[S,L,f,h].forEach(function(nt){return nt.style.display=se?"none":"block"}),se&&(ft=p,p.update(se)),_&&(!Y||!p.isActive)&&(se?wi(_,Te,Pe):Zo(_,Te,Dt(_),Se)),se||p.update(se),ft=pe,p.isReverted=se)},p.refresh=function(Q,de,se,pe){if(!((ft||!p.enabled)&&!de)){if(_&&Q&&Nt){rt(d,"scrollEnd",ws);return}!wt&&ie&&ie(p),ft=p,b.tween&&!se&&(b.tween.kill(),b.tween=0),re&&re.pause(),k&&n&&n.revert({kill:!1}).invalidate(),p.isReverted||p.revert(!0,!0),p._subPinOffset=!1;var nt=Ee(),Ce=ze(),Ve=F?F.duration():Wt(E,D),lt=$<=.01,Xe=0,Fe=pe||0,De=cn(se)?se.end:t.end,Ot=t.endTrigger||C,Ge=cn(se)?se.start:t.start||(t.start===0||!C?0:_?"0 0":"0 100%"),Pt=p.pinnedContainer=t.pinnedContainer&&Tt(t.pinnedContainer,p),Ft=C&&Math.max(0,we.indexOf(p))||0,st=Ft,it,ct,on,io,ut,Ke,zt,zo,_r,Dn,Ut,Nn,ao;for(T&&cn(se)&&(Nn=K.getProperty(f,D.p),ao=K.getProperty(h,D.p));st-- >0;)Ke=we[st],Ke.end||Ke.refresh(0,1)||(ft=p),zt=Ke.pin,zt&&(zt===C||zt===_||zt===Pt)&&!Ke.isReverted&&(Dn||(Dn=[]),Dn.unshift(Ke),Ke.revert(!0,!0)),Ke!==we[st]&&(Ft--,st--);for(pt(Ge)&&(Ge=Ge(p)),Ge=Cr(Ge,"start",p),A=Or(Ge,C,nt,D,s(),S,f,p,Ce,ne,ee,Ve,F,p._startClamp&&"_startClamp")||(_?-.001:0),pt(De)&&(De=De(p)),Mt(De)&&!De.indexOf("+=")&&(~De.indexOf(" ")?De=(Mt(Ge)?Ge.split(" ")[0]:"")+De:(Xe=Po(De.substr(2),nt),De=Mt(Ge)?Ge:(F?K.utils.mapRange(0,F.duration(),F.scrollTrigger.start,F.scrollTrigger.end,A):A)+Xe,Ot=C)),De=Cr(De,"end",p),x=Math.max(A,Or(De||(Ot?"100% 0":Ve),Ot,nt,D,s()+Xe,L,h,p,Ce,ne,ee,Ve,F,p._endClamp&&"_endClamp"))||-.001,Xe=0,st=Ft;st--;)Ke=we[st],zt=Ke.pin,zt&&Ke.start-Ke._pinPush<=A&&!F&&Ke.end>0&&(it=Ke.end-(p._startClamp?Math.max(0,Ke.start):Ke.start),(zt===C&&Ke.start-Ke._pinPush<A||zt===Pt)&&isNaN(Ge)&&(Xe+=it*(1-Ke.progress)),zt===_&&(Fe+=it));if(A+=Xe,x+=Xe,p._startClamp&&(p._startClamp+=Xe),p._endClamp&&!wt&&(p._endClamp=x||-.001,x=Math.min(x,Wt(E,D))),$=x-A||(A-=.01)&&.001,lt&&(i=K.utils.clamp(0,1,K.utils.normalize(A,x,Be))),p._pinPush=Fe,S&&Xe&&(it={},it[D.a]="+="+Xe,Pt&&(it[D.p]="-="+s()),K.set([S,L],it)),_&&!(sr&&p.end>=Wt(E,D)))it=Dt(_),io=D===et,on=s(),oe=parseFloat(fe(D.a))+Fe,!Ve&&x>1&&(Ut=(j?Ne.scrollingElement||Et:E).style,Ut={style:Ut,value:Ut["overflow"+D.a.toUpperCase()]},j&&Dt(ke)["overflow"+D.a.toUpperCase()]!=="scroll"&&(Ut.style["overflow"+D.a.toUpperCase()]="scroll")),Zo(_,Te,it),me=_o(_),ct=Vt(_,!0),zo=ee&&nn(E,io?vt:et)(),U?(Se=[U+D.os2,$+Fe+Je],Se.t=Te,st=U===qe?Do(_,D)+$+Fe:0,st&&(Se.push(D.d,st+Je),Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=st+Je)),In(Se),Pt&&we.forEach(function(On){On.pin===Pt&&On.vars.pinSpacing!==!1&&(On._subPinOffset=!0)}),ee&&s(Be)):(st=Do(_,D),st&&Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=st+Je)),ee&&(ut={top:ct.top+(io?on-A:zo)+Je,left:ct.left+(io?zo:on-A)+Je,boxSizing:"border-box",position:"fixed"},ut[dn]=ut["max"+kn]=Math.ceil(ct.width)+Je,ut[pn]=ut["max"+gr]=Math.ceil(ct.height)+Je,ut[Rt]=ut[Rt+Kn]=ut[Rt+Qn]=ut[Rt+Jn]=ut[Rt+$n]="0",ut[qe]=it[qe],ut[qe+Kn]=it[qe+Kn],ut[qe+Qn]=it[qe+Qn],ut[qe+Jn]=it[qe+Jn],ut[qe+$n]=it[qe+$n],ge=vi(Pe,ut,Y),wt&&s(0)),n?(_r=n._initted,Wo(1),n.render(n.duration(),!0,!0),be=fe(D.a)-oe+$+Fe,ce=Math.abs($-be)>1,ee&&ce&&ge.splice(ge.length-2,2),n.render(0,!0,!0),_r||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Wo(0)):be=$,Ut&&(Ut.value?Ut.style["overflow"+D.a.toUpperCase()]=Ut.value:Ut.style.removeProperty("overflow-"+D.a));else if(C&&s()&&!F)for(ct=C.parentNode;ct&&ct!==ke;)ct._pinOffset&&(A-=ct._pinOffset,x-=ct._pinOffset),ct=ct.parentNode;Dn&&Dn.forEach(function(On){return On.revert(!1,!0)}),p.start=A,p.end=x,I=z=wt?Be:s(),!F&&!wt&&(I<Be&&s(Be),p.scroll.rec=0),p.revert(!1,!0),c=dt(),Le&&(g=-1,Le.restart(!0)),ft=0,n&&te&&(n._initted||ht)&&n.progress()!==ht&&n.progress(ht||0,!0).render(n.time(),!0,!0),(lt||i!==p.progress||F||k||n&&!n._initted)&&(n&&!te&&n.totalProgress(F&&A<-.001&&!i?K.utils.normalize(A,x,0):i,!0),p.progress=lt||(I-A)/$===i?0:i),_&&U&&(Te._pinOffset=Math.round(p.progress*be)),re&&re.invalidate(),isNaN(Nn)||(Nn-=K.getProperty(f,D.p),ao-=K.getProperty(h,D.p),bo(f,D,Nn),bo(S,D,Nn-(pe||0)),bo(h,D,ao),bo(L,D,ao-(pe||0))),lt&&!wt&&p.update(),N&&!wt&&!W&&(W=!0,N(p),W=!1)}},p.getVelocity=function(){return(s()-z)/(dt()-zn)*1e3||0},p.endAnimation=function(){Bn(p.callbackAnimation),n&&(re?re.progress(1):n.paused()?te||Bn(n,p.direction<0,1):Bn(n,n.reversed()))},p.labelToScroll=function(Q){return n&&n.labels&&(A||p.refresh()||A)+n.labels[Q]/n.duration()*$||0},p.getTrailing=function(Q){var de=we.indexOf(p),se=p.direction>0?we.slice(0,de).reverse():we.slice(de+1);return(Mt(Q)?se.filter(function(pe){return pe.vars.preventOverlaps===Q}):se).filter(function(pe){return p.direction>0?pe.end<=A:pe.start>=x})},p.update=function(Q,de,se){if(!(F&&!se&&!Q)){var pe=wt===!0?Be:p.scroll(),nt=Q?0:(pe-A)/$,Ce=nt<0?0:nt>1?1:nt||0,Ve=p.progress,lt,Xe,Fe,De,Ot,Ge,Pt,Ft;if(de&&(z=I,I=F?s():pe,R&&($e=Oe,Oe=n&&!te?n.totalProgress():Ce)),m&&_&&!ft&&!fo&&Nt&&(!Ce&&A<pe+(pe-z)/(dt()-zn)*m?Ce=1e-4:Ce===1&&x>pe+(pe-z)/(dt()-zn)*m&&(Ce=.9999)),Ce!==Ve&&p.enabled){if(lt=p.isActive=!!Ce&&Ce<1,Xe=!!Ve&&Ve<1,Ge=lt!==Xe,Ot=Ge||!!Ce!=!!Ve,p.direction=Ce>Ve?1:-1,p.progress=Ce,Ot&&!ft&&(Fe=Ce&&!Ve?0:Ce===1?1:Ve===1?2:3,te&&(De=!Ge&&O[Fe+1]!=="none"&&O[Fe+1]||O[Fe],Ft=n&&(De==="complete"||De==="reset"||De in n))),Z&&(Ge||Ft)&&(Ft||v||!n)&&(pt(Z)?Z(p):p.getTrailing(Z).forEach(function(on){return on.endAnimation()})),te||(re&&!ft&&!fo?(re._dp._time-re._start!==re._time&&re.render(re._dp._time-re._start),re.resetTo?re.resetTo("totalProgress",Ce,n._tTime/n._tDur):(re.vars.totalProgress=Ce,re.invalidate().restart())):n&&n.totalProgress(Ce,!!(ft&&(c||Q)))),_){if(Q&&U&&(Te.style[U+D.os2]=ue),!ee)Me(Gn(oe+be*Ce));else if(Ot){if(Pt=!Q&&Ce>Ve&&x+1>pe&&pe+1>=Wt(E,D),Y)if(!Q&&(lt||Pt)){var st=Vt(_,!0),it=pe-A;Lr(_,ke,st.top+(D===et?it:0)+Je,st.left+(D===et?0:it)+Je)}else Lr(_,Te);In(lt||Pt?ge:me),ce&&Ce<1&&lt||Me(oe+(Ce===1&&!Pt?be:0))}}R&&!b.tween&&!ft&&!fo&&Le.restart(!0),u&&(Ge||B&&Ce&&(Ce<1||!Yo))&&oo(u.targets).forEach(function(on){return on.classList[lt||B?"add":"remove"](u.className)}),l&&!te&&!Q&&l(p),Ot&&!ft?(te&&(Ft&&(De==="complete"?n.pause().totalProgress(1):De==="reset"?n.restart(!0).pause():De==="restart"?n.restart(!0):n[De]()),l&&l(p)),(Ge||!Yo)&&(P&&Ge&&jo(p,P),V[Fe]&&jo(p,V[Fe]),B&&(Ce===1?p.kill(!1,1):V[Fe]=0),Ge||(Fe=Ce===1?1:3,V[Fe]&&jo(p,V[Fe]))),H&&!lt&&Math.abs(p.getVelocity())>(Hn(H)?H:2500)&&(Bn(p.callbackAnimation),re?re.progress(1):Bn(n,De==="reverse"?1:!Ce,1))):te&&l&&!ft&&l(p)}if(Re){var ct=F?pe/F.duration()*(F._caScrollDist||0):pe;Ye(ct+(f._isFlipped?1:0)),Re(ct)}St&&St(-pe/F.duration()*(F._caScrollDist||0))}},p.enable=function(Q,de){p.enabled||(p.enabled=!0,rt(E,"resize",Wn),j||rt(E,"scroll",xn),ie&&rt(d,"refreshInit",ie),Q!==!1&&(p.progress=i=0,I=z=g=s()),de!==!1&&p.refresh())},p.getTween=function(Q){return Q&&b?b.tween:re},p.setPositions=function(Q,de,se,pe){if(F){var nt=F.scrollTrigger,Ce=F.duration(),Ve=nt.end-nt.start;Q=nt.start+Ve*Q/Ce,de=nt.start+Ve*de/Ce}p.refresh(!1,!1,{start:Mr(Q,se&&!!p._startClamp),end:Mr(de,se&&!!p._endClamp)},pe),p.update()},p.adjustPinSpacing=function(Q){if(Se&&Q){var de=Se.indexOf(D.d)+1;Se[de]=parseFloat(Se[de])+Q+Je,Se[1]=parseFloat(Se[1])+Q+Je,In(Se)}},p.disable=function(Q,de){if(p.enabled&&(Q!==!1&&p.revert(!0,!0),p.enabled=p.isActive=!1,de||re&&re.pause(),Be=0,M&&(M.uncache=1),ie&&ot(d,"refreshInit",ie),Le&&(Le.pause(),b.tween&&b.tween.kill()&&(b.tween=0)),!j)){for(var se=we.length;se--;)if(we[se].scroller===E&&we[se]!==p)return;ot(E,"resize",Wn),j||ot(E,"scroll",xn)}},p.kill=function(Q,de){p.disable(Q,de),re&&!de&&re.kill(),w&&delete ir[w];var se=we.indexOf(p);se>=0&&we.splice(se,1),se===bt&&Mo>0&&bt--,se=0,we.forEach(function(pe){return pe.scroller===p.scroller&&(se=1)}),se||wt||(p.scroll.rec=0),n&&(n.scrollTrigger=null,Q&&n.revert({kill:!1}),de||n.kill()),S&&[S,L,f,h].forEach(function(pe){return pe.parentNode&&pe.parentNode.removeChild(pe)}),eo===p&&(eo=0),_&&(M&&(M.uncache=1),se=0,we.forEach(function(pe){return pe.pin===_&&se++}),se||(M.spacer=0)),t.onKill&&t.onKill(p)},we.push(p),p.enable(!1,!1),Xt&&Xt(p),n&&n.add&&!$){var Ie=p.update;p.update=function(){p.update=Ie,ve.cache++,A||x||p.refresh()},K.delayedCall(.01,p.update),$=.01,A=x=0}else p.refresh();_&&bi()},d.register=function(t){return Tn||(K=t||hs(),ps()&&window.document&&d.enable(),Tn=Un),Tn},d.defaults=function(t){if(t)for(var n in t)mo[n]=t[n];return mo},d.disable=function(t,n){Un=0,we.forEach(function(l){return l[n?"kill":"disable"](t)}),ot(xe,"wheel",xn),ot(Ne,"scroll",xn),clearInterval(uo),ot(Ne,"touchcancel",Ht),ot(ke,"touchstart",Ht),ho(ot,Ne,"pointerdown,touchstart,mousedown",Er),ho(ot,Ne,"pointerup,touchend,mouseup",Ir),ko.kill(),po(ot);for(var r=0;r<ve.length;r+=3)go(ot,ve[r],ve[r+1]),go(ot,ve[r],ve[r+2])},d.enable=function(){if(xe=window,Ne=document,Et=Ne.documentElement,ke=Ne.body,K&&(oo=K.utils.toArray,qn=K.utils.clamp,rr=K.core.context||Ht,Wo=K.core.suppressOverwrites||Ht,fr=xe.history.scrollRestoration||"auto",ar=xe.pageYOffset||0,K.core.globals("ScrollTrigger",d),ke)){Un=1,En=document.createElement("div"),En.style.height="100vh",En.style.position="absolute",Ts(),di(),Ze.register(K),d.isTouch=Ze.isTouch,$t=Ze.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),or=Ze.isTouch===1,rt(xe,"wheel",xn),ur=[xe,Ne,Et,ke],K.matchMedia?(d.matchMedia=function(P){var N=K.matchMedia(),v;for(v in P)N.add(v,P[v]);return N},K.addEventListener("matchMediaInit",function(){return yr()}),K.addEventListener("matchMediaRevert",function(){return xs()}),K.addEventListener("matchMedia",function(){fn(0,1),_n("matchMedia")}),K.matchMedia().add("(orientation: portrait)",function(){return Vo(),Vo})):console.warn("Requires GSAP 3.11.0 or later"),Vo(),rt(Ne,"scroll",xn);var t=ke.hasAttribute("style"),n=ke.style,r=n.borderTopStyle,l=K.core.Animation.prototype,u,w;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",u=Vt(ke),et.m=Math.round(u.top+et.sc())||0,vt.m=Math.round(u.left+vt.sc())||0,r?n.borderTopStyle=r:n.removeProperty("border-top-style"),t||(ke.setAttribute("style",""),ke.removeAttribute("style")),uo=setInterval(Rr,250),K.delayedCall(.5,function(){return fo=0}),rt(Ne,"touchcancel",Ht),rt(ke,"touchstart",Ht),ho(rt,Ne,"pointerdown,touchstart,mousedown",Er),ho(rt,Ne,"pointerup,touchend,mouseup",Ir),nr=K.utils.checkPrefix("transform"),Eo.push(nr),Tn=dt(),ko=K.delayedCall(.2,fn).pause(),Sn=[Ne,"visibilitychange",function(){var P=xe.innerWidth,N=xe.innerHeight;Ne.hidden?(Sr=P,Pr=N):(Sr!==P||Pr!==N)&&Wn()},Ne,"DOMContentLoaded",fn,xe,"load",fn,xe,"resize",Wn],po(rt),we.forEach(function(P){return P.enable(0,1)}),w=0;w<ve.length;w+=3)go(ot,ve[w],ve[w+1]),go(ot,ve[w],ve[w+2])}},d.config=function(t){"limitCallbacks"in t&&(Yo=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(uo)||(uo=n)&&setInterval(Rr,n),"ignoreMobileResize"in t&&(or=d.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(po(ot)||po(rt,t.autoRefreshEvents||"none"),us=(t.autoRefreshEvents+"").indexOf("resize")===-1)},d.scrollerProxy=function(t,n){var r=Tt(t),l=ve.indexOf(r),u=mn(r);~l&&ve.splice(l,u?6:2),n&&(u?Yt.unshift(xe,n,ke,n,Et,n):Yt.unshift(r,n))},d.clearMatchMedia=function(t){we.forEach(function(n){return n._ctx&&n._ctx.query===t&&n._ctx.kill(!0,!0)})},d.isInViewport=function(t,n,r){var l=(Mt(t)?Tt(t):t).getBoundingClientRect(),u=l[r?dn:pn]*n||0;return r?l.right-u>0&&l.left+u<xe.innerWidth:l.bottom-u>0&&l.top+u<xe.innerHeight},d.positionInViewport=function(t,n,r){Mt(t)&&(t=Tt(t));var l=t.getBoundingClientRect(),u=l[r?dn:pn],w=n==null?u/2:n in No?No[n]*u:~n.indexOf("%")?parseFloat(n)*u/100:parseFloat(n)||0;return r?(l.left+w)/xe.innerWidth:(l.top+w)/xe.innerHeight},d.killAll=function(t){if(we.slice(0).forEach(function(r){return r.vars.id!=="ScrollSmoother"&&r.kill()}),t!==!0){var n=yn.killAll||[];yn={},n.forEach(function(r){return r()})}},d}();_e.version="3.12.7";_e.saveStyles=function(d){return d?oo(d).forEach(function(e){if(e&&e.style){var o=Ct.indexOf(e);o>=0&&Ct.splice(o,5),Ct.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),K.core.getCache(e),rr())}}):Ct};_e.revert=function(d,e){return yr(!d,e)};_e.create=function(d,e){return new _e(d,e)};_e.refresh=function(d){return d?Wn(!0):(Tn||_e.register())&&fn(!0)};_e.update=function(d){return++ve.cache&&qt(d===!0?2:0)};_e.clearScrollMemory=vs;_e.maxScroll=function(d,e){return Wt(d,e?vt:et)};_e.getScrollFunc=function(d,e){return nn(Tt(d),e?vt:et)};_e.getById=function(d){return ir[d]};_e.getAll=function(){return we.filter(function(d){return d.vars.id!=="ScrollSmoother"})};_e.isScrolling=function(){return!!Nt};_e.snapDirectional=mr;_e.addEventListener=function(d,e){var o=yn[d]||(yn[d]=[]);~o.indexOf(e)||o.push(e)};_e.removeEventListener=function(d,e){var o=yn[d],t=o&&o.indexOf(e);t>=0&&o.splice(t,1)};_e.batch=function(d,e){var o=[],t={},n=e.interval||.016,r=e.batchMax||1e9,l=function(P,N){var v=[],C=[],_=K.delayedCall(n,function(){N(v,C),v=[],C=[]}).pause();return function(U){v.length||_.restart(!0),v.push(U.trigger),C.push(U),r<=v.length&&_.progress(1)}},u;for(u in e)t[u]=u.substr(0,2)==="on"&&pt(e[u])&&u!=="onRefreshInit"?l(u,e[u]):e[u];return pt(r)&&(r=r(),rt(_e,"refresh",function(){return r=e.batchMax()})),oo(d).forEach(function(w){var P={};for(u in t)P[u]=t[u];P.trigger=w,o.push(_e.create(P))}),o};var Fr=function(e,o,t,n){return o>n?e(n):o<0&&e(0),t>n?(n-o)/(t-o):t<0?o/(o-t):1},qo=function d(e,o){o===!0?e.style.removeProperty("touch-action"):e.style.touchAction=o===!0?"auto":o?"pan-"+o+(Ze.isTouch?" pinch-zoom":""):"none",e===Et&&d(ke,o)},wo={auto:1,scroll:1},Si=function(e){var o=e.event,t=e.target,n=e.axis,r=(o.changedTouches?o.changedTouches[0]:o).target,l=r._gsap||K.core.getCache(r),u=dt(),w;if(!l._isScrollT||u-l._isScrollT>2e3){for(;r&&r!==ke&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!(wo[(w=Dt(r)).overflowY]||wo[w.overflowX]));)r=r.parentNode;l._isScroll=r&&r!==t&&!mn(r)&&(wo[(w=Dt(r)).overflowY]||wo[w.overflowX]),l._isScrollT=u}(l._isScroll||n==="x")&&(o.stopPropagation(),o._gsapAllow=!0)},Ps=function(e,o,t,n){return Ze.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:o,onWheel:n=n&&Si,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return t&&rt(Ne,Ze.eventTypes[0],Ur,!1,!0)},onDisable:function(){return ot(Ne,Ze.eventTypes[0],Ur,!0)}})},Pi=/(input|label|select|textarea)/i,zr,Ur=function(e){var o=Pi.test(e.target.tagName);(o||zr)&&(e._gsapAllow=!0,zr=o)},Ci=function(e){cn(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o=e,t=o.normalizeScrollX,n=o.momentum,r=o.allowNestedScroll,l=o.onRelease,u,w,P=Tt(e.target)||Et,N=K.core.globals().ScrollSmoother,v=N&&N.get(),C=$t&&(e.content&&Tt(e.content)||v&&e.content!==!1&&!v.smooth()&&v.content()),_=nn(P,et),U=nn(P,vt),k=1,m=(Ze.isTouch&&xe.visualViewport?xe.visualViewport.scale*xe.visualViewport.width:xe.outerWidth)/xe.innerWidth,G=0,q=pt(n)?function(){return n(u)}:function(){return n||2.8},B,R,Y=Ps(P,e.type,!0,r),X=function(){return R=!1},F=Ht,H=Ht,Z=function(){w=Wt(P,et),H=qn($t?1:0,w),t&&(F=qn(0,Wt(P,vt))),B=hn},D=function(){C._gsap.y=Gn(parseFloat(C._gsap.y)+_.offset)+"px",C.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(C._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},te=function(){if(R){requestAnimationFrame(X);var T=Gn(u.deltaY/2),ne=H(_.v-T);if(C&&ne!==_.v+_.offset){_.offset=ne-_.v;var p=Gn((parseFloat(C&&C._gsap.y)||0)-_.offset);C.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+p+", 0, 1)",C._gsap.y=p+"px",_.cacheID=ve.cache,qt()}return!0}_.offset&&D(),R=!0},E,J,j,ee,V=function(){Z(),E.isActive()&&E.vars.scrollY>w&&(_()>w?E.progress(1)&&_(w):E.resetTo("scrollY",w))};return C&&K.set(C,{y:"+=0"}),e.ignoreCheck=function(O){return $t&&O.type==="touchmove"&&te()||k>1.05&&O.type!=="touchstart"||u.isGesturing||O.touches&&O.touches.length>1},e.onPress=function(){R=!1;var O=k;k=Gn((xe.visualViewport&&xe.visualViewport.scale||1)/m),E.pause(),O!==k&&qo(P,k>1.01?!0:t?!1:"x"),J=U(),j=_(),Z(),B=hn},e.onRelease=e.onGestureStart=function(O,T){if(_.offset&&D(),!T)ee.restart(!0);else{ve.cache++;var ne=q(),p,ie;t&&(p=U(),ie=p+ne*.05*-O.velocityX/.227,ne*=Fr(U,p,ie,Wt(P,vt)),E.vars.scrollX=F(ie)),p=_(),ie=p+ne*.05*-O.velocityY/.227,ne*=Fr(_,p,ie,Wt(P,et)),E.vars.scrollY=H(ie),E.invalidate().duration(ne).play(.01),($t&&E.vars.scrollY>=w||p>=w-1)&&K.to({},{onUpdate:V,duration:ne})}l&&l(O)},e.onWheel=function(){E._ts&&E.pause(),dt()-G>1e3&&(B=0,G=dt())},e.onChange=function(O,T,ne,p,ie){if(hn!==B&&Z(),T&&t&&U(F(p[2]===T?J+(O.startX-O.x):U()+T-p[1])),ne){_.offset&&D();var Ee=ie[2]===ne,ze=Ee?j+O.startY-O.y:_()+ne-ie[1],g=H(ze);Ee&&ze!==g&&(j+=g-ze),_(g)}(ne||T)&&qt()},e.onEnable=function(){qo(P,t?!1:"x"),_e.addEventListener("refresh",V),rt(xe,"resize",V),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=U.smooth=!1),Y.enable()},e.onDisable=function(){qo(P,!0),ot(xe,"resize",V),_e.removeEventListener("refresh",V),Y.kill()},e.lockAxis=e.lockAxis!==!1,u=new Ze(e),u.iOS=$t,$t&&!_()&&_(1),$t&&K.ticker.add(Ht),ee=u._dc,E=K.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ss(_,_(),function(){return E.pause()})},onUpdate:qt,onComplete:ee.vars.onComplete}),u};_e.sort=function(d){if(pt(d))return we.sort(d);var e=xe.pageYOffset||0;return _e.getAll().forEach(function(o){return o._sortY=o.trigger?e+o.trigger.getBoundingClientRect().top:o.start+xe.innerHeight}),we.sort(d||function(o,t){return(o.vars.refreshPriority||0)*-1e6+(o.vars.containerAnimation?1e6:o._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};_e.observe=function(d){return new Ze(d)};_e.normalizeScroll=function(d){if(typeof d>"u")return yt;if(d===!0&&yt)return yt.enable();if(d===!1){yt&&yt.kill(),yt=d;return}var e=d instanceof Ze?d:Ci(d);return yt&&yt.target===e.target&&yt.kill(),mn(e.target)&&(yt=e),e};_e.core={_getVelocityProp:tr,_inputObserver:Ps,_scrollers:ve,_proxies:Yt,bridge:{ss:function(){Nt||_n("scrollStart"),Nt=dt()},ref:function(){return ft}}};hs()&&K.registerPlugin(_e);var to=function(){var d=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(N){N.preventDefault(),t(++d%e.children.length)},!1);function o(N){return e.appendChild(N.dom),N}function t(N){for(var v=0;v<e.children.length;v++)e.children[v].style.display=v===N?"block":"none";d=N}var n=(performance||Date).now(),r=n,l=0,u=o(new to.Panel("FPS","#0ff","#002")),w=o(new to.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var P=o(new to.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:o,showPanel:t,begin:function(){n=(performance||Date).now()},end:function(){l++;var N=(performance||Date).now();if(w.update(N-n,200),N>=r+1e3&&(u.update(l*1e3/(N-r),100),r=N,l=0,P)){var v=performance.memory;P.update(v.usedJSHeapSize/1048576,v.jsHeapSizeLimit/1048576)}return N},update:function(){n=this.end()},domElement:e,setMode:t}};to.Panel=function(d,e,o){var t=1/0,n=0,r=Math.round,l=r(window.devicePixelRatio||1),u=80*l,w=48*l,P=3*l,N=2*l,v=3*l,C=15*l,_=74*l,U=30*l,k=document.createElement("canvas");k.width=u,k.height=w,k.style.cssText="width:80px;height:48px";var m=k.getContext("2d");return m.font="bold "+9*l+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=o,m.fillRect(0,0,u,w),m.fillStyle=e,m.fillText(d,P,N),m.fillRect(v,C,_,U),m.fillStyle=o,m.globalAlpha=.9,m.fillRect(v,C,_,U),{dom:k,update:function(G,q){t=Math.min(t,G),n=Math.max(n,G),m.fillStyle=o,m.globalAlpha=1,m.fillRect(0,0,u,C),m.fillStyle=e,m.fillText(r(G)+" "+d+" ("+r(t)+"-"+r(n)+")",P,N),m.drawImage(k,v+l,C,_-l,U,v,C,_-l,U),m.fillRect(v+_-l,C,l,U),m.fillStyle=o,m.globalAlpha=.9,m.fillRect(v+_-l,C,l,r((1-G/q)*U))}}};class Cs extends Us{constructor(e,o={}){const t=o.font;if(t===void 0)super();else{const n=t.generateShapes(e,o.size);o.depth===void 0&&(o.depth=50),o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),super(n,o)}this.type="TextGeometry"}}const Mi=Ys;class Oo extends Zr{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,o,t,n){const r=this,l=new qr(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{o(r.parse(u))}catch(w){n?n(w):console.error(w),r.manager.itemError(e)}},t,n)}parse(e){const o=this;function t(g,c){if(g.nodeType!==1)return;const i=R(g);let s=!1,b=null;switch(g.nodeName){case"svg":c=U(g,c);break;case"style":r(g);break;case"g":c=U(g,c);break;case"path":c=U(g,c),g.hasAttribute("d")&&(b=n(g));break;case"rect":c=U(g,c),b=w(g);break;case"polygon":c=U(g,c),b=P(g);break;case"polyline":c=U(g,c),b=N(g);break;case"circle":c=U(g,c),b=v(g);break;case"ellipse":c=U(g,c),b=C(g);break;case"line":c=U(g,c),b=_(g);break;case"defs":s=!0;break;case"use":c=U(g,c);const I=(g.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),z=g.viewportElement.getElementById(I);z?t(z,c):console.warn("SVGLoader: 'use node' references non-existent node id: "+I);break}b&&(c.fill!==void 0&&c.fill!=="none"&&b.color.setStyle(c.fill,Mi),X(b,ie),E.push(b),b.userData={node:g,style:c});const M=g.childNodes;for(let y=0;y<M.length;y++){const I=M[y];s&&I.nodeName!=="style"&&I.nodeName!=="defs"||t(I,c)}i&&(j.pop(),j.length>0?ie.copy(j[j.length-1]):ie.identity())}function n(g){const c=new Qt,i=new ye,s=new ye,b=new ye;let M=!0,y=!1;const I=g.getAttribute("d");if(I===""||I==="none")return null;const z=I.match(/[a-df-z][^a-df-z]*/ig);for(let A=0,x=z.length;A<x;A++){const S=z[A],L=S.charAt(0),f=S.slice(1).trim();M===!0&&(y=!0,M=!1);let h;switch(L){case"M":h=m(f);for(let a=0,W=h.length;a<W;a+=2)i.x=h[a+0],i.y=h[a+1],s.x=i.x,s.y=i.y,a===0?c.moveTo(i.x,i.y):c.lineTo(i.x,i.y),a===0&&b.copy(i);break;case"H":h=m(f);for(let a=0,W=h.length;a<W;a++)i.x=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"V":h=m(f);for(let a=0,W=h.length;a<W;a++)i.y=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"L":h=m(f);for(let a=0,W=h.length;a<W;a+=2)i.x=h[a+0],i.y=h[a+1],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"C":h=m(f);for(let a=0,W=h.length;a<W;a+=6)c.bezierCurveTo(h[a+0],h[a+1],h[a+2],h[a+3],h[a+4],h[a+5]),s.x=h[a+2],s.y=h[a+3],i.x=h[a+4],i.y=h[a+5],a===0&&y===!0&&b.copy(i);break;case"S":h=m(f);for(let a=0,W=h.length;a<W;a+=4)c.bezierCurveTo(k(i.x,s.x),k(i.y,s.y),h[a+0],h[a+1],h[a+2],h[a+3]),s.x=h[a+0],s.y=h[a+1],i.x=h[a+2],i.y=h[a+3],a===0&&y===!0&&b.copy(i);break;case"Q":h=m(f);for(let a=0,W=h.length;a<W;a+=4)c.quadraticCurveTo(h[a+0],h[a+1],h[a+2],h[a+3]),s.x=h[a+0],s.y=h[a+1],i.x=h[a+2],i.y=h[a+3],a===0&&y===!0&&b.copy(i);break;case"T":h=m(f);for(let a=0,W=h.length;a<W;a+=2){const $=k(i.x,s.x),Pe=k(i.y,s.y);c.quadraticCurveTo($,Pe,h[a+0],h[a+1]),s.x=$,s.y=Pe,i.x=h[a+0],i.y=h[a+1],a===0&&y===!0&&b.copy(i)}break;case"A":h=m(f,[3,4],7);for(let a=0,W=h.length;a<W;a+=7){if(h[a+5]==i.x&&h[a+6]==i.y)continue;const $=i.clone();i.x=h[a+5],i.y=h[a+6],s.x=i.x,s.y=i.y,l(c,h[a],h[a+1],h[a+2],h[a+3],h[a+4],$,i),a===0&&y===!0&&b.copy(i)}break;case"m":h=m(f);for(let a=0,W=h.length;a<W;a+=2)i.x+=h[a+0],i.y+=h[a+1],s.x=i.x,s.y=i.y,a===0?c.moveTo(i.x,i.y):c.lineTo(i.x,i.y),a===0&&b.copy(i);break;case"h":h=m(f);for(let a=0,W=h.length;a<W;a++)i.x+=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"v":h=m(f);for(let a=0,W=h.length;a<W;a++)i.y+=h[a],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"l":h=m(f);for(let a=0,W=h.length;a<W;a+=2)i.x+=h[a+0],i.y+=h[a+1],s.x=i.x,s.y=i.y,c.lineTo(i.x,i.y),a===0&&y===!0&&b.copy(i);break;case"c":h=m(f);for(let a=0,W=h.length;a<W;a+=6)c.bezierCurveTo(i.x+h[a+0],i.y+h[a+1],i.x+h[a+2],i.y+h[a+3],i.x+h[a+4],i.y+h[a+5]),s.x=i.x+h[a+2],s.y=i.y+h[a+3],i.x+=h[a+4],i.y+=h[a+5],a===0&&y===!0&&b.copy(i);break;case"s":h=m(f);for(let a=0,W=h.length;a<W;a+=4)c.bezierCurveTo(k(i.x,s.x),k(i.y,s.y),i.x+h[a+0],i.y+h[a+1],i.x+h[a+2],i.y+h[a+3]),s.x=i.x+h[a+0],s.y=i.y+h[a+1],i.x+=h[a+2],i.y+=h[a+3],a===0&&y===!0&&b.copy(i);break;case"q":h=m(f);for(let a=0,W=h.length;a<W;a+=4)c.quadraticCurveTo(i.x+h[a+0],i.y+h[a+1],i.x+h[a+2],i.y+h[a+3]),s.x=i.x+h[a+0],s.y=i.y+h[a+1],i.x+=h[a+2],i.y+=h[a+3],a===0&&y===!0&&b.copy(i);break;case"t":h=m(f);for(let a=0,W=h.length;a<W;a+=2){const $=k(i.x,s.x),Pe=k(i.y,s.y);c.quadraticCurveTo($,Pe,i.x+h[a+0],i.y+h[a+1]),s.x=$,s.y=Pe,i.x=i.x+h[a+0],i.y=i.y+h[a+1],a===0&&y===!0&&b.copy(i)}break;case"a":h=m(f,[3,4],7);for(let a=0,W=h.length;a<W;a+=7){if(h[a+5]==0&&h[a+6]==0)continue;const $=i.clone();i.x+=h[a+5],i.y+=h[a+6],s.x=i.x,s.y=i.y,l(c,h[a],h[a+1],h[a+2],h[a+3],h[a+4],$,i),a===0&&y===!0&&b.copy(i)}break;case"Z":case"z":c.currentPath.autoClose=!0,c.currentPath.curves.length>0&&(i.copy(b),c.currentPath.currentPoint.copy(i),M=!0);break;default:console.warn(S)}y=!1}return c}function r(g){if(!(!g.sheet||!g.sheet.cssRules||!g.sheet.cssRules.length))for(let c=0;c<g.sheet.cssRules.length;c++){const i=g.sheet.cssRules[c];if(i.type!==1)continue;const s=i.selectorText.split(/,/gm).filter(Boolean).map(b=>b.trim());for(let b=0;b<s.length;b++){const M=Object.fromEntries(Object.entries(i.style).filter(([,y])=>y!==""));J[s[b]]=Object.assign(J[s[b]]||{},M)}}}function l(g,c,i,s,b,M,y,I){if(c==0||i==0){g.lineTo(I.x,I.y);return}s=s*Math.PI/180,c=Math.abs(c),i=Math.abs(i);const z=(y.x-I.x)/2,A=(y.y-I.y)/2,x=Math.cos(s)*z+Math.sin(s)*A,S=-Math.sin(s)*z+Math.cos(s)*A;let L=c*c,f=i*i;const h=x*x,a=S*S,W=h/L+a/f;if(W>1){const be=Math.sqrt(W);c=be*c,i=be*i,L=c*c,f=i*i}const $=L*a+f*h,Pe=(L*f-$)/$;let ge=Math.sqrt(Math.max(0,Pe));b===M&&(ge=-ge);const me=ge*c*S/i,Te=-ge*i*x/c,le=Math.cos(s)*me-Math.sin(s)*Te+(y.x+I.x)/2,fe=Math.sin(s)*me+Math.cos(s)*Te+(y.y+I.y)/2,Me=u(1,0,(x-me)/c,(S-Te)/i),oe=u((x-me)/c,(S-Te)/i,(-x-me)/c,(-S-Te)/i)%(Math.PI*2);g.currentPath.absellipse(le,fe,c,i,Me,Me+oe,M===0,s)}function u(g,c,i,s){const b=g*i+c*s,M=Math.sqrt(g*g+c*c)*Math.sqrt(i*i+s*s);let y=Math.acos(Math.max(-1,Math.min(1,b/M)));return g*s-c*i<0&&(y=-y),y}function w(g){const c=B(g.getAttribute("x")||0),i=B(g.getAttribute("y")||0),s=B(g.getAttribute("rx")||g.getAttribute("ry")||0),b=B(g.getAttribute("ry")||g.getAttribute("rx")||0),M=B(g.getAttribute("width")),y=B(g.getAttribute("height")),I=1-.551915024494,z=new Qt;return z.moveTo(c+s,i),z.lineTo(c+M-s,i),(s!==0||b!==0)&&z.bezierCurveTo(c+M-s*I,i,c+M,i+b*I,c+M,i+b),z.lineTo(c+M,i+y-b),(s!==0||b!==0)&&z.bezierCurveTo(c+M,i+y-b*I,c+M-s*I,i+y,c+M-s,i+y),z.lineTo(c+s,i+y),(s!==0||b!==0)&&z.bezierCurveTo(c+s*I,i+y,c,i+y-b*I,c,i+y-b),z.lineTo(c,i+b),(s!==0||b!==0)&&z.bezierCurveTo(c,i+b*I,c+s*I,i,c+s,i),z}function P(g){function c(M,y,I){const z=B(y),A=B(I);b===0?s.moveTo(z,A):s.lineTo(z,A),b++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Qt;let b=0;return g.getAttribute("points").replace(i,c),s.currentPath.autoClose=!0,s}function N(g){function c(M,y,I){const z=B(y),A=B(I);b===0?s.moveTo(z,A):s.lineTo(z,A),b++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Qt;let b=0;return g.getAttribute("points").replace(i,c),s.currentPath.autoClose=!1,s}function v(g){const c=B(g.getAttribute("cx")||0),i=B(g.getAttribute("cy")||0),s=B(g.getAttribute("r")||0),b=new Uo;b.absarc(c,i,s,0,Math.PI*2);const M=new Qt;return M.subPaths.push(b),M}function C(g){const c=B(g.getAttribute("cx")||0),i=B(g.getAttribute("cy")||0),s=B(g.getAttribute("rx")||0),b=B(g.getAttribute("ry")||0),M=new Uo;M.absellipse(c,i,s,b,0,Math.PI*2);const y=new Qt;return y.subPaths.push(M),y}function _(g){const c=B(g.getAttribute("x1")||0),i=B(g.getAttribute("y1")||0),s=B(g.getAttribute("x2")||0),b=B(g.getAttribute("y2")||0),M=new Qt;return M.moveTo(c,i),M.lineTo(s,b),M.currentPath.autoClose=!1,M}function U(g,c){c=Object.assign({},c);let i={};if(g.hasAttribute("class")){const y=g.getAttribute("class").split(/\s/).filter(Boolean).map(I=>I.trim());for(let I=0;I<y.length;I++)i=Object.assign(i,J["."+y[I]])}g.hasAttribute("id")&&(i=Object.assign(i,J["#"+g.getAttribute("id")]));function s(y,I,z){z===void 0&&(z=function(x){return x.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),x}),g.hasAttribute(y)&&(c[I]=z(g.getAttribute(y))),i[y]&&(c[I]=z(i[y])),g.style&&g.style[y]!==""&&(c[I]=z(g.style[y]))}function b(y){return Math.max(0,Math.min(1,B(y)))}function M(y){return Math.max(0,B(y))}return s("fill","fill"),s("fill-opacity","fillOpacity",b),s("fill-rule","fillRule"),s("opacity","opacity",b),s("stroke","stroke"),s("stroke-opacity","strokeOpacity",b),s("stroke-width","strokeWidth",M),s("stroke-linejoin","strokeLineJoin"),s("stroke-linecap","strokeLineCap"),s("stroke-miterlimit","strokeMiterLimit",M),s("visibility","visibility"),c}function k(g,c){return g-(c-g)}function m(g,c,i){if(typeof g!="string")throw new TypeError("Invalid input: "+typeof g);const s={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},b=0,M=1,y=2,I=3;let z=b,A=!0,x="",S="";const L=[];function f($,Pe,ge){const me=new SyntaxError('Unexpected character "'+$+'" at index '+Pe+".");throw me.partial=ge,me}function h(){x!==""&&(S===""?L.push(Number(x)):L.push(Number(x)*Math.pow(10,Number(S)))),x="",S=""}let a;const W=g.length;for(let $=0;$<W;$++){if(a=g[$],Array.isArray(c)&&c.includes(L.length%i)&&s.FLAGS.test(a)){z=M,x=a,h();continue}if(z===b){if(s.WHITESPACE.test(a))continue;if(s.DIGIT.test(a)||s.SIGN.test(a)){z=M,x=a;continue}if(s.POINT.test(a)){z=y,x=a;continue}s.COMMA.test(a)&&(A&&f(a,$,L),A=!0)}if(z===M){if(s.DIGIT.test(a)){x+=a;continue}if(s.POINT.test(a)){x+=a,z=y;continue}if(s.EXP.test(a)){z=I;continue}s.SIGN.test(a)&&x.length===1&&s.SIGN.test(x[0])&&f(a,$,L)}if(z===y){if(s.DIGIT.test(a)){x+=a;continue}if(s.EXP.test(a)){z=I;continue}s.POINT.test(a)&&x[x.length-1]==="."&&f(a,$,L)}if(z===I){if(s.DIGIT.test(a)){S+=a;continue}if(s.SIGN.test(a)){if(S===""){S+=a;continue}S.length===1&&s.SIGN.test(S)&&f(a,$,L)}}s.WHITESPACE.test(a)?(h(),z=b,A=!1):s.COMMA.test(a)?(h(),z=b,A=!0):s.SIGN.test(a)?(h(),z=M,x=a):s.POINT.test(a)?(h(),z=y,x=a):f(a,$,L)}return h(),L}const G=["mm","cm","in","pt","pc","px"],q={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function B(g){let c="px";if(typeof g=="string"||g instanceof String)for(let s=0,b=G.length;s<b;s++){const M=G[s];if(g.endsWith(M)){c=M,g=g.substring(0,g.length-M.length);break}}let i;return c==="px"&&o.defaultUnit!=="px"?i=q.in[o.defaultUnit]/o.defaultDPI:(i=q[c][o.defaultUnit],i<0&&(i=q[c].in*o.defaultDPI)),i*parseFloat(g)}function R(g){if(!(g.hasAttribute("transform")||g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))))return null;const c=Y(g);return j.length>0&&c.premultiply(j[j.length-1]),ie.copy(c),j.push(c),c}function Y(g){const c=new bn,i=ee;if(g.nodeName==="use"&&(g.hasAttribute("x")||g.hasAttribute("y"))){const s=B(g.getAttribute("x")),b=B(g.getAttribute("y"));c.translate(s,b)}if(g.hasAttribute("transform")){const s=g.getAttribute("transform").split(")");for(let b=s.length-1;b>=0;b--){const M=s[b].trim();if(M==="")continue;const y=M.indexOf("("),I=M.length;if(y>0&&y<I){const z=M.slice(0,y),A=m(M.slice(y+1));switch(i.identity(),z){case"translate":if(A.length>=1){const x=A[0];let S=0;A.length>=2&&(S=A[1]),i.translate(x,S)}break;case"rotate":if(A.length>=1){let x=0,S=0,L=0;x=A[0]*Math.PI/180,A.length>=3&&(S=A[1],L=A[2]),V.makeTranslation(-S,-L),O.makeRotation(x),T.multiplyMatrices(O,V),V.makeTranslation(S,L),i.multiplyMatrices(V,T)}break;case"scale":if(A.length>=1){const x=A[0];let S=x;A.length>=2&&(S=A[1]),i.scale(x,S)}break;case"skewX":A.length===1&&i.set(1,Math.tan(A[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":A.length===1&&i.set(1,0,0,Math.tan(A[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":A.length===6&&i.set(A[0],A[2],A[4],A[1],A[3],A[5],0,0,1);break}}c.premultiply(i)}}return c}function X(g,c){function i(y){p.set(y.x,y.y,1).applyMatrix3(c),y.set(p.x,p.y)}function s(y){const I=y.xRadius,z=y.yRadius,A=Math.cos(y.aRotation),x=Math.sin(y.aRotation),S=new We(I*A,I*x,0),L=new We(-z*x,z*A,0),f=S.applyMatrix3(c),h=L.applyMatrix3(c),a=ee.set(f.x,h.x,0,f.y,h.y,0,0,0,1),W=V.copy(a).invert(),ge=O.copy(W).transpose().multiply(W).elements,me=te(ge[0],ge[1],ge[4]),Te=Math.sqrt(me.rt1),le=Math.sqrt(me.rt2);if(y.xRadius=1/Te,y.yRadius=1/le,y.aRotation=Math.atan2(me.sn,me.cs),!((y.aEndAngle-y.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Me=V.set(Te,0,0,0,le,0,0,0,1),oe=O.set(me.cs,me.sn,0,-me.sn,me.cs,0,0,0,1),be=Me.multiply(oe).multiply(a),ue=Se=>{const{x:Ye,y:ce}=new We(Math.cos(Se),Math.sin(Se),0).applyMatrix3(be);return Math.atan2(ce,Ye)};y.aStartAngle=ue(y.aStartAngle),y.aEndAngle=ue(y.aEndAngle),F(c)&&(y.aClockwise=!y.aClockwise)}}function b(y){const I=Z(c),z=D(c);y.xRadius*=I,y.yRadius*=z;const A=I>Number.EPSILON?Math.atan2(c.elements[1],c.elements[0]):Math.atan2(-c.elements[3],c.elements[4]);y.aRotation+=A,F(c)&&(y.aStartAngle*=-1,y.aEndAngle*=-1,y.aClockwise=!y.aClockwise)}const M=g.subPaths;for(let y=0,I=M.length;y<I;y++){const A=M[y].curves;for(let x=0;x<A.length;x++){const S=A[x];S.isLineCurve?(i(S.v1),i(S.v2)):S.isCubicBezierCurve?(i(S.v0),i(S.v1),i(S.v2),i(S.v3)):S.isQuadraticBezierCurve?(i(S.v0),i(S.v1),i(S.v2)):S.isEllipseCurve&&(ne.set(S.aX,S.aY),i(ne),S.aX=ne.x,S.aY=ne.y,H(c)?s(S):b(S))}}}function F(g){const c=g.elements;return c[0]*c[4]-c[1]*c[3]<0}function H(g){const c=g.elements,i=c[0]*c[3]+c[1]*c[4];if(i===0)return!1;const s=Z(g),b=D(g);return Math.abs(i/(s*b))>Number.EPSILON}function Z(g){const c=g.elements;return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function D(g){const c=g.elements;return Math.sqrt(c[3]*c[3]+c[4]*c[4])}function te(g,c,i){let s,b,M,y,I;const z=g+i,A=g-i,x=Math.sqrt(A*A+4*c*c);return z>0?(s=.5*(z+x),I=1/s,b=g*I*i-c*I*c):z<0?b=.5*(z-x):(s=.5*x,b=-.5*x),A>0?M=A+x:M=A-x,Math.abs(M)>2*Math.abs(c)?(I=-2*c/M,y=1/Math.sqrt(1+I*I),M=I*y):Math.abs(c)===0?(M=1,y=0):(I=-.5*M/c,M=1/Math.sqrt(1+I*I),y=I*M),A>0&&(I=M,M=-y,y=I),{rt1:s,rt2:b,cs:M,sn:y}}const E=[],J={},j=[],ee=new bn,V=new bn,O=new bn,T=new bn,ne=new ye,p=new We,ie=new bn,Ee=new DOMParser().parseFromString(e,"image/svg+xml");return t(Ee.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:E,xml:Ee.documentElement}}static createShapes(e){const t={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},n={loc:t.ORIGIN,t:0};function r(k,m,G,q){const B=k.x,R=m.x,Y=G.x,X=q.x,F=k.y,H=m.y,Z=G.y,D=q.y,te=(X-Y)*(F-Z)-(D-Z)*(B-Y),E=(R-B)*(F-Z)-(H-F)*(B-Y),J=(D-Z)*(R-B)-(X-Y)*(H-F),j=te/J,ee=E/J;if(J===0&&te!==0||j<=0||j>=1||ee<0||ee>1)return null;if(te===0&&J===0){for(let V=0;V<2;V++)if(l(V===0?G:q,k,m),n.loc==t.ORIGIN){const O=V===0?G:q;return{x:O.x,y:O.y,t:n.t}}else if(n.loc==t.BETWEEN){const O=+(B+n.t*(R-B)).toPrecision(10),T=+(F+n.t*(H-F)).toPrecision(10);return{x:O,y:T,t:n.t}}return null}else{for(let T=0;T<2;T++)if(l(T===0?G:q,k,m),n.loc==t.ORIGIN){const ne=T===0?G:q;return{x:ne.x,y:ne.y,t:n.t}}const V=+(B+j*(R-B)).toPrecision(10),O=+(F+j*(H-F)).toPrecision(10);return{x:V,y:O,t:j}}}function l(k,m,G){const q=G.x-m.x,B=G.y-m.y,R=k.x-m.x,Y=k.y-m.y,X=q*Y-R*B;if(k.x===m.x&&k.y===m.y){n.loc=t.ORIGIN,n.t=0;return}if(k.x===G.x&&k.y===G.y){n.loc=t.DESTINATION,n.t=1;return}if(X<-Number.EPSILON){n.loc=t.LEFT;return}if(X>Number.EPSILON){n.loc=t.RIGHT;return}if(q*R<0||B*Y<0){n.loc=t.BEHIND;return}if(Math.sqrt(q*q+B*B)<Math.sqrt(R*R+Y*Y)){n.loc=t.BEYOND;return}let F;q!==0?F=R/q:F=Y/B,n.loc=t.BETWEEN,n.t=F}function u(k,m){const G=[],q=[];for(let B=1;B<k.length;B++){const R=k[B-1],Y=k[B];for(let X=1;X<m.length;X++){const F=m[X-1],H=m[X],Z=r(R,Y,F,H);Z!==null&&G.find(D=>D.t<=Z.t+Number.EPSILON&&D.t>=Z.t-Number.EPSILON)===void 0&&(G.push(Z),q.push(new ye(Z.x,Z.y)))}}return q}function w(k,m,G){const q=new ye;m.getCenter(q);const B=[];return G.forEach(R=>{R.boundingBox.containsPoint(q)&&u(k,R.points).forEach(X=>{B.push({identifier:R.identifier,isCW:R.isCW,point:X})})}),B.sort((R,Y)=>R.point.x-Y.point.x),B}function P(k,m,G,q,B){(B==null||B==="")&&(B="nonzero");const R=new ye;k.boundingBox.getCenter(R);const Y=[new ye(G,R.y),new ye(q,R.y)],X=w(Y,k.boundingBox,m);X.sort((E,J)=>E.point.x-J.point.x);const F=[],H=[];X.forEach(E=>{E.identifier===k.identifier?F.push(E):H.push(E)});const Z=F[0].point.x,D=[];let te=0;for(;te<H.length&&H[te].point.x<Z;)D.length>0&&D[D.length-1]===H[te].identifier?D.pop():D.push(H[te].identifier),te++;if(D.push(k.identifier),B==="evenodd"){const E=D.length%2===0,J=D[D.length-2];return{identifier:k.identifier,isHole:E,for:J}}else if(B==="nonzero"){let E=!0,J=null,j=null;for(let ee=0;ee<D.length;ee++){const V=D[ee];E?(j=m[V].isCW,E=!1,J=V):j!==m[V].isCW&&(j=m[V].isCW,E=!0)}return{identifier:k.identifier,isHole:E,for:J}}else console.warn('fill-rule: "'+B+'" is currently not implemented.')}let N=999999999,v=-999999999,C=e.subPaths.map(k=>{const m=k.getPoints();let G=-999999999,q=999999999,B=-999999999,R=999999999;for(let Y=0;Y<m.length;Y++){const X=m[Y];X.y>G&&(G=X.y),X.y<q&&(q=X.y),X.x>B&&(B=X.x),X.x<R&&(R=X.x)}return v<=B&&(v=B+1),N>=R&&(N=R-1),{curves:k.curves,points:m,isCW:Hs.isClockWise(m),identifier:-1,boundingBox:new Gs(new ye(R,q),new ye(B,G))}});C=C.filter(k=>k.points.length>1);for(let k=0;k<C.length;k++)C[k].identifier=k;const _=C.map(k=>P(k,C,N,v,e.userData?e.userData.style.fillRule:void 0)),U=[];return C.forEach(k=>{if(!_[k.identifier].isHole){const G=new Ws;G.curves=k.curves,_.filter(B=>B.isHole&&B.for===k.identifier).forEach(B=>{const R=C[B.identifier],Y=new Uo;Y.curves=R.curves,G.holes.push(Y)}),U.push(G)}}),U}static getStrokeStyle(e,o,t,n,r){return e=e!==void 0?e:1,o=o!==void 0?o:"#000",t=t!==void 0?t:"miter",n=n!==void 0?n:"butt",r=r!==void 0?r:4,{strokeColor:o,strokeWidth:e,strokeLineJoin:t,strokeLineCap:n,strokeMiterLimit:r}}static pointsToStroke(e,o,t,n){const r=[],l=[],u=[];if(Oo.pointsToStrokeWithBuffers(e,o,t,n,r,l,u)===0)return null;const w=new cr;return w.setAttribute("position",new Yn(r,3)),w.setAttribute("normal",new Yn(l,3)),w.setAttribute("uv",new Yn(u,2)),w}static pointsToStrokeWithBuffers(e,o,t,n,r,l,u,w){const P=new ye,N=new ye,v=new ye,C=new ye,_=new ye,U=new ye,k=new ye,m=new ye,G=new ye,q=new ye,B=new ye,R=new ye,Y=new ye,X=new ye,F=new ye,H=new ye,Z=new ye;t=t!==void 0?t:12,n=n!==void 0?n:.001,w=w!==void 0?w:0,e=A(e);const D=e.length;if(D<2)return 0;const te=e[0].equals(e[D-1]);let E,J=e[0],j;const ee=o.strokeWidth/2,V=1/(D-1);let O=0,T,ne,p,ie,Ee=!1,ze=0,g=w*3,c=w*2;i(e[0],e[1],P).multiplyScalar(ee),m.copy(e[0]).sub(P),G.copy(e[0]).add(P),q.copy(m),B.copy(G);for(let x=1;x<D;x++){E=e[x],x===D-1?te?j=e[1]:j=void 0:j=e[x+1];const S=P;if(i(J,E,S),v.copy(S).multiplyScalar(ee),R.copy(E).sub(v),Y.copy(E).add(v),T=O+V,ne=!1,j!==void 0){i(E,j,N),v.copy(N).multiplyScalar(ee),X.copy(E).sub(v),F.copy(E).add(v),p=!0,v.subVectors(j,J),S.dot(v)<0&&(p=!1),x===1&&(Ee=p),v.subVectors(j,E),v.normalize();const L=Math.abs(S.dot(v));if(L>Number.EPSILON){const f=ee/L;v.multiplyScalar(-f),C.subVectors(E,J),_.copy(C).setLength(f).add(v),H.copy(_).negate();const h=_.length(),a=C.length();C.divideScalar(a),U.subVectors(j,E);const W=U.length();switch(U.divideScalar(W),C.dot(H)<a&&U.dot(H)<W&&(ne=!0),Z.copy(_).add(E),H.add(E),ie=!1,ne?p?(F.copy(H),Y.copy(H)):(X.copy(H),R.copy(H)):M(),o.strokeLineJoin){case"bevel":y(p,ne,T);break;case"round":I(p,ne),p?b(E,R,X,T,0):b(E,F,Y,T,1);break;case"miter":case"miter-clip":default:const $=ee*o.strokeMiterLimit/h;if($<1)if(o.strokeLineJoin!=="miter-clip"){y(p,ne,T);break}else I(p,ne),p?(U.subVectors(Z,R).multiplyScalar($).add(R),k.subVectors(Z,X).multiplyScalar($).add(X),s(R,T,0),s(U,T,0),s(E,T,.5),s(E,T,.5),s(U,T,0),s(k,T,0),s(E,T,.5),s(k,T,0),s(X,T,0)):(U.subVectors(Z,Y).multiplyScalar($).add(Y),k.subVectors(Z,F).multiplyScalar($).add(F),s(Y,T,1),s(U,T,1),s(E,T,.5),s(E,T,.5),s(U,T,1),s(k,T,1),s(E,T,.5),s(k,T,1),s(F,T,1));else ne?(p?(s(G,O,1),s(m,O,0),s(Z,T,0),s(G,O,1),s(Z,T,0),s(H,T,1)):(s(G,O,1),s(m,O,0),s(Z,T,1),s(m,O,0),s(H,T,0),s(Z,T,1)),p?X.copy(Z):F.copy(Z)):p?(s(R,T,0),s(Z,T,0),s(E,T,.5),s(E,T,.5),s(Z,T,0),s(X,T,0)):(s(Y,T,1),s(Z,T,1),s(E,T,.5),s(E,T,.5),s(Z,T,1),s(F,T,1)),ie=!0;break}}else M()}else M();!te&&x===D-1&&z(e[0],q,B,p,!0,O),O=T,J=E,m.copy(X),G.copy(F)}if(!te)z(E,R,Y,p,!1,T);else if(ne&&r){let x=Z,S=H;Ee!==p&&(x=H,S=Z),p?(ie||Ee)&&(S.toArray(r,0*3),S.toArray(r,3*3),ie&&x.toArray(r,1*3)):(ie||!Ee)&&(S.toArray(r,1*3),S.toArray(r,3*3),ie&&x.toArray(r,0*3))}return ze;function i(x,S,L){return L.subVectors(S,x),L.set(-L.y,L.x).normalize()}function s(x,S,L){r&&(r[g]=x.x,r[g+1]=x.y,r[g+2]=0,l&&(l[g]=0,l[g+1]=0,l[g+2]=1),g+=3,u&&(u[c]=S,u[c+1]=L,c+=2)),ze+=3}function b(x,S,L,f,h){P.copy(S).sub(x).normalize(),N.copy(L).sub(x).normalize();let a=Math.PI;const W=P.dot(N);Math.abs(W)<1&&(a=Math.abs(Math.acos(W))),a/=t,v.copy(S);for(let $=0,Pe=t-1;$<Pe;$++)C.copy(v).rotateAround(x,a),s(v,f,h),s(C,f,h),s(x,f,.5),v.copy(C);s(C,f,h),s(L,f,h),s(x,f,.5)}function M(){s(G,O,1),s(m,O,0),s(R,T,0),s(G,O,1),s(R,T,0),s(Y,T,1)}function y(x,S,L){S?x?(s(G,O,1),s(m,O,0),s(R,T,0),s(G,O,1),s(R,T,0),s(H,T,1),s(R,L,0),s(X,L,0),s(H,L,.5)):(s(G,O,1),s(m,O,0),s(Y,T,1),s(m,O,0),s(H,T,0),s(Y,T,1),s(Y,L,1),s(H,L,0),s(F,L,1)):x?(s(R,L,0),s(X,L,0),s(E,L,.5)):(s(Y,L,1),s(F,L,0),s(E,L,.5))}function I(x,S){S&&(x?(s(G,O,1),s(m,O,0),s(R,T,0),s(G,O,1),s(R,T,0),s(H,T,1),s(R,O,0),s(E,T,.5),s(H,T,1),s(E,T,.5),s(X,O,0),s(H,T,1)):(s(G,O,1),s(m,O,0),s(Y,T,1),s(m,O,0),s(H,T,0),s(Y,T,1),s(Y,O,1),s(H,T,0),s(E,T,.5),s(E,T,.5),s(H,T,0),s(F,O,1)))}function z(x,S,L,f,h,a){switch(o.strokeLineCap){case"round":h?b(x,L,S,a,.5):b(x,S,L,a,.5);break;case"square":if(h)P.subVectors(S,x),N.set(P.y,-P.x),v.addVectors(P,N).add(x),C.subVectors(N,P).add(x),f?(v.toArray(r,1*3),C.toArray(r,0*3),C.toArray(r,3*3)):(v.toArray(r,1*3),u[3*2+1]===1?C.toArray(r,3*3):v.toArray(r,3*3),C.toArray(r,0*3));else{P.subVectors(L,x),N.set(P.y,-P.x),v.addVectors(P,N).add(x),C.subVectors(N,P).add(x);const W=r.length;f?(v.toArray(r,W-1*3),C.toArray(r,W-2*3),C.toArray(r,W-4*3)):(C.toArray(r,W-2*3),v.toArray(r,W-1*3),C.toArray(r,W-4*3))}break}}function A(x){let S=!1;for(let f=1,h=x.length-1;f<h;f++)if(x[f].distanceTo(x[f+1])<n){S=!0;break}if(!S)return x;const L=[];L.push(x[0]);for(let f=1,h=x.length-1;f<h;f++)x[f].distanceTo(x[f+1])>=n&&L.push(x[f]);return L.push(x[x.length-1]),L}}}function Ei(d,e,o,t){const{CUBE_SIZE:n,FIRST_CUBE_Z:r}=t,l=8,u=24,w=.075,P=200;let N,v=[],C=[],_=[],U=[];const k=(R,Y,X,F)=>{const H=new An(R,R,R),Z=new Xn(H),D=[new Bt({color:16711680,transparent:!0,opacity:F.opacity,blending:At}),new Bt({color:65280,transparent:!0,opacity:F.opacity,blending:At}),new Bt({color:255,transparent:!0,opacity:F.opacity,blending:At}),new Bt({color:65535,transparent:!0,opacity:F.opacity,blending:At}),new Bt({color:16711935,transparent:!0,opacity:F.opacity,blending:At}),new Bt({color:16776960,transparent:!0,opacity:F.opacity,blending:At})],te=new kt,E=Z.getAttribute("position").array,J=[];for(let V=0;V<E.length/3;V+=2)J.push(V,V+1);const j=Array(6).fill(null).map(()=>new cr),ee=Array(6).fill(null).map(()=>[]);for(let V=0;V<J.length/2;V++){const O=V%6;ee[O].push(J[V*2],J[V*2+1])}return j.forEach((V,O)=>{V.setIndex(ee[O]),V.setAttribute("position",Z.getAttribute("position"));const T=new Kt(V,D[O]);te.add(T)}),te.position.z=Y,te.rotation.z=X,te};return(()=>{const X=.9/(u-1);for(let J=0;J<u;J++)C[J]=new Bt({transparent:!0,opacity:1-J*X});if(N=new kt,!N){console.error("introGroup failed to initialize");return}for(let J=0;J<u;J++){const j=n-J*l,ee=k(j,0,0,C[J]),V=ee.children.map(O=>O.material);U.push(V.map(O=>({material:O,originalColor:O.color.clone()}))),N.add(ee)}N.position.z=r,e.add(N),v.push(N),_=C.map(J=>J.opacity);const F=Qe.timeline({repeat:-1});F.to(N.rotation,{x:He.degToRad(360),duration:12,ease:"none"},0),F.to(N.rotation,{y:He.degToRad(360),duration:10,ease:"none"},0),F.to(N.rotation,{z:He.degToRad(360),duration:14,ease:"none"},0);let H=-1,Z=0;const D=w*1e3,te=u*D,E=J=>{const j=J%te/D,ee=Math.floor(j)%u;H!==-1&&J-Z>=D&&(U[H].forEach(T=>{T.material.opacity=_[H],T.material.color.copy(T.originalColor)}),H=-1),H===-1&&ee!==H&&(H=ee,Z=J,U[H].forEach(O=>{O.material.opacity=1,O.material.color.set(1,1,1)})),requestAnimationFrame(E)};requestAnimationFrame(E)})(),o.then(R=>{if(R){const Y=G(R);d.add(Y)}}),{introCubes:v};function G(R){const Y=new kt,X=q(R);X.position.set(0,-36,0),Y.add(X),B(H=>{Y.add(H),Qe.fromTo(X.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const Z=H.children.find(D=>D instanceof je&&D!==H.children[0]);if(Z){const D=Z.position.y;Qe.to(Z.position,{y:D+3,duration:1,ease:"easeOut",onComplete:()=>{Z.position.y=D},repeat:-1})}}),Y.position.x=0,Y.position.y=-240;const F=r-u*l;return Y.position.z=F+P,Y}function q(R){const Y=new Cs("SCROLL TO CONTINUE",{font:R,size:8,depth:0,curveSegments:12,bevelEnabled:!1});Y.computeBoundingBox(),Y.center();const X=new _t({color:16777215,transparent:!0,opacity:1});return new je(Y,X)}function B(R){new Oo().load("/3D/mouse.svg",X=>{const F=X.paths;let H=null,Z=null,D=new kt;if(F.forEach((te,E)=>{Oo.createShapes(te).forEach(j=>{const ee=new Xs(j);ee.computeBoundingBox();const V=new _t({color:16777215,transparent:!0,opacity:1,side:Gt}),O=new je(ee,V);O.scale.set(.05,.05,1),E===0?H=O:E===1&&(Z=O)})}),H&&Z){D.add(H),D.add(Z);const E=(H.geometry.boundingBox.max.x-H.geometry.boundingBox.min.x)*H.scale.x/2;D.position.x=-E,D.rotation.x=Math.PI,R(D)}})}}class Ii extends Zr{constructor(e){super(e)}load(e,o,t,n){const r=this,l=new qr(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){const w=r.parse(JSON.parse(u));o&&o(w)},t,n)}parse(e){return new Ai(e)}}class Ai{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,o=100){const t=[],n=ki(e,o,this.data);for(let r=0,l=n.length;r<l;r++)t.push(...n[r].toShapes());return t}}function ki(d,e,o){const t=Array.from(d),n=e/o.resolution,r=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*n,l=[];let u=0,w=0;for(let P=0;P<t.length;P++){const N=t[P];if(N===`
`)u=0,w-=r;else{const v=Ri(N,n,u,w,o);u+=v.offsetX,l.push(v.path)}}return l}function Ri(d,e,o,t,n){const r=n.glyphs[d]||n.glyphs["?"];if(!r){console.error('THREE.Font: character "'+d+'" does not exists in font family '+n.familyName+".");return}const l=new Qt;let u,w,P,N,v,C,_,U;if(r.o){const k=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let m=0,G=k.length;m<G;)switch(k[m++]){case"m":u=k[m++]*e+o,w=k[m++]*e+t,l.moveTo(u,w);break;case"l":u=k[m++]*e+o,w=k[m++]*e+t,l.lineTo(u,w);break;case"q":P=k[m++]*e+o,N=k[m++]*e+t,v=k[m++]*e+o,C=k[m++]*e+t,l.quadraticCurveTo(v,C,P,N);break;case"b":P=k[m++]*e+o,N=k[m++]*e+t,v=k[m++]*e+o,C=k[m++]*e+t,_=k[m++]*e+o,U=k[m++]*e+t,l.bezierCurveTo(v,C,_,U,P,N);break}}return{offsetX:r.ha*e,path:l}}function Gr(d,e,o,t,n){const{CUBE_SIZE:r,CUBE_SPACING:l,FIRST_CUBE_Z:u}=e,w=u-(o.length+1)*l,P=65535,N=16711935,v=16711680,C=He.degToRad(15),_=1e3,U=.5,k=80,m=1,G=15,q=.1;let B=[],R=null,Y=null,X=!1,F=!1,H=new js,Z=new ye,D=null,te=null,E=null,J=!1,j=null;const ee=ts(),V=(g,c,i,s,b,M)=>{const y=new kt;y.position.z=i,y.rotation.z=s,y.userData.isActive=!1;const I=new An(c,c,c),z=new Xn(I),A=new Bt({color:new xt(P),transparent:!0,opacity:0}),x=new Kt(z,A);y.add(x);let S="right";const L=c/2;if(b)switch(["left","top","right","bottom"].includes(M)?M:"left"){case"left":S="right";break;case"top":S="bottom";break;case"right":S="left";break;case"bottom":S="top";break}const f=()=>{const Me=new br(40,24),oe=new Xn(Me),be=new Bt({color:new xt(P),transparent:!0,opacity:0,visible:!0}),ue=new Kt(oe,be);ue.userData.isPortal=!0,ue.userData.isAnimating=!1;const Se=new jt(120,120),Ye=new _t({visible:!1,side:Gt}),ce=new je(Se,Ye);ce.userData.isPortalHitbox=!0,ce.userData.portal=ue;const Re=new kt,tt=new jt(m,G),Oe=65/2;for(let Ae=0;Ae<k;Ae++){const Ue=new _t({color:new xt(N),transparent:!0,opacity:0,visible:!1,side:Gt}),Le=new je(tt,Ue),Be=Ae/k*Math.PI*2;Le.position.set(Math.cos(Be)*Oe,Math.sin(Be)*Oe,0),Le.rotation.z=Be+Math.PI/2,Le.userData.baseOpacity=.01,Le.userData.index=Ae,Re.add(Le)}const $e=2,re=25;for(let Ae=1;Ae<re;Ae++){const Ue=new br(40,24),Le=new Xn(Ue),Be=He.lerp(1,.1,Ae/(re-1)),ht=new Bt({color:new xt(P),transparent:!0,opacity:0}),St=new Kt(Le,ht);St.userData.isPortal=!0,St.userData.maxOpacity=Be,St.position.z=-Ae*$e,ue.add(St)}switch(ue.userData.maxOpacity=1,S){case"left":case"right":Re.children.forEach(Ae=>Ae.position.x+=q);break;case"top":case"bottom":Re.children.forEach(Ae=>Ae.position.y+=q);break}switch(ue.add(Re),y.add(ue),y.add(ce),ue.updateMatrixWorld(!0),Re.updateMatrixWorld(!0),S){case"left":ue.position.set(-L,0,0),ue.rotation.y=Math.PI/2,ce.position.set(-L,0,0),ce.rotation.y=Math.PI/2;break;case"top":ue.position.set(0,L,0),ue.rotation.x=-Math.PI/2,ce.position.set(0,L,0),ce.rotation.x=Math.PI/2;break;case"right":ue.position.set(L,0,0),ue.rotation.y=-Math.PI/2,ce.position.set(L,0,0),ce.rotation.y=-Math.PI/2;break;case"bottom":ue.position.set(0,-L,0),ue.rotation.x=Math.PI/2,ce.position.set(0,-L,0),ce.rotation.x=Math.PI/2;break}};b?new vn().load(b,fe=>{fe.encoding=void 0;const Me=new jt(c-1,c-1),oe=new _t({map:fe,transparent:!0,opacity:0,blending:At,side:Gt}),be=new je(Me,oe);switch(M){case"left":be.position.set(-L,0,0),s>=He.degToRad(120)?(be.rotation.y=Math.PI/2,be.rotation.z=-Math.PI):be.rotation.y=Math.PI/2;break;case"top":be.position.set(0,L,0),be.rotation.x=Math.PI/2,be.rotation.z=-Math.PI/2;break;case"right":be.position.set(L,0,0),s>=He.degToRad(120)?(be.rotation.y=-Math.PI/2,be.rotation.z=-Math.PI):be.rotation.y=-Math.PI/2;break;case"bottom":be.position.set(0,-L,0),s>=He.degToRad(120)?(be.rotation.x=-Math.PI/2,be.rotation.z=Math.PI/2):(be.rotation.x=-Math.PI/2,be.rotation.z=-Math.PI/2);break}y.add(be),f()},void 0,fe=>{f()}):f(),new vn().load(t,le=>{le.encoding=void 0;const fe=new jt(c-1,c-1),Me=new _t({map:le,transparent:!0,opacity:0,blending:At,side:Gt,depthWrite:!1}),oe=new je(fe,Me);oe.position.set(0,0,-c/2-1),oe.rotation.y=0,oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile:",le)}),new vn().load(t,le=>{le.encoding=void 0;const fe=new jt(c-1,c-1),Me=new _t({map:le,transparent:!0,opacity:0,blending:At,side:Gt,depthWrite:!1,color:new xt(16744448)}),oe=new je(fe,Me);oe.position.set(0,0,c/2+1),oe.rotation.y=0,oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile:",le)});const W=["left","top","right","bottom"],Pe=[b?M||"left":null,S].filter(Boolean),ge=W.filter(le=>!Pe.includes(le));return new vn().load(t,le=>{le.encoding=void 0;const fe=new jt(c-1,c-1),Me=new _t({map:le,transparent:!0,opacity:0,blending:At,side:Gt,depthWrite:!1,color:new xt(255)}),oe=new je(fe,Me);switch(ge[0]){case"left":oe.position.set(-L,0,0),oe.rotation.y=-Math.PI/2;break;case"top":oe.position.set(0,L,0),oe.rotation.x=Math.PI/2;break;case"right":oe.position.set(L,0,0),oe.rotation.y=Math.PI/2;break;case"bottom":oe.position.set(0,-L,0),oe.rotation.x=-Math.PI/2;break}oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile:",le)}),new vn().load(n,le=>{le.encoding=void 0;const fe=new jt(c-1,c-1),Me=new _t({map:le,transparent:!0,opacity:0,blending:At,side:Gt,depthWrite:!1}),oe=new je(fe,Me);switch(ge[1]){case"left":oe.position.set(-L,0,0),oe.rotation.y=-Math.PI/2;break;case"top":oe.position.set(0,L,0),oe.rotation.x=Math.PI/2;break;case"right":oe.position.set(L,0,0),oe.rotation.y=Math.PI/2;break;case"bottom":oe.position.set(0,-L,0),oe.rotation.x=-Math.PI/2;break}oe.userData.isGridPlane=!0,y.add(oe)},void 0,le=>{console.error("Error loading projectGridFile2:",le)}),y},O=(g,c,i,s,b,M)=>{const y=new Cs(g,{font:M,size:b,depth:0,curveSegments:12,bevelEnabled:!1});y.computeBoundingBox(),y.center();const I=new _t({color:16777215,transparent:!0,opacity:0,side:Gt}),z=new je(y,I);z.position.set(c,i,s);const A=y.boundingBox,x=A.max.x-A.min.x,S=A.max.y-A.min.y,L=x+8,f=S+4,h=new jt(L,f),a=new _t({color:0,transparent:!0,opacity:0,side:Gt}),W=new je(h,a);return W.position.set(c,i,s-1),d.add(W),d.add(z),z.userData.backgroundPlane=W,z},T=()=>new Promise(g=>{R=new Ii,R.load("/fonts/Poppins_Regular.json",c=>{Y=c;const i=Array.isArray(o)?o:[];Array.isArray(o)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",o),i.forEach((s,b)=>{const M=u-(b+1)*l,y=(b+1)*C,I=V(s,r,M,y,s.keyart,s.keyartLocation);d.add(I),B.push(I),O(s.title,0,s.size-15,u+90-(b+1)*l,s.size,c)}),g()},void 0,c=>console.error("Error loading font:",c))}),ne=()=>X?Promise.resolve({projectCubes:B,updateCubeColors:Ee,loadedFont:Y,maxZ:w}):T().then(()=>(X=!0,{projectCubes:B,updateCubeColors:Ee,loadedFont:Y,maxZ:w})).catch(g=>{throw console.error("Error in loadFontAndText:",g),g}),p=g=>{if(g.userData.isAnimating)return;g.userData.isAnimating=!0;const c=g.children.find(y=>y instanceof kt);if(!c)return;const i=c.children,s=i.length,b=Qe.timeline({repeat:-1,defaults:{ease:"none"}}),M={value:0};b.to(M,{value:1,duration:1.5,onUpdate:()=>{i.forEach(I=>{const z=I.material;if(z.visible){const A=(I.userData.index/s+M.value)%1,S=(Math.sin(A*Math.PI*2)+1)/2,L=.01+(1-.01)*Math.pow(S,4);z.opacity=L}})}}),g.userData.animationTimeline=b},ie=g=>{if(!g.userData.isAnimating)return;g.userData.isAnimating=!1;const c=g.children.find(i=>i instanceof kt);c&&(g.userData.animationTimeline&&(g.userData.animationTimeline.kill(),delete g.userData.animationTimeline),c.children.forEach(i=>{const s=i.material;s.opacity=0}))},Ee=g=>{const c=g.position.z;let i=[];d.traverse(s=>{s instanceof je&&s.geometry&&s.geometry.type==="TextGeometry"&&i.push(s)}),F||(F=!0),B.forEach(s=>{const b=s.position.z,M=Math.abs(c-b);let y=0;M<=_&&(y=1-M/_),s.userData.isActive=y>=U,s.children.forEach(I=>{if(I instanceof Kt&&!I.userData.isPortal&&!I.userData.isPortalHitbox){const z=I.material;if(M<=_){const A=He.lerp((P>>16&255)/255,(N>>16&255)/255,y),x=He.lerp((P>>8&255)/255,(N>>8&255)/255,y),S=He.lerp((P&255)/255,(N&255)/255,y);z.color.set(A,x,S),z.opacity=Math.min(1,y*2)}else z.opacity=0}else if(I instanceof Kt&&I.userData.isPortal)F&&(y>.1?I.children.forEach(z=>{z instanceof kt&&z.children.forEach(A=>{A instanceof je&&(A.material.visible=!0,I.userData.animationStarted||(p(I),I.userData.animationStarted=!0))})}):y<=.1&&I.userData.animationStarted&&(I.children.forEach(z=>{z instanceof kt&&z.children.forEach(A=>{A instanceof je&&(A.material.visible=!1)})}),ie(I),delete I.userData.animationStarted));else if(I instanceof je&&!I.userData.isPortalHitbox){const z=I.material;if(M<=_){const A=1-M/_;z.opacity=Math.min(.8,A*2)}else z.opacity=0}})}),i.forEach(s=>{const b=s.material,M=s.userData.backgroundPlane,y=M==null?void 0:M.material,I=s.position.z,z=Math.abs(c-I+120);if(z<=_){const A=1-z/_,x=Math.min(1,A*2);b.opacity=x,y&&(y.opacity=x*.8)}else b.opacity=0,y&&(y.opacity=0)})};return{getInitializedData:ne,updateCubeColors:Ee,setupInteractivity:(g,c,i,s,b)=>{j=i;let M=null,y=null;const I=(S,L=!0)=>{const f=[S,...S.children.filter(a=>a instanceof Kt&&a.userData.isPortal)],h=L?25:2;f.forEach((a,W)=>{let $=-W*h;(S.position.y>0&&S.rotation.x===-Math.PI/2||S.position.y<0&&S.rotation.x===Math.PI/2)&&($=W*h);const Pe=L?a.userData.maxOpacity:0;Qe.to(a.position,{z:$,duration:1,ease:"power3.out",delay:.5}),Qe.to(a.material,{opacity:Pe,duration:1,ease:"power3.out",delay:.5})})},z=S=>{Z.x=S.clientX/window.innerWidth*2-1,Z.y=-(S.clientY/window.innerHeight)*2+1,H.setFromCamera(Z,g);const L=B.flatMap(h=>h.userData.isActive?h.children.filter(a=>a instanceof je&&a.userData.isPortalHitbox):[]),f=H.intersectObjects(L);if(f.length>0){const a=f[0].object.userData.portal;if(D!==a){if(D){const $=D.material;Qe.to($.color,{r:(P>>16&255)/255,g:(P>>8&255)/255,b:(P&255)/255,duration:.5})}D=a;const W=D.material;Qe.to(W.color,{r:(v>>16&255)/255,g:(v>>8&255)/255,b:(v&255)/255,duration:.5})}c.style.cursor="pointer"}else{if(D){const h=D.material;Qe.to(h.color,{r:(P>>16&255)/255,g:(P>>8&255)/255,b:(P&255)/255,duration:.5}),D=null}c.style.cursor="auto"}},A=S=>{Z.x=S.clientX/window.innerWidth*2-1,Z.y=-(S.clientY/window.innerHeight)*2+1,H.setFromCamera(Z,g);const L=B.flatMap(ge=>ge.userData.isActive?ge.children.filter(me=>me instanceof je&&me.userData.isPortalHitbox):[]),f=H.intersectObjects(L);if(f.length===0)return;const h=f[0].object,a=h.userData.portal,W=h.parent,$=B.indexOf(W),Pe=o[$];if(J&&a===y){a.getWorldPosition(new We);let ge=new We;const me=e.CUBE_SIZE/2;a.position.x===me?ge.set(-1,0,0):a.position.x===-me?ge.set(1,0,0):a.position.y===me?ge.set(0,-1,0):a.position.y===-me&&ge.set(0,1,0),ge.applyQuaternion(W.getWorldQuaternion(new Vs)).normalize();const le=g.position.clone().clone().add(ge.clone().multiplyScalar(-675)),fe=ge.clone().multiplyScalar(-1e3),Me=le.clone().add(fe);Qe.to(g.position,{x:le.x,y:le.y,z:le.z,duration:1,ease:"power2.in",onUpdate:()=>g.lookAt(Me),onComplete:()=>{Pe!=null&&Pe.slug&&(ee.setScrollPosition(window.scrollY),Is.visit(route("project.show",{project:Pe.slug}),{preserveScroll:!1}))}})}else if(!J){te||(te=g.position.clone(),E=new We(0,0,w)),j&&j(!0,te,E);const ge=a.getWorldPosition(new We);b&&b.disable(!1),Qe.to(g.position,{x:0,y:0,z:W.getWorldPosition(new We).z,duration:2,ease:"power3.out"}),Qe.to({},{duration:2,ease:"power3.out",onUpdate:function(){const me=this.progress(),Te=g.getWorldDirection(new We).multiplyScalar(1e3).add(g.position),le=He.lerp(Te.x,ge.x,me),fe=He.lerp(Te.y,ge.y,me),Me=He.lerp(Te.z,ge.z,me);g.lookAt(le,fe,Me)},onStart:()=>{J=!0,M=window.scrollY,document.body.classList.add("no-scrollbar"),y=a,I(a,!0)}})}},x=S=>{if(!J||!y||!te||!E)return;let L=0;if(S instanceof WheelEvent?L=S.deltaY:L=window.scrollY-(M||0),L>0){S.preventDefault(),window.scrollTo(0,M);return}if(L<0){S.preventDefault();const f=y,h=E.clone();Qe.to(g.position,{x:te.x,y:te.y,z:te.z,duration:1,ease:"power3.out"}),Qe.to({},{duration:1,ease:"power3.out",onUpdate:function(){const a=this.progress(),W=g.getWorldDirection(new We).multiplyScalar(1e3).add(g.position),$=He.lerp(W.x,h.x,a),Pe=He.lerp(W.y,h.y,a),ge=He.lerp(W.z,h.z,a);g.lookAt($,Pe,ge)},onComplete:()=>{J=!1,y=null,M=null,document.body.classList.remove("no-scrollbar"),j&&i(!1),b&&b.enable(),I(f,!1),te=null,E=null}})}};return c.addEventListener("mousemove",z),c.addEventListener("click",A),window.addEventListener("wheel",x,{passive:!1}),window.addEventListener("scroll",x,{passive:!1}),()=>{c.removeEventListener("mousemove",z),c.removeEventListener("click",A),window.removeEventListener("wheel",x),window.removeEventListener("scroll",x)}}}}function Di(d,e,o){const B=o-1e3,R=Math.abs(-500-B),Y=Math.ceil(R/100),X=()=>{const V=new kt;let O;const T=new kt,ne=[],p=[],ie=[],Ee=[],ze=[],g=new An(100,100,100),c=new Xn(g),i=32*Y,s=new Zs;s.copy(c),s.instanceCount=i;const b=new Bt({color:3355443,transparent:!0,fog:!0,vertexColors:!0}),M=new Float32Array(i*3),y=new Float32Array(i*3),I=new Float32Array(i*3),z=32*100,A=-3200/2+100/2,x=-500;for(let ue=0;ue<32;ue++){const Se=F(ue);for(let Ye=0;Ye<Y;Ye++){const ce=ue*Y+Ye,Re=A+ue*100,tt=x-Ye*100,Oe=He.randFloat(100,300),$e=Oe/100,re=-600+Oe/2;M[ce*3]=Re,M[ce*3+1]=re,M[ce*3+2]=tt,y[ce*3]=1,y[ce*3+1]=$e,y[ce*3+2]=1,I[ce*3]=Se,I[ce*3+1]=Se,I[ce*3+2]=Se}}s.setAttribute("instancePosition",new Go(M,3)),s.setAttribute("instanceScale",new Go(y,3)),s.setAttribute("color",new Go(I,3)),b.onBeforeCompile=ue=>{ue.vertexShader=`
                attribute vec3 instancePosition;
                attribute vec3 instanceScale;
                ${ue.vertexShader}
            `.replace("#include <begin_vertex>",`#include <begin_vertex>
                transformed *= instanceScale;
                transformed += instancePosition;`)},O=new Kt(s,b);const S=-3200/2,L=z/2,f=-600,h=-300,a=B,W=-500;s.boundingBox=new qs(new We(S,f,a),new We(L,h,W));const $=(S+L)/2,Pe=(f+h)/2,ge=(a+W)/2,me=L-S,Te=h-f,le=W-a,fe=Math.sqrt(me*me+Te*Te+le*le)/2;s.boundingSphere=new Qs(new We($,Pe,ge),fe),V.add(O),e.add(V);const Me=z/5,oe=-3200/2;for(let ue=0;ue<6;ue++){let Ye=oe+ue*Me,ce=-500;const Re=[new We(Ye,-450,ce)];let tt=0;for(;ce>B;){const Oe=ce===-500?He.randFloat(300,800):Math.min(He.randFloat(300,800),Math.abs(ce-B));if(ce-=Oe,Re.push(new We(Ye,-450,ce)),tt+=Oe,ce<=B){Re[Re.length-1].z=B;break}const $e=Math.random()<.5?-1:1,re=He.randFloat(100,300);Ye+=$e*re,Re.push(new We(Ye,-450,ce)),tt+=re}p.push({points:Re,totalLength:tt})}const be=new An(4,4,4);for(let ue=0;ue<6;ue++){const Se=p[ue],Ye=Se.totalLength,ce=Ye/60;for(let Re=0;Re<60;Re++){const tt=new _t({color:16711680,fog:!0}),Oe=new je(be,tt),$e=Re*ce;let re=$e;for(let Ae=0;Ae<Se.points.length-1;Ae++){const Ue=Se.points[Ae],Le=Se.points[Ae+1],Be=Ue.distanceTo(Le);if(re<=Be){const ht=re/Be;Oe.position.lerpVectors(Ue,Le,ht);break}re-=Be}ne.push(Oe),ie.push($e),Ee.push(ue),ze.push(1),T.add(Oe)}for(let Re=0;Re<60;Re++){const tt=new _t({color:16777215,fog:!0}),Oe=new je(be,tt),$e=Ye-(Re*ce+ce/2);let re=Ye-$e;const Ae=[...Se.points].reverse();for(let Ue=0;Ue<Ae.length-1;Ue++){const Le=Ae[Ue],Be=Ae[Ue+1],ht=Le.distanceTo(Be);if(re<=ht){const St=re/ht;Oe.position.lerpVectors(Le,Be,St);break}re-=ht}ne.push(Oe),ie.push($e),Ee.push(ue),ze.push(-1),T.add(Oe)}}return e.add(T),{cityGroup:V,instancedLines:O,particles:ne,paths:p,particleDistances:ie,particlePaths:Ee,particleDirections:ze}},F=V=>{if(V<10)return .05+V*.10555555555555556;if(V>=22){const O=31-V,T=(1-.05)/9;return .05+O*T}return 1},{cityGroup:H,instancedLines:Z,particles:D,paths:te,particleDistances:E,particlePaths:J,particleDirections:j}=X();return{cityGroup:H,buildingLines:[Z],updateParticles:V=>{const O=100*V;for(let T=0;T<D.length;T++){const ne=j[T],p=J[T],ie=te[p],Ee=ie.totalLength;E[T]+=O*ne,ne===1?(E[T]=E[T]%Ee,E[T]<0&&(E[T]+=Ee)):E[T]=(E[T]+Ee)%Ee;const ze=E[T],g=ne===1?ie.points:[...ie.points].reverse();let c=ne===1?ze:Ee-ze;for(let i=0;i<g.length-1;i++){const s=g[i],b=g[i+1],M=s.distanceTo(b);if(c<=M){const y=c/M;D[T].position.lerpVectors(s,b,y);break}c-=M}}}}}Qe.registerPlugin(_e);function Ni(d,e,o,t,n,r){const{CUBE_SPACING:l,FIRST_CUBE_Z:u}=r,w=(t==null?void 0:t.length)||0,P=u-(w+1)*l;let N=!1;const v=Math.abs(P)+(w-1)*l,C=Qe.timeline({scrollTrigger:{trigger:o.value,start:"top top",end:`+=${v}`,scrub:1,pin:!0,onUpdate:U=>{if(!N){const k=U.progress,m=He.lerp(0,P,k);e.position.set(0,0,m),e.lookAt(0,0,P)}n(e)}}});return C.fromTo(e.position,{z:0},{z:P,duration:1,ease:"none"}),{setReverting:U=>{N=U},timeline:C}}const Oi={class:"preloader"},Li={class:"progress-label"},Bi=Lo({__name:"Preloader",props:{progress:{}},setup(d){return(e,o)=>(no(),Bo("div",Oi,[un("div",Li,As(Math.round(e.progress))+"%",1)]))}}),Fi=Qr(Bi,[["__scopeId","data-v-e5eadefa"]]),Qo=250,xo=500,Fn=-500,$o=-520,Hr=-720,zi=Lo({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},setup(d){Qe.registerPlugin(_e),ts();const e=d,o={showChasers:!1,showStarfield:!1},t=sn(null),n=sn(null),r=sn(!1),l=sn(0),u=sn(!1),w=sn(!0),P=new Map;let N,v,C,_,U,k,m,G,q=0,B=null,R=null,Y=null,X=null,F=[],H=null;const Z=()=>{const j=t.value?t.value.getBoundingClientRect().width:window.innerWidth,ee=window.innerHeight;C.setSize(j,ee),_.setSize(j,ee),v.aspect=j/ee,v.far=6e4,v.updateProjectionMatrix()},D=j=>P.has(j)?Promise.resolve(P.get(j)):new Promise((ee,V)=>{new vn().load(j,T=>{T.encoding=void 0,P.set(j,T),ee(T)},void 0,T=>V(T))}),te=async()=>{N=new jr,N.background=new xt(0),N.fog=new $s(0,700,4e3),v=new Ks(75,window.innerWidth/window.innerHeight,1,6e4),v.position.set(0,0,0),v.lookAt(0,0,1e3),C=new Vr({antialias:!0}),C.setPixelRatio(window.devicePixelRatio),C.toneMapping=Js,C.toneMappingExposure=1,C.outputEncoding=void 0,_=new Jr(C);const j=new es(N,v);if(_.addPass(j),U=new gn(new ye(window.innerWidth,window.innerHeight),6,.4,0),U.renderToScreen=!0,_.addPass(U),t.value)t.value.appendChild(C.domElement),C.domElement.style.opacity="0";else return;m=new to,m.dom.style.position="fixed",m.dom.style.top="0px",m.dom.style.left="0px",m.dom.style.zIndex="1000",document.body.appendChild(m.dom);const ee=e.projects.length+2+1;let V=0;const O=()=>{V++,l.value=V/ee*100,V===ee&&(r.value=!0)};await D(e.projectGridFile).then(()=>O()).catch(()=>O()),await D(e.projectGridFile2).then(()=>O()).catch(()=>O());for(const p of e.projects)p.keyart?await D(p.keyart).then(()=>O()).catch(()=>O()):O();const T=Gr(N,{CUBE_SIZE:Qo,CUBE_SPACING:xo,FIRST_CUBE_Z:Fn},e.projects,e.projectGridFile,e.projectGridFile2);let ne=-8500;try{const p=await T.getInitializedData();ne=p.maxZ!==void 0&&!isNaN(p.maxZ)?p.maxZ:-8500,O();const{introCubes:ie}=Ei(N,N,Promise.resolve(p.loadedFont),{CUBE_SIZE:Qo,FIRST_CUBE_Z:Fn});F=[...ie,...p.projectCubes],H=p.updateCubeColors;const{cityGroup:Ee,updateParticles:ze}=Di(N,N,ne);G=ze,o.showStarfield,o.showChasers,Z()}catch(p){console.error("Error initializing project cubes:",p)}},E=(j=0)=>{if(k=requestAnimationFrame(E),C&&_){const ee=(j-q)/1e3;q=j,G(ee);const V=Hr-$o;let O=0;v.position.z>=$o?O=0:v.position.z<=Hr?O=1:O=(v.position.z-$o)/V,U.strength=He.lerp(1,.125,O),u.value&&(H(v),_e.update()),_.render()}m.update()};Wr(()=>{te().then(()=>{if(r.value){k=requestAnimationFrame(E);const j=Gr(N,{CUBE_SIZE:Qo,CUBE_SPACING:xo,FIRST_CUBE_Z:Fn},e.projects,e.projectGridFile,e.projectGridFile2);let ee=null,V=null;const O=j.getInitializedData().then(({projectCubes:ne})=>{ne.forEach(ie=>{ie.userData.isActive=!0});const p=Fn-(e.projects.length-1)*xo;if(v.position.set(0,0,5e3),v.lookAt(0,0,p),v.updateProjectionMatrix(),H(v),_.render(),F.length&&H){const{setReverting:ie,timeline:Ee}=Ni(N,v,n,F,H,{CUBE_SPACING:xo,FIRST_CUBE_Z:Fn});V=ie,ee=Ee}C&&R===null&&(R=j.setupInteractivity(v,C.domElement,(ie,Ee,ze)=>{V&&V(ie)},void 0,ee==null?void 0:ee.scrollTrigger)),window.scrollTo({top:0,behavior:"auto"})}),T=()=>{O.then(()=>{w.value=!1,v.position.set(0,0,5e3),v.updateProjectionMatrix(),Qe.to(C.domElement,{opacity:1,duration:.5,ease:"power4.out"});const ne={z:5e3};Qe.to(ne,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{v.position.z=ne.z,v.updateProjectionMatrix()},onComplete:()=>{v.position.z=0,u.value=!0}})})};Qe.delayedCall(.1,T)}}).catch(j=>{console.error("Initialization failed:",j)}),window.addEventListener("resize",J)}),Yr(()=>{k&&cancelAnimationFrame(k),R&&R(),window.removeEventListener("resize",J),_e.getAll().forEach(j=>j.kill()),C.dispose(),_.dispose(),N.clear(),document.body.removeChild(m.dom)});const J=()=>{Z(),_e.refresh()};return(j,ee)=>(no(),Bo("section",{ref_key:"wrapper",ref:n,class:"wrapper"},[an(ks,{name:"fade"},{default:Rs(()=>[w.value?(no(),Ds(Fi,{key:0,progress:l.value},null,8,["progress"])):Ns("",!0)]),_:1}),un("div",{ref_key:"tunnelWrapper",ref:t,class:"tunnel-wrapper"},null,512)],512))}}),Ui=Qr(zi,[["__scopeId","data-v-f1cd2dd7"]]),Gi={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},Hi={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Wi={class:"overflow-hidden"},Yi={class:"flex justify-center items-center"},Xi={class:"flex justify-center items-center -mt-24 mix-blend-screen"},ea=Lo({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{}},setup(d){return(e,o)=>(no(),Bo(Bs,null,[an(Os(Ls),{title:"Welcome"}),un("div",Gi,[un("nav",Hi,[an(ei)]),un("div",Wi,[an(Ui,{projects:e.projects,"project-grid-file":e.projectGridFile,"project-grid-file-2":e.projectGridFile2},null,8,["projects","project-grid-file","project-grid-file-2"])]),un("div",Yi,[an(vr,{"particle-width":20,"particle-height":20})]),un("div",Xi,[an(vr,{"particle-width":15,"particle-height":160})]),an(ti)])],64))}});export{ea as default};
