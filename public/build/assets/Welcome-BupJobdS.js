import{W as Js,d as Qe,I as Xo,e as dt,o as st,a as ke,t as vs,x as Ur,y as _s,b as ho,w as en,c as tn,f as on,T as Un,n as ur,M as rs,j as Xt,E as fr,u as Lr,G as uo,F as ss,h as ns,g as rn,p as Gn,m as Yn}from"./app-0qEOX4jE.js";import{c as Fe,O as Wn,h as Po,F as Ss,l as To,U as is,V as jt,m as Sr,H as Er,N as Xn,C as jn,n as Pt,f as We,b as to,o as vt,e as Ht,G as Kt,g as me,p as je,B as Yo,E as Jo,L as gt,q as $n,u as Oo,R as Zn,r as sn,s as Vn,P as fo,a as qt,t as nn,v as an,w as Es,Q as qn,I as Qn,x as Xr,y as Ds,z as Kn,J as jr,K as $r,T as Jn,X as ei,Y as ti,Z as oi,S as ri,_ as si,$ as ni,W as ii,a0 as ai,a1 as ks,a2 as li,d as Co,j as ci,k as ui}from"./GlobalFooter-CxWinemK.js";import{u as lo,_ as fi}from"./App.vue_vue_type_script_setup_true_lang-_nwSq-MB.js";import{_ as Gr}from"./_plugin-vue_export-helper-DlAUqK2U.js";function pi(a,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function di(a,e,r){return e&&pi(a.prototype,e),a}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xt,Dr,Gt,go,mo,No,ln,bo,er,cn,io,Qt,un,fn=function(){return xt||typeof window<"u"&&(xt=window.gsap)&&xt.registerPlugin&&xt},pn=1,Fo=[],Oe=[],ro=[],tr=Date.now,as=function(e,r){return r},hi=function(){var e=er.core,r=e.bridge||{},t=e._scrollers,o=e._proxies;t.push.apply(t,Oe),o.push.apply(o,ro),Oe=t,ro=o,as=function(n,i){return r[n](i)}},vo=function(e,r){return~ro.indexOf(e)&&ro[ro.indexOf(e)+1][r]},or=function(e){return!!~cn.indexOf(e)},kt=function(e,r,t,o,s){return e.addEventListener(r,t,{passive:o!==!1,capture:!!s})},Dt=function(e,r,t,o){return e.removeEventListener(r,t,!!o)},gr="scrollLeft",mr="scrollTop",ls=function(){return io&&io.isPressed||Oe.cache++},zr=function(e,r){var t=function o(s){if(s||s===0){pn&&(Gt.history.scrollRestoration="manual");var n=io&&io.isPressed;s=o.v=Math.round(s)||(io&&io.iOS?1:0),e(s),o.cacheID=Oe.cache,n&&as("ss",s)}else(r||Oe.cache!==o.cacheID||as("ref"))&&(o.cacheID=Oe.cache,o.v=e());return o.v+o.offset};return t.offset=0,e&&t},Ot={s:gr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:zr(function(a){return arguments.length?Gt.scrollTo(a,pt.sc()):Gt.pageXOffset||go[gr]||mo[gr]||No[gr]||0})},pt={s:mr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ot,sc:zr(function(a){return arguments.length?Gt.scrollTo(Ot.sc(),a):Gt.pageYOffset||go[mr]||mo[mr]||No[mr]||0})},Bt=function(e,r){return(r&&r._ctx&&r._ctx.selector||xt.utils.toArray)(e)[0]||(typeof e=="string"&&xt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},_o=function(e,r){var t=r.s,o=r.sc;or(e)&&(e=go.scrollingElement||mo);var s=Oe.indexOf(e),n=o===pt.sc?1:2;!~s&&(s=Oe.push(e)-1),Oe[s+n]||kt(e,"scroll",ls);var i=Oe[s+n],c=i||(Oe[s+n]=zr(vo(e,t),!0)||(or(e)?o:zr(function(p){return arguments.length?e[t]=p:e[t]})));return c.target=e,i||(c.smooth=xt.getProperty(e,"scrollBehavior")==="smooth"),c},cs=function(e,r,t){var o=e,s=e,n=tr(),i=n,c=r||50,p=Math.max(500,c*3),b=function(h,D){var x=tr();D||x-n>c?(s=o,o=h,i=n,n=x):t?o+=h:o=s+(h-s)/(x-i)*(n-i)},d=function(){s=o=t?0:o,i=n=0},v=function(h){var D=i,x=s,Q=tr();return(h||h===0)&&h!==o&&b(h),n===i||Q-i>p?0:(o+(t?x:-x))/((t?Q:n)-D)*1e3};return{update:b,reset:d,getVelocity:v}},jo=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},As=function(e){var r=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(t)?r:t},dn=function(){er=xt.core.globals().ScrollTrigger,er&&er.core&&hi()},hn=function(e){return xt=e||fn(),!Dr&&xt&&typeof document<"u"&&document.body&&(Gt=window,go=document,mo=go.documentElement,No=go.body,cn=[Gt,go,mo,No],xt.utils.clamp,un=xt.core.context||function(){},bo="onpointerenter"in No?"pointer":"mouse",ln=nt.isTouch=Gt.matchMedia&&Gt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Gt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Qt=nt.eventTypes=("ontouchstart"in mo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in mo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return pn=0},500),dn(),Dr=1),Dr};Ot.op=pt;Oe.cache=0;var nt=function(){function a(r){this.init(r)}var e=a.prototype;return e.init=function(t){Dr||hn(xt)||console.warn("Please gsap.registerPlugin(Observer)"),er||dn();var o=t.tolerance,s=t.dragMinimum,n=t.type,i=t.target,c=t.lineHeight,p=t.debounce,b=t.preventDefault,d=t.onStop,v=t.onStopDelay,f=t.ignore,h=t.wheelSpeed,D=t.event,x=t.onDragStart,Q=t.onDragEnd,S=t.onDrag,T=t.onPress,m=t.onRelease,W=t.onRight,j=t.onLeft,y=t.onUp,ve=t.onDown,G=t.onChangeX,g=t.onChangeY,z=t.onChange,C=t.onToggleX,X=t.onToggleY,ge=t.onHover,de=t.onHoverEnd,Be=t.onMove,ae=t.ignoreCheck,ye=t.isNormalizer,K=t.onGestureStart,l=t.onGestureEnd,le=t.onWheel,ne=t.onEnable,ue=t.onDisable,Me=t.onClick,$e=t.scrollSpeed,Ae=t.capture,Le=t.allowClicks,Re=t.lockAxis,Te=t.onLockAxis;this.target=i=Bt(i)||mo,this.vars=t,f&&(f=xt.utils.toArray(f)),o=o||1e-9,s=s||0,h=h||1,$e=$e||1,n=n||"wheel,touch,pointer",p=p!==!1,c||(c=parseFloat(Gt.getComputedStyle(No).lineHeight)||22);var F,I,_e,A,$,Z,pe,u=this,Ue=0,Ge=0,Ke=t.passive||!b&&t.passive!==!1,He=_o(i,Ot),et=_o(i,pt),tt=He(),it=et(),Ze=~n.indexOf("touch")&&!~n.indexOf("pointer")&&Qt[0]==="pointerdown",Yt=or(i),qe=i.ownerDocument||go,wt=[0,0,0],bt=[0,0,0],M=0,J=function(){return M=tr()},P=function(N,he){return(u.event=N)&&f&&~f.indexOf(N.target)||he&&Ze&&N.pointerType!=="touch"||ae&&ae(N,he)},fe=function(){u._vx.reset(),u._vy.reset(),I.pause(),d&&d(u)},V=function(){var N=u.deltaX=As(wt),he=u.deltaY=As(bt),E=Math.abs(N)>=o,H=Math.abs(he)>=o;z&&(E||H)&&z(u,N,he,wt,bt),E&&(W&&u.deltaX>0&&W(u),j&&u.deltaX<0&&j(u),G&&G(u),C&&u.deltaX<0!=Ue<0&&C(u),Ue=u.deltaX,wt[0]=wt[1]=wt[2]=0),H&&(ve&&u.deltaY>0&&ve(u),y&&u.deltaY<0&&y(u),g&&g(u),X&&u.deltaY<0!=Ge<0&&X(u),Ge=u.deltaY,bt[0]=bt[1]=bt[2]=0),(A||_e)&&(Be&&Be(u),_e&&(x&&_e===1&&x(u),S&&S(u),_e=0),A=!1),Z&&!(Z=!1)&&Te&&Te(u),$&&(le(u),$=!1),F=0},ee=function(N,he,E){wt[E]+=N,bt[E]+=he,u._vx.update(N),u._vy.update(he),p?F||(F=requestAnimationFrame(V)):V()},we=function(N,he){Re&&!pe&&(u.axis=pe=Math.abs(N)>Math.abs(he)?"x":"y",Z=!0),pe!=="y"&&(wt[2]+=N,u._vx.update(N,!0)),pe!=="x"&&(bt[2]+=he,u._vy.update(he,!0)),p?F||(F=requestAnimationFrame(V)):V()},R=function(N){if(!P(N,1)){N=jo(N,b);var he=N.clientX,E=N.clientY,H=he-u.x,w=E-u.y,_=u.isDragging;u.x=he,u.y=E,(_||(H||w)&&(Math.abs(u.startX-he)>=s||Math.abs(u.startY-E)>=s))&&(_e=_?2:1,_||(u.isDragging=!0),we(H,w))}},te=u.onPress=function(k){P(k,1)||k&&k.button||(u.axis=pe=null,I.pause(),u.isPressed=!0,k=jo(k),Ue=Ge=0,u.startX=u.x=k.clientX,u.startY=u.y=k.clientY,u._vx.reset(),u._vy.reset(),kt(ye?i:qe,Qt[1],R,Ke,!0),u.deltaX=u.deltaY=0,T&&T(u))},B=u.onRelease=function(k){if(!P(k,1)){Dt(ye?i:qe,Qt[1],R,!0);var N=!isNaN(u.y-u.startY),he=u.isDragging,E=he&&(Math.abs(u.x-u.startX)>3||Math.abs(u.y-u.startY)>3),H=jo(k);!E&&N&&(u._vx.reset(),u._vy.reset(),b&&Le&&xt.delayedCall(.08,function(){if(tr()-M>300&&!k.defaultPrevented){if(k.target.click)k.target.click();else if(qe.createEvent){var w=qe.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,Gt,1,H.screenX,H.screenY,H.clientX,H.clientY,!1,!1,!1,!1,0,null),k.target.dispatchEvent(w)}}})),u.isDragging=u.isGesturing=u.isPressed=!1,d&&he&&!ye&&I.restart(!0),_e&&V(),Q&&he&&Q(u),m&&m(u,E)}},re=function(N){return N.touches&&N.touches.length>1&&(u.isGesturing=!0)&&K(N,u.isDragging)},ze=function(){return(u.isGesturing=!1)||l(u)},Ye=function(N){if(!P(N)){var he=He(),E=et();ee((he-tt)*$e,(E-it)*$e,1),tt=he,it=E,d&&I.restart(!0)}},Ee=function(N){if(!P(N)){N=jo(N,b),le&&($=!0);var he=(N.deltaMode===1?c:N.deltaMode===2?Gt.innerHeight:1)*h;ee(N.deltaX*he,N.deltaY*he,0),d&&!ye&&I.restart(!0)}},yt=function(N){if(!P(N)){var he=N.clientX,E=N.clientY,H=he-u.x,w=E-u.y;u.x=he,u.y=E,A=!0,d&&I.restart(!0),(H||w)&&we(H,w)}},Tt=function(N){u.event=N,ge(u)},ht=function(N){u.event=N,de(u)},Lt=function(N){return P(N)||jo(N,b)&&Me(u)};I=u._dc=xt.delayedCall(v||.25,fe).pause(),u.deltaX=u.deltaY=0,u._vx=cs(0,50,!0),u._vy=cs(0,50,!0),u.scrollX=He,u.scrollY=et,u.isDragging=u.isGesturing=u.isPressed=!1,un(this),u.enable=function(k){return u.isEnabled||(kt(Yt?qe:i,"scroll",ls),n.indexOf("scroll")>=0&&kt(Yt?qe:i,"scroll",Ye,Ke,Ae),n.indexOf("wheel")>=0&&kt(i,"wheel",Ee,Ke,Ae),(n.indexOf("touch")>=0&&ln||n.indexOf("pointer")>=0)&&(kt(i,Qt[0],te,Ke,Ae),kt(qe,Qt[2],B),kt(qe,Qt[3],B),Le&&kt(i,"click",J,!0,!0),Me&&kt(i,"click",Lt),K&&kt(qe,"gesturestart",re),l&&kt(qe,"gestureend",ze),ge&&kt(i,bo+"enter",Tt),de&&kt(i,bo+"leave",ht),Be&&kt(i,bo+"move",yt)),u.isEnabled=!0,u.isDragging=u.isGesturing=u.isPressed=A=_e=!1,u._vx.reset(),u._vy.reset(),tt=He(),it=et(),k&&k.type&&te(k),ne&&ne(u)),u},u.disable=function(){u.isEnabled&&(Fo.filter(function(k){return k!==u&&or(k.target)}).length||Dt(Yt?qe:i,"scroll",ls),u.isPressed&&(u._vx.reset(),u._vy.reset(),Dt(ye?i:qe,Qt[1],R,!0)),Dt(Yt?qe:i,"scroll",Ye,Ae),Dt(i,"wheel",Ee,Ae),Dt(i,Qt[0],te,Ae),Dt(qe,Qt[2],B),Dt(qe,Qt[3],B),Dt(i,"click",J,!0),Dt(i,"click",Lt),Dt(qe,"gesturestart",re),Dt(qe,"gestureend",ze),Dt(i,bo+"enter",Tt),Dt(i,bo+"leave",ht),Dt(i,bo+"move",yt),u.isEnabled=u.isPressed=u.isDragging=!1,ue&&ue(u))},u.kill=u.revert=function(){u.disable();var k=Fo.indexOf(u);k>=0&&Fo.splice(k,1),io===u&&(io=0)},Fo.push(u),ye&&or(i)&&(io=u),u.enable(D)},di(a,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),a}();nt.version="3.12.7";nt.create=function(a){return new nt(a)};nt.register=hn;nt.getAll=function(){return Fo.slice()};nt.getById=function(a){return Fo.filter(function(e){return e.vars.id===a})[0]};fn()&&xt.registerPlugin(nt);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Y,Bo,Ie,Ve,Ut,Xe,ws,Br,pr,rr,Zo,vr,Mt,Yr,us,Rt,Rs,Is,Ho,gn,Zr,mn,At,fs,vn,_n,po,ps,xs,Uo,bs,Hr,ds,Vr,_r=1,St=Date.now,qr=St(),Vt=0,Vo=0,Os=function(e,r,t){var o=Nt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+r+"Clamp"]=o,o?e.substr(6,e.length-7):e},Ls=function(e,r){return r&&(!Nt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},gi=function a(){return Vo&&requestAnimationFrame(a)},zs=function(){return Yr=1},Bs=function(){return Yr=0},eo=function(e){return e},qo=function(e){return Math.round(e*1e5)/1e5||0},wn=function(){return typeof window<"u"},xn=function(){return Y||wn()&&(Y=window.gsap)&&Y.registerPlugin&&Y},ko=function(e){return!!~ws.indexOf(e)},bn=function(e){return(e==="Height"?bs:Ie["inner"+e])||Ut["client"+e]||Xe["client"+e]},yn=function(e){return vo(e,"getBoundingClientRect")||(ko(e)?function(){return Or.width=Ie.innerWidth,Or.height=bs,Or}:function(){return no(e)})},mi=function(e,r,t){var o=t.d,s=t.d2,n=t.a;return(n=vo(e,"getBoundingClientRect"))?function(){return n()[o]}:function(){return(r?bn(s):e["client"+s])||0}},vi=function(e,r){return!r||~ro.indexOf(e)?yn(e):function(){return Or}},oo=function(e,r){var t=r.s,o=r.d2,s=r.d,n=r.a;return Math.max(0,(t="scroll"+o)&&(n=vo(e,t))?n()-yn(e)()[s]:ko(e)?(Ut[t]||Xe[t])-bn(o):e[t]-e["offset"+o])},wr=function(e,r){for(var t=0;t<Ho.length;t+=3)(!r||~r.indexOf(Ho[t+1]))&&e(Ho[t],Ho[t+1],Ho[t+2])},Nt=function(e){return typeof e=="string"},Et=function(e){return typeof e=="function"},Qo=function(e){return typeof e=="number"},yo=function(e){return typeof e=="object"},$o=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},Qr=function(e,r){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return r(e)}):r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},Lo=Math.abs,Tn="left",Cn="top",ys="right",Ts="bottom",So="width",Eo="height",sr="Right",nr="Left",ir="Top",ar="Bottom",lt="padding",$t="margin",Wo="Width",Cs="Height",ft="px",Zt=function(e){return Ie.getComputedStyle(e)},_i=function(e){var r=Zt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Hs=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},no=function(e,r){var t=r&&Zt(e)[us]!=="matrix(1, 0, 0, 1, 0, 0)"&&Y.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),o=e.getBoundingClientRect();return t&&t.progress(0).kill(),o},Fr=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},Mn=function(e){var r=[],t=e.labels,o=e.duration(),s;for(s in t)r.push(t[s]/o);return r},wi=function(e){return function(r){return Y.utils.snap(Mn(e),r)}},Ms=function(e){var r=Y.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(o,s){return o-s});return t?function(o,s,n){n===void 0&&(n=.001);var i;if(!s)return r(o);if(s>0){for(o-=n,i=0;i<t.length;i++)if(t[i]>=o)return t[i];return t[i-1]}else for(i=t.length,o+=n;i--;)if(t[i]<=o)return t[i];return t[0]}:function(o,s,n){n===void 0&&(n=.001);var i=r(o);return!s||Math.abs(i-o)<n||i-o<0==s<0?i:r(s<0?o-e:o+e)}},xi=function(e){return function(r,t){return Ms(Mn(e))(r,t.direction)}},xr=function(e,r,t,o){return t.split(",").forEach(function(s){return e(r,s,o)})},_t=function(e,r,t,o,s){return e.addEventListener(r,t,{passive:!o,capture:!!s})},mt=function(e,r,t,o){return e.removeEventListener(r,t,!!o)},br=function(e,r,t){t=t&&t.wheelHandler,t&&(e(r,"wheel",t),e(r,"touchmove",t))},Fs={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},yr={toggleActions:"play",anticipatePin:0},Nr={top:0,left:0,center:.5,bottom:1,right:1},kr=function(e,r){if(Nt(e)){var t=e.indexOf("="),o=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(o*=r/100),e=e.substr(0,t-1)),e=o+(e in Nr?Nr[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},Tr=function(e,r,t,o,s,n,i,c){var p=s.startColor,b=s.endColor,d=s.fontSize,v=s.indent,f=s.fontWeight,h=Ve.createElement("div"),D=ko(t)||vo(t,"pinType")==="fixed",x=e.indexOf("scroller")!==-1,Q=D?Xe:t,S=e.indexOf("start")!==-1,T=S?p:b,m="border-color:"+T+";font-size:"+d+";color:"+T+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return m+="position:"+((x||c)&&D?"fixed;":"absolute;"),(x||c||!D)&&(m+=(o===pt?ys:Ts)+":"+(n+parseFloat(v))+"px;"),i&&(m+="box-sizing:border-box;text-align:left;width:"+i.offsetWidth+"px;"),h._isStart=S,h.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),h.style.cssText=m,h.innerText=r||r===0?e+"-"+r:e,Q.children[0]?Q.insertBefore(h,Q.children[0]):Q.appendChild(h),h._offset=h["offset"+o.op.d2],Ar(h,0,o,S),h},Ar=function(e,r,t,o){var s={display:"block"},n=t[o?"os2":"p2"],i=t[o?"p2":"os2"];e._isFlipped=o,s[t.a+"Percent"]=o?-100:0,s[t.a]=o?"1px":0,s["border"+n+Wo]=1,s["border"+i+Wo]=0,s[t.p]=r+"px",Y.set(e,s)},De=[],hs={},dr,Ns=function(){return St()-Vt>34&&(dr||(dr=requestAnimationFrame(ao)))},zo=function(){(!At||!At.isPressed||At.startX>Xe.clientWidth)&&(Oe.cache++,At?dr||(dr=requestAnimationFrame(ao)):ao(),Vt||Ro("scrollStart"),Vt=St())},Kr=function(){_n=Ie.innerWidth,vn=Ie.innerHeight},Ko=function(e){Oe.cache++,(e===!0||!Mt&&!mn&&!Ve.fullscreenElement&&!Ve.webkitFullscreenElement&&(!fs||_n!==Ie.innerWidth||Math.abs(Ie.innerHeight-vn)>Ie.innerHeight*.25))&&Br.restart(!0)},Ao={},bi=[],Pn=function a(){return mt(Ce,"scrollEnd",a)||Mo(!0)},Ro=function(e){return Ao[e]&&Ao[e].map(function(r){return r()})||bi},Ft=[],Sn=function(e){for(var r=0;r<Ft.length;r+=5)(!e||Ft[r+4]&&Ft[r+4].query===e)&&(Ft[r].style.cssText=Ft[r+1],Ft[r].getBBox&&Ft[r].setAttribute("transform",Ft[r+2]||""),Ft[r+3].uncache=1)},Ps=function(e,r){var t;for(Rt=0;Rt<De.length;Rt++)t=De[Rt],t&&(!r||t._ctx===r)&&(e?t.kill(1):t.revert(!0,!0));Hr=!0,r&&Sn(r),r||Ro("revert")},En=function(e,r){Oe.cache++,(r||!It)&&Oe.forEach(function(t){return Et(t)&&t.cacheID++&&(t.rec=0)}),Nt(e)&&(Ie.history.scrollRestoration=xs=e)},It,Do=0,Us,yi=function(){if(Us!==Do){var e=Us=Do;requestAnimationFrame(function(){return e===Do&&Mo(!0)})}},Dn=function(){Xe.appendChild(Uo),bs=!At&&Uo.offsetHeight||Ie.innerHeight,Xe.removeChild(Uo)},Gs=function(e){return pr(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},Mo=function(e,r){if(Ut=Ve.documentElement,Xe=Ve.body,ws=[Ie,Ve,Ut,Xe],Vt&&!e&&!Hr){_t(Ce,"scrollEnd",Pn);return}Dn(),It=Ce.isRefreshing=!0,Oe.forEach(function(o){return Et(o)&&++o.cacheID&&(o.rec=o())});var t=Ro("refreshInit");gn&&Ce.sort(),r||Ps(),Oe.forEach(function(o){Et(o)&&(o.smooth&&(o.target.style.scrollBehavior="auto"),o(0))}),De.slice(0).forEach(function(o){return o.refresh()}),Hr=!1,De.forEach(function(o){if(o._subPinOffset&&o.pin){var s=o.vars.horizontal?"offsetWidth":"offsetHeight",n=o.pin[s];o.revert(!0,1),o.adjustPinSpacing(o.pin[s]-n),o.refresh()}}),ds=1,Gs(!0),De.forEach(function(o){var s=oo(o.scroller,o._dir),n=o.vars.end==="max"||o._endClamp&&o.end>s,i=o._startClamp&&o.start>=s;(n||i)&&o.setPositions(i?s-1:o.start,n?Math.max(i?s:o.start+1,s):o.end,!0)}),Gs(!1),ds=0,t.forEach(function(o){return o&&o.render&&o.render(-1)}),Oe.forEach(function(o){Et(o)&&(o.smooth&&requestAnimationFrame(function(){return o.target.style.scrollBehavior="smooth"}),o.rec&&o(o.rec))}),En(xs,1),Br.pause(),Do++,It=2,ao(2),De.forEach(function(o){return Et(o.vars.onRefresh)&&o.vars.onRefresh(o)}),It=Ce.isRefreshing=!1,Ro("refresh")},gs=0,Rr=1,lr,ao=function(e){if(e===2||!It&&!Hr){Ce.isUpdating=!0,lr&&lr.update(0);var r=De.length,t=St(),o=t-qr>=50,s=r&&De[0].scroll();if(Rr=gs>s?-1:1,It||(gs=s),o&&(Vt&&!Yr&&t-Vt>200&&(Vt=0,Ro("scrollEnd")),Zo=qr,qr=t),Rr<0){for(Rt=r;Rt-- >0;)De[Rt]&&De[Rt].update(0,o);Rr=1}else for(Rt=0;Rt<r;Rt++)De[Rt]&&De[Rt].update(0,o);Ce.isUpdating=!1}dr=0},ms=[Tn,Cn,Ts,ys,$t+ar,$t+sr,$t+ir,$t+nr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ir=ms.concat([So,Eo,"boxSizing","max"+Wo,"max"+Cs,"position",$t,lt,lt+ir,lt+sr,lt+ar,lt+nr]),Ti=function(e,r,t){Go(t);var o=e._gsap;if(o.spacerIsNative)Go(o.spacerState);else if(e._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(e,r),s.removeChild(r))}e._gsap.swappedIn=!1},Jr=function(e,r,t,o){if(!e._gsap.swappedIn){for(var s=ms.length,n=r.style,i=e.style,c;s--;)c=ms[s],n[c]=t[c];n.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(n.display="inline-block"),i[Ts]=i[ys]="auto",n.flexBasis=t.flexBasis||"auto",n.overflow="visible",n.boxSizing="border-box",n[So]=Fr(e,Ot)+ft,n[Eo]=Fr(e,pt)+ft,n[lt]=i[$t]=i[Cn]=i[Tn]="0",Go(o),i[So]=i["max"+Wo]=t[So],i[Eo]=i["max"+Cs]=t[Eo],i[lt]=t[lt],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},Ci=/([A-Z])/g,Go=function(e){if(e){var r=e.t.style,t=e.length,o=0,s,n;for((e.t._gsap||Y.core.getCache(e.t)).uncache=1;o<t;o+=2)n=e[o+1],s=e[o],n?r[s]=n:r[s]&&r.removeProperty(s.replace(Ci,"-$1").toLowerCase())}},Cr=function(e){for(var r=Ir.length,t=e.style,o=[],s=0;s<r;s++)o.push(Ir[s],t[Ir[s]]);return o.t=e,o},Mi=function(e,r,t){for(var o=[],s=e.length,n=t?8:0,i;n<s;n+=2)i=e[n],o.push(i,i in r?r[i]:e[n+1]);return o.t=e.t,o},Or={left:0,top:0},Ys=function(e,r,t,o,s,n,i,c,p,b,d,v,f,h){Et(e)&&(e=e(c)),Nt(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?kr("0"+e.substr(3),t):0));var D=f?f.time():0,x,Q,S;if(f&&f.seek(0),isNaN(e)||(e=+e),Qo(e))f&&(e=Y.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,v,e)),i&&Ar(i,t,o,!0);else{Et(r)&&(r=r(c));var T=(e||"0").split(" "),m,W,j,y;S=Bt(r,c)||Xe,m=no(S)||{},(!m||!m.left&&!m.top)&&Zt(S).display==="none"&&(y=S.style.display,S.style.display="block",m=no(S),y?S.style.display=y:S.style.removeProperty("display")),W=kr(T[0],m[o.d]),j=kr(T[1]||"0",t),e=m[o.p]-p[o.p]-b+W+s-j,i&&Ar(i,j,o,t-j<20||i._isStart&&j>20),t-=t-j}if(h&&(c[h]=e||-.001,e<0&&(e=0)),n){var ve=e+t,G=n._isStart;x="scroll"+o.d2,Ar(n,ve,o,G&&ve>20||!G&&(d?Math.max(Xe[x],Ut[x]):n.parentNode[x])<=ve+1),d&&(p=no(i),d&&(n.style[o.op.p]=p[o.op.p]-o.op.m-n._offset+ft))}return f&&S&&(x=no(S),f.seek(v),Q=no(S),f._caScrollDist=x[o.p]-Q[o.p],e=e/f._caScrollDist*v),f&&f.seek(D),f?e:Math.round(e)},Pi=/(webkit|moz|length|cssText|inset)/i,Ws=function(e,r,t,o){if(e.parentNode!==r){var s=e.style,n,i;if(r===Xe){e._stOrig=s.cssText,i=Zt(e);for(n in i)!+n&&!Pi.test(n)&&i[n]&&typeof s[n]=="string"&&n!=="0"&&(s[n]=i[n]);s.top=t,s.left=o}else s.cssText=e._stOrig;Y.core.getCache(e).uncache=1,r.appendChild(e)}},kn=function(e,r,t){var o=r,s=o;return function(n){var i=Math.round(e());return i!==o&&i!==s&&Math.abs(i-o)>3&&Math.abs(i-s)>3&&(n=i,t&&t()),s=o,o=Math.round(n),o}},Mr=function(e,r,t){var o={};o[r.p]="+="+t,Y.set(e,o)},Xs=function(e,r){var t=_o(e,r),o="_scroll"+r.p2,s=function n(i,c,p,b,d){var v=n.tween,f=c.onComplete,h={};p=p||t();var D=kn(t,p,function(){v.kill(),n.tween=0});return d=b&&d||0,b=b||i-p,v&&v.kill(),c[o]=i,c.inherit=!1,c.modifiers=h,h[o]=function(){return D(p+b*v.ratio+d*v.ratio*v.ratio)},c.onUpdate=function(){Oe.cache++,n.tween&&ao()},c.onComplete=function(){n.tween=0,f&&f.call(v)},v=n.tween=Y.to(e,c),v};return e[o]=t,t.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},_t(e,"wheel",t.wheelHandler),Ce.isTouch&&_t(e,"touchmove",t.wheelHandler),s},Ce=function(){function a(r,t){Bo||a.register(Y)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ps(this),this.init(r,t)}var e=a.prototype;return e.init=function(t,o){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Vo){this.update=this.refresh=this.kill=eo;return}t=Hs(Nt(t)||Qo(t)||t.nodeType?{trigger:t}:t,yr);var s=t,n=s.onUpdate,i=s.toggleClass,c=s.id,p=s.onToggle,b=s.onRefresh,d=s.scrub,v=s.trigger,f=s.pin,h=s.pinSpacing,D=s.invalidateOnRefresh,x=s.anticipatePin,Q=s.onScrubComplete,S=s.onSnapComplete,T=s.once,m=s.snap,W=s.pinReparent,j=s.pinSpacer,y=s.containerAnimation,ve=s.fastScrollEnd,G=s.preventOverlaps,g=t.horizontal||t.containerAnimation&&t.horizontal!==!1?Ot:pt,z=!d&&d!==0,C=Bt(t.scroller||Ie),X=Y.core.getCache(C),ge=ko(C),de=("pinType"in t?t.pinType:vo(C,"pinType")||ge&&"fixed")==="fixed",Be=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ae=z&&t.toggleActions.split(" "),ye="markers"in t?t.markers:yr.markers,K=ge?0:parseFloat(Zt(C)["border"+g.p2+Wo])||0,l=this,le=t.onRefreshInit&&function(){return t.onRefreshInit(l)},ne=mi(C,ge,g),ue=vi(C,ge),Me=0,$e=0,Ae=0,Le=_o(C,g),Re,Te,F,I,_e,A,$,Z,pe,u,Ue,Ge,Ke,He,et,tt,it,Ze,Yt,qe,wt,bt,M,J,P,fe,V,ee,we,R,te,B,re,ze,Ye,Ee,yt,Tt,ht;if(l._startClamp=l._endClamp=!1,l._dir=g,x*=45,l.scroller=C,l.scroll=y?y.time.bind(y):Le,I=Le(),l.vars=t,o=o||t.animation,"refreshPriority"in t&&(gn=1,t.refreshPriority===-9999&&(lr=l)),X.tweenScroll=X.tweenScroll||{top:Xs(C,pt),left:Xs(C,Ot)},l.tweenTo=Re=X.tweenScroll[g.p],l.scrubDuration=function(E){re=Qo(E)&&E,re?B?B.duration(E):B=Y.to(o,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:re,paused:!0,onComplete:function(){return Q&&Q(l)}}):(B&&B.progress(1).kill(),B=0)},o&&(o.vars.lazy=!1,o._initted&&!l.isReverted||o.vars.immediateRender!==!1&&t.immediateRender!==!1&&o.duration()&&o.render(0,!0,!0),l.animation=o.pause(),o.scrollTrigger=l,l.scrubDuration(d),R=0,c||(c=o.vars.id)),m&&((!yo(m)||m.push)&&(m={snapTo:m}),"scrollBehavior"in Xe.style&&Y.set(ge?[Xe,Ut]:C,{scrollBehavior:"auto"}),Oe.forEach(function(E){return Et(E)&&E.target===(ge?Ve.scrollingElement||Ut:C)&&(E.smooth=!1)}),F=Et(m.snapTo)?m.snapTo:m.snapTo==="labels"?wi(o):m.snapTo==="labelsDirectional"?xi(o):m.directional!==!1?function(E,H){return Ms(m.snapTo)(E,St()-$e<500?0:H.direction)}:Y.utils.snap(m.snapTo),ze=m.duration||{min:.1,max:2},ze=yo(ze)?rr(ze.min,ze.max):rr(ze,ze),Ye=Y.delayedCall(m.delay||re/2||.1,function(){var E=Le(),H=St()-$e<500,w=Re.tween;if((H||Math.abs(l.getVelocity())<10)&&!w&&!Yr&&Me!==E){var _=(E-A)/He,xe=o&&!z?o.totalProgress():_,O=H?0:(xe-te)/(St()-Zo)*1e3||0,se=Y.utils.clamp(-_,1-_,Lo(O/2)*O/.185),L=_+(m.inertia===!1?0:se),oe,U,ce=m,ie=ce.onStart,q=ce.onInterrupt,be=ce.onComplete;if(oe=F(L,l),Qo(oe)||(oe=L),U=Math.max(0,Math.round(A+oe*He)),E<=$&&E>=A&&U!==E){if(w&&!w._initted&&w.data<=Lo(U-E))return;m.inertia===!1&&(se=oe-_),Re(U,{duration:ze(Lo(Math.max(Lo(L-xe),Lo(oe-xe))*.185/O/.05||0)),ease:m.ease||"power3",data:Lo(U-E),onInterrupt:function(){return Ye.restart(!0)&&q&&q(l)},onComplete:function(){l.update(),Me=Le(),o&&!z&&(B?B.resetTo("totalProgress",oe,o._tTime/o._tDur):o.progress(oe)),R=te=o&&!z?o.totalProgress():l.progress,S&&S(l),be&&be(l)}},E,se*He,U-E-se*He),ie&&ie(l,Re.tween)}}else l.isActive&&Me!==E&&Ye.restart(!0)}).pause()),c&&(hs[c]=l),v=l.trigger=Bt(v||f!==!0&&f),ht=v&&v._gsap&&v._gsap.stRevert,ht&&(ht=ht(l)),f=f===!0?v:Bt(f),Nt(i)&&(i={targets:v,className:i}),f&&(h===!1||h===$t||(h=!h&&f.parentNode&&f.parentNode.style&&Zt(f.parentNode).display==="flex"?!1:lt),l.pin=f,Te=Y.core.getCache(f),Te.spacer?et=Te.pinState:(j&&(j=Bt(j),j&&!j.nodeType&&(j=j.current||j.nativeElement),Te.spacerIsNative=!!j,j&&(Te.spacerState=Cr(j))),Te.spacer=Ze=j||Ve.createElement("div"),Ze.classList.add("pin-spacer"),c&&Ze.classList.add("pin-spacer-"+c),Te.pinState=et=Cr(f)),t.force3D!==!1&&Y.set(f,{force3D:!0}),l.spacer=Ze=Te.spacer,we=Zt(f),J=we[h+g.os2],qe=Y.getProperty(f),wt=Y.quickSetter(f,g.a,ft),Jr(f,Ze,we),it=Cr(f)),ye){Ge=yo(ye)?Hs(ye,Fs):Fs,u=Tr("scroller-start",c,C,g,Ge,0),Ue=Tr("scroller-end",c,C,g,Ge,0,u),Yt=u["offset"+g.op.d2];var Lt=Bt(vo(C,"content")||C);Z=this.markerStart=Tr("start",c,Lt,g,Ge,Yt,0,y),pe=this.markerEnd=Tr("end",c,Lt,g,Ge,Yt,0,y),y&&(Tt=Y.quickSetter([Z,pe],g.a,ft)),!de&&!(ro.length&&vo(C,"fixedMarkers")===!0)&&(_i(ge?Xe:C),Y.set([u,Ue],{force3D:!0}),fe=Y.quickSetter(u,g.a,ft),ee=Y.quickSetter(Ue,g.a,ft))}if(y){var k=y.vars.onUpdate,N=y.vars.onUpdateParams;y.eventCallback("onUpdate",function(){l.update(0,0,1),k&&k.apply(y,N||[])})}if(l.previous=function(){return De[De.indexOf(l)-1]},l.next=function(){return De[De.indexOf(l)+1]},l.revert=function(E,H){if(!H)return l.kill(!0);var w=E!==!1||!l.enabled,_=Mt;w!==l.isReverted&&(w&&(Ee=Math.max(Le(),l.scroll.rec||0),Ae=l.progress,yt=o&&o.progress()),Z&&[Z,pe,u,Ue].forEach(function(xe){return xe.style.display=w?"none":"block"}),w&&(Mt=l,l.update(w)),f&&(!W||!l.isActive)&&(w?Ti(f,Ze,et):Jr(f,Ze,Zt(f),P)),w||l.update(w),Mt=_,l.isReverted=w)},l.refresh=function(E,H,w,_){if(!((Mt||!l.enabled)&&!H)){if(f&&E&&Vt){_t(a,"scrollEnd",Pn);return}!It&&le&&le(l),Mt=l,Re.tween&&!w&&(Re.tween.kill(),Re.tween=0),B&&B.pause(),D&&o&&o.revert({kill:!1}).invalidate(),l.isReverted||l.revert(!0,!0),l._subPinOffset=!1;var xe=ne(),O=ue(),se=y?y.duration():oo(C,g),L=He<=.01,oe=0,U=_||0,ce=yo(w)?w.end:t.end,ie=t.endTrigger||v,q=yo(w)?w.start:t.start||(t.start===0||!v?0:f?"0 0":"0 100%"),be=l.pinnedContainer=t.pinnedContainer&&Bt(t.pinnedContainer,l),Ne=v&&Math.max(0,De.indexOf(l))||0,Pe=Ne,Se,ct,Jt,wo,ut,ot,Wt,co,Je,zt,rt,at,so;for(ye&&yo(w)&&(at=Y.getProperty(u,g.p),so=Y.getProperty(Ue,g.p));Pe-- >0;)ot=De[Pe],ot.end||ot.refresh(0,1)||(Mt=l),Wt=ot.pin,Wt&&(Wt===v||Wt===f||Wt===be)&&!ot.isReverted&&(zt||(zt=[]),zt.unshift(ot),ot.revert(!0,!0)),ot!==De[Pe]&&(Ne--,Pe--);for(Et(q)&&(q=q(l)),q=Os(q,"start",l),A=Ys(q,v,xe,g,Le(),Z,u,l,O,K,de,se,y,l._startClamp&&"_startClamp")||(f?-.001:0),Et(ce)&&(ce=ce(l)),Nt(ce)&&!ce.indexOf("+=")&&(~ce.indexOf(" ")?ce=(Nt(q)?q.split(" ")[0]:"")+ce:(oe=kr(ce.substr(2),xe),ce=Nt(q)?q:(y?Y.utils.mapRange(0,y.duration(),y.scrollTrigger.start,y.scrollTrigger.end,A):A)+oe,ie=v)),ce=Os(ce,"end",l),$=Math.max(A,Ys(ce||(ie?"100% 0":se),ie,xe,g,Le()+oe,pe,Ue,l,O,K,de,se,y,l._endClamp&&"_endClamp"))||-.001,oe=0,Pe=Ne;Pe--;)ot=De[Pe],Wt=ot.pin,Wt&&ot.start-ot._pinPush<=A&&!y&&ot.end>0&&(Se=ot.end-(l._startClamp?Math.max(0,ot.start):ot.start),(Wt===v&&ot.start-ot._pinPush<A||Wt===be)&&isNaN(q)&&(oe+=Se*(1-ot.progress)),Wt===f&&(U+=Se));if(A+=oe,$+=oe,l._startClamp&&(l._startClamp+=oe),l._endClamp&&!It&&(l._endClamp=$||-.001,$=Math.min($,oo(C,g))),He=$-A||(A-=.01)&&.001,L&&(Ae=Y.utils.clamp(0,1,Y.utils.normalize(A,$,Ee))),l._pinPush=U,Z&&oe&&(Se={},Se[g.a]="+="+oe,be&&(Se[g.p]="-="+Le()),Y.set([Z,pe],Se)),f&&!(ds&&l.end>=oo(C,g)))Se=Zt(f),wo=g===pt,Jt=Le(),bt=parseFloat(qe(g.a))+U,!se&&$>1&&(rt=(ge?Ve.scrollingElement||Ut:C).style,rt={style:rt,value:rt["overflow"+g.a.toUpperCase()]},ge&&Zt(Xe)["overflow"+g.a.toUpperCase()]!=="scroll"&&(rt.style["overflow"+g.a.toUpperCase()]="scroll")),Jr(f,Ze,Se),it=Cr(f),ct=no(f,!0),co=de&&_o(C,wo?Ot:pt)(),h?(P=[h+g.os2,He+U+ft],P.t=Ze,Pe=h===lt?Fr(f,g)+He+U:0,Pe&&(P.push(g.d,Pe+ft),Ze.style.flexBasis!=="auto"&&(Ze.style.flexBasis=Pe+ft)),Go(P),be&&De.forEach(function(Ct){Ct.pin===be&&Ct.vars.pinSpacing!==!1&&(Ct._subPinOffset=!0)}),de&&Le(Ee)):(Pe=Fr(f,g),Pe&&Ze.style.flexBasis!=="auto"&&(Ze.style.flexBasis=Pe+ft)),de&&(ut={top:ct.top+(wo?Jt-A:co)+ft,left:ct.left+(wo?co:Jt-A)+ft,boxSizing:"border-box",position:"fixed"},ut[So]=ut["max"+Wo]=Math.ceil(ct.width)+ft,ut[Eo]=ut["max"+Cs]=Math.ceil(ct.height)+ft,ut[$t]=ut[$t+ir]=ut[$t+sr]=ut[$t+ar]=ut[$t+nr]="0",ut[lt]=Se[lt],ut[lt+ir]=Se[lt+ir],ut[lt+sr]=Se[lt+sr],ut[lt+ar]=Se[lt+ar],ut[lt+nr]=Se[lt+nr],tt=Mi(et,ut,W),It&&Le(0)),o?(Je=o._initted,Zr(1),o.render(o.duration(),!0,!0),M=qe(g.a)-bt+He+U,V=Math.abs(He-M)>1,de&&V&&tt.splice(tt.length-2,2),o.render(0,!0,!0),Je||o.invalidate(!0),o.parent||o.totalTime(o.totalTime()),Zr(0)):M=He,rt&&(rt.value?rt.style["overflow"+g.a.toUpperCase()]=rt.value:rt.style.removeProperty("overflow-"+g.a));else if(v&&Le()&&!y)for(ct=v.parentNode;ct&&ct!==Xe;)ct._pinOffset&&(A-=ct._pinOffset,$-=ct._pinOffset),ct=ct.parentNode;zt&&zt.forEach(function(Ct){return Ct.revert(!1,!0)}),l.start=A,l.end=$,I=_e=It?Ee:Le(),!y&&!It&&(I<Ee&&Le(Ee),l.scroll.rec=0),l.revert(!1,!0),$e=St(),Ye&&(Me=-1,Ye.restart(!0)),Mt=0,o&&z&&(o._initted||yt)&&o.progress()!==yt&&o.progress(yt||0,!0).render(o.time(),!0,!0),(L||Ae!==l.progress||y||D||o&&!o._initted)&&(o&&!z&&o.totalProgress(y&&A<-.001&&!Ae?Y.utils.normalize(A,$,0):Ae,!0),l.progress=L||(I-A)/He===Ae?0:Ae),f&&h&&(Ze._pinOffset=Math.round(l.progress*M)),B&&B.invalidate(),isNaN(at)||(at-=Y.getProperty(u,g.p),so-=Y.getProperty(Ue,g.p),Mr(u,g,at),Mr(Z,g,at-(_||0)),Mr(Ue,g,so),Mr(pe,g,so-(_||0))),L&&!It&&l.update(),b&&!It&&!Ke&&(Ke=!0,b(l),Ke=!1)}},l.getVelocity=function(){return(Le()-_e)/(St()-Zo)*1e3||0},l.endAnimation=function(){$o(l.callbackAnimation),o&&(B?B.progress(1):o.paused()?z||$o(o,l.direction<0,1):$o(o,o.reversed()))},l.labelToScroll=function(E){return o&&o.labels&&(A||l.refresh()||A)+o.labels[E]/o.duration()*He||0},l.getTrailing=function(E){var H=De.indexOf(l),w=l.direction>0?De.slice(0,H).reverse():De.slice(H+1);return(Nt(E)?w.filter(function(_){return _.vars.preventOverlaps===E}):w).filter(function(_){return l.direction>0?_.end<=A:_.start>=$})},l.update=function(E,H,w){if(!(y&&!w&&!E)){var _=It===!0?Ee:l.scroll(),xe=E?0:(_-A)/He,O=xe<0?0:xe>1?1:xe||0,se=l.progress,L,oe,U,ce,ie,q,be,Ne;if(H&&(_e=I,I=y?Le():_,m&&(te=R,R=o&&!z?o.totalProgress():O)),x&&f&&!Mt&&!_r&&Vt&&(!O&&A<_+(_-_e)/(St()-Zo)*x?O=1e-4:O===1&&$>_+(_-_e)/(St()-Zo)*x&&(O=.9999)),O!==se&&l.enabled){if(L=l.isActive=!!O&&O<1,oe=!!se&&se<1,q=L!==oe,ie=q||!!O!=!!se,l.direction=O>se?1:-1,l.progress=O,ie&&!Mt&&(U=O&&!se?0:O===1?1:se===1?2:3,z&&(ce=!q&&ae[U+1]!=="none"&&ae[U+1]||ae[U],Ne=o&&(ce==="complete"||ce==="reset"||ce in o))),G&&(q||Ne)&&(Ne||d||!o)&&(Et(G)?G(l):l.getTrailing(G).forEach(function(Jt){return Jt.endAnimation()})),z||(B&&!Mt&&!_r?(B._dp._time-B._start!==B._time&&B.render(B._dp._time-B._start),B.resetTo?B.resetTo("totalProgress",O,o._tTime/o._tDur):(B.vars.totalProgress=O,B.invalidate().restart())):o&&o.totalProgress(O,!!(Mt&&($e||E)))),f){if(E&&h&&(Ze.style[h+g.os2]=J),!de)wt(qo(bt+M*O));else if(ie){if(be=!E&&O>se&&$+1>_&&_+1>=oo(C,g),W)if(!E&&(L||be)){var Pe=no(f,!0),Se=_-A;Ws(f,Xe,Pe.top+(g===pt?Se:0)+ft,Pe.left+(g===pt?0:Se)+ft)}else Ws(f,Ze);Go(L||be?tt:it),V&&O<1&&L||wt(bt+(O===1&&!be?M:0))}}m&&!Re.tween&&!Mt&&!_r&&Ye.restart(!0),i&&(q||T&&O&&(O<1||!Vr))&&pr(i.targets).forEach(function(Jt){return Jt.classList[L||T?"add":"remove"](i.className)}),n&&!z&&!E&&n(l),ie&&!Mt?(z&&(Ne&&(ce==="complete"?o.pause().totalProgress(1):ce==="reset"?o.restart(!0).pause():ce==="restart"?o.restart(!0):o[ce]()),n&&n(l)),(q||!Vr)&&(p&&q&&Qr(l,p),Be[U]&&Qr(l,Be[U]),T&&(O===1?l.kill(!1,1):Be[U]=0),q||(U=O===1?1:3,Be[U]&&Qr(l,Be[U]))),ve&&!L&&Math.abs(l.getVelocity())>(Qo(ve)?ve:2500)&&($o(l.callbackAnimation),B?B.progress(1):$o(o,ce==="reverse"?1:!O,1))):z&&n&&!Mt&&n(l)}if(ee){var ct=y?_/y.duration()*(y._caScrollDist||0):_;fe(ct+(u._isFlipped?1:0)),ee(ct)}Tt&&Tt(-_/y.duration()*(y._caScrollDist||0))}},l.enable=function(E,H){l.enabled||(l.enabled=!0,_t(C,"resize",Ko),ge||_t(C,"scroll",zo),le&&_t(a,"refreshInit",le),E!==!1&&(l.progress=Ae=0,I=_e=Me=Le()),H!==!1&&l.refresh())},l.getTween=function(E){return E&&Re?Re.tween:B},l.setPositions=function(E,H,w,_){if(y){var xe=y.scrollTrigger,O=y.duration(),se=xe.end-xe.start;E=xe.start+se*E/O,H=xe.start+se*H/O}l.refresh(!1,!1,{start:Ls(E,w&&!!l._startClamp),end:Ls(H,w&&!!l._endClamp)},_),l.update()},l.adjustPinSpacing=function(E){if(P&&E){var H=P.indexOf(g.d)+1;P[H]=parseFloat(P[H])+E+ft,P[1]=parseFloat(P[1])+E+ft,Go(P)}},l.disable=function(E,H){if(l.enabled&&(E!==!1&&l.revert(!0,!0),l.enabled=l.isActive=!1,H||B&&B.pause(),Ee=0,Te&&(Te.uncache=1),le&&mt(a,"refreshInit",le),Ye&&(Ye.pause(),Re.tween&&Re.tween.kill()&&(Re.tween=0)),!ge)){for(var w=De.length;w--;)if(De[w].scroller===C&&De[w]!==l)return;mt(C,"resize",Ko),ge||mt(C,"scroll",zo)}},l.kill=function(E,H){l.disable(E,H),B&&!H&&B.kill(),c&&delete hs[c];var w=De.indexOf(l);w>=0&&De.splice(w,1),w===Rt&&Rr>0&&Rt--,w=0,De.forEach(function(_){return _.scroller===l.scroller&&(w=1)}),w||It||(l.scroll.rec=0),o&&(o.scrollTrigger=null,E&&o.revert({kill:!1}),H||o.kill()),Z&&[Z,pe,u,Ue].forEach(function(_){return _.parentNode&&_.parentNode.removeChild(_)}),lr===l&&(lr=0),f&&(Te&&(Te.uncache=1),w=0,De.forEach(function(_){return _.pin===f&&w++}),w||(Te.spacer=0)),t.onKill&&t.onKill(l)},De.push(l),l.enable(!1,!1),ht&&ht(l),o&&o.add&&!He){var he=l.update;l.update=function(){l.update=he,Oe.cache++,A||$||l.refresh()},Y.delayedCall(.01,l.update),He=.01,A=$=0}else l.refresh();f&&yi()},a.register=function(t){return Bo||(Y=t||xn(),wn()&&window.document&&a.enable(),Bo=Vo),Bo},a.defaults=function(t){if(t)for(var o in t)yr[o]=t[o];return yr},a.disable=function(t,o){Vo=0,De.forEach(function(n){return n[o?"kill":"disable"](t)}),mt(Ie,"wheel",zo),mt(Ve,"scroll",zo),clearInterval(vr),mt(Ve,"touchcancel",eo),mt(Xe,"touchstart",eo),xr(mt,Ve,"pointerdown,touchstart,mousedown",zs),xr(mt,Ve,"pointerup,touchend,mouseup",Bs),Br.kill(),wr(mt);for(var s=0;s<Oe.length;s+=3)br(mt,Oe[s],Oe[s+1]),br(mt,Oe[s],Oe[s+2])},a.enable=function(){if(Ie=window,Ve=document,Ut=Ve.documentElement,Xe=Ve.body,Y&&(pr=Y.utils.toArray,rr=Y.utils.clamp,ps=Y.core.context||eo,Zr=Y.core.suppressOverwrites||eo,xs=Ie.history.scrollRestoration||"auto",gs=Ie.pageYOffset||0,Y.core.globals("ScrollTrigger",a),Xe)){Vo=1,Uo=document.createElement("div"),Uo.style.height="100vh",Uo.style.position="absolute",Dn(),gi(),nt.register(Y),a.isTouch=nt.isTouch,po=nt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),fs=nt.isTouch===1,_t(Ie,"wheel",zo),ws=[Ie,Ve,Ut,Xe],Y.matchMedia?(a.matchMedia=function(p){var b=Y.matchMedia(),d;for(d in p)b.add(d,p[d]);return b},Y.addEventListener("matchMediaInit",function(){return Ps()}),Y.addEventListener("matchMediaRevert",function(){return Sn()}),Y.addEventListener("matchMedia",function(){Mo(0,1),Ro("matchMedia")}),Y.matchMedia().add("(orientation: portrait)",function(){return Kr(),Kr})):console.warn("Requires GSAP 3.11.0 or later"),Kr(),_t(Ve,"scroll",zo);var t=Xe.hasAttribute("style"),o=Xe.style,s=o.borderTopStyle,n=Y.core.Animation.prototype,i,c;for(n.revert||Object.defineProperty(n,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",i=no(Xe),pt.m=Math.round(i.top+pt.sc())||0,Ot.m=Math.round(i.left+Ot.sc())||0,s?o.borderTopStyle=s:o.removeProperty("border-top-style"),t||(Xe.setAttribute("style",""),Xe.removeAttribute("style")),vr=setInterval(Ns,250),Y.delayedCall(.5,function(){return _r=0}),_t(Ve,"touchcancel",eo),_t(Xe,"touchstart",eo),xr(_t,Ve,"pointerdown,touchstart,mousedown",zs),xr(_t,Ve,"pointerup,touchend,mouseup",Bs),us=Y.utils.checkPrefix("transform"),Ir.push(us),Bo=St(),Br=Y.delayedCall(.2,Mo).pause(),Ho=[Ve,"visibilitychange",function(){var p=Ie.innerWidth,b=Ie.innerHeight;Ve.hidden?(Rs=p,Is=b):(Rs!==p||Is!==b)&&Ko()},Ve,"DOMContentLoaded",Mo,Ie,"load",Mo,Ie,"resize",Ko],wr(_t),De.forEach(function(p){return p.enable(0,1)}),c=0;c<Oe.length;c+=3)br(mt,Oe[c],Oe[c+1]),br(mt,Oe[c],Oe[c+2])}},a.config=function(t){"limitCallbacks"in t&&(Vr=!!t.limitCallbacks);var o=t.syncInterval;o&&clearInterval(vr)||(vr=o)&&setInterval(Ns,o),"ignoreMobileResize"in t&&(fs=a.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(wr(mt)||wr(_t,t.autoRefreshEvents||"none"),mn=(t.autoRefreshEvents+"").indexOf("resize")===-1)},a.scrollerProxy=function(t,o){var s=Bt(t),n=Oe.indexOf(s),i=ko(s);~n&&Oe.splice(n,i?6:2),o&&(i?ro.unshift(Ie,o,Xe,o,Ut,o):ro.unshift(s,o))},a.clearMatchMedia=function(t){De.forEach(function(o){return o._ctx&&o._ctx.query===t&&o._ctx.kill(!0,!0)})},a.isInViewport=function(t,o,s){var n=(Nt(t)?Bt(t):t).getBoundingClientRect(),i=n[s?So:Eo]*o||0;return s?n.right-i>0&&n.left+i<Ie.innerWidth:n.bottom-i>0&&n.top+i<Ie.innerHeight},a.positionInViewport=function(t,o,s){Nt(t)&&(t=Bt(t));var n=t.getBoundingClientRect(),i=n[s?So:Eo],c=o==null?i/2:o in Nr?Nr[o]*i:~o.indexOf("%")?parseFloat(o)*i/100:parseFloat(o)||0;return s?(n.left+c)/Ie.innerWidth:(n.top+c)/Ie.innerHeight},a.killAll=function(t){if(De.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),t!==!0){var o=Ao.killAll||[];Ao={},o.forEach(function(s){return s()})}},a}();Ce.version="3.12.7";Ce.saveStyles=function(a){return a?pr(a).forEach(function(e){if(e&&e.style){var r=Ft.indexOf(e);r>=0&&Ft.splice(r,5),Ft.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Y.core.getCache(e),ps())}}):Ft};Ce.revert=function(a,e){return Ps(!a,e)};Ce.create=function(a,e){return new Ce(a,e)};Ce.refresh=function(a){return a?Ko(!0):(Bo||Ce.register())&&Mo(!0)};Ce.update=function(a){return++Oe.cache&&ao(a===!0?2:0)};Ce.clearScrollMemory=En;Ce.maxScroll=function(a,e){return oo(a,e?Ot:pt)};Ce.getScrollFunc=function(a,e){return _o(Bt(a),e?Ot:pt)};Ce.getById=function(a){return hs[a]};Ce.getAll=function(){return De.filter(function(a){return a.vars.id!=="ScrollSmoother"})};Ce.isScrolling=function(){return!!Vt};Ce.snapDirectional=Ms;Ce.addEventListener=function(a,e){var r=Ao[a]||(Ao[a]=[]);~r.indexOf(e)||r.push(e)};Ce.removeEventListener=function(a,e){var r=Ao[a],t=r&&r.indexOf(e);t>=0&&r.splice(t,1)};Ce.batch=function(a,e){var r=[],t={},o=e.interval||.016,s=e.batchMax||1e9,n=function(p,b){var d=[],v=[],f=Y.delayedCall(o,function(){b(d,v),d=[],v=[]}).pause();return function(h){d.length||f.restart(!0),d.push(h.trigger),v.push(h),s<=d.length&&f.progress(1)}},i;for(i in e)t[i]=i.substr(0,2)==="on"&&Et(e[i])&&i!=="onRefreshInit"?n(i,e[i]):e[i];return Et(s)&&(s=s(),_t(Ce,"refresh",function(){return s=e.batchMax()})),pr(a).forEach(function(c){var p={};for(i in t)p[i]=t[i];p.trigger=c,r.push(Ce.create(p))}),r};var js=function(e,r,t,o){return r>o?e(o):r<0&&e(0),t>o?(o-r)/(t-r):t<0?r/(r-t):1},es=function a(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(nt.isTouch?" pinch-zoom":""):"none",e===Ut&&a(Xe,r)},Pr={auto:1,scroll:1},Si=function(e){var r=e.event,t=e.target,o=e.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,n=s._gsap||Y.core.getCache(s),i=St(),c;if(!n._isScrollT||i-n._isScrollT>2e3){for(;s&&s!==Xe&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Pr[(c=Zt(s)).overflowY]||Pr[c.overflowX]));)s=s.parentNode;n._isScroll=s&&s!==t&&!ko(s)&&(Pr[(c=Zt(s)).overflowY]||Pr[c.overflowX]),n._isScrollT=i}(n._isScroll||o==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},An=function(e,r,t,o){return nt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:o=o&&Si,onPress:o,onDrag:o,onScroll:o,onEnable:function(){return t&&_t(Ve,nt.eventTypes[0],Zs,!1,!0)},onDisable:function(){return mt(Ve,nt.eventTypes[0],Zs,!0)}})},Ei=/(input|label|select|textarea)/i,$s,Zs=function(e){var r=Ei.test(e.target.tagName);(r||$s)&&(e._gsapAllow=!0,$s=r)},Di=function(e){yo(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,t=r.normalizeScrollX,o=r.momentum,s=r.allowNestedScroll,n=r.onRelease,i,c,p=Bt(e.target)||Ut,b=Y.core.globals().ScrollSmoother,d=b&&b.get(),v=po&&(e.content&&Bt(e.content)||d&&e.content!==!1&&!d.smooth()&&d.content()),f=_o(p,pt),h=_o(p,Ot),D=1,x=(nt.isTouch&&Ie.visualViewport?Ie.visualViewport.scale*Ie.visualViewport.width:Ie.outerWidth)/Ie.innerWidth,Q=0,S=Et(o)?function(){return o(i)}:function(){return o||2.8},T,m,W=An(p,e.type,!0,s),j=function(){return m=!1},y=eo,ve=eo,G=function(){c=oo(p,pt),ve=rr(po?1:0,c),t&&(y=rr(0,oo(p,Ot))),T=Do},g=function(){v._gsap.y=qo(parseFloat(v._gsap.y)+f.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},z=function(){if(m){requestAnimationFrame(j);var ye=qo(i.deltaY/2),K=ve(f.v-ye);if(v&&K!==f.v+f.offset){f.offset=K-f.v;var l=qo((parseFloat(v&&v._gsap.y)||0)-f.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+l+", 0, 1)",v._gsap.y=l+"px",f.cacheID=Oe.cache,ao()}return!0}f.offset&&g(),m=!0},C,X,ge,de,Be=function(){G(),C.isActive()&&C.vars.scrollY>c&&(f()>c?C.progress(1)&&f(c):C.resetTo("scrollY",c))};return v&&Y.set(v,{y:"+=0"}),e.ignoreCheck=function(ae){return po&&ae.type==="touchmove"&&z()||D>1.05&&ae.type!=="touchstart"||i.isGesturing||ae.touches&&ae.touches.length>1},e.onPress=function(){m=!1;var ae=D;D=qo((Ie.visualViewport&&Ie.visualViewport.scale||1)/x),C.pause(),ae!==D&&es(p,D>1.01?!0:t?!1:"x"),X=h(),ge=f(),G(),T=Do},e.onRelease=e.onGestureStart=function(ae,ye){if(f.offset&&g(),!ye)de.restart(!0);else{Oe.cache++;var K=S(),l,le;t&&(l=h(),le=l+K*.05*-ae.velocityX/.227,K*=js(h,l,le,oo(p,Ot)),C.vars.scrollX=y(le)),l=f(),le=l+K*.05*-ae.velocityY/.227,K*=js(f,l,le,oo(p,pt)),C.vars.scrollY=ve(le),C.invalidate().duration(K).play(.01),(po&&C.vars.scrollY>=c||l>=c-1)&&Y.to({},{onUpdate:Be,duration:K})}n&&n(ae)},e.onWheel=function(){C._ts&&C.pause(),St()-Q>1e3&&(T=0,Q=St())},e.onChange=function(ae,ye,K,l,le){if(Do!==T&&G(),ye&&t&&h(y(l[2]===ye?X+(ae.startX-ae.x):h()+ye-l[1])),K){f.offset&&g();var ne=le[2]===K,ue=ne?ge+ae.startY-ae.y:f()+K-le[1],Me=ve(ue);ne&&ue!==Me&&(ge+=Me-ue),f(Me)}(K||ye)&&ao()},e.onEnable=function(){es(p,t?!1:"x"),Ce.addEventListener("refresh",Be),_t(Ie,"resize",Be),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=h.smooth=!1),W.enable()},e.onDisable=function(){es(p,!0),mt(Ie,"resize",Be),Ce.removeEventListener("refresh",Be),W.kill()},e.lockAxis=e.lockAxis!==!1,i=new nt(e),i.iOS=po,po&&!f()&&f(1),po&&Y.ticker.add(eo),de=i._dc,C=Y.to(i,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:kn(f,f(),function(){return C.pause()})},onUpdate:ao,onComplete:de.vars.onComplete}),i};Ce.sort=function(a){if(Et(a))return De.sort(a);var e=Ie.pageYOffset||0;return Ce.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+Ie.innerHeight}),De.sort(a||function(r,t){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};Ce.observe=function(a){return new nt(a)};Ce.normalizeScroll=function(a){if(typeof a>"u")return At;if(a===!0&&At)return At.enable();if(a===!1){At&&At.kill(),At=a;return}var e=a instanceof nt?a:Di(a);return At&&At.target===e.target&&At.kill(),ko(e.target)&&(At=e),e};Ce.core={_getVelocityProp:cs,_inputObserver:An,_scrollers:Oe,_proxies:ro,bridge:{ss:function(){Vt||Ro("scrollStart"),Vt=St()},ref:function(){return Mt}}};xn()&&Y.registerPlugin(Ce);var cr=function(){var a=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(b){b.preventDefault(),t(++a%e.children.length)},!1);function r(b){return e.appendChild(b.dom),b}function t(b){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===b?"block":"none";a=b}var o=(performance||Date).now(),s=o,n=0,i=r(new cr.Panel("FPS","#0ff","#002")),c=r(new cr.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new cr.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:e,addPanel:r,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){n++;var b=(performance||Date).now();if(c.update(b-o,200),b>=s+1e3&&(i.update(n*1e3/(b-s),100),s=b,n=0,p)){var d=performance.memory;p.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return b},update:function(){o=this.end()},domElement:e,setMode:t}};cr.Panel=function(a,e,r){var t=1/0,o=0,s=Math.round,n=s(window.devicePixelRatio||1),i=80*n,c=48*n,p=3*n,b=2*n,d=3*n,v=15*n,f=74*n,h=30*n,D=document.createElement("canvas");D.width=i,D.height=c,D.style.cssText="width:80px;height:48px";var x=D.getContext("2d");return x.font="bold "+9*n+"px Helvetica,Arial,sans-serif",x.textBaseline="top",x.fillStyle=r,x.fillRect(0,0,i,c),x.fillStyle=e,x.fillText(a,p,b),x.fillRect(d,v,f,h),x.fillStyle=r,x.globalAlpha=.9,x.fillRect(d,v,f,h),{dom:D,update:function(Q,S){t=Math.min(t,Q),o=Math.max(o,Q),x.fillStyle=r,x.globalAlpha=1,x.fillRect(0,0,i,v),x.fillStyle=e,x.fillText(s(Q)+" "+a+" ("+s(t)+"-"+s(o)+")",p,b),x.drawImage(D,d+n,v,f-n,h,d,v,f-n,h),x.fillRect(d+f-n,v,n,h),x.fillStyle=r,x.globalAlpha=.9,x.fillRect(d+f-n,v,n,s((1-Q/S)*h))}}};const Rn={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class hr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const ki=new Wn(-1,1,1,-1,0,1);class Ai extends Po{constructor(){super(),this.setAttribute("position",new Ss([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Ss([0,2,0,0,2,0],2))}}const Ri=new Ai;class In{constructor(e){this._mesh=new Fe(Ri,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ki)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Ii extends hr{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof To?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=is.clone(e.uniforms),this.material=new To({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new In(this.material)}render(e,r,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Vs extends hr{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,t){const o=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let n,i;this.inverse?(n=0,i=1):(n=1,i=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.buffers.stencil.setFunc(o.ALWAYS,n,4294967295),s.buffers.stencil.setClear(i),s.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(o.EQUAL,1,4294967295),s.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.buffers.stencil.setLocked(!0)}}class Oi extends hr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Li{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const t=e.getSize(new jt);this._width=t.width,this._height=t.height,r=new Sr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Er}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ii(Rn),this.copyPass.material.blending=Xn,this.clock=new jn}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let t=!1;for(let o=0,s=this.passes.length;o<s;o++){const n=this.passes[o];if(n.enabled!==!1){if(n.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(o),n.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),n.needsSwap){if(t){const i=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(i.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(i.EQUAL,1,4294967295)}this.swapBuffers()}Vs!==void 0&&(n instanceof Vs?t=!0:n instanceof Oi&&(t=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new jt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const t=this._width*this._pixelRatio,o=this._height*this._pixelRatio;this.renderTarget1.setSize(t,o),this.renderTarget2.setSize(t,o);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(t,o)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class zi extends hr{constructor(e,r,t=null,o=null,s=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=t,this.clearColor=o,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Pt}render(e,r,t){const o=e.autoClear;e.autoClear=!1;let s,n;this.overrideMaterial!==null&&(n=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=n),e.autoClear=o}}const Bi={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Pt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Io extends hr{constructor(e,r,t,o){super(),this.strength=r!==void 0?r:1,this.radius=t,this.threshold=o,this.resolution=e!==void 0?new jt(e.x,e.y):new jt(256,256),this.clearColor=new Pt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);this.renderTargetBright=new Sr(s,n,{type:Er}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let d=0;d<this.nMips;d++){const v=new Sr(s,n,{type:Er});v.texture.name="UnrealBloomPass.h"+d,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);const f=new Sr(s,n,{type:Er});f.texture.name="UnrealBloomPass.v"+d,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),s=Math.round(s/2),n=Math.round(n/2)}const i=Bi;this.highPassUniforms=is.clone(i.uniforms),this.highPassUniforms.luminosityThreshold.value=o,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new To({uniforms:this.highPassUniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader}),this.separableBlurMaterials=[];const c=[3,5,7,9,11];s=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);for(let d=0;d<this.nMips;d++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(c[d])),this.separableBlurMaterials[d].uniforms.invSize.value=new jt(1/s,1/n),s=Math.round(s/2),n=Math.round(n/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const p=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=p,this.bloomTintColors=[new We(1,1,1),new We(1,1,1),new We(1,1,1),new We(1,1,1),new We(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const b=Rn;this.copyUniforms=is.clone(b.uniforms),this.blendMaterial=new To({uniforms:this.copyUniforms,vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,blending:to,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Pt,this.oldClearAlpha=1,this.basic=new vt,this.fsQuad=new In(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let t=Math.round(e/2),o=Math.round(r/2);this.renderTargetBright.setSize(t,o);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(t,o),this.renderTargetsVertical[s].setSize(t,o),this.separableBlurMaterials[s].uniforms.invSize.value=new jt(1/t,1/o),t=Math.round(t/2),o=Math.round(o/2)}render(e,r,t,o,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const n=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let i=this.renderTargetBright;for(let c=0;c<this.nMips;c++)this.fsQuad.material=this.separableBlurMaterials[c],this.separableBlurMaterials[c].uniforms.colorTexture.value=i.texture,this.separableBlurMaterials[c].uniforms.direction.value=Io.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[c]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[c].uniforms.colorTexture.value=this.renderTargetsHorizontal[c].texture,this.separableBlurMaterials[c].uniforms.direction.value=Io.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[c]),e.clear(),this.fsQuad.render(e),i=this.renderTargetsVertical[c];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=n}getSeparableBlurMaterial(e){const r=[];for(let t=0;t<e;t++)r.push(.39894*Math.exp(-.5*t*t/(e*e))/e);return new To({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new jt(.5,.5)},direction:{value:new jt(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new To({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Io.BlurDirectionX=new jt(1,0);Io.BlurDirectionY=new jt(0,1);function Hi(a,e,r,t){lo();const{CUBE_SIZE:o,FIRST_CUBE_Z:s}=r,n=8,i=24,c=.075;let p,b=[],d=[],v=[],f=[];const h=(x,Q,S,T)=>{const m=new Yo(x,x,x),W=new Jo(m),j=[new Ht({color:16711680,transparent:!0,opacity:T.opacity,blending:to}),new Ht({color:65280,transparent:!0,opacity:T.opacity,blending:to}),new Ht({color:255,transparent:!0,opacity:T.opacity,blending:to}),new Ht({color:65535,transparent:!0,opacity:T.opacity,blending:to}),new Ht({color:16711935,transparent:!0,opacity:T.opacity,blending:to}),new Ht({color:16776960,transparent:!0,opacity:T.opacity,blending:to})],y=new Kt,ve=W.getAttribute("position").array,G=[];for(let C=0;C<ve.length/3;C+=2)G.push(C,C+1);const g=Array(6).fill(null).map(()=>new Po),z=Array(6).fill(null).map(()=>[]);for(let C=0;C<G.length/2;C++){const X=C%6;z[X].push(G[C*2],G[C*2+1])}return g.forEach((C,X)=>{C.setIndex(z[X]),C.setAttribute("position",W.getAttribute("position"));const ge=new gt(C,j[X]);y.add(ge)}),y.position.z=Q,y.rotation.z=S,y};return(()=>{const S=.9/(i-1);for(let G=0;G<i;G++)d[G]=new Ht({transparent:!0,opacity:1-G*S});if(p=new Kt,!p){console.error("introGroup failed to initialize");return}for(let G=0;G<i;G++){const g=o-G*n,z=h(g,0,0,d[G]),C=z.children.map(X=>X.material);f.push(C.map(X=>({material:X,originalColor:X.color.clone()}))),p.add(z)}p.position.z=s,a.add(p),b.push(p),v=d.map(G=>G.opacity);const T=me.timeline({repeat:-1});T.to(p.rotation,{x:je.degToRad(360),duration:12,ease:"none"},0),T.to(p.rotation,{y:je.degToRad(360),duration:10,ease:"none"},0),T.to(p.rotation,{z:je.degToRad(360),duration:14,ease:"none"},0);let m=-1,W=0;const j=c*1e3,y=i*j,ve=G=>{const g=G%y/j,z=Math.floor(g)%i;m!==-1&&G-W>=j&&(f[m].forEach(ge=>{ge.material.opacity=v[m],ge.material.color.copy(ge.originalColor)}),m=-1),m===-1&&z!==m&&(m=z,W=G,f[m].forEach(X=>{X.material.opacity=1,X.material.color.set(1,1,1)})),requestAnimationFrame(ve)};requestAnimationFrame(ve)})(),{introCubes:b}}class ts extends $n{constructor(e,r={}){const t=r.font;if(t===void 0)super();else{const o=t.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(o,r)}this.type="TextGeometry"}}function Fi(a,e,r,t,o,s,n,i){const c=lo(),p=Oo(),{CUBE_SIZE:b,CUBE_SPACING:d,FIRST_CUBE_Z:v}=e,f=v-(r.length+1)*d,h=65535,D=16711935,x=(h>>16&255)/255,Q=(h>>8&255)/255,S=(h&255)/255,T=(D>>16&255)/255,m=(D>>8&255)/255,W=(D&255)/255,j=je.degToRad(15),y=1e3,ve=.5,G=65280,g=80,z=1,C=15,X=.1,ge="ENTER TO LEARN MORE",de=c.isMobile?1:.5,Be=40,ae=.125,ye=100,K=8,l=c.isMobile?2.5:2,le=c.isMobile?4:3.5,ne=1;let ue=[];ue.length=0;let Me=[],$e=!1,Ae=new Zn,Le=new jt,Re=null,Te=null,F=null,I=!1,_e=null;const A=new Map,$=new Map,Z=new Map,pe=(M,J,P,fe,V,ee,we)=>{const R=new Kt;R.name="group",R.position.z=P,R.rotation.z=fe,R.userData.isActive=!1,R.userData.cubeIndex=we;const te=new Yo(J,J,J),B=new Jo(te),re=new Ht({color:new Pt(h),transparent:!0,opacity:0}),ze=new gt(B,re);ze.geometry.computeBoundingSphere(),R.add(ze);let Ye="right";const Ee=J/2,yt=()=>{const k=c.isMobile?2:1,N=25*k,he=40*k,E=new Es(he,75),H=new Jo(E),w=new Ht({color:new Pt(h),transparent:!0,opacity:0,visible:!0}),_=new gt(H,w);_.name="portal",_.userData.isPortal=!0,_.userData.isAnimating=!1,_.geometry.computeBoundingSphere();const xe=80*k,O=new fo(xe,xe),se=new vt({visible:!1,side:qt}),L=new Fe(O,se);L.userData.isPortalHitbox=!0,L.userData.portal=_,L.geometry.computeBoundingSphere();const oe=new Kt,U=z*k,ce=C*k,ie=new fo(U,ce),q=(N+he)/2;for(let Je=0;Je<g;Je++){const zt=new vt({color:new Pt(D),transparent:!0,opacity:0,visible:!1,side:qt}),rt=new Fe(ie,zt),at=Je/g*Math.PI*2;rt.position.set(Math.cos(at)*q,Math.sin(at)*q,0),rt.rotation.z=at+Math.PI/2,rt.userData.baseOpacity=.01,rt.userData.index=Je,rt.geometry.computeBoundingSphere(),oe.add(rt)}_.userData.pulsesGroup=oe;const be=2*k,Ne=25;for(let Je=1;Je<Ne;Je++){const zt=new Es(he,75),rt=new Jo(zt),at=je.lerp(.125,.1,Je/(Ne-1)),so=new Ht({color:new Pt(h),transparent:!0,opacity:0}),Ct=new gt(rt,so);Ct.userData.isPortal=!0,Ct.userData.maxOpacity=at,Ct.position.z=-Je*be,Ct.geometry.computeBoundingSphere(),_.add(Ct)}_.userData.maxOpacity=.125;let Pe=null;if(i.value){const Je=3*k,zt=new ts(ge,{font:i.value,size:Je,depth:0,curveSegments:4,bevelEnabled:!1});zt.computeBoundingBox(),zt.center();const rt=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),at=new Fe(zt,rt);at.visible=!1,at.userData.isVisible=!1,at.userData.isExploreText=!0,at.userData.skipTextMeshes=!0;const so=-45*k;at.position.set(0,so,0),at.name="textMesh",_.add(at),_.userData.exploreText=at;const Ct=zt.boundingBox,On=(Ct.max.x-Ct.min.x+10)*k,Ln=(Ct.max.y-Ct.min.y+10)*k,zn=new fo(On,Ln),Bn=new vt({transparent:!0,opacity:0,side:qt,visible:!1});Pe=new Fe(zn,Bn),Pe.position.set(0,so,0),Pe.userData.isExploreTextHitbox=!0,Pe.userData.portal=_,Pe.geometry.computeBoundingSphere(),Pe.name="textHitbox",_.add(Pe),_.userData.exploreTextHitbox=Pe;const Hn=5,Wr=new ts(M.title,{font:i.value,size:Hn,depth:0,curveSegments:4,bevelEnabled:!1});Wr.computeBoundingBox(),Wr.center();const Fn=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),xo=new Fe(Wr,Fn);xo.visible=!1,xo.userData.isVisible=!1,xo.userData.isTitleText=!0,xo.userData.skipTextMeshes=!0;const Nn=c.isMobile?c.orientation==="portrait"?100:106:60;xo.position.set(0,Nn,0),_.add(xo),_.userData.titleText=xo}else console.warn("Font not loaded yet; 'EXPLORE' text skipped for this portal.");const Se=new Kt;Se.name="closeGroup",Se.position.set(c.isMobile?he-10:he,he,2);const ct=new fo(12,c.isMobile?1:.5),Jt=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),wo=new Fe(ct,Jt);wo.rotation.z=Math.PI/4;const ut=new Fe(ct,Jt);ut.rotation.z=-Math.PI/4,Se.add(wo,ut);const ot=new fo(15*k,15*k),Wt=new vt({side:qt,visible:!1}),co=new Fe(ot,Wt);switch(co.userData.isCloseHitbox=!0,co.geometry.computeBoundingSphere(),co.renderOrder=2,Se.add(co),Ye){case"left":_.position.set(-Ee,0,0),_.rotation.y=Math.PI/2,L.position.set(-Ee,0,0),L.rotation.y=Math.PI/2,fe>=je.degToRad(120)&&(_.rotation.z=Math.PI),oe.children.forEach(Je=>Je.position.x+=X);break;case"top":_.position.set(0,-Ee,0),_.rotation.x=-Math.PI/2,_.rotation.z=-Math.PI/2,L.position.set(0,-Ee,0),L.rotation.x=Math.PI/2,fe>=je.degToRad(100)&&fe>=je.degToRad(180)&&(_.rotation.z=Math.PI/2),oe.children.forEach(Je=>Je.position.y+=X);break;case"right":_.position.set(Ee,0,0),_.rotation.y=-Math.PI/2,L.position.set(Ee,0,0),L.rotation.y=-Math.PI/2,fe>=je.degToRad(120)&&(_.rotation.z=Math.PI),oe.children.forEach(Je=>Je.position.x+=X);break;case"bottom":_.position.set(0,Ee,0),_.rotation.x=Math.PI/2,_.rotation.z=-Math.PI/2,L.position.set(0,Ee,0),L.rotation.x=Math.PI/2,oe.children.forEach(Je=>Je.position.y+=X);break}_.add(Se),_.userData.closeButton=Se,Se.updateMatrixWorld(!0),_.add(oe),R.add(_),R.add(L),R.userData.closeButton=Se,_.updateMatrixWorld(!0),oe.updateMatrixWorld(!0),Se.updateMatrixWorld(!0),A.set(R,[]),$.set(R,0),Z.set(R,0)},Tt=k=>{(k instanceof gt||k instanceof Fe)&&k.geometry&&k.geometry.computeBoundingSphere(),R.add(k)};if(V&&s.showKeyarts){switch(["left","top","right","bottom"].includes(ee)?ee:"left"){case"left":Ye="right";break;case"top":Ye="bottom";break;case"right":Ye="left";break;case"bottom":Ye="top";break}const N=n.get(V);if(N){const he=new fo(J-1,J-1),E=new vt({map:N,transparent:!0,opacity:0,blending:to,side:qt}),H=new Fe(he,E);switch(H.userData.isLoaded=!0,ee){case"left":H.position.set(-Ee,0,0),fe>=je.degToRad(120)?(H.rotation.y=Math.PI/2,H.rotation.z=-Math.PI):H.rotation.y=Math.PI/2;break;case"top":H.position.set(0,-Ee,0),H.rotation.x=-Math.PI/2,H.rotation.z=-Math.PI/2;break;case"right":H.position.set(Ee,0,0),fe>=je.degToRad(120)?(H.rotation.y=-Math.PI/2,H.rotation.z=-Math.PI):H.rotation.y=-Math.PI/2;break;case"bottom":H.position.set(0,Ee,0),fe>=je.degToRad(180)?fe>=je.degToRad(220)?(H.rotation.x=Math.PI/2,H.rotation.z=Math.PI/2):(H.rotation.x=-Math.PI/2,H.rotation.z=Math.PI/2):(H.rotation.x=Math.PI/2,H.rotation.z=-Math.PI/2);break}H.geometry.computeBoundingSphere(),Tt(H),yt()}else console.warn(`Keyart texture not preloaded for ${M.title}: ${V}`),yt()}else yt();R.userData.portalLocation=Ye;{const k=(xe,O,se,L)=>{const oe=new fo(J-1,J-1),U={map:xe,transparent:!0,opacity:0,blending:to,side:qt,depthWrite:!1};L&&(U.color=L);const ce=new vt(U),ie=new Fe(oe,ce);ie.position.copy(O),se.x&&(ie.rotation.x=se.x),se.y&&(ie.rotation.y=se.y),ie.userData.isGridPlane=!0,ie.geometry.computeBoundingSphere(),Tt(ie)},N=n.get(t),he=n.get(o),E=["left","top","right","bottom"],w=[V&&s.showKeyarts?ee||"left":null,Ye].filter(Boolean),_=E.filter(xe=>!w.includes(xe));if(N)switch(k(N,new We(0,0,-J/2-1),{y:0}),k(N,new We(0,0,J/2+1),{y:0},new Pt(16744448)),_[0]){case"left":k(N,new We(-Ee,0,0),{y:-Math.PI/2},new Pt(255));break;case"top":k(N,new We(0,Ee,0),{x:Math.PI/2},new Pt(255));break;case"right":k(N,new We(Ee,0,0),{y:Math.PI/2},new Pt(255));break;case"bottom":k(N,new We(0,-Ee,0),{x:-Math.PI/2},new Pt(255));break}else console.warn(`Grid texture not preloaded: ${t}`);if(he)switch(_[1]){case"left":k(he,new We(-Ee,0,0),{y:-Math.PI/2});break;case"top":k(he,new We(0,Ee,0),{x:Math.PI/2});break;case"right":k(he,new We(Ee,0,0),{y:Math.PI/2});break;case"bottom":k(he,new We(0,-Ee,0),{x:-Math.PI/2});break}else console.warn(`Grid texture not preloaded: ${o}`)}R.children.forEach(k=>{k.updateMatrixWorld(!0),k instanceof Kt&&k.children.forEach(N=>{N.updateMatrixWorld(!0)})}),R.updateMatrixWorld(!0);const ht=new nn().setFromObject(R),Lt=new an;return ht.getBoundingSphere(Lt),R.boundingSphere=Lt,R},u=new sn,Ue=(M,J,P,fe,V)=>{if(!i.value){console.warn("Font not available; skipping text creation for:",M);const ht=new Po,Lt=new vt({visible:!1});return new Fe(ht,Lt)}const ee=new ts(M,{font:i.value,size:V,depth:0,curveSegments:4,bevelEnabled:!1});ee.computeBoundingBox(),ee.center();const we=new vt({color:16777215,transparent:!0,opacity:0,side:qt}),R=new Fe(ee,we);R.position.set(J,P,fe);const te=ee.boundingBox,B=te.max.x-te.min.x,re=te.max.y-te.min.y,ze=B+8,Ye=re+4,Ee=new fo(ze,Ye),yt=new vt({color:0,transparent:!0,opacity:0,side:qt}),Tt=new Fe(Ee,yt);return Tt.position.set(J,P,fe-1),a.add(Tt),a.add(R),R.userData.backgroundPlane=Tt,R},Ge=()=>{const M=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r);let J=0;M.forEach((P,fe)=>{const V=v-(fe+1)*d,ee=(fe+1)*j,we=pe(P,b,V,ee,P.keyart,P.keyartLocation,J);a.add(we),ue.push(we),J++,Ue(P.title,0,P.size-15,v+90-(fe+1)*d,P.size)}),a.traverse(P=>{var fe;P instanceof Fe&&((fe=P.geometry)==null?void 0:fe.type)==="TextGeometry"&&!P.userData.skipTextMeshes&&Me.push(P)})},Ke=()=>$e?Promise.resolve({projectCubes:ue,updateCubeColors:Ze,maxZ:f}):(Ge(),$e=!0,Promise.resolve({projectCubes:ue,updateCubeColors:Ze,maxZ:f})),He=M=>{if(M.userData.isAnimating)return;M.userData.isAnimating=!0;const J=M.userData.pulsesGroup;if(!J){console.warn("Pulses group not found in portal.userData");return}const P=J.children,fe=P.length,V=me.timeline({repeat:-1,defaults:{ease:"none"}}),ee={value:0};V.to(ee,{value:1,duration:1.5,onUpdate:()=>{P.forEach(R=>{const te=R.material;if(te.visible){const B=(R.userData.index/fe+ee.value)%1,ze=(Math.sin(B*Math.PI*2)+1)/2;te.opacity=.01+(1-.01)*Math.pow(ze,4)}})}}),M.userData.animationTimeline=V},et=M=>{if(!M.userData.isAnimating)return;M.userData.isAnimating=!1;const J=M.userData.pulsesGroup;if(!J){console.warn("Pulses group not found in portal.userData");return}M.userData.animationTimeline&&(M.userData.animationTimeline.kill(),delete M.userData.animationTimeline),J.children.forEach(P=>{const fe=P.material;fe.opacity=0})},tt=(M,J)=>{let P;const fe=(Z.get(M)||0)+1;Z.set(M,fe),fe%K===0?P=new Vn(l,le,12,1):P=new Yo(de,de,de);const V=new vt({color:16777215,transparent:!0,opacity:0}),ee=new Fe(P,V);ee.position.set(0,0,0);const we=J.position.clone(),R=we.clone().normalize(),te=we.length()+ye;if(fe%K===0){const re=ee.position.clone().add(R);ee.lookAt(re),ee.rotateX(Math.PI/2)}M.add(ee),me.to(V,{opacity:.5,duration:ne,ease:"power2.in",overwrite:"auto"});const B=A.get(M)||[];B.push({mesh:ee,direction:R,distanceTraveled:0,totalDistance:te}),A.set(M,B)},it=M=>{(A.get(M)||[]).forEach(P=>{M.remove(P.mesh),P.mesh.geometry.dispose(),P.mesh.material.dispose()}),A.set(M,[])},Ze=M=>{u.setFromProjectionMatrix(M.projectionMatrix.clone().multiply(M.matrixWorldInverse));const J=M.position.z;ue.forEach((P,fe)=>{const V=P.boundingSphere;if(V){const te=V.clone();if(te.radius*=1.5,!u.intersectsSphere(te))return}else console.warn(`Cube ${fe} has no boundingSphere`);const ee=P.position.z,we=Math.abs(J-ee);let R=0;we<=y&&(R=1-we/y),P.userData.isActive=R>=ve,P.children.forEach(te=>{if(te instanceof gt&&!te.userData.isPortal&&!te.userData.isPortalHitbox){const B=te.material;if(we<=y){const re=je.lerp(x,T,R),ze=je.lerp(Q,m,R),Ye=je.lerp(S,W,R);B.color.set(re,ze,Ye),B.opacity=Math.min(1,R*2)}else B.opacity=0}else if(te instanceof gt&&te.userData.isPortal){te.children.forEach(re=>{if(re instanceof Fe&&re.userData.isExploreText){const ze=re.material;if(re===te.userData.titleText&&I)return;if(we<=y){const Ye=1-we/y;ze.opacity=Math.min(1,Ye*2),re.visible=!0}else ze.opacity=0,re.visible=!1}});const B=te.userData.pulsesGroup;R>.1?B&&B.children.forEach(re=>{re instanceof Fe&&(re.material.visible=!0,!te.userData.animationStarted&&s.showPortalPulses&&(He(te),te.userData.animationStarted=!0))}):R<=.1&&te.userData.animationStarted&&(B&&B.children.forEach(re=>{re instanceof Fe&&(re.material.visible=!1)}),et(te),delete te.userData.animationStarted)}else if(te instanceof Fe&&!te.userData.isPortalHitbox&&!te.userData.isCloseHitbox){const B=te.material;if(te.userData.isLoaded||te.userData.isGridPlane)if(we<=y){const re=1-we/y;B.opacity=Math.min(.8,re*2),te.visible=!0}else B.opacity=0,te.visible=!1}})}),Me.forEach(P=>{if(!u.intersectsObject(P))return;const fe=P.material,V=P.userData.backgroundPlane,ee=V==null?void 0:V.material,we=P.position.z,R=Math.abs(J-we+120);if(I){fe.opacity=0,ee&&(ee.opacity=0);return}if(R<=y){const te=1-R/y,B=Math.min(1,te*2);fe.opacity=B,ee&&(ee.opacity=B*.8)}else fe.opacity=0,ee&&(ee.opacity=0)})},Yt=(M,J)=>{const P=performance.now()/1e3,fe=M.position.z;ue.forEach(V=>{const ee=V.position.z;if(Math.abs(fe-ee+90)<=y&&!I){const R=$.get(V)||0;if(P-R>=ae){const re=V.children.find(ze=>ze instanceof gt&&ze.userData.isPortal);re&&(tt(V,re),$.set(V,P))}const B=(A.get(V)||[]).filter(re=>{if(re.distanceTraveled+=Be*J,re.mesh.position.copy(re.direction.clone().multiplyScalar(re.distanceTraveled)),(re.totalDistance-re.distanceTraveled)/Be<=ne&&!re.isFadingOut){re.isFadingOut=!0;const Ee=re.mesh.material;me.to(Ee,{opacity:0,duration:ne,ease:"power2.out",overwrite:"auto"})}return re.distanceTraveled>=re.totalDistance?(V.remove(re.mesh),re.mesh.geometry.dispose(),re.mesh.material.dispose(),!1):!0});A.set(V,B)}else it(V)})},qe=M=>{const J=[M,...M.children.filter(V=>V instanceof gt&&V.userData.isPortal)],P=2,fe=.1;J.forEach((V,ee)=>{const we=V.material;we.opacity=V.userData.maxOpacity;const R=me.timeline({repeat:-1,delay:ee*fe});R.to(we,{opacity:0,duration:P/2,ease:"power2.inOut"}).to(we,{opacity:V.userData.maxOpacity,duration:P/2,ease:"power2.inOut"}),V.userData.marqueeTimeline=R})},wt=M=>{const J=[M,...M.children.filter(P=>P instanceof gt&&P.userData.isPortal)];J.forEach(P=>{P.userData.marqueeTimeline&&(P.userData.marqueeTimeline.kill(),delete P.userData.marqueeTimeline)}),M.userData.ringExpandTimeline&&(M.userData.ringExpandTimeline.kill(),delete M.userData.ringExpandTimeline),J.forEach((P,fe)=>{const V=P.material;me.killTweensOf(P.position),me.killTweensOf(V),P.position.z=-fe*2,V.opacity=0})};return{getInitializedData:Ke,updateCubeColors:Ze,setupInteractivity:(M,J,P,fe,V)=>{_e=fe;let ee=null,we=null,R=null,te=!1,B=!1,re=!1,ze=!1,Ye=!1;const Ee=w=>{I&&(ee=w.touches[0].clientY,we=we??window.scrollY,te=!0)},yt=w=>{if(!I||!R||!ee||ze)return;const xe=w.touches[0].clientY-ee;c.isMobile&&xe<-50&&!B&&(w.cancelable&&w.preventDefault(),Lt(),ee=null)},Tt=w=>{ee=null,te=!1,re=!0,me.delayedCall(.5,()=>{re=!1})},ht=w=>{if(te||B||re||ze){w.preventDefault(),w.stopPropagation(),we!==null&&(window.scrollTo(0,we),me.to(window,{scrollTo:{y:we},duration:0}));return}if(!I||!R||!Te||!F)return;if(c.isMobile){w.preventDefault(),w.stopPropagation();return}let _=0;if(w instanceof WheelEvent?_=w.deltaY:_=window.scrollY-(we||0),w.preventDefault(),w.stopPropagation(),_>0){window.scrollTo(0,we);return}_<0&&Lt()},Lt=()=>{const w=R,_=F?F.clone():new We(0,0,f),xe=(Te==null?void 0:Te.z)??M.position.z,O=w==null?void 0:w.parent,se=w?ue.indexOf(O):-1;if(ze=!0,w){wt(w);const U=w.userData.titleText;if(U){const ce=U.material;me.to(ce,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{U.visible=!1}})}if(w.userData.closeButton){const ce=w.userData.closeButton,ie=ce.children.filter(q=>q instanceof Fe&&!q.userData.isCloseHitbox).map(q=>q.material);ie.length>0&&me.to(ie,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{ce.visible=!1}})}}me.to(M.position,{x:(Te==null?void 0:Te.x)??M.position.x,y:(Te==null?void 0:Te.y)??M.position.y,z:xe,duration:2,ease:"power3.inOut",overwrite:"auto",onStart:()=>{const U=Me[se];if(se!==-1&&U){const ce=U.material,ie=U.userData.backgroundPlane,q=Math.abs(M.position.z-U.position.z+120),be=q<=y?Math.min(1,(1-q/y)*2):0;me.to(ce,{opacity:be,duration:.5,ease:"power2.in"}),ie&&me.to(ie.material,{opacity:be*.8,duration:.5,ease:"power2.in"})}},onUpdate:()=>{const U=oe.progress,ce=je.lerp(L.x,_.x,U),ie=je.lerp(L.y,_.y,U),q=je.lerp(L.z,_.z,U);M.lookAt(ce,ie,q),M.updateMatrixWorld(!0)},onComplete:()=>{M.lookAt(_),I=!1,R=null,document.body.classList.remove("no-scrollbar"),c.isMobile&&(document.body.style.overflow=""),_e&&_e(!1),we=null,Te=null,F=null,M.userData.lockedLookAt=null,ze=!1,ue.forEach(U=>{Math.abs(M.position.z-U.position.z+90)<=y&&$.set(U,0)})}});const L=M.userData.lockedLookAt?M.userData.lockedLookAt.clone():M.getWorldDirection(new We).multiplyScalar(1e3).add(M.position),oe={progress:0};me.to(oe,{progress:1,duration:2,ease:"power3.inOut",overwrite:"auto"})},k=(w,_=!0)=>{const xe=[w,...w.children.filter(L=>L instanceof gt&&L.userData.isPortal)],O=_?25:2,se=me.timeline({onComplete:()=>{_&&xe[0]===w&&qe(w)}});xe.forEach((L,oe)=>{let U=-oe*O;(w.position.y>0&&w.rotation.x===-Math.PI/2||w.position.y<0&&w.rotation.x===Math.PI/2)&&(U=oe*O);const ce=_?L.userData.maxOpacity:0;se.to(L.position,{z:U,duration:1,ease:"power3.out",delay:.5},0),se.to(L.material,{opacity:ce,duration:1,ease:"power3.out",delay:.5},0)}),w.userData.ringExpandTimeline=se},N=w=>{Le.x=w.clientX/window.innerWidth*2-1,Le.y=-(w.clientY/window.innerHeight)*2+1,Ae.setFromCamera(Le,M),M.userData.lockedLookAt&&(M.lookAt(M.userData.lockedLookAt),M.updateMatrixWorld(!0)),ue.forEach(O=>{O.userData.lockedPosition&&(O.position.equals(O.userData.lockedPosition)||O.position.copy(O.userData.lockedPosition)),O.updateMatrixWorld(!0),O.children.forEach(se=>se.updateMatrixWorld(!0))});const _=ue.flatMap(O=>{const se=[];return!I&&O.userData.isActive&&O.children.forEach(L=>{L instanceof Fe&&(L.userData.isPortalHitbox||L.userData.isExploreTextHitbox)&&se.push(L)}),I&&R&&O===R.parent&&O.children.forEach(L=>{if(L instanceof Fe&&L.userData.isPortalHitbox&&se.push(L),L instanceof gt&&L.userData.isPortal){const oe=L;oe.children.forEach(U=>{U instanceof Fe&&U.userData.isExploreTextHitbox&&se.push(U),U instanceof Kt&&U===oe.userData.closeButton&&U.children.forEach(ce=>{ce instanceof Fe&&ce.userData.isCloseHitbox&&se.push(ce)})})}}),se}),xe=Ae.intersectObjects(_);if(xe.length>0){const O=xe[0].object;if(O.userData.isPortalHitbox||O.userData.isExploreTextHitbox){const se=O.userData.portal;Re!==se&&(Re&&[Re,...Re.children.filter(U=>U instanceof gt&&U.userData.isPortal)].forEach(U=>{const ce=U.material;me.to(ce.color,{r:(h>>16&255)/255,g:(h>>8&255)/255,b:(h&255)/255,duration:.5})}),Re=se,[Re,...Re.children.filter(oe=>oe instanceof gt&&oe.userData.isPortal)].forEach(oe=>{const U=oe.material;me.to(U.color,{r:(G>>16&255)/255,g:(G>>8&255)/255,b:(G&255)/255,duration:.5})})),J.style.cursor="pointer"}else if(O.userData.isCloseHitbox&&I){if(!Ye){Ye=!0;const se=O.parent;me.to(se.rotation,{z:Math.PI/2,duration:.3,ease:"power2.inOut"})}J.style.cursor="pointer"}}else{if(Re&&([Re,...Re.children.filter(se=>se instanceof gt&&se.userData.isPortal)].forEach(se=>{const L=se.material;me.to(L.color,{r:(h>>16&255)/255,g:(h>>8&255)/255,b:(h&255)/255,duration:.5})}),Re=null),I&&R&&Ye){const O=R.userData.closeButton;O&&(Ye=!1,me.to(O.rotation,{z:0,duration:.3,ease:"power2.inOut"}))}J.style.cursor="auto"}},he=w=>{if(ze)return;Le.x=w.clientX/window.innerWidth*2-1,Le.y=-(w.clientY/window.innerHeight)*2+1,Ae.setFromCamera(Le,M);const _=ue.flatMap(ie=>{const q=[];return I&&R&&ie===R.parent&&ie.children.forEach(be=>{if(be instanceof gt&&be.userData.isPortal){const Ne=be;Ne.children.forEach(Pe=>{Pe instanceof Kt&&Pe===Ne.userData.closeButton&&Pe.children.forEach(Se=>{Se instanceof Fe&&Se.userData.isCloseHitbox&&q.push(Se)})})}}),q}),xe=ue.flatMap(ie=>{const q=[];return!I&&ie.userData.isActive&&ie.children.forEach(be=>{be instanceof Fe&&(be.userData.isPortalHitbox||be.userData.isExploreTextHitbox)&&q.push(be)}),I&&R&&ie===R.parent&&ie.children.forEach(be=>{be instanceof Fe&&be.userData.isPortalHitbox&&q.push(be),be instanceof gt&&be.userData.isPortal&&be.children.forEach(Ne=>{Ne instanceof Fe&&Ne.userData.isExploreTextHitbox&&q.push(Ne)})}),q});let O=Ae.intersectObjects(_);for(const ie of O)if(ie.object.userData.isCloseHitbox){Lt();return}if(O=Ae.intersectObjects(xe),O.length===0)return;const L=O[0].object.userData.portal,oe=L.parent,U=ue.indexOf(oe),ce=r[U];if(I&&L===R){let ie=new We;const q=e.CUBE_SIZE/2;L.position.x===q?ie.set(-1,0,0):L.position.x===-q?ie.set(1,0,0):L.position.y===q?ie.set(0,-1,0):L.position.y===-q&&ie.set(0,1,0),ie.applyQuaternion(oe.getWorldQuaternion(new qn)).normalize();const Ne=M.position.clone().clone().add(ie.clone().multiplyScalar(-675)),Pe=ie.clone().multiplyScalar(-1e3),Se=Ne.clone().add(Pe);ze=!0,me.to(M.position,{x:Ne.x,y:Ne.y,z:Ne.z,duration:1,ease:"power2.in",onUpdate:()=>M.lookAt(Se),onStart:()=>{me.to(P.domElement,{opacity:0,duration:1,ease:"power2.in",overwrite:"auto"})},onComplete:()=>{ce!=null&&ce.slug&&(p.setScrollPosition(window.scrollY),Js.visit(route("project.show",{project:ce.slug}),{preserveScroll:!1})),ze=!1}})}else if(!I){Te||(Te=M.position.clone(),F=new We(0,0,f)),_e&&fe(!0,Te,F);const ie=L.getWorldPosition(new We);B=!0,ze=!0,we=window.scrollY,me.to(M.position,{x:0,y:0,z:oe.getWorldPosition(new We).z,duration:2,ease:"power3.out",overwrite:"all",onStart:()=>{I=!0,R=L,document.body.classList.add("no-scrollbar"),c.isMobile&&(document.body.style.overflow="hidden"),oe.userData.lockedPosition=oe.position.clone(),it(oe);const q=Me[U];if(q){const Ne=q.material,Pe=q.userData.backgroundPlane;me.to(Ne,{opacity:0,duration:.5,ease:"power2.out"}),Pe&&me.to(Pe.material,{opacity:0,duration:.5,ease:"power2.out"})}const be=L.userData.titleText;if(be){be.visible=!0;const Ne=be.material;me.to(Ne,{opacity:1,duration:1,ease:"power2.in",delay:.5})}if(L.userData.closeButton){const Ne=L.userData.closeButton;Ne.visible=!0;const Pe=Ne.children.filter(Se=>Se instanceof Fe&&!Se.userData.isCloseHitbox).map(Se=>Se.material);Pe.length>0&&me.to(Pe,{opacity:1,duration:.5,ease:"power2.in",delay:.5})}},onComplete:()=>{k(L,!0),B=!1,ze=!1,M.userData.lockedLookAt=ie.clone()}}),me.to({},{duration:2,ease:"power2.out",overwrite:"all",onUpdate:function(){const q=this.progress(),be=M.getWorldDirection(new We).multiplyScalar(1e3).add(M.position),Ne=je.lerp(be.x,ie.x,q),Pe=je.lerp(be.y,ie.y,q),Se=je.lerp(be.z,ie.z,q);M.lookAt(Ne,Pe,Se)},onComplete:()=>{M.lookAt(ie.x,ie.y,ie.z),M.updateMatrixWorld(!0)}})}};J.addEventListener("mousemove",N),J.addEventListener("click",he),J.addEventListener("touchstart",Ee,{passive:!1}),J.addEventListener("touchmove",yt,{passive:!1}),J.addEventListener("touchend",Tt,{passive:!0}),window.addEventListener("wheel",ht,{passive:!1}),window.addEventListener("scroll",ht,{passive:!1});const E=()=>{A.forEach((w,_)=>{w.forEach(xe=>{_.remove(xe.mesh),xe.mesh.geometry.dispose(),xe.mesh.material.dispose()})}),A.clear(),$.clear(),Z.clear()},H=()=>{J.removeEventListener("mousemove",N),J.removeEventListener("click",he),J.removeEventListener("touchstart",Ee),J.removeEventListener("touchmove",yt),J.removeEventListener("touchend",Tt),window.removeEventListener("wheel",ht),window.removeEventListener("scroll",ht),R&&wt(R),c.isMobile&&(document.body.style.overflow="")};return()=>{H(),E()}},updateClickHereParticles:Yt}}function Ni(a,e,r,t){const o=lo(),s=100,n=100,i=300,c=3355443,p=o.isMobile?24:32,b=-600,d=-500,v=500,f=o.isMobile?5:10,h=.05,D=1,x=o.isMobile?6:4,Q=o.isMobile?4:6,S=100,T=-450,m=60,W=r-v,j=Math.abs(d-W),y=Math.ceil(j/s),ve=()=>{const l=new Kt;let le=null,ne=null;const ue=[],Me=[],$e=[],Ae=[],Le=[];{const Re=new Yo(s,s,s),Te=new Jo(Re),F=p*y,I=new Qn;I.copy(Te),I.instanceCount=F;const _e=new Ht({color:c,transparent:!0,fog:!0,vertexColors:!0}),A=new Float32Array(F*3),$=new Float32Array(F*3),Z=new Float32Array(F*3),pe=p*s,u=-pe/2+s/2,Ue=d;for(let P=0;P<p;P++){const fe=G(P);for(let V=0;V<y;V++){const ee=P*y+V,we=u+P*s,R=Ue-V*s,te=je.randFloat(n,i),B=te/s,re=b+te/2;A[ee*3]=we,A[ee*3+1]=re,A[ee*3+2]=R,$[ee*3]=1,$[ee*3+1]=B,$[ee*3+2]=1,Z[ee*3]=fe,Z[ee*3+1]=fe,Z[ee*3+2]=fe}}I.setAttribute("instancePosition",new Xr(A,3)),I.setAttribute("instanceScale",new Xr($,3)),I.setAttribute("color",new Xr(Z,3)),_e.onBeforeCompile=P=>{P.vertexShader=`
                    attribute vec3 instancePosition;
                    attribute vec3 instanceScale;
                    ${P.vertexShader}
                `.replace("#include <begin_vertex>",`#include <begin_vertex>
                    transformed *= instanceScale;
                    transformed += instancePosition;`)},le=new gt(I,_e);const Ge=-pe/2,Ke=pe/2,He=b,et=b+i,tt=W,it=d;I.boundingBox=new nn(new We(Ge,He,tt),new We(Ke,et,it));const Ze=(Ge+Ke)/2,Yt=(He+et)/2,qe=(tt+it)/2,wt=Ke-Ge,bt=et-He,M=it-tt,J=Math.sqrt(wt*wt+bt*bt+M*M)/2;I.boundingSphere=new an(new We(Ze,Yt,qe),J),l.add(le)}{ne=new Kt;const Re=p*s/(Q-1),Te=-(p*s)/2;for(let I=0;I<Q;I++){let A=Te+I*Re,$=d;const Z=[new We(A,T,$)];let pe=0;for(;$>W;){const u=$===d?je.randFloat(300,800):Math.min(je.randFloat(300,800),Math.abs($-W));if($-=u,Z.push(new We(A,T,$)),pe+=u,$<=W){Z[Z.length-1].z=W;break}const Ue=Math.random()<.5?-1:1,Ge=je.randFloat(100,300);A+=Ue*Ge,Z.push(new We(A,T,$)),pe+=Ge}Me.push({points:Z,totalLength:pe})}const F=new Yo(x,x,x);for(let I=0;I<Q;I++){const _e=Me[I],A=_e.totalLength,$=A/m;for(let Z=0;Z<m;Z++){const pe=new vt({color:16711680,fog:!0}),u=new Fe(F,pe),Ue=Z*$;let Ge=Ue;for(let Ke=0;Ke<_e.points.length-1;Ke++){const He=_e.points[Ke],et=_e.points[Ke+1],tt=He.distanceTo(et);if(Ge<=tt){const it=Ge/tt;u.position.lerpVectors(He,et,it);break}Ge-=tt}ue.push(u),$e.push(Ue),Ae.push(I),Le.push(1),ne.add(u)}for(let Z=0;Z<m;Z++){const pe=new vt({color:16777215,fog:!0}),u=new Fe(F,pe),Ue=A-(Z*$+$/2);let Ge=A-Ue;const Ke=[..._e.points].reverse();for(let He=0;He<Ke.length-1;He++){const et=Ke[He],tt=Ke[He+1],it=et.distanceTo(tt);if(Ge<=it){const Ze=Ge/it;u.position.lerpVectors(et,tt,Ze);break}Ge-=it}ue.push(u),$e.push(Ue),Ae.push(I),Le.push(-1),ne.add(u)}}e.add(ne)}return e.add(l),{cityGroup:l,instancedLines:le,particleGroup:ne,particles:ue,paths:Me,particleDistances:$e,particlePaths:Ae,particleDirections:Le}},G=l=>{if(l<f){const le=(D-h)/(f-1);return h+l*le}else if(l>=p-f){const le=p-1-l,ne=(D-h)/(f-1);return h+le*ne}return D},{cityGroup:g,instancedLines:z,particleGroup:C,particles:X,paths:ge,particleDistances:de,particlePaths:Be,particleDirections:ae}=ve();return{cityGroup:g,buildingLines:z?[z]:[],updateParticles:l=>{const le=S*l;for(let ne=0;ne<X.length;ne++){const ue=ae[ne],Me=Be[ne],$e=ge[Me],Ae=$e.totalLength;de[ne]+=le*ue,ue===1?(de[ne]=de[ne]%Ae,de[ne]<0&&(de[ne]+=Ae)):de[ne]=(de[ne]+Ae)%Ae;const Le=de[ne],Re=ue===1?$e.points:[...$e.points].reverse();let Te=ue===1?Le:Ae-Le;for(let F=0;F<Re.length-1;F++){const I=Re[F],_e=Re[F+1],A=I.distanceTo(_e);if(Te<=A){const $=Te/A;X[ne].position.lerpVectors(I,_e,$);break}Te-=A}}},dispose:()=>{z&&(g.remove(z),z.geometry.dispose(),z.material.dispose()),C&&(e.remove(C),C.children.forEach(l=>{l.geometry.dispose(),l.material.dispose()})),e.remove(g)}}}me.registerPlugin(Ce);function Ui(a,e,r,t,o,s,n={},i,c){const p=lo(),b=Oo(),{CUBE_SPACING:d,FIRST_CUBE_Z:v}=s,f=(t==null?void 0:t.length)||0,h=v-(f+1)*d;let D=!1,x=!1;const Q=p.isMobile?(Math.abs(h)+(f-1)*d)*.7:Math.abs(h)+(f-1)*d;let S=me.timeline();Ce.config({ignoreMobileResize:!0});{let W=0,j=0;const y=16;S=me.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:`+=${Q}`,scrub:n.scrub,pin:!0,onUpdate:ve=>{const G=performance.now();if(G-j>=y){if(!D){const g=ve.progress,z=je.lerp(0,h,g);e.position.set(0,0,z),e.lookAt(0,0,h),W++,(W%4===0||z<1)&&b.setProgress(Math.round(Math.abs(z)))}o(e),j=G}c&&c.update()},onRefresh:()=>{e.updateProjectionMatrix()}}}),S.fromTo(e.position,{z:0},{z:h,duration:1,ease:"none"},0)}return{setReverting:W=>{D=W},timeline:S,isScrollTriggerActive:()=>x}}function Gi(a,e,r){const t=lo(),o=t.isMobile?25:20,s=t.isMobile?600:1800,n=4e3,i=-1e3,c=r-1e3,p=1e3,b=r,d=150,v=-500,f=r,h=new Po,D=new Float32Array(s*3),x=new Float32Array(s),Q=new Float32Array(s);let S=0;for(;S<s;){const ve=(Math.random()-.5)*n,G=(Math.random()-.5)*n,g=i+Math.random()*(c-i),z=g>b&&Math.abs(ve)<p&&Math.abs(G)<p,C=Math.abs(ve)<d&&Math.abs(G)<d&&g>f&&g<v;if(!z&&!C){const X=S*3;D[X]=ve,D[X+1]=G,D[X+2]=g;const ge=.1+Math.random()*(.7-.1);x[S]=ge,Q[S]=ge,S++}}h.setAttribute("position",new Ds(D,3)),h.setAttribute("opacity",new Ds(Q,1));const T=new To({uniforms:{color:{value:new Pt(1,1,1)},size:{value:o}},vertexShader:`
            attribute float opacity;
            varying float vOpacity;
            uniform float size;
            void main() {
                vOpacity = opacity;
                vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
                gl_Position = projectionMatrix * mvPosition;
            }
        `,fragmentShader:`
            uniform vec3 color;
            varying float vOpacity;
            void main() {
                float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
                float alpha = vOpacity * (1.0 - dist);
                if (alpha <= 0.0) discard;
                gl_FragColor = vec4(color, alpha);
            }
        `,transparent:!0,fog:!1,depthWrite:!1}),m=new Kn(h,T);m.frustumCulled=!0,a.add(m);const W={values:Q.slice()},j=h.attributes.opacity;return me.to(W,{duration:2,onUpdate:()=>{const ve=Date.now()*.001;for(let G=0;G<s;G++)W.values[G]=x[G]*(.05+.95*Math.abs(Math.sin(ve+G*.01)));j.array.set(W.values),j.needsUpdate=!0},repeat:-1,ease:"none"}),new sn,{dispose:()=>{me.killTweensOf(Q),a.remove(m),h.dispose(),T.dispose()}}}function Yi(a,e){const t=e-1500,o=100,s=2,n=64,i=1e3,c=n*3,p=[4,4.5,5],b=6;let d,v,f,h,D,x;const Q=[],S=[[],[],[]],T=[[],[],[]],m=[[],[],[]];let W=[0,0,0];const j=()=>{const g=0-t,z=[];for(let K=0;K<o;K++){const l=K/(o-1),le=0-l*g,ne=l*5*2*Math.PI,ue=90*(.8+.2*Math.sin(ne*2)),Me=new We(ue*Math.cos(ne),ue*Math.sin(ne),le);(isNaN(Me.x)||isNaN(Me.y)||isNaN(Me.z))&&console.error("NaN in chaserPath points",{t:l,z:le,projectMaxZ:e}),z.push(Me)}d=new jr(z);const C=new Po().setFromPoints(d.getPoints(200));h=new $r(C,new Ht({color:16711935,linewidth:2,visible:!1})),a.add(h);const X=[];for(let K=0;K<o;K++){const l=K/(o-1),le=0-l*g,ne=l*3*2*Math.PI,ue=60*(.8+.2*Math.sin(ne*4)),Me=new We(ue*Math.cos(ne),ue*Math.sin(ne),le);(isNaN(Me.x)||isNaN(Me.y)||isNaN(Me.z))&&console.error("NaN in chaserPath2 points",{t:l,z:le,projectMaxZ:e}),X.push(Me)}v=new jr(X);const ge=new Po().setFromPoints(v.getPoints(200));D=new $r(ge,new Ht({color:65535,linewidth:2,visible:!1})),a.add(D);const de=[];for(let K=0;K<o;K++){const l=K/(o-1),le=0-l*g,ne=l*7*2*Math.PI,ue=100,Me=90,$e=.1*Math.sin(ne),Ae=new We(ue*(1+$e)*Math.cos(ne),Me*(1-$e)*Math.sin(ne),le);(isNaN(Ae.x)||isNaN(Ae.y)||isNaN(Ae.z))&&console.error("NaN in chaserPath3 points",{t:l,z:le,projectMaxZ:e}),de.push(Ae)}f=new jr(de);const Be=new Po().setFromPoints(f.getPoints(200));x=new $r(Be,new Ht({color:16776960,linewidth:2,visible:!1})),a.add(x);const ae=[16711680,65280,255],ye=new Yo(s,s,s);ye.attributes.color&&delete ye.attributes.color;for(let K=0;K<3;K++){const l=new Kt;l.opacity=1,l.renderOrder=1,Q[K]=l,a.add(l);for(let le=0;le<c;le++){const ne=new vt({color:ae[K],transparent:!0,opacity:0,blending:Jn,fog:!0,depthWrite:!1}),ue=new Fe(ye,ne);ue.renderOrder=1,ue.visible=!1,l.add(ue),S[K][le]=ue,T[K][le]=0,m[K][le]=!1}}},y=g=>{const z=[d,v,f][g],C=z.getLength(),X=m[g].filter(de=>de).length;if(c-X>=n){let de=0;for(let Be=0;Be<n;Be++){const ae=m[g].findIndex(Me=>!Me);if(ae===-1){console.warn(`No available chasers for path ${g}, emitted ${de}/${n}`);break}const ye=de/(n-1),K=.05+(1-.05)*Math.pow(ye,3),l=new vt({color:[16711680,65280,255][g],transparent:!0,opacity:K,blending:to,fog:!0,depthWrite:!1});S[g][ae].material=l,S[g][ae].visible=!0;const le=de*b;T[g][ae]=le,m[g][ae]=!0;const ne=le/C,ue=z.getPointAt(ne);S[g][ae].position.copy(ue),de++}}},ve=g=>{const z=performance.now()/1e3,C=[d,v,f];for(let X=0;X<3;X++){z-W[X]>=p[X]&&(y(X),W[X]=z);const ge=C[X],de=ge.getLength(),Be=i*g;for(let ae=0;ae<c;ae++)if(m[X][ae]){T[X][ae]+=Be;const ye=T[X][ae]/de;if(ye>=1)S[X][ae].visible=!1,m[X][ae]=!1,T[X][ae]=0;else{const K=ge.getPointAt(ye);S[X][ae].position.copy(K)}}}};return j(),{chaserPath:d,chaserPath2:v,chaserPath3:f,updateChasers:ve,dispose:()=>{a.remove(h),a.remove(D),a.remove(x),h.geometry.dispose(),h.material.dispose(),D.geometry.dispose(),D.material.dispose(),x.geometry.dispose(),x.material.dispose(),Q.forEach(g=>{g.children.forEach(z=>{z.geometry.dispose(),z.material.dispose()}),a.remove(g)})}}}class Wi extends ei{constructor(e){super(e)}load(e,r,t,o){const s=this,n=new ti(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,function(i){const c=s.parse(JSON.parse(i));r&&r(c)},t,o)}parse(e){return new Xi(e)}}class Xi{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const t=[],o=ji(e,r,this.data);for(let s=0,n=o.length;s<n;s++)t.push(...o[s].toShapes());return t}}function ji(a,e,r){const t=Array.from(a),o=e/r.resolution,s=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*o,n=[];let i=0,c=0;for(let p=0;p<t.length;p++){const b=t[p];if(b===`
`)i=0,c-=s;else{const d=$i(b,o,i,c,r);i+=d.offsetX,n.push(d.path)}}return n}function $i(a,e,r,t,o){const s=o.glyphs[a]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+a+'" does not exists in font family '+o.familyName+".");return}const n=new oi;let i,c,p,b,d,v,f,h;if(s.o){const D=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let x=0,Q=D.length;x<Q;)switch(D[x++]){case"m":i=D[x++]*e+r,c=D[x++]*e+t,n.moveTo(i,c);break;case"l":i=D[x++]*e+r,c=D[x++]*e+t,n.lineTo(i,c);break;case"q":p=D[x++]*e+r,b=D[x++]*e+t,d=D[x++]*e+r,v=D[x++]*e+t,n.quadraticCurveTo(d,v,p,b);break;case"b":p=D[x++]*e+r,b=D[x++]*e+t,d=D[x++]*e+r,v=D[x++]*e+t,f=D[x++]*e+r,h=D[x++]*e+t,n.bezierCurveTo(d,v,f,h,p,b);break}}return{offsetX:s.ha*e,path:n}}function Zi(a="/fonts/Poppins_Regular.json"){const e=Qe(null),r=Qe(0),t=Qe(!1),o=()=>new Promise((n,i)=>{new Wi().load(a,p=>{e.value=p,r.value=100,t.value=!0,n(p)},p=>{p.lengthComputable&&(r.value=p.loaded/p.total*100)},p=>{r.value=100,t.value=!0,i(p)})});return{font:e,loadingProgress:r,isLoaded:t,initialize:()=>o()}}const Vi={class:"preloader"},qi={class:"progress-label"},Qi=Xo({__name:"Preloader",props:{progress:{}},setup(a){return(e,r)=>(st(),dt("div",Vi,[ke("div",qi,vs(Math.round(e.progress))+"%",1)]))}}),Ki=Gr(Qi,[["__scopeId","data-v-e5eadefa"]]),os=-520,qs=-720,Qs=4e3,Ji=Xo({__name:"HallwayEngine",props:{projects:{},projectGridFile:{},projectGridFile2:{},initialSlug:{}},emits:["camera-ready"],setup(a,{emit:e}){me.registerPlugin(Ce);const r=a,t=e,o=Oo();o.projects=r.projects;const s=lo(),n=Qe(!1),i=o.cubeSize,c=o.cubeSpacing,p=o.firstCubeZ,b={showChasers:!0,showStarfield:!0,showCars:!0,showBuildings:!0,showPortalPulses:!0,showKeyarts:!0,showProjectGrids:!0,showProjectTitles:!0,showIntroCubes:!0,showScrollTrigger:!0,showStats:!0},d=Qe(null),v=Qe(null),f=Qe(!1),h=Qe(0),D=Qe(!1),x=Qe(!0),Q=new Map;let S,T,m,W,j,y,ve,G=null,g=null,z=null,C=null,X=null,ge=[],de=null,Be=null,ae=0,ye=null,K,l=null,le=null,ne=null;const ue=Zi("/fonts/Poppins_Regular.json"),Me=()=>{const F=d.value?d.value.getBoundingClientRect().width:window.innerWidth,I=window.innerHeight,_e=1,A=s.isMobile?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio;m.setSize(F*_e,I*_e),m.setPixelRatio(A),W.setSize(F*_e,I*_e),T.aspect=F/I,T.updateProjectionMatrix(),m.domElement.style.width=`${F}px`,m.domElement.style.height=`${I}px`},$e=F=>Q.has(F)?Promise.resolve(Q.get(F)):new Promise((I,_e)=>{new li().load(F,$=>{$.encoding=ks,Q.set(F,$),I($)},void 0,$=>_e($))}),Ae=async()=>{S=new ri,S.background=new Pt(0),S.fog=new si(0,700,Qs),T=new ni(s.isMobile?s.orientation==="landscape"?90:120:75,window.innerWidth/window.innerHeight,1,Qs+6e3),T.position.set(0,0,0),T.lookAt(0,0,1e3),m=new ii({antialias:!0}),s.isMobile?m.setPixelRatio(Math.min(window.devicePixelRatio,1.5)):m.setPixelRatio(window.devicePixelRatio),m.toneMapping=ai,m.toneMappingExposure=1,m.outputEncoding=ks,W=new Li(m);const F=new zi(S,T);W.addPass(F);const I=new jt(Math.floor(window.innerWidth/2),Math.floor(window.innerHeight/2));if(s.isMobile?j=new Io(I,1,.1,0):j=new Io(I,1.6,.2,0),j.renderToScreen=!0,W.addPass(j),d.value)d.value.appendChild(m.domElement),m.domElement.style.opacity="0";else return;y=new cr,y.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; z-index: 1000;"),document.body.appendChild(y.dom);const A=r.projects.filter(pe=>pe.keyart).length+2+1;let $=0;const Z=()=>{$++;const pe=$/A*100,u=ue.loadingProgress.value;h.value=(pe+u/A)/(1+1/A),$===A&&ue.isLoaded.value&&(f.value=!0)};await ue.initialize().then(()=>{Z()}).catch(pe=>{console.error("Font initialization failed:",pe),Z()}),await $e(r.projectGridFile).then(()=>Z()).catch(()=>Z()),await $e(r.projectGridFile2).then(()=>Z()).catch(()=>Z());for(const pe of r.projects)pe.keyart?await $e(pe.keyart).then(()=>Z()).catch(()=>Z()):Z();ye=Fi(S,{CUBE_SIZE:i,CUBE_SPACING:c,FIRST_CUBE_Z:p},r.projects,r.projectGridFile,r.projectGridFile2,b,Q,ue.font);try{if(await ye.getInitializedData().then(({maxZ:pe,updateCubeColors:u,projectCubes:Ue})=>{if(K=pe,K===void 0||isNaN(K))throw new Error("Invalid maxZ from projectCubesInstance");const{introCubes:Ge}=Hi(S,ue.font,{CUBE_SIZE:i,FIRST_CUBE_Z:p},b);ge=[...Ge,...Ue],de=u,t("camera-ready",T)}),b.showCars){const{cityGroup:pe,updateParticles:u,dispose:Ue}=Ni(S,S,K,b);ve=u,X=Ue}if(b.showStarfield){const{dispose:pe}=Gi(S,T,K);G=pe}if(b.showChasers){const{dispose:pe,updateChasers:u}=Yi(S,K);z=pe,C=u}Me()}catch(pe){console.error("Error initializing project cubes:",pe),K=p-(r.projects.length+1)*c}},Le=(F=0)=>{if(Be=requestAnimationFrame(Le),m&&W){const I=(F-ae)/1e3;ae=F,ve(I),C&&C(I),ye!=null&&ye.updateClickHereParticles&&ye.updateClickHereParticles(T,I);const _e=4e3,A=1e3,$=Math.abs(T.position.z-K);T.far=Math.max(_e+A,$),T.updateProjectionMatrix();const Z=qs-os;let pe=0;T.position.z>=os?pe=0:T.position.z<=qs?pe=1:pe=(T.position.z-os)/Z;const u=.01,Ue=1-Math.pow(1-pe,2);let Ge;s.isMobile?Ge=je.lerp(1.3,u,Ue):Ge=je.lerp(1.6,u,Ue),j.strength=Ge,W.render()}y.update()},Re=()=>{console.log("handleResize()"),Me(),Ce.refresh()},Te=()=>{if(s.isMobile){const F=s.orientation;console.log("Resize: orientation",F,"lastOrientation",le),F!==le&&(le=F,ne&&clearTimeout(ne),ne=setTimeout(()=>{Re(),ne=null},500))}else Re()};return Ur(()=>{Ae().then(()=>{if(f.value){Be=requestAnimationFrame(Le);let F=null;const I=ye.getInitializedData().then(({projectCubes:A})=>{A.forEach(Z=>{Z.userData.isActive=!0});const $=p-(r.projects.length-1)*c;if(T.position.set(0,0,5e3),T.lookAt(0,0,$),T.updateProjectionMatrix(),de(T),W.render(),Ce.getAll().forEach(Z=>Z.kill()),ge.length&&de){const Z=Ui(S,T,v,ge,de,{CUBE_SPACING:c,FIRST_CUBE_Z:p},{scrub:s.isMobile?.5:1},b,y);F=Z.setReverting,l=Z.isScrollTriggerActive}m&&g===null&&(g=ye.setupInteractivity(T,m.domElement,m,Z=>{F&&F(Z)},l)),n.value=!0,window.scrollTo({top:0,behavior:"auto"})}),_e=()=>{I.then(()=>{x.value=!1,T.position.set(0,0,5e3),T.updateProjectionMatrix(),me.to(m.domElement,{opacity:1,duration:.5,ease:"power4.out"});const A={z:5e3};me.to(A,{z:0,duration:2,ease:"power4.out",onUpdate:()=>{T.position.z=A.z,T.updateProjectionMatrix()},onComplete:()=>{T.position.z=0,D.value=!0}})})};me.delayedCall(.5,_e)}}).catch(F=>{console.error("Initialization failed:",F)}),window.addEventListener("resize",Te)}),_s(()=>{Be!==null&&cancelAnimationFrame(Be),g&&g(),window.removeEventListener("resize",Te),Ce.getAll().forEach(F=>F.kill()),W&&(W.passes.forEach(F=>{F.dispose&&F.dispose()}),W.dispose()),j&&j.dispose(),Q.forEach(F=>{F.dispose()}),Q.clear(),S.traverse(F=>{F instanceof Fe&&(F.geometry&&F.geometry.dispose(),F.material&&(Array.isArray(F.material)?F.material.forEach(I=>I.dispose()):F.material.dispose()))}),S.fog&&(S.fog=null),S.background instanceof Pt&&(S.background=null),S.clear(),m&&(m.dispose(),m.forceContextLoss(),m.domElement&&m.domElement.parentNode&&m.domElement.parentNode.removeChild(m.domElement)),y&&y.dom&&y.dom.parentNode&&y.dom.parentNode.removeChild(y.dom),G&&G(),z&&z(),X&&X(),Be=null,m=null,W=null,j=null,S=null,T=null,y=null,ve=null,G=null,g=null,z=null,C=null,X=null,ge=[],de=null,ye=null,l=null}),(F,I)=>(st(),dt("section",{ref_key:"wrapper",ref:v,class:ur(["wrapper",{ready:n.value}])},[ho(Un,{name:"fade"},{default:en(()=>[x.value?(st(),tn(Ki,{key:0,progress:h.value},null,8,["progress"])):on("",!0)]),_:1}),ke("div",{ref_key:"tunnelWrapper",ref:d,class:"tunnel-wrapper"},null,512)],2))}}),ea=Gr(Ji,[["__scopeId","data-v-a34db28a"]]),ta={class:"wrap fixed inset-x-0 bottom-0 z-10 pb-28"},oa={key:0,class:"swipe w-9 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 922.17"},ra={key:1,class:"mouse w-6 mb-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},sa={key:2},na={key:3},ia=Xo({__name:"IntroMessage",setup(a){const e=lo(),r=Oo(),{progress:t}=rs(r),o=Qe(null),s=Xt(()=>o.value?o.value.getBoundingClientRect().height+(e.isMobile?180:120):180);return Ur(()=>{const n=o.value.querySelector("svg path:nth-child(2)");n&&me.to(n,{y:e.isMobile?-60:30,duration:1,ease:"easeOut",onComplete:()=>{n.position.y=0},repeat:-1})}),fr(t,(n,i)=>{if(!o.value)return;const c=n>i,p=n<80,b=n>=80;(c&&b||!c&&p)&&(me.killTweensOf(o.value),me.to(o.value,{y:c?s.value:0,scale:c?2:1,duration:.375,ease:"easeIn",onStart:()=>{},onComplete:()=>{}}))}),(n,i)=>(st(),dt("div",ta,[ke("div",{ref_key:"message",ref:o,class:"message flex flex-col items-center text-white text-lg md:text-sm"},[Lr(e).isMobile?(st(),dt("svg",oa,i[0]||(i[0]=[ke("g",null,[ke("g",null,[ke("path",{d:"M506.56,721.8c0-.07-.02-.13-.02-.2,0-.06,0-.12,0-.19l-13.43-181.03c0-.06-.02-.13-.02-.19,0-.07,0-.13,0-.2-1.35-13.79-7.76-26.48-18.07-35.73-10.31-9.25-23.64-14.25-37.47-14.11-12.18.13-23.53,4.38-32.7,11.43-8.34-10.27-20.32-17.66-34.46-20.1-15.26-2.63-30.09,1-41.85,9.1-3.25-4.48-7.2-8.5-11.77-11.88-16.1-11.92-37.25-14.34-55.59-6.48l-.06-113.09s0-.01,0-.02c.02-19.49-10.45-37.65-27.32-47.4-16.89-9.76-37.87-9.76-54.76,0-16.88,9.76-27.34,27.92-27.33,47.41,0,0,0,0,0,.01v218.23c-7.12-.94-14.31-1.37-21.54-1.31-.02,0-.04,0-.05,0-.06,0-.12,0-.17,0h0s0,0,0,0c-18.75.19-36.51,8.4-48.74,22.53-12.22,14.13-17.8,32.85-15.3,51.36,0,0,0,.01,0,.02,10.74,79.63,51.44,151.34,114.6,201.93.1.08.21.15.31.23.08.06.15.13.23.19,1.51,1.11,3.12,4.62,3.12,8.92v43.95c0,9.39,7.61,17,17,17s17-7.61,17-17v-43.95c0-14.58-6.08-27.87-16.3-35.77-.04-.03-.08-.07-.12-.1-56.31-45.1-92.59-109-102.16-179.93,0,0,0,0,0,0-1.2-8.86,1.47-17.82,7.32-24.58,5.85-6.76,14.37-10.69,23.37-10.78h0c7.19-.07,14.36.5,21.42,1.69v24c0,.12-.02.25-.06.37,0,0,0,0,0,0-.43,1.36-1.67,2.61-3.33,3.35-8.57,3.84-12.4,13.89-8.57,22.46,2.83,6.31,9.03,10.06,15.53,10.06,2.32,0,4.68-.48,6.94-1.49,10.55-4.72,18.51-13.53,21.86-24.18,0,0,0-.01,0-.02,1.07-3.42,1.62-6.97,1.62-10.55v-276.6s0,0,0-.01,0-.01,0-.02c-.01-7.38,3.95-14.26,10.34-17.96,6.39-3.7,14.33-3.69,20.73,0,6.39,3.7,10.35,10.58,10.34,17.96,0,0,0,.01,0,.02s0,.01,0,.02l.08,162.21c0,.1.01.2.02.3,0,.31.02.62.05.93.02.26.04.52.07.78.04.31.09.61.14.91.05.26.09.51.15.77.06.29.14.57.22.85.07.26.14.52.23.77.09.26.19.52.29.78.1.26.2.52.31.77.11.25.23.48.35.72.13.25.25.5.39.75.13.23.27.45.41.68.15.24.3.48.46.71.15.22.32.43.48.64.17.22.34.44.51.65.18.21.37.41.55.61.18.19.36.39.55.57.2.2.42.38.63.57.19.17.39.34.59.5.23.18.46.35.69.52.21.15.41.3.63.44.24.16.49.3.74.45.22.13.45.26.68.38.25.13.51.25.77.37.25.11.49.23.74.33.25.1.51.19.77.28.27.09.54.19.82.27.25.07.51.14.77.2.29.07.59.14.89.19.26.05.52.08.79.12.3.04.61.08.91.11.1,0,.2.03.31.04.18.01.36,0,.55,0,.18,0,.36.03.55.03h0c.1,0,.2-.01.31-.02.31,0,.62-.03.92-.05.26-.02.52-.04.78-.07.31-.04.61-.09.92-.14.25-.04.51-.09.75-.14.3-.07.59-.15.88-.23.25-.07.49-.14.74-.22.28-.09.56-.2.83-.31.24-.09.48-.18.71-.29.27-.12.53-.25.79-.38.23-.11.45-.23.67-.35.26-.15.51-.3.76-.46.21-.13.41-.26.61-.4.25-.18.49-.36.74-.55.18-.14.37-.29.55-.44.24-.21.47-.42.7-.64.16-.15.32-.31.48-.47.23-.23.44-.48.66-.72.14-.16.29-.33.42-.5.2-.25.4-.52.59-.78.13-.18.26-.36.38-.54.18-.27.34-.54.5-.82.12-.2.23-.4.34-.61.14-.27.27-.55.4-.83.1-.23.21-.46.3-.69.11-.27.2-.54.3-.81.09-.26.18-.52.26-.79.08-.26.14-.52.2-.79.07-.29.14-.58.19-.87.05-.26.08-.52.12-.79.04-.3.08-.61.11-.91,0-.1.03-.2.04-.31.52-8.12,5.43-15.29,12.81-18.71,7.38-3.42,16.02-2.55,22.56,2.29,6.37,4.72,9.62,12.76,8.47,20.98-.01.1-.01.2-.03.31-.04.31-.06.62-.08.93-.02.26-.04.52-.04.78,0,.31,0,.61.01.92,0,.26.02.52.04.78.02.29.06.58.1.88.04.27.07.53.12.79.05.28.11.55.18.82.06.27.13.54.2.8.07.26.16.51.25.76.09.27.18.53.28.8.1.24.2.48.31.72.12.26.23.52.36.77.12.24.25.47.38.7.14.24.27.48.42.71.15.23.3.45.46.67.15.22.31.44.47.65.17.22.36.43.54.65.17.2.34.4.52.59.2.21.4.41.61.6.19.18.37.36.57.53.21.19.44.36.66.54.21.16.42.33.63.48.23.16.46.31.7.46.23.15.47.3.71.44.23.13.47.26.71.38.26.13.52.27.79.39.23.11.48.2.72.29.29.11.57.22.87.32.24.08.49.15.74.22.3.08.6.17.91.24.1.02.19.06.29.08.18.04.36.05.54.08.18.03.36.08.55.1.14.02.27.03.41.04.15.02.3.03.46.05.44.04.88.06,1.32.07.19,0,.37,0,.56-.01.41,0,.81-.02,1.21-.06.22-.02.44-.06.67-.09.31-.04.62-.08.92-.14.23-.04.45-.1.68-.16.29-.07.58-.13.87-.22.23-.07.45-.14.67-.22.28-.09.55-.19.83-.3.22-.09.44-.18.65-.28.26-.12.52-.24.78-.36.22-.11.43-.23.64-.34.24-.14.48-.28.72-.43.21-.13.42-.27.62-.41.22-.16.44-.32.66-.48.2-.15.4-.31.59-.47.21-.17.41-.36.61-.54.19-.17.37-.34.55-.52.2-.2.38-.4.57-.61.16-.18.33-.36.49-.55.2-.24.38-.49.56-.74.13-.17.26-.34.38-.52.28-.41.55-.84.79-1.28.01-.02.03-.04.04-.06.26-.47.49-.95.71-1.45.06-.13.1-.28.16-.41.15-.37.29-.74.42-1.12.06-.18.1-.37.16-.55.1-.34.19-.69.27-1.04.02-.07.04-.14.06-.21,2.49-12.08,13.95-19.89,26.1-17.8,11.58,2,19.55,12.28,18.79,23.82-.12.92-.21,1.84-.28,2.77,0,.1,0,.21,0,.31-.02.32-.02.64-.02.95,0,.26,0,.51,0,.77.01.31.04.62.07.93.03.26.05.51.09.76.04.29.1.59.16.88.05.26.1.52.17.78.07.27.15.54.23.81.08.26.16.53.25.79.09.25.19.5.29.75.11.26.22.52.34.78.11.24.23.47.36.7.13.25.26.5.41.74.14.23.28.45.43.67.15.23.31.46.47.69.16.22.33.43.5.64.17.21.34.42.52.62.18.21.38.41.57.61.18.19.37.38.56.55.21.19.42.38.64.56.2.17.4.34.6.49.23.17.46.34.69.5.22.15.44.3.66.44.24.15.48.28.73.42.24.13.48.27.73.39.24.12.49.23.74.34.27.12.53.23.81.33.24.09.49.17.74.25.29.09.58.18.88.26.25.07.51.12.77.18.3.06.6.13.91.17.11.02.21.04.31.06.3.04.61.07.91.09.05,0,.11.02.16.02.02,0,.04,0,.05,0,.42.03.84.05,1.25.05.54,0,1.07-.03,1.6-.08.14-.01.27-.04.4-.06.39-.05.77-.09,1.15-.17.2-.04.4-.09.6-.14.3-.07.61-.14.91-.22.22-.06.44-.14.66-.22.27-.09.53-.17.79-.27.23-.09.45-.19.67-.29.25-.11.49-.21.73-.33.22-.11.43-.23.64-.35.23-.13.47-.26.69-.4.2-.13.4-.26.6-.39.23-.15.45-.3.67-.47.19-.14.37-.29.55-.43.22-.18.43-.35.64-.54.17-.15.33-.31.49-.46.21-.2.41-.4.6-.61.15-.16.3-.33.44-.5.19-.22.37-.44.55-.67.14-.18.27-.36.4-.54.17-.23.33-.47.48-.71.12-.19.24-.39.36-.59.14-.24.28-.49.41-.74.11-.21.22-.43.32-.64.12-.25.22-.5.33-.75.1-.23.19-.47.27-.71.09-.25.17-.51.25-.76.08-.25.15-.5.22-.76.07-.26.12-.53.18-.79.05-.26.1-.51.14-.77.02-.1.04-.2.06-.3.1-.69.16-1.37.24-2.05,1.29-10.62,10.23-18.89,20.78-19.01,11.03-.1,20.22,8.08,21.33,19.09l13.39,180.43c2.06,40.55-9.92,79.34-32.08,103.79-8.24,8.47-13.63,19.53-15.19,31.26,0,.05,0,.11-.01.16-.04.3-.05.61-.07.92-.02.29-.04.57-.05.86,0,.06,0,.11,0,.17l-.33,44.22c-.07,9.39,7.48,17.06,16.87,17.13.04,0,.09,0,.13,0,9.33,0,16.93-7.53,17-16.87l.32-42.9c.74-4.31,2.81-8.35,5.9-11.44.1-.1.19-.22.29-.33.09-.1.2-.18.29-.28,28.57-31.5,43.47-78.35,40.88-128.56Z",style:{fill:"#fff"}}),ke("path",{d:"M55.92,530.71c.2.15.4.3.61.44s.44.27.66.4c.2.12.4.24.6.35.22.12.45.22.68.33.21.1.42.21.64.3.22.09.45.17.68.25.23.08.46.17.7.24.23.07.46.12.69.18.24.06.48.13.72.18.27.05.54.09.81.12.21.03.42.07.64.09.49.05.98.07,1.48.07s.99-.03,1.48-.07c.23-.02.44-.06.67-.1.26-.04.52-.07.78-.12.26-.05.5-.12.75-.18.22-.06.45-.11.67-.17.25-.07.48-.17.72-.25.22-.08.44-.15.66-.24.23-.09.44-.2.66-.31.22-.11.45-.2.67-.32.21-.11.41-.24.62-.36.21-.13.43-.25.64-.39.23-.15.44-.32.66-.48.17-.13.35-.25.52-.39.38-.31.75-.65,1.1-1l45.44-45.44c5.86-5.86,5.86-15.35,0-21.21-5.86-5.86-15.35-5.86-21.21,0l-19.84,19.84v-228.72l19.84,19.84c2.93,2.93,6.77,4.39,10.61,4.39s7.68-1.46,10.61-4.39c5.86-5.86,5.86-15.36,0-21.21l-45.45-45.45s-.05-.05-.08-.07c-.32-.32-.66-.63-1.01-.92-.07-.06-.15-.11-.22-.17-.27-.22-.55-.42-.84-.62-.14-.09-.28-.19-.42-.28-.24-.15-.48-.29-.73-.43-.15-.08-.29-.17-.44-.25-.35-.18-.71-.35-1.08-.5,0,0-.02,0-.03-.01-.16-.07-.33-.12-.49-.18-.25-.09-.5-.18-.76-.26-.17-.05-.34-.1-.52-.15-.27-.08-.55-.14-.82-.2-.15-.03-.29-.07-.44-.09-.42-.08-.85-.14-1.27-.18-.04,0-.07,0-.11,0-.4-.04-.79-.05-1.19-.06-.13,0-.26,0-.39,0-.31,0-.63.02-.94.04-.14.01-.27.02-.41.03-.38.04-.76.09-1.14.16-.09.02-.18.03-.27.05-.37.07-.73.16-1.09.27-.16.05-.32.1-.48.15-.26.08-.51.17-.76.27-.16.06-.33.12-.49.19-.32.13-.63.28-.94.43-.14.07-.28.14-.42.22-.31.17-.62.35-.91.54-.13.08-.26.17-.39.26-.26.18-.52.37-.78.57-.1.08-.21.16-.31.25-.34.28-.67.57-.98.88l-45.95,45.45c-5.89,5.83-5.94,15.32-.12,21.21,5.82,5.89,15.32,5.94,21.21.12l20.4-20.18v229.27l-20.4-20.17c-5.89-5.83-15.39-5.77-21.21.12-5.83,5.89-5.77,15.39.12,21.21l45.95,45.45c.12.12.25.22.38.34.23.21.45.42.69.62.19.15.38.29.57.43Z",style:{fill:"#fff"}})])],-1)]))):(st(),dt("svg",ra,i[1]||(i[1]=[ke("path",{d:"M224,0h-64C71.6,0,0,71.6,0,160v192c0,88.4,71.6,160,160,160h64c88.4,0,160-71.6,160-160v-192C384,71.6,312.4,0,224,0ZM352,352c0,70.7-57.3,128-128,128h-64c-70.7,0-128-57.3-128-128v-192c0-70.7,57.3-128,128-128h64c70.7,0,128,57.3,128,128v192Z",style:{fill:"#fff"}},null,-1),ke("path",{d:"M208,112v64c0,8.8-7.2,16-16,16s-16-7.2-16-16v-64c0-8.8,7.2-16,16-16s16,7.2,16,16Z",style:{fill:"#fff"}},null,-1)]))),Lr(e).isMobile?(st(),dt("div",sa,"SWIPE UP TO CONTINUE")):(st(),dt("div",na,"SCROLL TO CONTINUE"))],512)]))}}),aa=Gr(ia,[["__scopeId","data-v-8767e7e1"]]),la=1e4,ca=Xo({__name:"HUDMiniMap",props:{project:{}},setup(a){const e=a,r=lo(),t=Oo(),o=t.projects||[],{progress:s}=rs(t),{screenWidth:n}=rs(r),i=t.cubeSpacing,c=t.firstCubeZ,p=Xt(()=>n.value<768),b=Xt(()=>p.value?.55:1),d=Xt(()=>16*b.value),v=Xt(()=>8*b.value),f=1+o.length,h=Xt(()=>(f-1)*d.value*2),D=Xt(()=>h.value/la),x=Qe(0),Q=Qe(null),S=Qe(null),T=Qe(null),m=Qe([]),W=Qe(null),j=Xt(()=>Math.abs(c)*D.value),y=Xt(()=>o.map((g,z)=>(Math.abs(c)+(z+1)*i)*D.value)),ve=g=>{const z=g*D.value+d.value/2;x.value=Math.min(Math.max(z,0),h.value-v.value)};fr(s,g=>{me.to(x,{value:g*D.value+d.value/2,duration:.3,ease:"power2.out",onUpdate:()=>{x.value=Math.min(Math.max(x.value,0),h.value-v.value)}})},{immediate:!0});const G=()=>{ve(s.value)};return Ur(()=>{var g;if(console.log("HUDMiniMap mounted"),ve(s.value),Q.value){const z=[S.value,T.value,...((g=T.value)==null?void 0:g.querySelectorAll("div"))||[],...m.value,W.value].filter(Boolean);me.to(z,{opacity:1,duration:.5,ease:"power2.out",stagger:.1,delay:.5,overwrite:!1,onComplete:()=>{console.log("Animation complete")}})}window.addEventListener("resize",G)}),_s(()=>{window.removeEventListener("resize",G)}),fr(o,()=>{console.log("Projects changed, re-rendering cubes")}),(g,z)=>(st(),dt("div",{ref_key:"mapContainer",ref:Q,class:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bottom-4 h-4",style:uo({width:`${h.value}px`,position:"relative"})},[ke("div",{ref_key:"dashedPath",ref:S,class:"absolute top-1/2 -translate-y-1/2 h-px border-dashed border-t border-sky-500/50 hidden-el",style:uo({width:`${h.value-v.value}px`,left:`${v.value/2}px`})},null,4),ke("div",{ref_key:"introCube",ref:T,class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 hidden-el",style:uo({width:`${d.value}px`,height:`${d.value}px`,left:`${j.value}px`})},[ke("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:uo({width:`${d.value*.75}px`,height:`${d.value*.75}px`})},[ke("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:uo({width:`${d.value*.5}px`,height:`${d.value*.5}px`})},[ke("div",{class:"border border-l-pink-600 border-r-green-600 border-t-blue-600 border-b-yellow-600 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 hidden-el",style:uo({width:`${d.value*.25}px`,height:`${d.value*.25}px`})},null,4)],4)],4)],4),(st(!0),dt(ss,null,ns(Lr(o),(C,X)=>{var ge,de;return st(),dt("div",{key:X,ref_for:!0,ref:Be=>m.value[X]=Be,class:ur(["border absolute top-1/2 -translate-y-1/2 hidden-el",{"border-blue-600":((ge=e.project)==null?void 0:ge.slug)===C.slug&&e.project!==null,"border-white/40":((de=e.project)==null?void 0:de.slug)!==C.slug||e.project===null}]),style:uo({width:`${d.value}px`,height:`${d.value}px`,left:`${y.value[X]}px`})},null,6)}),128)),(st(),dt("svg",{ref_key:"cameraSvg",ref:W,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"absolute top-1/2 rotate-90 -translate-y-1/2 -translate-x-1/2 hidden-el",style:uo({width:`${v.value}px`,left:`${x.value}px`})},z[0]||(z[0]=[ke("path",{class:"fill-green-500",d:"M0 480l18.3-32L237.6 64.2 256 32l18.4 32.2L493.7 448 512 480l-36.9 0L36.9 480 0 480zM256 96.5L55.1 448l401.7 0L256 96.5z"},null,-1)]),4))],4))}}),ua=Gr(ca,[["__scopeId","data-v-af1cae01"]]),fa={class:"fixed inset-0 pointer-events-none z-10 font-sans"},pa={class:"px-2 md:px-4 py-4 flex items-center justify-between bg-black/50"},da={class:"flex items-center gap-4 pointer-events-auto"},ha={class:"tracking-tighter md:tracking-normal font-mono text-white text-xxs md:text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},ga={key:0,class:"hidden md:block font-mono text-xs md:text-[0.75vw] 3xl:text-[0.75rem] md:leading-[1.0vw] 3xl:leading-[1.0rem]"},ma=["innerHTML"],va=["innerHTML"],_a={class:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-black/70 h-12 w-full"},Ks=.125,wa=Xo({__name:"HUD",props:{camera:{}},setup(a){const e=a,r=Oo(),t=lo(),o=Qe(0),s=Qe(null),n=Qe(null),i=Qe(null),c=Qe(null),p=Qe(null),b=r.cubeSpacing,d=r.projects,v=Qe(!1);let f=null,h=null;const D=(S,T)=>{const m=S;let W=!1,j=o.value,y=s.value;d.forEach((G,g)=>{const z=700+g*b,C=1e3+g*b;m>=z&&m<C&&(W=!0,j=g,y=G)});const ve=[n.value,i.value].filter(Boolean);ve.length&&(W&&!v.value?(v.value=!0,o.value=j,s.value=y,h&&h.kill(),f=me.to(ve,{opacity:1,duration:Ks,overwrite:"auto"})):!W&&v.value&&(v.value=!1,f&&f.kill(),h=me.to(ve,{opacity:0,duration:Ks,overwrite:"auto",onComplete:()=>{s.value=null}})))},x=Xt(()=>{if(!s.value)return"text-white/50";switch(s.value.classification){case Co.Enums.Classification.ENTERTAINMENT:return"text-red-600";case Co.Enums.Classification.ECOMMERCE:return"text-green-600";case Co.Enums.Classification.OTHER:return"text-blue-600";default:return"text-white/50"}}),Q=()=>{s.value&&(r.setScrollPosition(window.scrollY),Js.visit(route("project.show",{project:s.value.slug}),{}))};return Ur(()=>{var m,W;const S=(m=c.value)==null?void 0:m.querySelector("div"),T=(W=p.value)==null?void 0:W.querySelector("div");if(S&&T){const j=window.innerWidth-(t.isMobile?16:42);me.to([S,T],{opacity:1,width:j,duration:2})}}),_s(()=>{f&&f.kill(),h&&h.kill()}),fr(()=>r.progress,(S,T)=>{D(S)},{immediate:!0}),fr(()=>e.camera,S=>{S&&D(r.progress)},{immediate:!1}),(S,T)=>{var m,W,j;return st(),dt("div",fa,[ke("div",pa,[ke("div",da,[ke("div",{ref_key:"projectTitleEl",ref:i,class:"flex items-center gap-4 pointer-events-auto",style:{opacity:"0"}},[ke("h1",ha,vs(((m=s.value)==null?void 0:m.title)||""),1),s.value?(st(),dt("h2",ga,[ke("span",{class:"text-white/50 font-medium",innerHTML:((W=s.value)==null?void 0:W.client)||""},null,8,ma),T[0]||(T[0]=rn("  ")),ke("span",{class:ur(x.value),innerHTML:((j=s.value)==null?void 0:j.classification)||""},null,10,va)])):on("",!0)],512)]),ke("button",{ref_key:"clickHereEl",ref:n,onClick:Q,class:"border border-current rounded-none px-2 py-1 font-mono text-xs text-white rounded transition-opacity duration-300 pointer-events-auto hover:text-green-500 hover:border-green-500",style:{opacity:"0"}}," SEE PROJECT DETAILS ",512)]),ke("div",{ref_key:"borderTopEl",ref:c,class:"flex justify-center"},T[1]||(T[1]=[ke("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),ke("div",_a,[ke("div",{ref_key:"borderBottomEl",ref:p,class:"flex justify-center"},T[2]||(T[2]=[ke("div",{class:"bg-white/30 h-px opacity-0"},null,-1)]),512),T[3]||(T[3]=Gn('<svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true"><defs><pattern id="grid-pattern1" width="12" height="12" patternUnits="userSpaceOnUse"><line x1="0" y1="0" x2="0" y2="12" stroke="white" stroke-width="1" opacity="0.1"></line><line x1="0" y1="0" x2="12" y2="0" stroke="white" stroke-width="1" opacity="0.1"></line></pattern></defs><rect width="100%" height="100%" fill="url(#grid-pattern1)"></rect></svg>',1)),ho(ua,{project:s.value},null,8,["project"])])])}}}),xa={class:"relative bg-black text-white"},ba={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},ya={class:"overflow-hidden relative"},Ta={class:"mt-16 px-4 md:px-16"},Ca={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ma=["innerHTML"],Pa={class:"flex justify-center items-center gap-8 text-xs text-white/80 uppercase mt-12"},Aa=Xo({__name:"Welcome",props:{projects:{},projectGridFile:{},projectGridFile2:{},archived:{}},setup(a){const e=a;Oo();const r=Qe(null),t=i=>{r.value=i},o=Xt(()=>[...e.archived].sort((i,c)=>i.title.localeCompare(c.title))),s=Xt(()=>Object.values(Co.Enums.Classification)),n=i=>{switch(i){case Co.Enums.Classification.ENTERTAINMENT:return"fill-red-400";case Co.Enums.Classification.ECOMMERCE:return"fill-green-500";case Co.Enums.Classification.OTHER:return"fill-white";default:return"fill-white-500"}};return(i,c)=>(st(),tn(fi,null,{default:en(()=>[ho(Lr(Yn),{title:"Welcome"}),ke("div",xa,[ke("nav",ba,[ho(ci)]),ke("div",ya,[ho(ea,{projects:i.projects,"project-grid-file":i.projectGridFile,"project-grid-file2":i.projectGridFile2,onCameraReady:t},null,8,["projects","project-grid-file","project-grid-file2"]),ho(aa),ho(wa,{camera:r.value},null,8,["camera"])]),ke("div",Ta,[c[2]||(c[2]=ke("h2",{class:"mb-4 text-white"},"OTHER WEB PROJECTS",-1)),ke("ul",Ca,[(st(!0),dt(ss,null,ns(o.value,(p,b)=>(st(),dt("li",{class:"text-xs text-white/80 flex items-center gap-2",key:b},[(st(),dt("svg",{class:ur(["size-1.5 md:size-[.375vw] 3xl:size-[.375rem]",n(p.classification)]),viewBox:"0 0 6 6","aria-hidden":"true"},c[0]||(c[0]=[ke("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),ke("span",{innerHTML:p.title},null,8,Ma)]))),128))]),ke("ul",Pa,[(st(!0),dt(ss,null,ns(s.value,p=>(st(),dt("li",{class:"flex items-center gap-2",key:p},[(st(),dt("svg",{class:ur(["size-3",n(p)]),viewBox:"0 0 6 6","aria-hidden":"true"},c[1]||(c[1]=[ke("circle",{cx:"3",cy:"3",r:"3"},null,-1)]),2)),rn(" "+vs(p),1)]))),128))])]),c[3]||(c[3]=ke("div",{class:"flex justify-center items-center"},null,-1)),c[4]||(c[4]=ke("div",{class:"flex justify-center items-center"},null,-1)),ho(ui)])]),_:1}))}});export{Aa as default};
