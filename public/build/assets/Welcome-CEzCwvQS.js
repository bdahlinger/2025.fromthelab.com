import{I as ro,d as Xr,D as Ss,x as Go,y as Yo,e as oo,o as so,a as xn,b as gn,u as Cs,m as Ms,F as Es}from"./app-B8Xbwcnr.js";import{M as je,O as Wo,B as Ar,F as Fn,C as pt,V as me,W as gr,H as mr,U as Vr,S as rn,a as ze,A as Wt,b as Dt,N as Ps,c as Is,d as Xo,e as Vo,f as Mn,P as yr,E as As,g as Zo,h as qo,i as mn,j as ks,k as Rs,l as Ds,m as Dr,n as Os,o as Gt,p as yt,q as Ls,D as On,r as Pt,s as Qe,t as ht,u as Hn,v as Xt,R as Ns,T as Bs,w as mo,I as zs,x as Or,y as Us,z as Fs,J as yo,K as Hs,Q as Gs,X as Ys,L as Ws,G as Xs}from"./GlobalFooter-D4nMSLlw.js";import{_ as Vs}from"./_plugin-vue_export-helper-DlAUqK2U.js";class er{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Zs=new Wo(-1,1,1,-1,0,1);class qs extends Ar{constructor(){super(),this.setAttribute("position",new Fn([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Fn([0,2,0,0,2,0],2))}}const js=new qs;class jo{constructor(e){this._mesh=new je(js,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Zs)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const Qo={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},Qs={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new pt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class cn extends er{constructor(e,r,n,t){super(),this.strength=r!==void 0?r:1,this.radius=n,this.threshold=t,this.resolution=e!==void 0?new me(e.x,e.y):new me(256,256),this.clearColor=new pt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new gr(o,l,{type:mr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let C=0;C<this.nMips;C++){const P=new gr(o,l,{type:mr});P.texture.name="UnrealBloomPass.h"+C,P.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(P);const x=new gr(o,l,{type:mr});x.texture.name="UnrealBloomPass.v"+C,x.texture.generateMipmaps=!1,this.renderTargetsVertical.push(x),o=Math.round(o/2),l=Math.round(l/2)}const c=Qs;this.highPassUniforms=Vr.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=t,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new rn({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}),this.separableBlurMaterials=[];const b=[3,5,7,9,11];o=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);for(let C=0;C<this.nMips;C++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(b[C])),this.separableBlurMaterials[C].uniforms.invSize.value=new me(1/o,1/l),o=Math.round(o/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1;const E=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=E,this.bloomTintColors=[new ze(1,1,1),new ze(1,1,1),new ze(1,1,1),new ze(1,1,1),new ze(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const D=Qo;this.copyUniforms=Vr.clone(D.uniforms),this.blendMaterial=new rn({uniforms:this.copyUniforms,vertexShader:D.vertexShader,fragmentShader:D.fragmentShader,blending:Wt,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new pt,this.oldClearAlpha=1,this.basic=new Dt,this.fsQuad=new jo(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,r){let n=Math.round(e/2),t=Math.round(r/2);this.renderTargetBright.setSize(n,t);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(n,t),this.renderTargetsVertical[o].setSize(n,t),this.separableBlurMaterials[o].uniforms.invSize.value=new me(1/n,1/t),n=Math.round(n/2),t=Math.round(t/2)}render(e,r,n,t,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const l=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let c=this.renderTargetBright;for(let b=0;b<this.nMips;b++)this.fsQuad.material=this.separableBlurMaterials[b],this.separableBlurMaterials[b].uniforms.colorTexture.value=c.texture,this.separableBlurMaterials[b].uniforms.direction.value=cn.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[b]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[b].uniforms.colorTexture.value=this.renderTargetsHorizontal[b].texture,this.separableBlurMaterials[b].uniforms.direction.value=cn.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[b]),e.clear(),this.fsQuad.render(e),c=this.renderTargetsVertical[b];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=l}getSeparableBlurMaterial(e){const r=[];for(let n=0;n<e;n++)r.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new rn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new me(.5,.5)},direction:{value:new me(.5,.5)},gaussianCoefficients:{value:r}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new rn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}cn.BlurDirectionX=new me(1,0);cn.BlurDirectionY=new me(0,1);class $s extends er{constructor(e,r){super(),this.textureID=r!==void 0?r:"tDiffuse",e instanceof rn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Vr.clone(e.uniforms),this.material=new rn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new jo(this.material)}render(e,r,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class _o extends er{constructor(e,r){super(),this.scene=e,this.camera=r,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,r,n){const t=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let l,c;this.inverse?(l=0,c=1):(l=1,c=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(t.REPLACE,t.REPLACE,t.REPLACE),o.buffers.stencil.setFunc(t.ALWAYS,l,4294967295),o.buffers.stencil.setClear(c),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(t.EQUAL,1,4294967295),o.buffers.stencil.setOp(t.KEEP,t.KEEP,t.KEEP),o.buffers.stencil.setLocked(!0)}}class Ks extends er{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class $o{constructor(e,r){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),r===void 0){const n=e.getSize(new me);this._width=n.width,this._height=n.height,r=new gr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:mr}),r.texture.name="EffectComposer.rt1"}else this._width=r.width,this._height=r.height;this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new $s(Qo),this.copyPass.material.blending=Ps,this.clock=new Is}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const r=this.passes.indexOf(e);r!==-1&&this.passes.splice(r,1)}isLastEnabledPass(e){for(let r=e+1;r<this.passes.length;r++)if(this.passes[r].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const r=this.renderer.getRenderTarget();let n=!1;for(let t=0,o=this.passes.length;t<o;t++){const l=this.passes[t];if(l.enabled!==!1){if(l.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(t),l.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),l.needsSwap){if(n){const c=this.renderer.getContext(),b=this.renderer.state.buffers.stencil;b.setFunc(c.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),b.setFunc(c.EQUAL,1,4294967295)}this.swapBuffers()}_o!==void 0&&(l instanceof _o?n=!0:l instanceof Ks&&(n=!1))}}this.renderer.setRenderTarget(r)}reset(e){if(e===void 0){const r=this.renderer.getSize(new me);this._pixelRatio=this.renderer.getPixelRatio(),this._width=r.width,this._height=r.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,r){this._width=e,this._height=r;const n=this._width*this._pixelRatio,t=this._height*this._pixelRatio;this.renderTarget1.setSize(n,t),this.renderTarget2.setSize(n,t);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(n,t)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Ko extends er{constructor(e,r,n=null,t=null,o=null){super(),this.scene=e,this.camera=r,this.overrideMaterial=n,this.clearColor=t,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new pt}render(e,r,n){const t=e.autoClear;e.autoClear=!1;let o,l;this.overrideMaterial!==null&&(l=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=l),e.autoClear=t}}const en=.01,xo=45/3,Js=3,Lr=45,bo=ro({__name:"CubeStrip",props:{particleWidth:{},particleHeight:{}},setup(h){const e=h,r=Xr(null);let n,t,o=null,l=null,c=null,b=[];const E=Ss({particleCount:400,particleWidth:e.particleWidth??20,particleHeight:e.particleHeight??20,minSpeed:2,maxSpeed:5,speedRandomness:.5,positionZRandomness:.5,rotationRandomness:.5,rotateParticles:!1,useSquares:!0,emitterDepth:100,bloomStrength:1.1,bloomRadius:0,showControls:!1}),D=Lr/2+10;function C(g){const F=en*E.particleWidth,j=en*E.particleHeight,O=E.useSquares?new yr(F,j):new Mn(F,j,F),v=Math.floor(Math.random()*3);let N;switch(v){case 0:N=new pt(1,0,0);break;case 1:N=new pt(0,1,0);break;case 2:N=new pt(0,0,1);break;default:N=new pt(1,0,0)}const H=new Dt({color:N,transparent:!0,opacity:.7}),M=new je(O,H),G=Lr+D*2;M.position.set(-45-D+g/(E.particleCount-1)*G,0,en*(Math.random()-.5)*E.positionZRandomness*E.emitterDepth);const V=en*(Math.random()*(E.maxSpeed-E.minSpeed)+E.minSpeed);return M.speed=V+en*(Math.random()-.5)*E.speedRandomness,M.rotationSpeed=new ze(Math.PI/2,Math.PI/2,Math.PI/2).multiplyScalar(Math.random()*E.rotationRandomness+.5),M}function P(){n=new Xo;const g=Js*1.5,F=g*xo;t=new Wo(-67.5/2,F/2,g/2,-4.5/2,.1,1e3),t.position.z=150,o=new Vo({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto");const j=new Ko(n,t);c=new cn(new me(window.innerWidth,window.innerHeight),E.bloomStrength,E.bloomRadius,.1),l=new $o(o),l.addPass(j),l.addPass(c),k(),r.value&&r.value.appendChild(o.domElement),x(),T()}function x(){b.forEach(g=>n.remove(g)),b=[];for(let g=0;g<E.particleCount;g++){const F=C(g);b.push(F),n.add(F)}}function k(){if(!o||!l||!c)return;const g=window.innerWidth,F=g/xo;o.setSize(g,F),l.setSize(g,F),c.setSize(g,F),o.domElement&&(o.domElement.style.width="100%",o.domElement.style.height="auto")}function T(){requestAnimationFrame(T),b.forEach(g=>{g.position.x+=g.speed,!E.useSquares&&E.rotateParticles&&(g.rotation.x+=g.rotationSpeed.x*.016,g.rotation.y+=g.rotationSpeed.y*.016,g.rotation.z+=g.rotationSpeed.z*.016),g.position.x>Lr/2+D&&(b.indexOf(g),g.position.x=-45-D-en*(g.geometry instanceof Mn,g.geometry.parameters.width),g.position.y=0,g.position.z=en*(Math.random()-.5)*E.positionZRandomness*E.emitterDepth)}),l&&l.render()}return Go(()=>{P(),window.addEventListener("resize",k)}),Yo(()=>{window.removeEventListener("resize",k),o==null||o.dispose()}),(g,F)=>(so(),oo("div",{ref_key:"container",ref:r,class:"relative w-full before:absolute before:inset-x-0 before:top-0 before:h-[2vw] before:bg-gradient-to-b before:from-black before:to-transparent after:absolute after:inset-x-0 after:bottom-0 after:h-[2vw] after:bg-gradient-to-t after:from-black after:to-transparent"},null,512))}});function ei(h,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}function ti(h,e,r){return e&&ei(h.prototype,e),h}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $e,_r,xt,Vt,Zt,Tn,Jo,tn,Gn,es,zt,Et,ts,ns=function(){return $e||typeof window<"u"&&($e=window.gsap)&&$e.registerPlugin&&$e},rs=1,vn=[],we=[],Lt=[],Yn=Date.now,Zr=function(e,r){return r},ni=function(){var e=Gn.core,r=e.bridge||{},n=e._scrollers,t=e._proxies;n.push.apply(n,we),t.push.apply(t,Lt),we=n,Lt=t,Zr=function(l,c){return r[l](c)}},qt=function(e,r){return~Lt.indexOf(e)&&Lt[Lt.indexOf(e)+1][r]},Wn=function(e){return!!~es.indexOf(e)},it=function(e,r,n,t,o){return e.addEventListener(r,n,{passive:t!==!1,capture:!!o})},st=function(e,r,n,t){return e.removeEventListener(r,n,!!t)},rr="scrollLeft",or="scrollTop",qr=function(){return zt&&zt.isPressed||we.cache++},Sr=function(e,r){var n=function t(o){if(o||o===0){rs&&(xt.history.scrollRestoration="manual");var l=zt&&zt.isPressed;o=t.v=Math.round(o)||(zt&&zt.iOS?1:0),e(o),t.cacheID=we.cache,l&&Zr("ss",o)}else(r||we.cache!==t.cacheID||Zr("ref"))&&(t.cacheID=we.cache,t.v=e());return t.v+t.offset};return n.offset=0,e&&n},ut={s:rr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Sr(function(h){return arguments.length?xt.scrollTo(h,Ye.sc()):xt.pageXOffset||Vt[rr]||Zt[rr]||Tn[rr]||0})},Ye={s:or,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ut,sc:Sr(function(h){return arguments.length?xt.scrollTo(ut.sc(),h):xt.pageYOffset||Vt[or]||Zt[or]||Tn[or]||0})},ft=function(e,r){return(r&&r._ctx&&r._ctx.selector||$e.utils.toArray)(e)[0]||(typeof e=="string"&&$e.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},jt=function(e,r){var n=r.s,t=r.sc;Wn(e)&&(e=Vt.scrollingElement||Zt);var o=we.indexOf(e),l=t===Ye.sc?1:2;!~o&&(o=we.push(e)-1),we[o+l]||it(e,"scroll",qr);var c=we[o+l],b=c||(we[o+l]=Sr(qt(e,n),!0)||(Wn(e)?t:Sr(function(E){return arguments.length?e[n]=E:e[n]})));return b.target=e,c||(b.smooth=$e.getProperty(e,"scrollBehavior")==="smooth"),b},jr=function(e,r,n){var t=e,o=e,l=Yn(),c=l,b=r||50,E=Math.max(500,b*3),D=function(k,T){var g=Yn();T||g-l>b?(o=t,t=k,c=l,l=g):n?t+=k:t=o+(k-o)/(g-c)*(l-c)},C=function(){o=t=n?0:t,c=l=0},P=function(k){var T=c,g=o,F=Yn();return(k||k===0)&&k!==t&&D(k),l===c||F-c>E?0:(t+(n?g:-g))/((n?F:l)-T)*1e3};return{update:D,reset:C,getVelocity:P}},Rn=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},wo=function(e){var r=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(n)?r:n},os=function(){Gn=$e.core.globals().ScrollTrigger,Gn&&Gn.core&&ni()},ss=function(e){return $e=e||ns(),!_r&&$e&&typeof document<"u"&&document.body&&(xt=window,Vt=document,Zt=Vt.documentElement,Tn=Vt.body,es=[xt,Vt,Zt,Tn],$e.utils.clamp,ts=$e.core.context||function(){},tn="onpointerenter"in Tn?"pointer":"mouse",Jo=Ue.isTouch=xt.matchMedia&&xt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in xt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Et=Ue.eventTypes=("ontouchstart"in Zt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Zt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return rs=0},500),os(),_r=1),_r};ut.op=Ye;we.cache=0;var Ue=function(){function h(r){this.init(r)}var e=h.prototype;return e.init=function(n){_r||ss($e)||console.warn("Please gsap.registerPlugin(Observer)"),Gn||os();var t=n.tolerance,o=n.dragMinimum,l=n.type,c=n.target,b=n.lineHeight,E=n.debounce,D=n.preventDefault,C=n.onStop,P=n.onStopDelay,x=n.ignore,k=n.wheelSpeed,T=n.event,g=n.onDragStart,F=n.onDragEnd,j=n.onDrag,O=n.onPress,v=n.onRelease,N=n.onRight,H=n.onLeft,M=n.onUp,G=n.onDown,V=n.onChangeX,I=n.onChangeY,te=n.onChange,A=n.onToggleX,ee=n.onToggleY,$=n.onHover,oe=n.onHoverEnd,Z=n.onMove,U=n.ignoreCheck,R=n.isNormalizer,ie=n.onGestureStart,d=n.onGestureEnd,ye=n.onWheel,ne=n.onEnable,ae=n.onDisable,m=n.onClick,u=n.scrollSpeed,i=n.capture,s=n.allowClicks,_=n.lockAxis,S=n.onLockAxis;this.target=c=ft(c)||Zt,this.vars=n,x&&(x=$e.utils.toArray(x)),t=t||1e-9,o=o||0,k=k||1,u=u||1,l=l||"wheel,touch,pointer",E=E!==!1,b||(b=parseFloat(xt.getComputedStyle(Tn).lineHeight)||22);var y,B,Y,L,w,z,q,p=this,f=0,a=0,W=n.passive||!D&&n.passive!==!1,X=jt(c,ut),K=jt(c,Ye),ue=X(),re=K(),se=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Et[0]==="pointerdown",Pe=Wn(c),fe=c.ownerDocument||Vt,Te=[0,0,0],he=[0,0,0],Ie=0,Re=function(){return Ie=Yn()},Se=function(ce,Me){return(p.event=ce)&&x&&~x.indexOf(ce.target)||Me&&se&&ce.pointerType!=="touch"||U&&U(ce,Me)},ot=function(){p._vx.reset(),p._vy.reset(),B.pause(),C&&C(p)},Le=function(){var ce=p.deltaX=wo(Te),Me=p.deltaY=wo(he),Q=Math.abs(ce)>=t,pe=Math.abs(Me)>=t;te&&(Q||pe)&&te(p,ce,Me,Te,he),Q&&(N&&p.deltaX>0&&N(p),H&&p.deltaX<0&&H(p),V&&V(p),A&&p.deltaX<0!=f<0&&A(p),f=p.deltaX,Te[0]=Te[1]=Te[2]=0),pe&&(G&&p.deltaY>0&&G(p),M&&p.deltaY<0&&M(p),I&&I(p),ee&&p.deltaY<0!=a<0&&ee(p),a=p.deltaY,he[0]=he[1]=he[2]=0),(L||Y)&&(Z&&Z(p),Y&&(g&&Y===1&&g(p),j&&j(p),Y=0),L=!1),z&&!(z=!1)&&S&&S(p),w&&(ye(p),w=!1),y=0},Ft=function(ce,Me,Q){Te[Q]+=ce,he[Q]+=Me,p._vx.update(ce),p._vy.update(Me),E?y||(y=requestAnimationFrame(Le)):Le()},pn=function(ce,Me){_&&!q&&(p.axis=q=Math.abs(ce)>Math.abs(Me)?"x":"y",z=!0),q!=="y"&&(Te[2]+=ce,p._vx.update(ce,!0)),q!=="x"&&(he[2]+=Me,p._vy.update(Me,!0)),E?y||(y=requestAnimationFrame(Le)):Le()},Ht=function(ce){if(!Se(ce,1)){ce=Rn(ce,D);var Me=ce.clientX,Q=ce.clientY,pe=Me-p.x,le=Q-p.y,de=p.isDragging;p.x=Me,p.y=Q,(de||(pe||le)&&(Math.abs(p.startX-Me)>=o||Math.abs(p.startY-Q)>=o))&&(Y=de?2:1,de||(p.isDragging=!0),pn(pe,le))}},Qt=p.onPress=function(ge){Se(ge,1)||ge&&ge.button||(p.axis=q=null,B.pause(),p.isPressed=!0,ge=Rn(ge),f=a=0,p.startX=p.x=ge.clientX,p.startY=p.y=ge.clientY,p._vx.reset(),p._vy.reset(),it(R?c:fe,Et[1],Ht,W,!0),p.deltaX=p.deltaY=0,O&&O(p))},ve=p.onRelease=function(ge){if(!Se(ge,1)){st(R?c:fe,Et[1],Ht,!0);var ce=!isNaN(p.y-p.startY),Me=p.isDragging,Q=Me&&(Math.abs(p.x-p.startX)>3||Math.abs(p.y-p.startY)>3),pe=Rn(ge);!Q&&ce&&(p._vx.reset(),p._vy.reset(),D&&s&&$e.delayedCall(.08,function(){if(Yn()-Ie>300&&!ge.defaultPrevented){if(ge.target.click)ge.target.click();else if(fe.createEvent){var le=fe.createEvent("MouseEvents");le.initMouseEvent("click",!0,!0,xt,1,pe.screenX,pe.screenY,pe.clientX,pe.clientY,!1,!1,!1,!1,0,null),ge.target.dispatchEvent(le)}}})),p.isDragging=p.isGesturing=p.isPressed=!1,C&&Me&&!R&&B.restart(!0),Y&&Le(),F&&Me&&F(p),v&&v(p,Q)}},$t=function(ce){return ce.touches&&ce.touches.length>1&&(p.isGesturing=!0)&&ie(ce,p.isDragging)},Tt=function(){return(p.isGesturing=!1)||d(p)},St=function(ce){if(!Se(ce)){var Me=X(),Q=K();Ft((Me-ue)*u,(Q-re)*u,1),ue=Me,re=Q,C&&B.restart(!0)}},Ct=function(ce){if(!Se(ce)){ce=Rn(ce,D),ye&&(w=!0);var Me=(ce.deltaMode===1?b:ce.deltaMode===2?xt.innerHeight:1)*k;Ft(ce.deltaX*Me,ce.deltaY*Me,0),C&&!R&&B.restart(!0)}},Kt=function(ce){if(!Se(ce)){var Me=ce.clientX,Q=ce.clientY,pe=Me-p.x,le=Q-p.y;p.x=Me,p.y=Q,L=!0,C&&B.restart(!0),(pe||le)&&pn(pe,le)}},dn=function(ce){p.event=ce,$(p)},Nt=function(ce){p.event=ce,oe(p)},Pn=function(ce){return Se(ce)||Rn(ce,D)&&m(p)};B=p._dc=$e.delayedCall(P||.25,ot).pause(),p.deltaX=p.deltaY=0,p._vx=jr(0,50,!0),p._vy=jr(0,50,!0),p.scrollX=X,p.scrollY=K,p.isDragging=p.isGesturing=p.isPressed=!1,ts(this),p.enable=function(ge){return p.isEnabled||(it(Pe?fe:c,"scroll",qr),l.indexOf("scroll")>=0&&it(Pe?fe:c,"scroll",St,W,i),l.indexOf("wheel")>=0&&it(c,"wheel",Ct,W,i),(l.indexOf("touch")>=0&&Jo||l.indexOf("pointer")>=0)&&(it(c,Et[0],Qt,W,i),it(fe,Et[2],ve),it(fe,Et[3],ve),s&&it(c,"click",Re,!0,!0),m&&it(c,"click",Pn),ie&&it(fe,"gesturestart",$t),d&&it(fe,"gestureend",Tt),$&&it(c,tn+"enter",dn),oe&&it(c,tn+"leave",Nt),Z&&it(c,tn+"move",Kt)),p.isEnabled=!0,p.isDragging=p.isGesturing=p.isPressed=L=Y=!1,p._vx.reset(),p._vy.reset(),ue=X(),re=K(),ge&&ge.type&&Qt(ge),ne&&ne(p)),p},p.disable=function(){p.isEnabled&&(vn.filter(function(ge){return ge!==p&&Wn(ge.target)}).length||st(Pe?fe:c,"scroll",qr),p.isPressed&&(p._vx.reset(),p._vy.reset(),st(R?c:fe,Et[1],Ht,!0)),st(Pe?fe:c,"scroll",St,i),st(c,"wheel",Ct,i),st(c,Et[0],Qt,i),st(fe,Et[2],ve),st(fe,Et[3],ve),st(c,"click",Re,!0),st(c,"click",Pn),st(fe,"gesturestart",$t),st(fe,"gestureend",Tt),st(c,tn+"enter",dn),st(c,tn+"leave",Nt),st(c,tn+"move",Kt),p.isEnabled=p.isPressed=p.isDragging=!1,ae&&ae(p))},p.kill=p.revert=function(){p.disable();var ge=vn.indexOf(p);ge>=0&&vn.splice(ge,1),zt===p&&(zt=0)},vn.push(p),R&&Wn(c)&&(zt=p),p.enable(T)},ti(h,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),h}();Ue.version="3.12.7";Ue.create=function(h){return new Ue(h)};Ue.register=ss;Ue.getAll=function(){return vn.slice()};Ue.getById=function(h){return vn.filter(function(e){return e.vars.id===h})[0]};ns()&&$e.registerPlugin(Ue);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var J,bn,be,ke,_t,Ee,io,Cr,Kn,Xn,Ln,sr,tt,kr,Qr,lt,vo,To,wn,is,Nr,as,at,$r,ls,cs,Yt,Kr,ao,Sn,lo,Mr,Jr,Br,ir=1,nt=Date.now,zr=nt(),vt=0,Nn=0,So=function(e,r,n){var t=mt(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+r+"Clamp"]=t,t?e.substr(6,e.length-7):e},Co=function(e,r){return r&&(!mt(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},ri=function h(){return Nn&&requestAnimationFrame(h)},Mo=function(){return kr=1},Eo=function(){return kr=0},Rt=function(e){return e},Bn=function(e){return Math.round(e*1e5)/1e5||0},us=function(){return typeof window<"u"},fs=function(){return J||us()&&(J=window.gsap)&&J.registerPlugin&&J},un=function(e){return!!~io.indexOf(e)},hs=function(e){return(e==="Height"?lo:be["inner"+e])||_t["client"+e]||Ee["client"+e]},ps=function(e){return qt(e,"getBoundingClientRect")||(un(e)?function(){return Tr.width=be.innerWidth,Tr.height=lo,Tr}:function(){return Bt(e)})},oi=function(e,r,n){var t=n.d,o=n.d2,l=n.a;return(l=qt(e,"getBoundingClientRect"))?function(){return l()[t]}:function(){return(r?hs(o):e["client"+o])||0}},si=function(e,r){return!r||~Lt.indexOf(e)?ps(e):function(){return Tr}},Ot=function(e,r){var n=r.s,t=r.d2,o=r.d,l=r.a;return Math.max(0,(n="scroll"+t)&&(l=qt(e,n))?l()-ps(e)()[o]:un(e)?(_t[n]||Ee[n])-hs(t):e[n]-e["offset"+t])},ar=function(e,r){for(var n=0;n<wn.length;n+=3)(!r||~r.indexOf(wn[n+1]))&&e(wn[n],wn[n+1],wn[n+2])},mt=function(e){return typeof e=="string"},rt=function(e){return typeof e=="function"},zn=function(e){return typeof e=="number"},nn=function(e){return typeof e=="object"},Dn=function(e,r,n){return e&&e.progress(r?0:1)&&n&&e.pause()},Ur=function(e,r){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return r(e)}):r(e);n&&n.totalTime&&(e.callbackAnimation=n)}},yn=Math.abs,ds="left",gs="top",co="right",uo="bottom",sn="width",an="height",Vn="Right",Zn="Left",qn="Top",jn="Bottom",Fe="padding",bt="margin",En="Width",fo="Height",Ge="px",wt=function(e){return be.getComputedStyle(e)},ii=function(e){var r=wt(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},Po=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Bt=function(e,r){var n=r&&wt(e)[Qr]!=="matrix(1, 0, 0, 1, 0, 0)"&&J.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),t=e.getBoundingClientRect();return n&&n.progress(0).kill(),t},Er=function(e,r){var n=r.d2;return e["offset"+n]||e["client"+n]||0},ms=function(e){var r=[],n=e.labels,t=e.duration(),o;for(o in n)r.push(n[o]/t);return r},ai=function(e){return function(r){return J.utils.snap(ms(e),r)}},ho=function(e){var r=J.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(t,o){return t-o});return n?function(t,o,l){l===void 0&&(l=.001);var c;if(!o)return r(t);if(o>0){for(t-=l,c=0;c<n.length;c++)if(n[c]>=t)return n[c];return n[c-1]}else for(c=n.length,t+=l;c--;)if(n[c]<=t)return n[c];return n[0]}:function(t,o,l){l===void 0&&(l=.001);var c=r(t);return!o||Math.abs(c-t)<l||c-t<0==o<0?c:r(o<0?t-e:t+e)}},li=function(e){return function(r,n){return ho(ms(e))(r,n.direction)}},lr=function(e,r,n,t){return n.split(",").forEach(function(o){return e(r,o,t)})},Ve=function(e,r,n,t,o){return e.addEventListener(r,n,{passive:!t,capture:!!o})},Xe=function(e,r,n,t){return e.removeEventListener(r,n,!!t)},cr=function(e,r,n){n=n&&n.wheelHandler,n&&(e(r,"wheel",n),e(r,"touchmove",n))},Io={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ur={toggleActions:"play",anticipatePin:0},Pr={top:0,left:0,center:.5,bottom:1,right:1},xr=function(e,r){if(mt(e)){var n=e.indexOf("="),t=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(t*=r/100),e=e.substr(0,n-1)),e=t+(e in Pr?Pr[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},fr=function(e,r,n,t,o,l,c,b){var E=o.startColor,D=o.endColor,C=o.fontSize,P=o.indent,x=o.fontWeight,k=ke.createElement("div"),T=un(n)||qt(n,"pinType")==="fixed",g=e.indexOf("scroller")!==-1,F=T?Ee:n,j=e.indexOf("start")!==-1,O=j?E:D,v="border-color:"+O+";font-size:"+C+";color:"+O+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((g||b)&&T?"fixed;":"absolute;"),(g||b||!T)&&(v+=(t===Ye?co:uo)+":"+(l+parseFloat(P))+"px;"),c&&(v+="box-sizing:border-box;text-align:left;width:"+c.offsetWidth+"px;"),k._isStart=j,k.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),k.style.cssText=v,k.innerText=r||r===0?e+"-"+r:e,F.children[0]?F.insertBefore(k,F.children[0]):F.appendChild(k),k._offset=k["offset"+t.op.d2],br(k,0,t,j),k},br=function(e,r,n,t){var o={display:"block"},l=n[t?"os2":"p2"],c=n[t?"p2":"os2"];e._isFlipped=t,o[n.a+"Percent"]=t?-100:0,o[n.a]=t?"1px":0,o["border"+l+En]=1,o["border"+c+En]=0,o[n.p]=r+"px",J.set(e,o)},xe=[],eo={},Jn,Ao=function(){return nt()-vt>34&&(Jn||(Jn=requestAnimationFrame(Ut)))},_n=function(){(!at||!at.isPressed||at.startX>Ee.clientWidth)&&(we.cache++,at?Jn||(Jn=requestAnimationFrame(Ut)):Ut(),vt||hn("scrollStart"),vt=nt())},Fr=function(){cs=be.innerWidth,ls=be.innerHeight},Un=function(e){we.cache++,(e===!0||!tt&&!as&&!ke.fullscreenElement&&!ke.webkitFullscreenElement&&(!$r||cs!==be.innerWidth||Math.abs(be.innerHeight-ls)>be.innerHeight*.25))&&Cr.restart(!0)},fn={},ci=[],ys=function h(){return Xe(_e,"scrollEnd",h)||on(!0)},hn=function(e){return fn[e]&&fn[e].map(function(r){return r()})||ci},gt=[],_s=function(e){for(var r=0;r<gt.length;r+=5)(!e||gt[r+4]&&gt[r+4].query===e)&&(gt[r].style.cssText=gt[r+1],gt[r].getBBox&&gt[r].setAttribute("transform",gt[r+2]||""),gt[r+3].uncache=1)},po=function(e,r){var n;for(lt=0;lt<xe.length;lt++)n=xe[lt],n&&(!r||n._ctx===r)&&(e?n.kill(1):n.revert(!0,!0));Mr=!0,r&&_s(r),r||hn("revert")},xs=function(e,r){we.cache++,(r||!ct)&&we.forEach(function(n){return rt(n)&&n.cacheID++&&(n.rec=0)}),mt(e)&&(be.history.scrollRestoration=ao=e)},ct,ln=0,ko,ui=function(){if(ko!==ln){var e=ko=ln;requestAnimationFrame(function(){return e===ln&&on(!0)})}},bs=function(){Ee.appendChild(Sn),lo=!at&&Sn.offsetHeight||be.innerHeight,Ee.removeChild(Sn)},Ro=function(e){return Kn(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},on=function(e,r){if(_t=ke.documentElement,Ee=ke.body,io=[be,ke,_t,Ee],vt&&!e&&!Mr){Ve(_e,"scrollEnd",ys);return}bs(),ct=_e.isRefreshing=!0,we.forEach(function(t){return rt(t)&&++t.cacheID&&(t.rec=t())});var n=hn("refreshInit");is&&_e.sort(),r||po(),we.forEach(function(t){rt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))}),xe.slice(0).forEach(function(t){return t.refresh()}),Mr=!1,xe.forEach(function(t){if(t._subPinOffset&&t.pin){var o=t.vars.horizontal?"offsetWidth":"offsetHeight",l=t.pin[o];t.revert(!0,1),t.adjustPinSpacing(t.pin[o]-l),t.refresh()}}),Jr=1,Ro(!0),xe.forEach(function(t){var o=Ot(t.scroller,t._dir),l=t.vars.end==="max"||t._endClamp&&t.end>o,c=t._startClamp&&t.start>=o;(l||c)&&t.setPositions(c?o-1:t.start,l?Math.max(c?o:t.start+1,o):t.end,!0)}),Ro(!1),Jr=0,n.forEach(function(t){return t&&t.render&&t.render(-1)}),we.forEach(function(t){rt(t)&&(t.smooth&&requestAnimationFrame(function(){return t.target.style.scrollBehavior="smooth"}),t.rec&&t(t.rec))}),xs(ao,1),Cr.pause(),ln++,ct=2,Ut(2),xe.forEach(function(t){return rt(t.vars.onRefresh)&&t.vars.onRefresh(t)}),ct=_e.isRefreshing=!1,hn("refresh")},to=0,wr=1,Qn,Ut=function(e){if(e===2||!ct&&!Mr){_e.isUpdating=!0,Qn&&Qn.update(0);var r=xe.length,n=nt(),t=n-zr>=50,o=r&&xe[0].scroll();if(wr=to>o?-1:1,ct||(to=o),t&&(vt&&!kr&&n-vt>200&&(vt=0,hn("scrollEnd")),Ln=zr,zr=n),wr<0){for(lt=r;lt-- >0;)xe[lt]&&xe[lt].update(0,t);wr=1}else for(lt=0;lt<r;lt++)xe[lt]&&xe[lt].update(0,t);_e.isUpdating=!1}Jn=0},no=[ds,gs,uo,co,bt+jn,bt+Vn,bt+qn,bt+Zn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],vr=no.concat([sn,an,"boxSizing","max"+En,"max"+fo,"position",bt,Fe,Fe+qn,Fe+Vn,Fe+jn,Fe+Zn]),fi=function(e,r,n){Cn(n);var t=e._gsap;if(t.spacerIsNative)Cn(t.spacerState);else if(e._gsap.swappedIn){var o=r.parentNode;o&&(o.insertBefore(e,r),o.removeChild(r))}e._gsap.swappedIn=!1},Hr=function(e,r,n,t){if(!e._gsap.swappedIn){for(var o=no.length,l=r.style,c=e.style,b;o--;)b=no[o],l[b]=n[b];l.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(l.display="inline-block"),c[uo]=c[co]="auto",l.flexBasis=n.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[sn]=Er(e,ut)+Ge,l[an]=Er(e,Ye)+Ge,l[Fe]=c[bt]=c[gs]=c[ds]="0",Cn(t),c[sn]=c["max"+En]=n[sn],c[an]=c["max"+fo]=n[an],c[Fe]=n[Fe],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},hi=/([A-Z])/g,Cn=function(e){if(e){var r=e.t.style,n=e.length,t=0,o,l;for((e.t._gsap||J.core.getCache(e.t)).uncache=1;t<n;t+=2)l=e[t+1],o=e[t],l?r[o]=l:r[o]&&r.removeProperty(o.replace(hi,"-$1").toLowerCase())}},hr=function(e){for(var r=vr.length,n=e.style,t=[],o=0;o<r;o++)t.push(vr[o],n[vr[o]]);return t.t=e,t},pi=function(e,r,n){for(var t=[],o=e.length,l=n?8:0,c;l<o;l+=2)c=e[l],t.push(c,c in r?r[c]:e[l+1]);return t.t=e.t,t},Tr={left:0,top:0},Do=function(e,r,n,t,o,l,c,b,E,D,C,P,x,k){rt(e)&&(e=e(b)),mt(e)&&e.substr(0,3)==="max"&&(e=P+(e.charAt(4)==="="?xr("0"+e.substr(3),n):0));var T=x?x.time():0,g,F,j;if(x&&x.seek(0),isNaN(e)||(e=+e),zn(e))x&&(e=J.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,P,e)),c&&br(c,n,t,!0);else{rt(r)&&(r=r(b));var O=(e||"0").split(" "),v,N,H,M;j=ft(r,b)||Ee,v=Bt(j)||{},(!v||!v.left&&!v.top)&&wt(j).display==="none"&&(M=j.style.display,j.style.display="block",v=Bt(j),M?j.style.display=M:j.style.removeProperty("display")),N=xr(O[0],v[t.d]),H=xr(O[1]||"0",n),e=v[t.p]-E[t.p]-D+N+o-H,c&&br(c,H,t,n-H<20||c._isStart&&H>20),n-=n-H}if(k&&(b[k]=e||-.001,e<0&&(e=0)),l){var G=e+n,V=l._isStart;g="scroll"+t.d2,br(l,G,t,V&&G>20||!V&&(C?Math.max(Ee[g],_t[g]):l.parentNode[g])<=G+1),C&&(E=Bt(c),C&&(l.style[t.op.p]=E[t.op.p]-t.op.m-l._offset+Ge))}return x&&j&&(g=Bt(j),x.seek(P),F=Bt(j),x._caScrollDist=g[t.p]-F[t.p],e=e/x._caScrollDist*P),x&&x.seek(T),x?e:Math.round(e)},di=/(webkit|moz|length|cssText|inset)/i,Oo=function(e,r,n,t){if(e.parentNode!==r){var o=e.style,l,c;if(r===Ee){e._stOrig=o.cssText,c=wt(e);for(l in c)!+l&&!di.test(l)&&c[l]&&typeof o[l]=="string"&&l!=="0"&&(o[l]=c[l]);o.top=n,o.left=t}else o.cssText=e._stOrig;J.core.getCache(e).uncache=1,r.appendChild(e)}},ws=function(e,r,n){var t=r,o=t;return function(l){var c=Math.round(e());return c!==t&&c!==o&&Math.abs(c-t)>3&&Math.abs(c-o)>3&&(l=c,n&&n()),o=t,t=Math.round(l),t}},pr=function(e,r,n){var t={};t[r.p]="+="+n,J.set(e,t)},Lo=function(e,r){var n=jt(e,r),t="_scroll"+r.p2,o=function l(c,b,E,D,C){var P=l.tween,x=b.onComplete,k={};E=E||n();var T=ws(n,E,function(){P.kill(),l.tween=0});return C=D&&C||0,D=D||c-E,P&&P.kill(),b[t]=c,b.inherit=!1,b.modifiers=k,k[t]=function(){return T(E+D*P.ratio+C*P.ratio*P.ratio)},b.onUpdate=function(){we.cache++,l.tween&&Ut()},b.onComplete=function(){l.tween=0,x&&x.call(P)},P=l.tween=J.to(e,b),P};return e[t]=n,n.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Ve(e,"wheel",n.wheelHandler),_e.isTouch&&Ve(e,"touchmove",n.wheelHandler),o},_e=function(){function h(r,n){bn||h.register(J)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Kr(this),this.init(r,n)}var e=h.prototype;return e.init=function(n,t){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Nn){this.update=this.refresh=this.kill=Rt;return}n=Po(mt(n)||zn(n)||n.nodeType?{trigger:n}:n,ur);var o=n,l=o.onUpdate,c=o.toggleClass,b=o.id,E=o.onToggle,D=o.onRefresh,C=o.scrub,P=o.trigger,x=o.pin,k=o.pinSpacing,T=o.invalidateOnRefresh,g=o.anticipatePin,F=o.onScrubComplete,j=o.onSnapComplete,O=o.once,v=o.snap,N=o.pinReparent,H=o.pinSpacer,M=o.containerAnimation,G=o.fastScrollEnd,V=o.preventOverlaps,I=n.horizontal||n.containerAnimation&&n.horizontal!==!1?ut:Ye,te=!C&&C!==0,A=ft(n.scroller||be),ee=J.core.getCache(A),$=un(A),oe=("pinType"in n?n.pinType:qt(A,"pinType")||$&&"fixed")==="fixed",Z=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],U=te&&n.toggleActions.split(" "),R="markers"in n?n.markers:ur.markers,ie=$?0:parseFloat(wt(A)["border"+I.p2+En])||0,d=this,ye=n.onRefreshInit&&function(){return n.onRefreshInit(d)},ne=oi(A,$,I),ae=si(A,$),m=0,u=0,i=0,s=jt(A,I),_,S,y,B,Y,L,w,z,q,p,f,a,W,X,K,ue,re,se,Pe,fe,Te,he,Ie,Re,Se,ot,Le,Ft,pn,Ht,Qt,ve,$t,Tt,St,Ct,Kt,dn,Nt;if(d._startClamp=d._endClamp=!1,d._dir=I,g*=45,d.scroller=A,d.scroll=M?M.time.bind(M):s,B=s(),d.vars=n,t=t||n.animation,"refreshPriority"in n&&(is=1,n.refreshPriority===-9999&&(Qn=d)),ee.tweenScroll=ee.tweenScroll||{top:Lo(A,Ye),left:Lo(A,ut)},d.tweenTo=_=ee.tweenScroll[I.p],d.scrubDuration=function(Q){$t=zn(Q)&&Q,$t?ve?ve.duration(Q):ve=J.to(t,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:$t,paused:!0,onComplete:function(){return F&&F(d)}}):(ve&&ve.progress(1).kill(),ve=0)},t&&(t.vars.lazy=!1,t._initted&&!d.isReverted||t.vars.immediateRender!==!1&&n.immediateRender!==!1&&t.duration()&&t.render(0,!0,!0),d.animation=t.pause(),t.scrollTrigger=d,d.scrubDuration(C),Ht=0,b||(b=t.vars.id)),v&&((!nn(v)||v.push)&&(v={snapTo:v}),"scrollBehavior"in Ee.style&&J.set($?[Ee,_t]:A,{scrollBehavior:"auto"}),we.forEach(function(Q){return rt(Q)&&Q.target===($?ke.scrollingElement||_t:A)&&(Q.smooth=!1)}),y=rt(v.snapTo)?v.snapTo:v.snapTo==="labels"?ai(t):v.snapTo==="labelsDirectional"?li(t):v.directional!==!1?function(Q,pe){return ho(v.snapTo)(Q,nt()-u<500?0:pe.direction)}:J.utils.snap(v.snapTo),Tt=v.duration||{min:.1,max:2},Tt=nn(Tt)?Xn(Tt.min,Tt.max):Xn(Tt,Tt),St=J.delayedCall(v.delay||$t/2||.1,function(){var Q=s(),pe=nt()-u<500,le=_.tween;if((pe||Math.abs(d.getVelocity())<10)&&!le&&!kr&&m!==Q){var de=(Q-L)/X,We=t&&!te?t.totalProgress():de,Ce=pe?0:(We-Qt)/(nt()-Ln)*1e3||0,Be=J.utils.clamp(-de,1-de,yn(Ce/2)*Ce/.185),Ke=de+(v.inertia===!1?0:Be),Ne,De,Ae=v,Mt=Ae.onStart,Oe=Ae.onInterrupt,dt=Ae.onComplete;if(Ne=y(Ke,d),zn(Ne)||(Ne=Ke),De=Math.max(0,Math.round(L+Ne*X)),Q<=w&&Q>=L&&De!==Q){if(le&&!le._initted&&le.data<=yn(De-Q))return;v.inertia===!1&&(Be=Ne-de),_(De,{duration:Tt(yn(Math.max(yn(Ke-We),yn(Ne-We))*.185/Ce/.05||0)),ease:v.ease||"power3",data:yn(De-Q),onInterrupt:function(){return St.restart(!0)&&Oe&&Oe(d)},onComplete:function(){d.update(),m=s(),t&&!te&&(ve?ve.resetTo("totalProgress",Ne,t._tTime/t._tDur):t.progress(Ne)),Ht=Qt=t&&!te?t.totalProgress():d.progress,j&&j(d),dt&&dt(d)}},Q,Be*X,De-Q-Be*X),Mt&&Mt(d,_.tween)}}else d.isActive&&m!==Q&&St.restart(!0)}).pause()),b&&(eo[b]=d),P=d.trigger=ft(P||x!==!0&&x),Nt=P&&P._gsap&&P._gsap.stRevert,Nt&&(Nt=Nt(d)),x=x===!0?P:ft(x),mt(c)&&(c={targets:P,className:c}),x&&(k===!1||k===bt||(k=!k&&x.parentNode&&x.parentNode.style&&wt(x.parentNode).display==="flex"?!1:Fe),d.pin=x,S=J.core.getCache(x),S.spacer?K=S.pinState:(H&&(H=ft(H),H&&!H.nodeType&&(H=H.current||H.nativeElement),S.spacerIsNative=!!H,H&&(S.spacerState=hr(H))),S.spacer=se=H||ke.createElement("div"),se.classList.add("pin-spacer"),b&&se.classList.add("pin-spacer-"+b),S.pinState=K=hr(x)),n.force3D!==!1&&J.set(x,{force3D:!0}),d.spacer=se=S.spacer,pn=wt(x),Re=pn[k+I.os2],fe=J.getProperty(x),Te=J.quickSetter(x,I.a,Ge),Hr(x,se,pn),re=hr(x)),R){a=nn(R)?Po(R,Io):Io,p=fr("scroller-start",b,A,I,a,0),f=fr("scroller-end",b,A,I,a,0,p),Pe=p["offset"+I.op.d2];var Pn=ft(qt(A,"content")||A);z=this.markerStart=fr("start",b,Pn,I,a,Pe,0,M),q=this.markerEnd=fr("end",b,Pn,I,a,Pe,0,M),M&&(dn=J.quickSetter([z,q],I.a,Ge)),!oe&&!(Lt.length&&qt(A,"fixedMarkers")===!0)&&(ii($?Ee:A),J.set([p,f],{force3D:!0}),ot=J.quickSetter(p,I.a,Ge),Ft=J.quickSetter(f,I.a,Ge))}if(M){var ge=M.vars.onUpdate,ce=M.vars.onUpdateParams;M.eventCallback("onUpdate",function(){d.update(0,0,1),ge&&ge.apply(M,ce||[])})}if(d.previous=function(){return xe[xe.indexOf(d)-1]},d.next=function(){return xe[xe.indexOf(d)+1]},d.revert=function(Q,pe){if(!pe)return d.kill(!0);var le=Q!==!1||!d.enabled,de=tt;le!==d.isReverted&&(le&&(Ct=Math.max(s(),d.scroll.rec||0),i=d.progress,Kt=t&&t.progress()),z&&[z,q,p,f].forEach(function(We){return We.style.display=le?"none":"block"}),le&&(tt=d,d.update(le)),x&&(!N||!d.isActive)&&(le?fi(x,se,K):Hr(x,se,wt(x),Se)),le||d.update(le),tt=de,d.isReverted=le)},d.refresh=function(Q,pe,le,de){if(!((tt||!d.enabled)&&!pe)){if(x&&Q&&vt){Ve(h,"scrollEnd",ys);return}!ct&&ye&&ye(d),tt=d,_.tween&&!le&&(_.tween.kill(),_.tween=0),ve&&ve.pause(),T&&t&&t.revert({kill:!1}).invalidate(),d.isReverted||d.revert(!0,!0),d._subPinOffset=!1;var We=ne(),Ce=ae(),Be=M?M.duration():Ot(A,I),Ke=X<=.01,Ne=0,De=de||0,Ae=nn(le)?le.end:n.end,Mt=n.endTrigger||P,Oe=nn(le)?le.start:n.start||(n.start===0||!P?0:x?"0 0":"0 100%"),dt=d.pinnedContainer=n.pinnedContainer&&ft(n.pinnedContainer,d),It=P&&Math.max(0,xe.indexOf(d))||0,Ze=It,qe,Je,Jt,tr,et,He,At,Rr,go,In,kt,An,nr;for(R&&nn(le)&&(An=J.getProperty(p,I.p),nr=J.getProperty(f,I.p));Ze-- >0;)He=xe[Ze],He.end||He.refresh(0,1)||(tt=d),At=He.pin,At&&(At===P||At===x||At===dt)&&!He.isReverted&&(In||(In=[]),In.unshift(He),He.revert(!0,!0)),He!==xe[Ze]&&(It--,Ze--);for(rt(Oe)&&(Oe=Oe(d)),Oe=So(Oe,"start",d),L=Do(Oe,P,We,I,s(),z,p,d,Ce,ie,oe,Be,M,d._startClamp&&"_startClamp")||(x?-.001:0),rt(Ae)&&(Ae=Ae(d)),mt(Ae)&&!Ae.indexOf("+=")&&(~Ae.indexOf(" ")?Ae=(mt(Oe)?Oe.split(" ")[0]:"")+Ae:(Ne=xr(Ae.substr(2),We),Ae=mt(Oe)?Oe:(M?J.utils.mapRange(0,M.duration(),M.scrollTrigger.start,M.scrollTrigger.end,L):L)+Ne,Mt=P)),Ae=So(Ae,"end",d),w=Math.max(L,Do(Ae||(Mt?"100% 0":Be),Mt,We,I,s()+Ne,q,f,d,Ce,ie,oe,Be,M,d._endClamp&&"_endClamp"))||-.001,Ne=0,Ze=It;Ze--;)He=xe[Ze],At=He.pin,At&&He.start-He._pinPush<=L&&!M&&He.end>0&&(qe=He.end-(d._startClamp?Math.max(0,He.start):He.start),(At===P&&He.start-He._pinPush<L||At===dt)&&isNaN(Oe)&&(Ne+=qe*(1-He.progress)),At===x&&(De+=qe));if(L+=Ne,w+=Ne,d._startClamp&&(d._startClamp+=Ne),d._endClamp&&!ct&&(d._endClamp=w||-.001,w=Math.min(w,Ot(A,I))),X=w-L||(L-=.01)&&.001,Ke&&(i=J.utils.clamp(0,1,J.utils.normalize(L,w,Ct))),d._pinPush=De,z&&Ne&&(qe={},qe[I.a]="+="+Ne,dt&&(qe[I.p]="-="+s()),J.set([z,q],qe)),x&&!(Jr&&d.end>=Ot(A,I)))qe=wt(x),tr=I===Ye,Jt=s(),he=parseFloat(fe(I.a))+De,!Be&&w>1&&(kt=($?ke.scrollingElement||_t:A).style,kt={style:kt,value:kt["overflow"+I.a.toUpperCase()]},$&&wt(Ee)["overflow"+I.a.toUpperCase()]!=="scroll"&&(kt.style["overflow"+I.a.toUpperCase()]="scroll")),Hr(x,se,qe),re=hr(x),Je=Bt(x,!0),Rr=oe&&jt(A,tr?ut:Ye)(),k?(Se=[k+I.os2,X+De+Ge],Se.t=se,Ze=k===Fe?Er(x,I)+X+De:0,Ze&&(Se.push(I.d,Ze+Ge),se.style.flexBasis!=="auto"&&(se.style.flexBasis=Ze+Ge)),Cn(Se),dt&&xe.forEach(function(kn){kn.pin===dt&&kn.vars.pinSpacing!==!1&&(kn._subPinOffset=!0)}),oe&&s(Ct)):(Ze=Er(x,I),Ze&&se.style.flexBasis!=="auto"&&(se.style.flexBasis=Ze+Ge)),oe&&(et={top:Je.top+(tr?Jt-L:Rr)+Ge,left:Je.left+(tr?Rr:Jt-L)+Ge,boxSizing:"border-box",position:"fixed"},et[sn]=et["max"+En]=Math.ceil(Je.width)+Ge,et[an]=et["max"+fo]=Math.ceil(Je.height)+Ge,et[bt]=et[bt+qn]=et[bt+Vn]=et[bt+jn]=et[bt+Zn]="0",et[Fe]=qe[Fe],et[Fe+qn]=qe[Fe+qn],et[Fe+Vn]=qe[Fe+Vn],et[Fe+jn]=qe[Fe+jn],et[Fe+Zn]=qe[Fe+Zn],ue=pi(K,et,N),ct&&s(0)),t?(go=t._initted,Nr(1),t.render(t.duration(),!0,!0),Ie=fe(I.a)-he+X+De,Le=Math.abs(X-Ie)>1,oe&&Le&&ue.splice(ue.length-2,2),t.render(0,!0,!0),go||t.invalidate(!0),t.parent||t.totalTime(t.totalTime()),Nr(0)):Ie=X,kt&&(kt.value?kt.style["overflow"+I.a.toUpperCase()]=kt.value:kt.style.removeProperty("overflow-"+I.a));else if(P&&s()&&!M)for(Je=P.parentNode;Je&&Je!==Ee;)Je._pinOffset&&(L-=Je._pinOffset,w-=Je._pinOffset),Je=Je.parentNode;In&&In.forEach(function(kn){return kn.revert(!1,!0)}),d.start=L,d.end=w,B=Y=ct?Ct:s(),!M&&!ct&&(B<Ct&&s(Ct),d.scroll.rec=0),d.revert(!1,!0),u=nt(),St&&(m=-1,St.restart(!0)),tt=0,t&&te&&(t._initted||Kt)&&t.progress()!==Kt&&t.progress(Kt||0,!0).render(t.time(),!0,!0),(Ke||i!==d.progress||M||T||t&&!t._initted)&&(t&&!te&&t.totalProgress(M&&L<-.001&&!i?J.utils.normalize(L,w,0):i,!0),d.progress=Ke||(B-L)/X===i?0:i),x&&k&&(se._pinOffset=Math.round(d.progress*Ie)),ve&&ve.invalidate(),isNaN(An)||(An-=J.getProperty(p,I.p),nr-=J.getProperty(f,I.p),pr(p,I,An),pr(z,I,An-(de||0)),pr(f,I,nr),pr(q,I,nr-(de||0))),Ke&&!ct&&d.update(),D&&!ct&&!W&&(W=!0,D(d),W=!1)}},d.getVelocity=function(){return(s()-Y)/(nt()-Ln)*1e3||0},d.endAnimation=function(){Dn(d.callbackAnimation),t&&(ve?ve.progress(1):t.paused()?te||Dn(t,d.direction<0,1):Dn(t,t.reversed()))},d.labelToScroll=function(Q){return t&&t.labels&&(L||d.refresh()||L)+t.labels[Q]/t.duration()*X||0},d.getTrailing=function(Q){var pe=xe.indexOf(d),le=d.direction>0?xe.slice(0,pe).reverse():xe.slice(pe+1);return(mt(Q)?le.filter(function(de){return de.vars.preventOverlaps===Q}):le).filter(function(de){return d.direction>0?de.end<=L:de.start>=w})},d.update=function(Q,pe,le){if(!(M&&!le&&!Q)){var de=ct===!0?Ct:d.scroll(),We=Q?0:(de-L)/X,Ce=We<0?0:We>1?1:We||0,Be=d.progress,Ke,Ne,De,Ae,Mt,Oe,dt,It;if(pe&&(Y=B,B=M?s():de,v&&(Qt=Ht,Ht=t&&!te?t.totalProgress():Ce)),g&&x&&!tt&&!ir&&vt&&(!Ce&&L<de+(de-Y)/(nt()-Ln)*g?Ce=1e-4:Ce===1&&w>de+(de-Y)/(nt()-Ln)*g&&(Ce=.9999)),Ce!==Be&&d.enabled){if(Ke=d.isActive=!!Ce&&Ce<1,Ne=!!Be&&Be<1,Oe=Ke!==Ne,Mt=Oe||!!Ce!=!!Be,d.direction=Ce>Be?1:-1,d.progress=Ce,Mt&&!tt&&(De=Ce&&!Be?0:Ce===1?1:Be===1?2:3,te&&(Ae=!Oe&&U[De+1]!=="none"&&U[De+1]||U[De],It=t&&(Ae==="complete"||Ae==="reset"||Ae in t))),V&&(Oe||It)&&(It||C||!t)&&(rt(V)?V(d):d.getTrailing(V).forEach(function(Jt){return Jt.endAnimation()})),te||(ve&&!tt&&!ir?(ve._dp._time-ve._start!==ve._time&&ve.render(ve._dp._time-ve._start),ve.resetTo?ve.resetTo("totalProgress",Ce,t._tTime/t._tDur):(ve.vars.totalProgress=Ce,ve.invalidate().restart())):t&&t.totalProgress(Ce,!!(tt&&(u||Q)))),x){if(Q&&k&&(se.style[k+I.os2]=Re),!oe)Te(Bn(he+Ie*Ce));else if(Mt){if(dt=!Q&&Ce>Be&&w+1>de&&de+1>=Ot(A,I),N)if(!Q&&(Ke||dt)){var Ze=Bt(x,!0),qe=de-L;Oo(x,Ee,Ze.top+(I===Ye?qe:0)+Ge,Ze.left+(I===Ye?0:qe)+Ge)}else Oo(x,se);Cn(Ke||dt?ue:re),Le&&Ce<1&&Ke||Te(he+(Ce===1&&!dt?Ie:0))}}v&&!_.tween&&!tt&&!ir&&St.restart(!0),c&&(Oe||O&&Ce&&(Ce<1||!Br))&&Kn(c.targets).forEach(function(Jt){return Jt.classList[Ke||O?"add":"remove"](c.className)}),l&&!te&&!Q&&l(d),Mt&&!tt?(te&&(It&&(Ae==="complete"?t.pause().totalProgress(1):Ae==="reset"?t.restart(!0).pause():Ae==="restart"?t.restart(!0):t[Ae]()),l&&l(d)),(Oe||!Br)&&(E&&Oe&&Ur(d,E),Z[De]&&Ur(d,Z[De]),O&&(Ce===1?d.kill(!1,1):Z[De]=0),Oe||(De=Ce===1?1:3,Z[De]&&Ur(d,Z[De]))),G&&!Ke&&Math.abs(d.getVelocity())>(zn(G)?G:2500)&&(Dn(d.callbackAnimation),ve?ve.progress(1):Dn(t,Ae==="reverse"?1:!Ce,1))):te&&l&&!tt&&l(d)}if(Ft){var Je=M?de/M.duration()*(M._caScrollDist||0):de;ot(Je+(p._isFlipped?1:0)),Ft(Je)}dn&&dn(-de/M.duration()*(M._caScrollDist||0))}},d.enable=function(Q,pe){d.enabled||(d.enabled=!0,Ve(A,"resize",Un),$||Ve(A,"scroll",_n),ye&&Ve(h,"refreshInit",ye),Q!==!1&&(d.progress=i=0,B=Y=m=s()),pe!==!1&&d.refresh())},d.getTween=function(Q){return Q&&_?_.tween:ve},d.setPositions=function(Q,pe,le,de){if(M){var We=M.scrollTrigger,Ce=M.duration(),Be=We.end-We.start;Q=We.start+Be*Q/Ce,pe=We.start+Be*pe/Ce}d.refresh(!1,!1,{start:Co(Q,le&&!!d._startClamp),end:Co(pe,le&&!!d._endClamp)},de),d.update()},d.adjustPinSpacing=function(Q){if(Se&&Q){var pe=Se.indexOf(I.d)+1;Se[pe]=parseFloat(Se[pe])+Q+Ge,Se[1]=parseFloat(Se[1])+Q+Ge,Cn(Se)}},d.disable=function(Q,pe){if(d.enabled&&(Q!==!1&&d.revert(!0,!0),d.enabled=d.isActive=!1,pe||ve&&ve.pause(),Ct=0,S&&(S.uncache=1),ye&&Xe(h,"refreshInit",ye),St&&(St.pause(),_.tween&&_.tween.kill()&&(_.tween=0)),!$)){for(var le=xe.length;le--;)if(xe[le].scroller===A&&xe[le]!==d)return;Xe(A,"resize",Un),$||Xe(A,"scroll",_n)}},d.kill=function(Q,pe){d.disable(Q,pe),ve&&!pe&&ve.kill(),b&&delete eo[b];var le=xe.indexOf(d);le>=0&&xe.splice(le,1),le===lt&&wr>0&&lt--,le=0,xe.forEach(function(de){return de.scroller===d.scroller&&(le=1)}),le||ct||(d.scroll.rec=0),t&&(t.scrollTrigger=null,Q&&t.revert({kill:!1}),pe||t.kill()),z&&[z,q,p,f].forEach(function(de){return de.parentNode&&de.parentNode.removeChild(de)}),Qn===d&&(Qn=0),x&&(S&&(S.uncache=1),le=0,xe.forEach(function(de){return de.pin===x&&le++}),le||(S.spacer=0)),n.onKill&&n.onKill(d)},xe.push(d),d.enable(!1,!1),Nt&&Nt(d),t&&t.add&&!X){var Me=d.update;d.update=function(){d.update=Me,we.cache++,L||w||d.refresh()},J.delayedCall(.01,d.update),X=.01,L=w=0}else d.refresh();x&&ui()},h.register=function(n){return bn||(J=n||fs(),us()&&window.document&&h.enable(),bn=Nn),bn},h.defaults=function(n){if(n)for(var t in n)ur[t]=n[t];return ur},h.disable=function(n,t){Nn=0,xe.forEach(function(l){return l[t?"kill":"disable"](n)}),Xe(be,"wheel",_n),Xe(ke,"scroll",_n),clearInterval(sr),Xe(ke,"touchcancel",Rt),Xe(Ee,"touchstart",Rt),lr(Xe,ke,"pointerdown,touchstart,mousedown",Mo),lr(Xe,ke,"pointerup,touchend,mouseup",Eo),Cr.kill(),ar(Xe);for(var o=0;o<we.length;o+=3)cr(Xe,we[o],we[o+1]),cr(Xe,we[o],we[o+2])},h.enable=function(){if(be=window,ke=document,_t=ke.documentElement,Ee=ke.body,J&&(Kn=J.utils.toArray,Xn=J.utils.clamp,Kr=J.core.context||Rt,Nr=J.core.suppressOverwrites||Rt,ao=be.history.scrollRestoration||"auto",to=be.pageYOffset||0,J.core.globals("ScrollTrigger",h),Ee)){Nn=1,Sn=document.createElement("div"),Sn.style.height="100vh",Sn.style.position="absolute",bs(),ri(),Ue.register(J),h.isTouch=Ue.isTouch,Yt=Ue.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),$r=Ue.isTouch===1,Ve(be,"wheel",_n),io=[be,ke,_t,Ee],J.matchMedia?(h.matchMedia=function(E){var D=J.matchMedia(),C;for(C in E)D.add(C,E[C]);return D},J.addEventListener("matchMediaInit",function(){return po()}),J.addEventListener("matchMediaRevert",function(){return _s()}),J.addEventListener("matchMedia",function(){on(0,1),hn("matchMedia")}),J.matchMedia().add("(orientation: portrait)",function(){return Fr(),Fr})):console.warn("Requires GSAP 3.11.0 or later"),Fr(),Ve(ke,"scroll",_n);var n=Ee.hasAttribute("style"),t=Ee.style,o=t.borderTopStyle,l=J.core.Animation.prototype,c,b;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),t.borderTopStyle="solid",c=Bt(Ee),Ye.m=Math.round(c.top+Ye.sc())||0,ut.m=Math.round(c.left+ut.sc())||0,o?t.borderTopStyle=o:t.removeProperty("border-top-style"),n||(Ee.setAttribute("style",""),Ee.removeAttribute("style")),sr=setInterval(Ao,250),J.delayedCall(.5,function(){return ir=0}),Ve(ke,"touchcancel",Rt),Ve(Ee,"touchstart",Rt),lr(Ve,ke,"pointerdown,touchstart,mousedown",Mo),lr(Ve,ke,"pointerup,touchend,mouseup",Eo),Qr=J.utils.checkPrefix("transform"),vr.push(Qr),bn=nt(),Cr=J.delayedCall(.2,on).pause(),wn=[ke,"visibilitychange",function(){var E=be.innerWidth,D=be.innerHeight;ke.hidden?(vo=E,To=D):(vo!==E||To!==D)&&Un()},ke,"DOMContentLoaded",on,be,"load",on,be,"resize",Un],ar(Ve),xe.forEach(function(E){return E.enable(0,1)}),b=0;b<we.length;b+=3)cr(Xe,we[b],we[b+1]),cr(Xe,we[b],we[b+2])}},h.config=function(n){"limitCallbacks"in n&&(Br=!!n.limitCallbacks);var t=n.syncInterval;t&&clearInterval(sr)||(sr=t)&&setInterval(Ao,t),"ignoreMobileResize"in n&&($r=h.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(ar(Xe)||ar(Ve,n.autoRefreshEvents||"none"),as=(n.autoRefreshEvents+"").indexOf("resize")===-1)},h.scrollerProxy=function(n,t){var o=ft(n),l=we.indexOf(o),c=un(o);~l&&we.splice(l,c?6:2),t&&(c?Lt.unshift(be,t,Ee,t,_t,t):Lt.unshift(o,t))},h.clearMatchMedia=function(n){xe.forEach(function(t){return t._ctx&&t._ctx.query===n&&t._ctx.kill(!0,!0)})},h.isInViewport=function(n,t,o){var l=(mt(n)?ft(n):n).getBoundingClientRect(),c=l[o?sn:an]*t||0;return o?l.right-c>0&&l.left+c<be.innerWidth:l.bottom-c>0&&l.top+c<be.innerHeight},h.positionInViewport=function(n,t,o){mt(n)&&(n=ft(n));var l=n.getBoundingClientRect(),c=l[o?sn:an],b=t==null?c/2:t in Pr?Pr[t]*c:~t.indexOf("%")?parseFloat(t)*c/100:parseFloat(t)||0;return o?(l.left+b)/be.innerWidth:(l.top+b)/be.innerHeight},h.killAll=function(n){if(xe.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),n!==!0){var t=fn.killAll||[];fn={},t.forEach(function(o){return o()})}},h}();_e.version="3.12.7";_e.saveStyles=function(h){return h?Kn(h).forEach(function(e){if(e&&e.style){var r=gt.indexOf(e);r>=0&&gt.splice(r,5),gt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),J.core.getCache(e),Kr())}}):gt};_e.revert=function(h,e){return po(!h,e)};_e.create=function(h,e){return new _e(h,e)};_e.refresh=function(h){return h?Un(!0):(bn||_e.register())&&on(!0)};_e.update=function(h){return++we.cache&&Ut(h===!0?2:0)};_e.clearScrollMemory=xs;_e.maxScroll=function(h,e){return Ot(h,e?ut:Ye)};_e.getScrollFunc=function(h,e){return jt(ft(h),e?ut:Ye)};_e.getById=function(h){return eo[h]};_e.getAll=function(){return xe.filter(function(h){return h.vars.id!=="ScrollSmoother"})};_e.isScrolling=function(){return!!vt};_e.snapDirectional=ho;_e.addEventListener=function(h,e){var r=fn[h]||(fn[h]=[]);~r.indexOf(e)||r.push(e)};_e.removeEventListener=function(h,e){var r=fn[h],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)};_e.batch=function(h,e){var r=[],n={},t=e.interval||.016,o=e.batchMax||1e9,l=function(E,D){var C=[],P=[],x=J.delayedCall(t,function(){D(C,P),C=[],P=[]}).pause();return function(k){C.length||x.restart(!0),C.push(k.trigger),P.push(k),o<=C.length&&x.progress(1)}},c;for(c in e)n[c]=c.substr(0,2)==="on"&&rt(e[c])&&c!=="onRefreshInit"?l(c,e[c]):e[c];return rt(o)&&(o=o(),Ve(_e,"refresh",function(){return o=e.batchMax()})),Kn(h).forEach(function(b){var E={};for(c in n)E[c]=n[c];E.trigger=b,r.push(_e.create(E))}),r};var No=function(e,r,n,t){return r>t?e(t):r<0&&e(0),n>t?(t-r)/(n-r):n<0?r/(r-n):1},Gr=function h(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Ue.isTouch?" pinch-zoom":""):"none",e===_t&&h(Ee,r)},dr={auto:1,scroll:1},gi=function(e){var r=e.event,n=e.target,t=e.axis,o=(r.changedTouches?r.changedTouches[0]:r).target,l=o._gsap||J.core.getCache(o),c=nt(),b;if(!l._isScrollT||c-l._isScrollT>2e3){for(;o&&o!==Ee&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(dr[(b=wt(o)).overflowY]||dr[b.overflowX]));)o=o.parentNode;l._isScroll=o&&o!==n&&!un(o)&&(dr[(b=wt(o)).overflowY]||dr[b.overflowX]),l._isScrollT=c}(l._isScroll||t==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},vs=function(e,r,n,t){return Ue.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:t=t&&gi,onPress:t,onDrag:t,onScroll:t,onEnable:function(){return n&&Ve(ke,Ue.eventTypes[0],zo,!1,!0)},onDisable:function(){return Xe(ke,Ue.eventTypes[0],zo,!0)}})},mi=/(input|label|select|textarea)/i,Bo,zo=function(e){var r=mi.test(e.target.tagName);(r||Bo)&&(e._gsapAllow=!0,Bo=r)},yi=function(e){nn(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,n=r.normalizeScrollX,t=r.momentum,o=r.allowNestedScroll,l=r.onRelease,c,b,E=ft(e.target)||_t,D=J.core.globals().ScrollSmoother,C=D&&D.get(),P=Yt&&(e.content&&ft(e.content)||C&&e.content!==!1&&!C.smooth()&&C.content()),x=jt(E,Ye),k=jt(E,ut),T=1,g=(Ue.isTouch&&be.visualViewport?be.visualViewport.scale*be.visualViewport.width:be.outerWidth)/be.innerWidth,F=0,j=rt(t)?function(){return t(c)}:function(){return t||2.8},O,v,N=vs(E,e.type,!0,o),H=function(){return v=!1},M=Rt,G=Rt,V=function(){b=Ot(E,Ye),G=Xn(Yt?1:0,b),n&&(M=Xn(0,Ot(E,ut))),O=ln},I=function(){P._gsap.y=Bn(parseFloat(P._gsap.y)+x.offset)+"px",P.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(P._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},te=function(){if(v){requestAnimationFrame(H);var R=Bn(c.deltaY/2),ie=G(x.v-R);if(P&&ie!==x.v+x.offset){x.offset=ie-x.v;var d=Bn((parseFloat(P&&P._gsap.y)||0)-x.offset);P.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+d+", 0, 1)",P._gsap.y=d+"px",x.cacheID=we.cache,Ut()}return!0}x.offset&&I(),v=!0},A,ee,$,oe,Z=function(){V(),A.isActive()&&A.vars.scrollY>b&&(x()>b?A.progress(1)&&x(b):A.resetTo("scrollY",b))};return P&&J.set(P,{y:"+=0"}),e.ignoreCheck=function(U){return Yt&&U.type==="touchmove"&&te()||T>1.05&&U.type!=="touchstart"||c.isGesturing||U.touches&&U.touches.length>1},e.onPress=function(){v=!1;var U=T;T=Bn((be.visualViewport&&be.visualViewport.scale||1)/g),A.pause(),U!==T&&Gr(E,T>1.01?!0:n?!1:"x"),ee=k(),$=x(),V(),O=ln},e.onRelease=e.onGestureStart=function(U,R){if(x.offset&&I(),!R)oe.restart(!0);else{we.cache++;var ie=j(),d,ye;n&&(d=k(),ye=d+ie*.05*-U.velocityX/.227,ie*=No(k,d,ye,Ot(E,ut)),A.vars.scrollX=M(ye)),d=x(),ye=d+ie*.05*-U.velocityY/.227,ie*=No(x,d,ye,Ot(E,Ye)),A.vars.scrollY=G(ye),A.invalidate().duration(ie).play(.01),(Yt&&A.vars.scrollY>=b||d>=b-1)&&J.to({},{onUpdate:Z,duration:ie})}l&&l(U)},e.onWheel=function(){A._ts&&A.pause(),nt()-F>1e3&&(O=0,F=nt())},e.onChange=function(U,R,ie,d,ye){if(ln!==O&&V(),R&&n&&k(M(d[2]===R?ee+(U.startX-U.x):k()+R-d[1])),ie){x.offset&&I();var ne=ye[2]===ie,ae=ne?$+U.startY-U.y:x()+ie-ye[1],m=G(ae);ne&&ae!==m&&($+=m-ae),x(m)}(ie||R)&&Ut()},e.onEnable=function(){Gr(E,n?!1:"x"),_e.addEventListener("refresh",Z),Ve(be,"resize",Z),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=k.smooth=!1),N.enable()},e.onDisable=function(){Gr(E,!0),Xe(be,"resize",Z),_e.removeEventListener("refresh",Z),N.kill()},e.lockAxis=e.lockAxis!==!1,c=new Ue(e),c.iOS=Yt,Yt&&!x()&&x(1),Yt&&J.ticker.add(Rt),oe=c._dc,A=J.to(c,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:ws(x,x(),function(){return A.pause()})},onUpdate:Ut,onComplete:oe.vars.onComplete}),c};_e.sort=function(h){if(rt(h))return xe.sort(h);var e=be.pageYOffset||0;return _e.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+be.innerHeight}),xe.sort(h||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};_e.observe=function(h){return new Ue(h)};_e.normalizeScroll=function(h){if(typeof h>"u")return at;if(h===!0&&at)return at.enable();if(h===!1){at&&at.kill(),at=h;return}var e=h instanceof Ue?h:yi(h);return at&&at.target===e.target&&at.kill(),un(e.target)&&(at=e),e};_e.core={_getVelocityProp:jr,_inputObserver:vs,_scrollers:we,_proxies:Lt,bridge:{ss:function(){vt||hn("scrollStart"),vt=nt()},ref:function(){return tt}}};fs()&&J.registerPlugin(_e);var $n=function(){var h=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(D){D.preventDefault(),n(++h%e.children.length)},!1);function r(D){return e.appendChild(D.dom),D}function n(D){for(var C=0;C<e.children.length;C++)e.children[C].style.display=C===D?"block":"none";h=D}var t=(performance||Date).now(),o=t,l=0,c=r(new $n.Panel("FPS","#0ff","#002")),b=r(new $n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var E=r(new $n.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:r,showPanel:n,begin:function(){t=(performance||Date).now()},end:function(){l++;var D=(performance||Date).now();if(b.update(D-t,200),D>=o+1e3&&(c.update(l*1e3/(D-o),100),o=D,l=0,E)){var C=performance.memory;E.update(C.usedJSHeapSize/1048576,C.jsHeapSizeLimit/1048576)}return D},update:function(){t=this.end()},domElement:e,setMode:n}};$n.Panel=function(h,e,r){var n=1/0,t=0,o=Math.round,l=o(window.devicePixelRatio||1),c=80*l,b=48*l,E=3*l,D=2*l,C=3*l,P=15*l,x=74*l,k=30*l,T=document.createElement("canvas");T.width=c,T.height=b,T.style.cssText="width:80px;height:48px";var g=T.getContext("2d");return g.font="bold "+9*l+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=r,g.fillRect(0,0,c,b),g.fillStyle=e,g.fillText(h,E,D),g.fillRect(C,P,x,k),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(C,P,x,k),{dom:T,update:function(F,j){n=Math.min(n,F),t=Math.max(t,F),g.fillStyle=r,g.globalAlpha=1,g.fillRect(0,0,c,P),g.fillStyle=e,g.fillText(o(F)+" "+h+" ("+o(n)+"-"+o(t)+")",E,D),g.drawImage(T,C+l,P,x-l,k,C,P,x-l,k),g.fillRect(C+x-l,P,l,k),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(C+x-l,P,l,o((1-F/j)*k))}}};class Ts extends As{constructor(e,r={}){const n=r.font;if(n===void 0)super();else{const t=n.generateShapes(e,r.size);r.depth===void 0&&(r.depth=50),r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),super(t,r)}this.type="TextGeometry"}}const _i=Os;class Ir extends Zo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,r,n,t){const o=this,l=new qo(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{r(o.parse(c))}catch(b){t?t(b):console.error(b),o.manager.itemError(e)}},n,t)}parse(e){const r=this;function n(m,u){if(m.nodeType!==1)return;const i=v(m);let s=!1,_=null;switch(m.nodeName){case"svg":u=k(m,u);break;case"style":o(m);break;case"g":u=k(m,u);break;case"path":u=k(m,u),m.hasAttribute("d")&&(_=t(m));break;case"rect":u=k(m,u),_=b(m);break;case"polygon":u=k(m,u),_=E(m);break;case"polyline":u=k(m,u),_=D(m);break;case"circle":u=k(m,u),_=C(m);break;case"ellipse":u=k(m,u),_=P(m);break;case"line":u=k(m,u),_=x(m);break;case"defs":s=!0;break;case"use":u=k(m,u);const B=(m.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),Y=m.viewportElement.getElementById(B);Y?n(Y,u):console.warn("SVGLoader: 'use node' references non-existent node id: "+B);break}_&&(u.fill!==void 0&&u.fill!=="none"&&_.color.setStyle(u.fill,_i),H(_,ye),A.push(_),_.userData={node:m,style:u});const S=m.childNodes;for(let y=0;y<S.length;y++){const B=S[y];s&&B.nodeName!=="style"&&B.nodeName!=="defs"||n(B,u)}i&&($.pop(),$.length>0?ye.copy($[$.length-1]):ye.identity())}function t(m){const u=new Gt,i=new me,s=new me,_=new me;let S=!0,y=!1;const B=m.getAttribute("d");if(B===""||B==="none")return null;const Y=B.match(/[a-df-z][^a-df-z]*/ig);for(let L=0,w=Y.length;L<w;L++){const z=Y[L],q=z.charAt(0),p=z.slice(1).trim();S===!0&&(y=!0,S=!1);let f;switch(q){case"M":f=g(p);for(let a=0,W=f.length;a<W;a+=2)i.x=f[a+0],i.y=f[a+1],s.x=i.x,s.y=i.y,a===0?u.moveTo(i.x,i.y):u.lineTo(i.x,i.y),a===0&&_.copy(i);break;case"H":f=g(p);for(let a=0,W=f.length;a<W;a++)i.x=f[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"V":f=g(p);for(let a=0,W=f.length;a<W;a++)i.y=f[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"L":f=g(p);for(let a=0,W=f.length;a<W;a+=2)i.x=f[a+0],i.y=f[a+1],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"C":f=g(p);for(let a=0,W=f.length;a<W;a+=6)u.bezierCurveTo(f[a+0],f[a+1],f[a+2],f[a+3],f[a+4],f[a+5]),s.x=f[a+2],s.y=f[a+3],i.x=f[a+4],i.y=f[a+5],a===0&&y===!0&&_.copy(i);break;case"S":f=g(p);for(let a=0,W=f.length;a<W;a+=4)u.bezierCurveTo(T(i.x,s.x),T(i.y,s.y),f[a+0],f[a+1],f[a+2],f[a+3]),s.x=f[a+0],s.y=f[a+1],i.x=f[a+2],i.y=f[a+3],a===0&&y===!0&&_.copy(i);break;case"Q":f=g(p);for(let a=0,W=f.length;a<W;a+=4)u.quadraticCurveTo(f[a+0],f[a+1],f[a+2],f[a+3]),s.x=f[a+0],s.y=f[a+1],i.x=f[a+2],i.y=f[a+3],a===0&&y===!0&&_.copy(i);break;case"T":f=g(p);for(let a=0,W=f.length;a<W;a+=2){const X=T(i.x,s.x),K=T(i.y,s.y);u.quadraticCurveTo(X,K,f[a+0],f[a+1]),s.x=X,s.y=K,i.x=f[a+0],i.y=f[a+1],a===0&&y===!0&&_.copy(i)}break;case"A":f=g(p,[3,4],7);for(let a=0,W=f.length;a<W;a+=7){if(f[a+5]==i.x&&f[a+6]==i.y)continue;const X=i.clone();i.x=f[a+5],i.y=f[a+6],s.x=i.x,s.y=i.y,l(u,f[a],f[a+1],f[a+2],f[a+3],f[a+4],X,i),a===0&&y===!0&&_.copy(i)}break;case"m":f=g(p);for(let a=0,W=f.length;a<W;a+=2)i.x+=f[a+0],i.y+=f[a+1],s.x=i.x,s.y=i.y,a===0?u.moveTo(i.x,i.y):u.lineTo(i.x,i.y),a===0&&_.copy(i);break;case"h":f=g(p);for(let a=0,W=f.length;a<W;a++)i.x+=f[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"v":f=g(p);for(let a=0,W=f.length;a<W;a++)i.y+=f[a],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"l":f=g(p);for(let a=0,W=f.length;a<W;a+=2)i.x+=f[a+0],i.y+=f[a+1],s.x=i.x,s.y=i.y,u.lineTo(i.x,i.y),a===0&&y===!0&&_.copy(i);break;case"c":f=g(p);for(let a=0,W=f.length;a<W;a+=6)u.bezierCurveTo(i.x+f[a+0],i.y+f[a+1],i.x+f[a+2],i.y+f[a+3],i.x+f[a+4],i.y+f[a+5]),s.x=i.x+f[a+2],s.y=i.y+f[a+3],i.x+=f[a+4],i.y+=f[a+5],a===0&&y===!0&&_.copy(i);break;case"s":f=g(p);for(let a=0,W=f.length;a<W;a+=4)u.bezierCurveTo(T(i.x,s.x),T(i.y,s.y),i.x+f[a+0],i.y+f[a+1],i.x+f[a+2],i.y+f[a+3]),s.x=i.x+f[a+0],s.y=i.y+f[a+1],i.x+=f[a+2],i.y+=f[a+3],a===0&&y===!0&&_.copy(i);break;case"q":f=g(p);for(let a=0,W=f.length;a<W;a+=4)u.quadraticCurveTo(i.x+f[a+0],i.y+f[a+1],i.x+f[a+2],i.y+f[a+3]),s.x=i.x+f[a+0],s.y=i.y+f[a+1],i.x+=f[a+2],i.y+=f[a+3],a===0&&y===!0&&_.copy(i);break;case"t":f=g(p);for(let a=0,W=f.length;a<W;a+=2){const X=T(i.x,s.x),K=T(i.y,s.y);u.quadraticCurveTo(X,K,i.x+f[a+0],i.y+f[a+1]),s.x=X,s.y=K,i.x=i.x+f[a+0],i.y=i.y+f[a+1],a===0&&y===!0&&_.copy(i)}break;case"a":f=g(p,[3,4],7);for(let a=0,W=f.length;a<W;a+=7){if(f[a+5]==0&&f[a+6]==0)continue;const X=i.clone();i.x+=f[a+5],i.y+=f[a+6],s.x=i.x,s.y=i.y,l(u,f[a],f[a+1],f[a+2],f[a+3],f[a+4],X,i),a===0&&y===!0&&_.copy(i)}break;case"Z":case"z":u.currentPath.autoClose=!0,u.currentPath.curves.length>0&&(i.copy(_),u.currentPath.currentPoint.copy(i),S=!0);break;default:console.warn(z)}y=!1}return u}function o(m){if(!(!m.sheet||!m.sheet.cssRules||!m.sheet.cssRules.length))for(let u=0;u<m.sheet.cssRules.length;u++){const i=m.sheet.cssRules[u];if(i.type!==1)continue;const s=i.selectorText.split(/,/gm).filter(Boolean).map(_=>_.trim());for(let _=0;_<s.length;_++){const S=Object.fromEntries(Object.entries(i.style).filter(([,y])=>y!==""));ee[s[_]]=Object.assign(ee[s[_]]||{},S)}}}function l(m,u,i,s,_,S,y,B){if(u==0||i==0){m.lineTo(B.x,B.y);return}s=s*Math.PI/180,u=Math.abs(u),i=Math.abs(i);const Y=(y.x-B.x)/2,L=(y.y-B.y)/2,w=Math.cos(s)*Y+Math.sin(s)*L,z=-Math.sin(s)*Y+Math.cos(s)*L;let q=u*u,p=i*i;const f=w*w,a=z*z,W=f/q+a/p;if(W>1){const Ie=Math.sqrt(W);u=Ie*u,i=Ie*i,q=u*u,p=i*i}const X=q*a+p*f,K=(q*p-X)/X;let ue=Math.sqrt(Math.max(0,K));_===S&&(ue=-ue);const re=ue*u*z/i,se=-ue*i*w/u,Pe=Math.cos(s)*re-Math.sin(s)*se+(y.x+B.x)/2,fe=Math.sin(s)*re+Math.cos(s)*se+(y.y+B.y)/2,Te=c(1,0,(w-re)/u,(z-se)/i),he=c((w-re)/u,(z-se)/i,(-w-re)/u,(-z-se)/i)%(Math.PI*2);m.currentPath.absellipse(Pe,fe,u,i,Te,Te+he,S===0,s)}function c(m,u,i,s){const _=m*i+u*s,S=Math.sqrt(m*m+u*u)*Math.sqrt(i*i+s*s);let y=Math.acos(Math.max(-1,Math.min(1,_/S)));return m*s-u*i<0&&(y=-y),y}function b(m){const u=O(m.getAttribute("x")||0),i=O(m.getAttribute("y")||0),s=O(m.getAttribute("rx")||m.getAttribute("ry")||0),_=O(m.getAttribute("ry")||m.getAttribute("rx")||0),S=O(m.getAttribute("width")),y=O(m.getAttribute("height")),B=1-.551915024494,Y=new Gt;return Y.moveTo(u+s,i),Y.lineTo(u+S-s,i),(s!==0||_!==0)&&Y.bezierCurveTo(u+S-s*B,i,u+S,i+_*B,u+S,i+_),Y.lineTo(u+S,i+y-_),(s!==0||_!==0)&&Y.bezierCurveTo(u+S,i+y-_*B,u+S-s*B,i+y,u+S-s,i+y),Y.lineTo(u+s,i+y),(s!==0||_!==0)&&Y.bezierCurveTo(u+s*B,i+y,u,i+y-_*B,u,i+y-_),Y.lineTo(u,i+_),(s!==0||_!==0)&&Y.bezierCurveTo(u,i+_*B,u+s*B,i,u+s,i),Y}function E(m){function u(S,y,B){const Y=O(y),L=O(B);_===0?s.moveTo(Y,L):s.lineTo(Y,L),_++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Gt;let _=0;return m.getAttribute("points").replace(i,u),s.currentPath.autoClose=!0,s}function D(m){function u(S,y,B){const Y=O(y),L=O(B);_===0?s.moveTo(Y,L):s.lineTo(Y,L),_++}const i=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,s=new Gt;let _=0;return m.getAttribute("points").replace(i,u),s.currentPath.autoClose=!1,s}function C(m){const u=O(m.getAttribute("cx")||0),i=O(m.getAttribute("cy")||0),s=O(m.getAttribute("r")||0),_=new Dr;_.absarc(u,i,s,0,Math.PI*2);const S=new Gt;return S.subPaths.push(_),S}function P(m){const u=O(m.getAttribute("cx")||0),i=O(m.getAttribute("cy")||0),s=O(m.getAttribute("rx")||0),_=O(m.getAttribute("ry")||0),S=new Dr;S.absellipse(u,i,s,_,0,Math.PI*2);const y=new Gt;return y.subPaths.push(S),y}function x(m){const u=O(m.getAttribute("x1")||0),i=O(m.getAttribute("y1")||0),s=O(m.getAttribute("x2")||0),_=O(m.getAttribute("y2")||0),S=new Gt;return S.moveTo(u,i),S.lineTo(s,_),S.currentPath.autoClose=!1,S}function k(m,u){u=Object.assign({},u);let i={};if(m.hasAttribute("class")){const y=m.getAttribute("class").split(/\s/).filter(Boolean).map(B=>B.trim());for(let B=0;B<y.length;B++)i=Object.assign(i,ee["."+y[B]])}m.hasAttribute("id")&&(i=Object.assign(i,ee["#"+m.getAttribute("id")]));function s(y,B,Y){Y===void 0&&(Y=function(w){return w.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),w}),m.hasAttribute(y)&&(u[B]=Y(m.getAttribute(y))),i[y]&&(u[B]=Y(i[y])),m.style&&m.style[y]!==""&&(u[B]=Y(m.style[y]))}function _(y){return Math.max(0,Math.min(1,O(y)))}function S(y){return Math.max(0,O(y))}return s("fill","fill"),s("fill-opacity","fillOpacity",_),s("fill-rule","fillRule"),s("opacity","opacity",_),s("stroke","stroke"),s("stroke-opacity","strokeOpacity",_),s("stroke-width","strokeWidth",S),s("stroke-linejoin","strokeLineJoin"),s("stroke-linecap","strokeLineCap"),s("stroke-miterlimit","strokeMiterLimit",S),s("visibility","visibility"),u}function T(m,u){return m-(u-m)}function g(m,u,i){if(typeof m!="string")throw new TypeError("Invalid input: "+typeof m);const s={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},_=0,S=1,y=2,B=3;let Y=_,L=!0,w="",z="";const q=[];function p(X,K,ue){const re=new SyntaxError('Unexpected character "'+X+'" at index '+K+".");throw re.partial=ue,re}function f(){w!==""&&(z===""?q.push(Number(w)):q.push(Number(w)*Math.pow(10,Number(z)))),w="",z=""}let a;const W=m.length;for(let X=0;X<W;X++){if(a=m[X],Array.isArray(u)&&u.includes(q.length%i)&&s.FLAGS.test(a)){Y=S,w=a,f();continue}if(Y===_){if(s.WHITESPACE.test(a))continue;if(s.DIGIT.test(a)||s.SIGN.test(a)){Y=S,w=a;continue}if(s.POINT.test(a)){Y=y,w=a;continue}s.COMMA.test(a)&&(L&&p(a,X,q),L=!0)}if(Y===S){if(s.DIGIT.test(a)){w+=a;continue}if(s.POINT.test(a)){w+=a,Y=y;continue}if(s.EXP.test(a)){Y=B;continue}s.SIGN.test(a)&&w.length===1&&s.SIGN.test(w[0])&&p(a,X,q)}if(Y===y){if(s.DIGIT.test(a)){w+=a;continue}if(s.EXP.test(a)){Y=B;continue}s.POINT.test(a)&&w[w.length-1]==="."&&p(a,X,q)}if(Y===B){if(s.DIGIT.test(a)){z+=a;continue}if(s.SIGN.test(a)){if(z===""){z+=a;continue}z.length===1&&s.SIGN.test(z)&&p(a,X,q)}}s.WHITESPACE.test(a)?(f(),Y=_,L=!1):s.COMMA.test(a)?(f(),Y=_,L=!0):s.SIGN.test(a)?(f(),Y=S,w=a):s.POINT.test(a)?(f(),Y=y,w=a):p(a,X,q)}return f(),q}const F=["mm","cm","in","pt","pc","px"],j={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function O(m){let u="px";if(typeof m=="string"||m instanceof String)for(let s=0,_=F.length;s<_;s++){const S=F[s];if(m.endsWith(S)){u=S,m=m.substring(0,m.length-S.length);break}}let i;return u==="px"&&r.defaultUnit!=="px"?i=j.in[r.defaultUnit]/r.defaultDPI:(i=j[u][r.defaultUnit],i<0&&(i=j[u].in*r.defaultDPI)),i*parseFloat(m)}function v(m){if(!(m.hasAttribute("transform")||m.nodeName==="use"&&(m.hasAttribute("x")||m.hasAttribute("y"))))return null;const u=N(m);return $.length>0&&u.premultiply($[$.length-1]),ye.copy(u),$.push(u),u}function N(m){const u=new mn,i=oe;if(m.nodeName==="use"&&(m.hasAttribute("x")||m.hasAttribute("y"))){const s=O(m.getAttribute("x")),_=O(m.getAttribute("y"));u.translate(s,_)}if(m.hasAttribute("transform")){const s=m.getAttribute("transform").split(")");for(let _=s.length-1;_>=0;_--){const S=s[_].trim();if(S==="")continue;const y=S.indexOf("("),B=S.length;if(y>0&&y<B){const Y=S.slice(0,y),L=g(S.slice(y+1));switch(i.identity(),Y){case"translate":if(L.length>=1){const w=L[0];let z=0;L.length>=2&&(z=L[1]),i.translate(w,z)}break;case"rotate":if(L.length>=1){let w=0,z=0,q=0;w=L[0]*Math.PI/180,L.length>=3&&(z=L[1],q=L[2]),Z.makeTranslation(-z,-q),U.makeRotation(w),R.multiplyMatrices(U,Z),Z.makeTranslation(z,q),i.multiplyMatrices(Z,R)}break;case"scale":if(L.length>=1){const w=L[0];let z=w;L.length>=2&&(z=L[1]),i.scale(w,z)}break;case"skewX":L.length===1&&i.set(1,Math.tan(L[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":L.length===1&&i.set(1,0,0,Math.tan(L[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":L.length===6&&i.set(L[0],L[2],L[4],L[1],L[3],L[5],0,0,1);break}}u.premultiply(i)}}return u}function H(m,u){function i(y){d.set(y.x,y.y,1).applyMatrix3(u),y.set(d.x,d.y)}function s(y){const B=y.xRadius,Y=y.yRadius,L=Math.cos(y.aRotation),w=Math.sin(y.aRotation),z=new ze(B*L,B*w,0),q=new ze(-Y*w,Y*L,0),p=z.applyMatrix3(u),f=q.applyMatrix3(u),a=oe.set(p.x,f.x,0,p.y,f.y,0,0,0,1),W=Z.copy(a).invert(),ue=U.copy(W).transpose().multiply(W).elements,re=te(ue[0],ue[1],ue[4]),se=Math.sqrt(re.rt1),Pe=Math.sqrt(re.rt2);if(y.xRadius=1/se,y.yRadius=1/Pe,y.aRotation=Math.atan2(re.sn,re.cs),!((y.aEndAngle-y.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Te=Z.set(se,0,0,0,Pe,0,0,0,1),he=U.set(re.cs,re.sn,0,-re.sn,re.cs,0,0,0,1),Ie=Te.multiply(he).multiply(a),Re=Se=>{const{x:ot,y:Le}=new ze(Math.cos(Se),Math.sin(Se),0).applyMatrix3(Ie);return Math.atan2(Le,ot)};y.aStartAngle=Re(y.aStartAngle),y.aEndAngle=Re(y.aEndAngle),M(u)&&(y.aClockwise=!y.aClockwise)}}function _(y){const B=V(u),Y=I(u);y.xRadius*=B,y.yRadius*=Y;const L=B>Number.EPSILON?Math.atan2(u.elements[1],u.elements[0]):Math.atan2(-u.elements[3],u.elements[4]);y.aRotation+=L,M(u)&&(y.aStartAngle*=-1,y.aEndAngle*=-1,y.aClockwise=!y.aClockwise)}const S=m.subPaths;for(let y=0,B=S.length;y<B;y++){const L=S[y].curves;for(let w=0;w<L.length;w++){const z=L[w];z.isLineCurve?(i(z.v1),i(z.v2)):z.isCubicBezierCurve?(i(z.v0),i(z.v1),i(z.v2),i(z.v3)):z.isQuadraticBezierCurve?(i(z.v0),i(z.v1),i(z.v2)):z.isEllipseCurve&&(ie.set(z.aX,z.aY),i(ie),z.aX=ie.x,z.aY=ie.y,G(u)?s(z):_(z))}}}function M(m){const u=m.elements;return u[0]*u[4]-u[1]*u[3]<0}function G(m){const u=m.elements,i=u[0]*u[3]+u[1]*u[4];if(i===0)return!1;const s=V(m),_=I(m);return Math.abs(i/(s*_))>Number.EPSILON}function V(m){const u=m.elements;return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function I(m){const u=m.elements;return Math.sqrt(u[3]*u[3]+u[4]*u[4])}function te(m,u,i){let s,_,S,y,B;const Y=m+i,L=m-i,w=Math.sqrt(L*L+4*u*u);return Y>0?(s=.5*(Y+w),B=1/s,_=m*B*i-u*B*u):Y<0?_=.5*(Y-w):(s=.5*w,_=-.5*w),L>0?S=L+w:S=L-w,Math.abs(S)>2*Math.abs(u)?(B=-2*u/S,y=1/Math.sqrt(1+B*B),S=B*y):Math.abs(u)===0?(S=1,y=0):(B=-.5*S/u,S=1/Math.sqrt(1+B*B),y=B*S),L>0&&(B=S,S=-y,y=B),{rt1:s,rt2:_,cs:S,sn:y}}const A=[],ee={},$=[],oe=new mn,Z=new mn,U=new mn,R=new mn,ie=new me,d=new ze,ye=new mn,ne=new DOMParser().parseFromString(e,"image/svg+xml");return n(ne.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:A,xml:ne.documentElement}}static createShapes(e){const n={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:n.ORIGIN,t:0};function o(T,g,F,j){const O=T.x,v=g.x,N=F.x,H=j.x,M=T.y,G=g.y,V=F.y,I=j.y,te=(H-N)*(M-V)-(I-V)*(O-N),A=(v-O)*(M-V)-(G-M)*(O-N),ee=(I-V)*(v-O)-(H-N)*(G-M),$=te/ee,oe=A/ee;if(ee===0&&te!==0||$<=0||$>=1||oe<0||oe>1)return null;if(te===0&&ee===0){for(let Z=0;Z<2;Z++)if(l(Z===0?F:j,T,g),t.loc==n.ORIGIN){const U=Z===0?F:j;return{x:U.x,y:U.y,t:t.t}}else if(t.loc==n.BETWEEN){const U=+(O+t.t*(v-O)).toPrecision(10),R=+(M+t.t*(G-M)).toPrecision(10);return{x:U,y:R,t:t.t}}return null}else{for(let R=0;R<2;R++)if(l(R===0?F:j,T,g),t.loc==n.ORIGIN){const ie=R===0?F:j;return{x:ie.x,y:ie.y,t:t.t}}const Z=+(O+$*(v-O)).toPrecision(10),U=+(M+$*(G-M)).toPrecision(10);return{x:Z,y:U,t:$}}}function l(T,g,F){const j=F.x-g.x,O=F.y-g.y,v=T.x-g.x,N=T.y-g.y,H=j*N-v*O;if(T.x===g.x&&T.y===g.y){t.loc=n.ORIGIN,t.t=0;return}if(T.x===F.x&&T.y===F.y){t.loc=n.DESTINATION,t.t=1;return}if(H<-Number.EPSILON){t.loc=n.LEFT;return}if(H>Number.EPSILON){t.loc=n.RIGHT;return}if(j*v<0||O*N<0){t.loc=n.BEHIND;return}if(Math.sqrt(j*j+O*O)<Math.sqrt(v*v+N*N)){t.loc=n.BEYOND;return}let M;j!==0?M=v/j:M=N/O,t.loc=n.BETWEEN,t.t=M}function c(T,g){const F=[],j=[];for(let O=1;O<T.length;O++){const v=T[O-1],N=T[O];for(let H=1;H<g.length;H++){const M=g[H-1],G=g[H],V=o(v,N,M,G);V!==null&&F.find(I=>I.t<=V.t+Number.EPSILON&&I.t>=V.t-Number.EPSILON)===void 0&&(F.push(V),j.push(new me(V.x,V.y)))}}return j}function b(T,g,F){const j=new me;g.getCenter(j);const O=[];return F.forEach(v=>{v.boundingBox.containsPoint(j)&&c(T,v.points).forEach(H=>{O.push({identifier:v.identifier,isCW:v.isCW,point:H})})}),O.sort((v,N)=>v.point.x-N.point.x),O}function E(T,g,F,j,O){(O==null||O==="")&&(O="nonzero");const v=new me;T.boundingBox.getCenter(v);const N=[new me(F,v.y),new me(j,v.y)],H=b(N,T.boundingBox,g);H.sort((A,ee)=>A.point.x-ee.point.x);const M=[],G=[];H.forEach(A=>{A.identifier===T.identifier?M.push(A):G.push(A)});const V=M[0].point.x,I=[];let te=0;for(;te<G.length&&G[te].point.x<V;)I.length>0&&I[I.length-1]===G[te].identifier?I.pop():I.push(G[te].identifier),te++;if(I.push(T.identifier),O==="evenodd"){const A=I.length%2===0,ee=I[I.length-2];return{identifier:T.identifier,isHole:A,for:ee}}else if(O==="nonzero"){let A=!0,ee=null,$=null;for(let oe=0;oe<I.length;oe++){const Z=I[oe];A?($=g[Z].isCW,A=!1,ee=Z):$!==g[Z].isCW&&($=g[Z].isCW,A=!0)}return{identifier:T.identifier,isHole:A,for:ee}}else console.warn('fill-rule: "'+O+'" is currently not implemented.')}let D=999999999,C=-999999999,P=e.subPaths.map(T=>{const g=T.getPoints();let F=-999999999,j=999999999,O=-999999999,v=999999999;for(let N=0;N<g.length;N++){const H=g[N];H.y>F&&(F=H.y),H.y<j&&(j=H.y),H.x>O&&(O=H.x),H.x<v&&(v=H.x)}return C<=O&&(C=O+1),D>=v&&(D=v-1),{curves:T.curves,points:g,isCW:Rs.isClockWise(g),identifier:-1,boundingBox:new ks(new me(v,j),new me(O,F))}});P=P.filter(T=>T.points.length>1);for(let T=0;T<P.length;T++)P[T].identifier=T;const x=P.map(T=>E(T,P,D,C,e.userData?e.userData.style.fillRule:void 0)),k=[];return P.forEach(T=>{if(!x[T.identifier].isHole){const F=new Ds;F.curves=T.curves,x.filter(O=>O.isHole&&O.for===T.identifier).forEach(O=>{const v=P[O.identifier],N=new Dr;N.curves=v.curves,F.holes.push(N)}),k.push(F)}}),k}static getStrokeStyle(e,r,n,t,o){return e=e!==void 0?e:1,r=r!==void 0?r:"#000",n=n!==void 0?n:"miter",t=t!==void 0?t:"butt",o=o!==void 0?o:4,{strokeColor:r,strokeWidth:e,strokeLineJoin:n,strokeLineCap:t,strokeMiterLimit:o}}static pointsToStroke(e,r,n,t){const o=[],l=[],c=[];if(Ir.pointsToStrokeWithBuffers(e,r,n,t,o,l,c)===0)return null;const b=new Ar;return b.setAttribute("position",new Fn(o,3)),b.setAttribute("normal",new Fn(l,3)),b.setAttribute("uv",new Fn(c,2)),b}static pointsToStrokeWithBuffers(e,r,n,t,o,l,c,b){const E=new me,D=new me,C=new me,P=new me,x=new me,k=new me,T=new me,g=new me,F=new me,j=new me,O=new me,v=new me,N=new me,H=new me,M=new me,G=new me,V=new me;n=n!==void 0?n:12,t=t!==void 0?t:.001,b=b!==void 0?b:0,e=L(e);const I=e.length;if(I<2)return 0;const te=e[0].equals(e[I-1]);let A,ee=e[0],$;const oe=r.strokeWidth/2,Z=1/(I-1);let U=0,R,ie,d,ye,ne=!1,ae=0,m=b*3,u=b*2;i(e[0],e[1],E).multiplyScalar(oe),g.copy(e[0]).sub(E),F.copy(e[0]).add(E),j.copy(g),O.copy(F);for(let w=1;w<I;w++){A=e[w],w===I-1?te?$=e[1]:$=void 0:$=e[w+1];const z=E;if(i(ee,A,z),C.copy(z).multiplyScalar(oe),v.copy(A).sub(C),N.copy(A).add(C),R=U+Z,ie=!1,$!==void 0){i(A,$,D),C.copy(D).multiplyScalar(oe),H.copy(A).sub(C),M.copy(A).add(C),d=!0,C.subVectors($,ee),z.dot(C)<0&&(d=!1),w===1&&(ne=d),C.subVectors($,A),C.normalize();const q=Math.abs(z.dot(C));if(q>Number.EPSILON){const p=oe/q;C.multiplyScalar(-p),P.subVectors(A,ee),x.copy(P).setLength(p).add(C),G.copy(x).negate();const f=x.length(),a=P.length();P.divideScalar(a),k.subVectors($,A);const W=k.length();switch(k.divideScalar(W),P.dot(G)<a&&k.dot(G)<W&&(ie=!0),V.copy(x).add(A),G.add(A),ye=!1,ie?d?(M.copy(G),N.copy(G)):(H.copy(G),v.copy(G)):S(),r.strokeLineJoin){case"bevel":y(d,ie,R);break;case"round":B(d,ie),d?_(A,v,H,R,0):_(A,M,N,R,1);break;case"miter":case"miter-clip":default:const X=oe*r.strokeMiterLimit/f;if(X<1)if(r.strokeLineJoin!=="miter-clip"){y(d,ie,R);break}else B(d,ie),d?(k.subVectors(V,v).multiplyScalar(X).add(v),T.subVectors(V,H).multiplyScalar(X).add(H),s(v,R,0),s(k,R,0),s(A,R,.5),s(A,R,.5),s(k,R,0),s(T,R,0),s(A,R,.5),s(T,R,0),s(H,R,0)):(k.subVectors(V,N).multiplyScalar(X).add(N),T.subVectors(V,M).multiplyScalar(X).add(M),s(N,R,1),s(k,R,1),s(A,R,.5),s(A,R,.5),s(k,R,1),s(T,R,1),s(A,R,.5),s(T,R,1),s(M,R,1));else ie?(d?(s(F,U,1),s(g,U,0),s(V,R,0),s(F,U,1),s(V,R,0),s(G,R,1)):(s(F,U,1),s(g,U,0),s(V,R,1),s(g,U,0),s(G,R,0),s(V,R,1)),d?H.copy(V):M.copy(V)):d?(s(v,R,0),s(V,R,0),s(A,R,.5),s(A,R,.5),s(V,R,0),s(H,R,0)):(s(N,R,1),s(V,R,1),s(A,R,.5),s(A,R,.5),s(V,R,1),s(M,R,1)),ye=!0;break}}else S()}else S();!te&&w===I-1&&Y(e[0],j,O,d,!0,U),U=R,ee=A,g.copy(H),F.copy(M)}if(!te)Y(A,v,N,d,!1,R);else if(ie&&o){let w=V,z=G;ne!==d&&(w=G,z=V),d?(ye||ne)&&(z.toArray(o,0*3),z.toArray(o,3*3),ye&&w.toArray(o,1*3)):(ye||!ne)&&(z.toArray(o,1*3),z.toArray(o,3*3),ye&&w.toArray(o,0*3))}return ae;function i(w,z,q){return q.subVectors(z,w),q.set(-q.y,q.x).normalize()}function s(w,z,q){o&&(o[m]=w.x,o[m+1]=w.y,o[m+2]=0,l&&(l[m]=0,l[m+1]=0,l[m+2]=1),m+=3,c&&(c[u]=z,c[u+1]=q,u+=2)),ae+=3}function _(w,z,q,p,f){E.copy(z).sub(w).normalize(),D.copy(q).sub(w).normalize();let a=Math.PI;const W=E.dot(D);Math.abs(W)<1&&(a=Math.abs(Math.acos(W))),a/=n,C.copy(z);for(let X=0,K=n-1;X<K;X++)P.copy(C).rotateAround(w,a),s(C,p,f),s(P,p,f),s(w,p,.5),C.copy(P);s(P,p,f),s(q,p,f),s(w,p,.5)}function S(){s(F,U,1),s(g,U,0),s(v,R,0),s(F,U,1),s(v,R,0),s(N,R,1)}function y(w,z,q){z?w?(s(F,U,1),s(g,U,0),s(v,R,0),s(F,U,1),s(v,R,0),s(G,R,1),s(v,q,0),s(H,q,0),s(G,q,.5)):(s(F,U,1),s(g,U,0),s(N,R,1),s(g,U,0),s(G,R,0),s(N,R,1),s(N,q,1),s(G,q,0),s(M,q,1)):w?(s(v,q,0),s(H,q,0),s(A,q,.5)):(s(N,q,1),s(M,q,0),s(A,q,.5))}function B(w,z){z&&(w?(s(F,U,1),s(g,U,0),s(v,R,0),s(F,U,1),s(v,R,0),s(G,R,1),s(v,U,0),s(A,R,.5),s(G,R,1),s(A,R,.5),s(H,U,0),s(G,R,1)):(s(F,U,1),s(g,U,0),s(N,R,1),s(g,U,0),s(G,R,0),s(N,R,1),s(N,U,1),s(G,R,0),s(A,R,.5),s(A,R,.5),s(G,R,0),s(M,U,1)))}function Y(w,z,q,p,f,a){switch(r.strokeLineCap){case"round":f?_(w,q,z,a,.5):_(w,z,q,a,.5);break;case"square":if(f)E.subVectors(z,w),D.set(E.y,-E.x),C.addVectors(E,D).add(w),P.subVectors(D,E).add(w),p?(C.toArray(o,1*3),P.toArray(o,0*3),P.toArray(o,3*3)):(C.toArray(o,1*3),c[3*2+1]===1?P.toArray(o,3*3):C.toArray(o,3*3),P.toArray(o,0*3));else{E.subVectors(q,w),D.set(E.y,-E.x),C.addVectors(E,D).add(w),P.subVectors(D,E).add(w);const W=o.length;p?(C.toArray(o,W-1*3),P.toArray(o,W-2*3),P.toArray(o,W-4*3)):(P.toArray(o,W-2*3),C.toArray(o,W-1*3),P.toArray(o,W-4*3))}break}}function L(w){let z=!1;for(let p=1,f=w.length-1;p<f;p++)if(w[p].distanceTo(w[p+1])<t){z=!0;break}if(!z)return w;const q=[];q.push(w[0]);for(let p=1,f=w.length-1;p<f;p++)w[p].distanceTo(w[p+1])>=t&&q.push(w[p]);return q.push(w[w.length-1]),q}}}function xi(h,e,r,n){const{CUBE_SIZE:t,FIRST_CUBE_Z:o}=n,l=8,c=24,b=.075,E=200;let D,C=[],P=[],x=[],k=[];const T=(v,N,H,M)=>{const G=new Mn(v,v,v),V=new Hn(G),I=[new Pt({color:16711680,transparent:!0,opacity:M.opacity,blending:Wt}),new Pt({color:65280,transparent:!0,opacity:M.opacity,blending:Wt}),new Pt({color:255,transparent:!0,opacity:M.opacity,blending:Wt}),new Pt({color:65535,transparent:!0,opacity:M.opacity,blending:Wt}),new Pt({color:16711935,transparent:!0,opacity:M.opacity,blending:Wt}),new Pt({color:16776960,transparent:!0,opacity:M.opacity,blending:Wt})],te=new yt,A=V.getAttribute("position").array,ee=[];for(let Z=0;Z<A.length/3;Z+=2)ee.push(Z,Z+1);const $=Array(6).fill(null).map(()=>new Ar),oe=Array(6).fill(null).map(()=>[]);for(let Z=0;Z<ee.length/2;Z++){const U=Z%6;oe[U].push(ee[Z*2],ee[Z*2+1])}return $.forEach((Z,U)=>{Z.setIndex(oe[U]),Z.setAttribute("position",V.getAttribute("position"));const R=new Xt(Z,I[U]);te.add(R)}),te.position.z=N,te.rotation.z=H,te};return(()=>{const H=.9/(c-1);for(let ee=0;ee<c;ee++)P[ee]=new Pt({transparent:!0,opacity:1-ee*H});if(D=new yt,!D){console.error("introGroup failed to initialize");return}for(let ee=0;ee<c;ee++){const $=t-ee*l,oe=T($,0,0,P[ee]),Z=oe.children.map(U=>U.material);k.push(Z.map(U=>({material:U,originalColor:U.color.clone()}))),D.add(oe)}D.position.z=o,e.add(D),C.push(D),x=P.map(ee=>ee.opacity);const M=Qe.timeline({repeat:-1});M.to(D.rotation,{x:ht.degToRad(360),duration:12,ease:"none"},0),M.to(D.rotation,{y:ht.degToRad(360),duration:10,ease:"none"},0),M.to(D.rotation,{z:ht.degToRad(360),duration:14,ease:"none"},0);let G=-1,V=0;const I=b*1e3,te=c*I,A=ee=>{const $=ee%te/I,oe=Math.floor($)%c;G!==-1&&ee-V>=I&&(k[G].forEach(R=>{R.material.opacity=x[G],R.material.color.copy(R.originalColor)}),G=-1),G===-1&&oe!==G&&(G=oe,V=ee,k[G].forEach(U=>{U.material.opacity=1,U.material.color.set(1,1,1)})),requestAnimationFrame(A)};requestAnimationFrame(A)})(),r.then(v=>{if(v){const N=F(v);h.add(N)}}),{introCubes:C};function F(v){const N=new yt,H=j(v);H.position.set(0,-36,0),N.add(H),O(G=>{N.add(G),Qe.fromTo(H.material,{opacity:.3},{opacity:1,duration:3,ease:"linear",repeat:-1,yoyo:!0});const V=G.children.find(I=>I instanceof je&&I!==G.children[0]);if(V){const I=V.position.y;Qe.to(V.position,{y:I+3,duration:1,ease:"easeOut",onComplete:()=>{V.position.y=I},repeat:-1})}}),N.position.x=0,N.position.y=-240;const M=o-c*l;return N.position.z=M+E,N}function j(v){const N=new Ts("SCROLL TO CONTINUE",{font:v,size:8,depth:0,curveSegments:12,bevelEnabled:!1});N.computeBoundingBox(),N.center();const H=new Dt({color:16777215,transparent:!0,opacity:1});return new je(N,H)}function O(v){new Ir().load("/3D/mouse.svg",H=>{const M=H.paths;let G=null,V=null,I=new yt;if(M.forEach((te,A)=>{Ir.createShapes(te).forEach($=>{const oe=new Ls($);oe.computeBoundingBox();const Z=new Dt({color:16777215,transparent:!0,opacity:1,side:On}),U=new je(oe,Z);U.scale.set(.05,.05,1),A===0?G=U:A===1&&(V=U)})}),G&&V){I.add(G),I.add(V);const A=(G.geometry.boundingBox.max.x-G.geometry.boundingBox.min.x)*G.scale.x/2;I.position.x=-A,I.rotation.x=Math.PI,v(I)}})}}class bi extends Zo{constructor(e){super(e)}load(e,r,n,t){const o=this,l=new qo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){const b=o.parse(JSON.parse(c));r&&r(b)},n,t)}parse(e){return new wi(e)}}class wi{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,r=100){const n=[],t=vi(e,r,this.data);for(let o=0,l=t.length;o<l;o++)n.push(...t[o].toShapes());return n}}function vi(h,e,r){const n=Array.from(h),t=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*t,l=[];let c=0,b=0;for(let E=0;E<n.length;E++){const D=n[E];if(D===`
`)c=0,b-=o;else{const C=Ti(D,t,c,b,r);c+=C.offsetX,l.push(C.path)}}return l}function Ti(h,e,r,n,t){const o=t.glyphs[h]||t.glyphs["?"];if(!o){console.error('THREE.Font: character "'+h+'" does not exists in font family '+t.familyName+".");return}const l=new Gt;let c,b,E,D,C,P,x,k;if(o.o){const T=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let g=0,F=T.length;g<F;)switch(T[g++]){case"m":c=T[g++]*e+r,b=T[g++]*e+n,l.moveTo(c,b);break;case"l":c=T[g++]*e+r,b=T[g++]*e+n,l.lineTo(c,b);break;case"q":E=T[g++]*e+r,D=T[g++]*e+n,C=T[g++]*e+r,P=T[g++]*e+n,l.quadraticCurveTo(C,P,E,D);break;case"b":E=T[g++]*e+r,D=T[g++]*e+n,C=T[g++]*e+r,P=T[g++]*e+n,x=T[g++]*e+r,k=T[g++]*e+n,l.bezierCurveTo(C,P,x,k,E,D);break}}return{offsetX:o.ha*e,path:l}}function Si(h,e,r){const{CUBE_SIZE:n,CUBE_SPACING:t,FIRST_CUBE_Z:o}=e,l=o-(r.length+1)*t,c=65535,b=16711935,E=16711680,D=ht.degToRad(15),C=1e3,P=.5,x=80,k=1,T=15,g=.1;let F=[],j=null,O=null,v=!1,N=!1,H=new Ns,M=new me,G=null,V=null,I=null,te=!1,A=null,ee=!1;const $=(ne,ae,m,u,i)=>{const s=new yt;s.position.z=ae,s.rotation.z=m,s.userData.isActive=!1;const _=new Mn(ne,ne,ne),S=new Hn(_),y=new Pt({color:new pt(c),transparent:!0,opacity:0}),B=new Xt(S,y);s.add(B);let Y="right";const L=()=>{const q=new mo(40,24),p=new Hn(q),f=new Pt({color:new pt(c),transparent:!0,opacity:0,visible:!0}),a=new Xt(p,f);a.userData.isPortal=!0,a.userData.isAnimating=!1;const W=new yr(120,120),X=new Dt({visible:!1,side:On}),K=new je(W,X);K.userData.isPortalHitbox=!0,K.userData.portal=a;const ue=new yt,re=new yr(k,T),se=65/2;for(let he=0;he<x;he++){const Ie=new Dt({color:new pt(b),transparent:!0,opacity:0,visible:!1,side:On}),Re=new je(re,Ie),Se=he/x*Math.PI*2;Re.position.set(Math.cos(Se)*se,Math.sin(Se)*se,0),Re.rotation.z=Se+Math.PI/2,Re.userData.baseOpacity=.01,Re.userData.index=he,ue.add(Re)}const Pe=2,fe=25;for(let he=1;he<fe;he++){const Ie=new mo(40,24),Re=new Hn(Ie),Se=ht.lerp(1,.1,he/(fe-1)),ot=new Pt({color:new pt(c),transparent:!0,opacity:0}),Le=new Xt(Re,ot);Le.userData.isPortal=!0,Le.userData.maxOpacity=Se,Le.position.z=-he*Pe,a.add(Le)}switch(a.userData.maxOpacity=1,Y){case"left":case"right":ue.children.forEach(he=>{he.position.x+=g});break;case"top":case"bottom":ue.children.forEach(he=>{he.position.y+=g});break}a.add(ue),s.add(a),s.add(K),a.updateMatrixWorld(!0),ue.updateMatrixWorld(!0);const Te=ne/2;switch(Y){case"left":a.position.set(-Te,0,0),a.rotation.y=Math.PI/2,K.position.set(-Te,0,0),K.rotation.y=Math.PI/2;break;case"top":a.position.set(0,Te,0),a.rotation.x=-Math.PI/2,K.position.set(0,Te,0),K.rotation.x=-Math.PI/2;break;case"right":a.position.set(Te,0,0),a.rotation.y=-Math.PI/2,K.position.set(Te,0,0),K.rotation.y=-Math.PI/2;break;case"bottom":a.position.set(0,-Te,0),a.rotation.x=Math.PI/2,K.position.set(0,-Te,0),K.rotation.y=Math.PI/2;break}};return u?new Bs().load(u,z=>{const q=new yr(ne-1,ne-1),p=new Dt({map:z,transparent:!0,opacity:0,blending:Wt,side:On}),f=new je(q,p),a=["left","top","right","bottom"].includes(i)?i:"left",W=ne/2;switch(a){case"left":f.position.set(-W,0,0),f.rotation.y=Math.PI/2,Y="right";break;case"top":f.position.set(0,W,0),f.rotation.x=-Math.PI/2,Y="bottom";break;case"right":f.position.set(W,0,0),f.rotation.y=-Math.PI/2,Y="left";break;case"bottom":f.position.set(0,-W,0),f.rotation.x=Math.PI/2,Y="top";break}s.add(f),L()},void 0,z=>{L()}):L(),s},oe=(ne,ae,m,u,i,s)=>{const _=new Ts(ne,{font:s,size:i,depth:0,curveSegments:12,bevelEnabled:!1});_.computeBoundingBox(),_.center();const S=new Dt({color:16777215,transparent:!0,opacity:0,side:On}),y=new je(_,S);return y.position.set(ae,m,u),h.add(y),y},Z=()=>new Promise(ne=>{j=new bi,j.load("/fonts/Poppins_Regular.json",ae=>{O=ae;const m=Array.isArray(r)?r:[];Array.isArray(r)||console.warn("useProjectCubes: projects is not an array, defaulting to empty array",r),m.forEach((u,i)=>{const s=o-(i+1)*t,_=(i+1)*D,S=$(n,s,_,u.keyart,u.keyartLocation);h.add(S),F.push(S),oe(u.title,0,u.size-15,o-120-(i+1)*t,u.size,ae)}),ne()},void 0,ae=>console.error("Error loading font:",ae))}),U=()=>v?Promise.resolve({projectCubes:F,updateCubeColors:d,loadedFont:O}):Z().then(()=>(v=!0,{projectCubes:F,updateCubeColors:d,loadedFont:O})),R=ne=>{if(ne.userData.isAnimating)return;ne.userData.isAnimating=!0;const ae=ne.children.find(_=>_ instanceof yt);if(!ae)return;const m=ae.children,u=m.length,i=Qe.timeline({repeat:-1,defaults:{ease:"none"}}),s={value:0};i.to(s,{value:1,duration:1.5,onUpdate:()=>{m.forEach(S=>{const y=S.material;if(y.visible){const B=(S.userData.index/u+s.value)%1,L=(Math.sin(B*Math.PI*2)+1)/2,w=.01+(1-.01)*Math.pow(L,4);y.opacity=w}})}}),ne.userData.animationTimeline=i},ie=ne=>{if(!ne.userData.isAnimating)return;ne.userData.isAnimating=!1;const ae=ne.children.find(m=>m instanceof yt);ae&&(ne.userData.animationTimeline&&(ne.userData.animationTimeline.kill(),delete ne.userData.animationTimeline),ae.children.forEach(m=>{const u=m.material;u.opacity=0}))},d=ne=>{const ae=ne.position.z;let m=[];h.traverse(u=>{u instanceof je&&u.geometry&&u.geometry.type==="TextGeometry"&&m.push(u)}),N||(N=!0),F.forEach(u=>{const i=u.position.z,s=Math.abs(ae-i);let _=0;s<=C&&(_=1-s/C),u.userData.isActive=_>=P,u.children.forEach(S=>{if(S instanceof Xt&&!S.userData.isPortal&&!S.userData.isPortalHitbox){const y=S.material;if(s<=C){const B=ht.lerp((c>>16&255)/255,(b>>16&255)/255,_),Y=ht.lerp((c>>8&255)/255,(b>>8&255)/255,_),L=ht.lerp((c&255)/255,(b&255)/255,_);y.color.set(B,Y,L),y.opacity=Math.min(1,_*2)}else y.opacity=0}else if(S instanceof Xt&&S.userData.isPortal)N&&(_>.1?S.children.forEach(y=>{y instanceof yt&&y.children.forEach(B=>{B instanceof je&&(B.material.visible=!0,S.userData.animationStarted||(R(S),S.userData.animationStarted=!0))})}):_<=.1&&S.userData.animationStarted&&(S.children.forEach(y=>{y instanceof yt&&y.children.forEach(B=>{B instanceof je&&(B.material.visible=!1)})}),ie(S),delete S.userData.animationStarted));else if(S instanceof je&&!S.userData.isPortalHitbox){const y=S.material;if(s<=C){const B=1-s/C;y.opacity=Math.min(.8,B*2)}else y.opacity=0}})}),m.forEach(u=>{const i=u.material,s=u.position.z,_=Math.abs(ae-s);if(_<=C){const S=1-_/C;i.opacity=Math.min(1,S*2)}else i.opacity=0})};return{getInitializedData:U,updateCubeColors:d,setupInteractivity:(ne,ae,m)=>{A=m;let u=null,i=null,s=null;const _=f=>{M.x=f.clientX/window.innerWidth*2-1,M.y=-(f.clientY/window.innerHeight)*2+1,H.setFromCamera(M,ne);const a=[];F.forEach(X=>{X.userData.isActive&&X.children.forEach(K=>{K instanceof je&&K.userData.isPortalHitbox&&a.push(K)})});const W=H.intersectObjects(a);if(W.length>0){const K=W[0].object.userData.portal;if(G!==K){if(G){const re=G.material;Qe.to(re.color,{r:(c>>16&255)/255,g:(c>>8&255)/255,b:(c&255)/255,duration:.5})}G=K;const ue=G.material;Qe.to(ue.color,{r:(E>>16&255)/255,g:(E>>8&255)/255,b:(E&255)/255,duration:.5})}ae.style.cursor="pointer"}else{if(G){const X=G.material;Qe.to(X.color,{r:(c>>16&255)/255,g:(c>>8&255)/255,b:(c&255)/255,duration:.5}),G=null}ae.style.cursor="auto"}},S=(f,a=!1)=>{f.children.find(X=>X instanceof yt)},y=(f,a=!0)=>{const W=[f,...f.children.filter(K=>K instanceof Xt&&K.userData.isPortal)],X=a?25:2;W.forEach((K,ue)=>{const re=-ue*X,se=a?K.userData.maxOpacity:0;Qe.to(K.position,{z:re,duration:1,ease:"power3.out",delay:.5}),Qe.to(K.material,{opacity:se,duration:1,ease:"power3.out",delay:.5})})},B=f=>{if(te)return;M.x=f.clientX/window.innerWidth*2-1,M.y=-(f.clientY/window.innerHeight)*2+1,H.setFromCamera(M,ne);const a=[];F.forEach(X=>{X.userData.isActive&&X.children.forEach(K=>{K instanceof je&&K.userData.isPortalHitbox&&a.push(K)})});const W=H.intersectObjects(a);if(W.length>0){const X=W[0].object,K=X.userData.portal,ue=X.parent;V||(V=ne.position.clone(),I=new ze(0,0,l)),A&&A(!0,V,I);const re=K.getWorldPosition(new ze),se={x:I.x,y:I.y,z:I.z};Qe.to(se,{x:re.x,y:re.y,z:re.z,duration:1,ease:"power3.out",onStart:()=>{te=!0,u=window.scrollY,document.body.classList.add("no-scrollbar"),s=K,S(K),y(K,!0)},onUpdate:()=>{ne.lookAt(se.x,se.y,se.z)}});const Pe=ue.getWorldPosition(new ze),fe=new ze(0,0,Pe.z);Qe.to(ne.position,{x:fe.x,y:fe.y,z:fe.z,duration:.5,ease:"power3.out"})}},Y=()=>{if(!V||!I)return;ee=!0;const f=I.clone(),a=new ze;ne.getWorldDirection(a),a.multiplyScalar(1e3).add(ne.position);const W={x:a.x,y:a.y,z:a.z};Qe.to(ne.position,{x:V.x,y:V.y,z:V.z,duration:1,ease:"power3.out"}),Qe.to(W,{x:f.x,y:f.y,z:f.z,duration:1,ease:"power3.out",onUpdate:()=>{ne.lookAt(W.x,W.y,W.z)},onStart:()=>{s&&(S(s,!0),y(s,!1))},onComplete:()=>{te=!1,A&&A(!1),V=null,I=null,s=null,ee=!1,u=null,document.body.classList.remove("no-scrollbar")}})},L=f=>{te&&!ee&&V&&I&&(f.preventDefault(),f.stopPropagation(),f.deltaY<0&&Y())},w=f=>{te&&!ee&&(i=f.touches[0].clientY)},z=f=>{if(te&&!ee&&i!==null&&u!==null){const a=f.touches[0].clientY,W=i-a;W>0?(f.preventDefault(),window.scrollTo(0,u)):W<0&&(f.preventDefault(),Y())}},q=f=>{i=null},p=f=>{if(te&&!ee&&u!==null){const a=window.scrollY;a>u?window.scrollTo(0,u):a<u&&Y()}};return ae.addEventListener("mousemove",_),ae.addEventListener("click",B),ae.addEventListener("wheel",L,{passive:!1}),ae.addEventListener("touchstart",w,{passive:!1}),ae.addEventListener("touchmove",z,{passive:!1}),ae.addEventListener("touchend",q),window.addEventListener("scroll",p),()=>{ae.removeEventListener("mousemove",_),ae.removeEventListener("click",B),ae.removeEventListener("wheel",L),ae.removeEventListener("touchstart",w),ae.removeEventListener("touchmove",z),ae.removeEventListener("touchend",q),window.removeEventListener("scroll",p),ae.style.cursor="auto",document.body.classList.remove("no-scrollbar")}}}}function Ci(h,e){let O,v,N,H=[],M=[],G=[],V=[],I=[];const te=()=>{O=new yt;const $=new Mn(100,100,100),oe=new Hn($),Z=32*60,U=new zs;U.copy(oe),U.instanceCount=Z;const R=new Pt({color:2236962,transparent:!0,fog:!0,vertexColors:!0}),ie=new Float32Array(Z*3),d=new Float32Array(Z*3),ye=new Float32Array(Z*3),ne=32*100,ae=-3200/2+100/2,m=-500;for(let X=0;X<32;X++){const K=A(X);for(let ue=0;ue<60;ue++){const re=X*60+ue,se=ae+X*100,Pe=m-ue*100,fe=ht.randFloat(100,300),Te=fe/100,he=-600+fe/2;ie[re*3]=se,ie[re*3+1]=he,ie[re*3+2]=Pe,d[re*3]=1,d[re*3+1]=Te,d[re*3+2]=1,ye[re*3]=K,ye[re*3+1]=K,ye[re*3+2]=K}}U.setAttribute("instancePosition",new Or(ie,3)),U.setAttribute("instanceScale",new Or(d,3)),U.setAttribute("color",new Or(ye,3)),R.onBeforeCompile=X=>{X.vertexShader=`
                attribute vec3 instancePosition;
                attribute vec3 instanceScale;
                ${X.vertexShader}
            `.replace("#include <begin_vertex>",`#include <begin_vertex>
                transformed *= instanceScale;
                transformed += instancePosition;`)},v=new Xt(U,R);const u=-3200/2,i=ne/2,s=-600,_=-300,S=-6500,y=-500;U.boundingBox=new Us(new ze(u,s,S),new ze(i,_,y));const B=(u+i)/2,Y=(s+_)/2,L=(S+y)/2,w=i-u,z=_-s,q=y-S,p=Math.sqrt(w*w+z*z+q*q)/2;U.boundingSphere=new Fs(new ze(B,Y,L),p),O.add(v),e.add(O),N=new yt;const f=ne/5,a=-3200/2;for(let X=0;X<6;X++){let ue=a+X*f,re=-500;const se=[new ze(ue,-450,re)];let Pe=0;for(;re>-6500;){const fe=re===-500?ht.randFloat(300,800):Math.min(ht.randFloat(300,800),Math.abs(re- -6500));if(re-=fe,se.push(new ze(ue,-450,re)),Pe+=fe,re<=-6500){se[se.length-1].z=-6500;break}const Te=Math.random()<.5?-1:1,he=ht.randFloat(100,300);ue+=Te*he,se.push(new ze(ue,-450,re)),Pe+=he}M.push({points:se,totalLength:Pe})}const W=new Mn(4,4,4);for(let X=0;X<6;X++){const K=M[X],ue=K.totalLength,re=ue/60;for(let se=0;se<60;se++){const Pe=new Dt({color:16711680,fog:!0}),fe=new je(W,Pe),Te=se*re;let he=Te;for(let Ie=0;Ie<K.points.length-1;Ie++){const Re=K.points[Ie],Se=K.points[Ie+1],ot=Re.distanceTo(Se);if(he<=ot){const Le=he/ot;fe.position.lerpVectors(Re,Se,Le);break}he-=ot}H.push(fe),G.push(Te),V.push(X),I.push(1),N.add(fe)}for(let se=0;se<60;se++){const Pe=new Dt({color:16777215,fog:!0}),fe=new je(W,Pe),Te=ue-se*re;let he=ue-Te;const Ie=[...K.points].reverse();for(let Re=0;Re<Ie.length-1;Re++){const Se=Ie[Re],ot=Ie[Re+1],Le=Se.distanceTo(ot);if(he<=Le){const Ft=he/Le;fe.position.lerpVectors(Se,ot,Ft);break}he-=Le}H.push(fe),G.push(Te),V.push(X),I.push(-1),N.add(fe)}}e.add(N)},A=$=>{if($<10)return .05+$*.10555555555555556;if($>=22){const oe=31-$,Z=(1-.05)/9;return .05+oe*Z}return 1},ee=$=>{const oe=100*$;for(let Z=0;Z<H.length;Z++){const U=I[Z];G[Z]+=oe*U;const R=V[Z],ie=M[R],d=ie.totalLength;if(U===1&&G[Z]>=d)G[Z]=0,H[Z].position.copy(ie.points[0]);else if(U===-1&&G[Z]<=0)G[Z]=d,H[Z].position.copy(ie.points[ie.points.length-1]);else{const ye=G[Z],ne=U===1?ie.points:[...ie.points].reverse();let ae=U===1?ye:d-ye;for(let m=0;m<ne.length-1;m++){const u=ne[m],i=ne[m+1],s=u.distanceTo(i);if(ae<=s){const _=ae/s;H[Z].position.lerpVectors(u,i,_);break}ae-=s}}}};return te(),{cityGroup:O,buildingLines:[v],updateParticles:ee}}function Mi(h,e,r,n,t,o,l){const{CUBE_SPACING:c,FIRST_CUBE_Z:b}=o,E=b-(n.length+1)*c;let D=!1,C=!1;return l&&l((k,T,g)=>{D=k,C=k?!1:C}),Qe.timeline({scrollTrigger:{trigger:r.value,start:"top top",end:()=>{const k=Math.abs(E),T=c,F=n.length*T;return`${k+F}px`},scrub:1,pin:!0,onUpdate:k=>{if(!D&&!C){const T=k.progress,g=Math.min(0,ht.lerp(0,E,T));e.position.set(0,0,g),e.lookAt(0,0,E)}t(e)}}}).to(e.position,{z:E,duration:1,ease:"none"}),{setReverting:k=>{C=k}}}function Ei(h,e){const P=new Ar,x=new Float32Array(1e3*3),k=new Float32Array(1e3),T=new Float32Array(1e3);let g=0;for(;g<1e3;){const N=(Math.random()-.5)*4e3,H=(Math.random()-.5)*4e3,M=-1e3+Math.random()*-8e3,G=M>-7200&&Math.abs(N)<1e3&&Math.abs(H)<1e3,V=Math.abs(N)<150&&Math.abs(H)<150&&M>-2500&&M<-500;if(!G&&!V){const I=g*3;x[I]=N,x[I+1]=H,x[I+2]=M;const te=.1+Math.random()*(.7-.1);k[g]=te,T[g]=te,g++}}P.setAttribute("position",new yo(x,3)),P.setAttribute("opacity",new yo(T,1));const F=new rn({uniforms:{color:{value:new pt(1,1,1)},size:{value:20}},vertexShader:`
      attribute float opacity;
      varying float vOpacity;
      uniform float size;

      void main() {
        vOpacity = opacity;
        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
        gl_PointSize = size * (300.0 / -mvPosition.z); // Size attenuation
        gl_Position = projectionMatrix * mvPosition;
      }
    `,fragmentShader:`
      uniform vec3 color;
      varying float vOpacity;

      void main() {
        float dist = distance(gl_PointCoord, vec2(0.5, 0.5)) * 2.0;
        float alpha = vOpacity * (1.0 - dist);
        if (alpha <= 0.0) discard;
        gl_FragColor = vec4(color, alpha);
      }
    `,transparent:!0,fog:!1,depthWrite:!1}),j=new Hs(P,F);h.add(j);const O=P.attributes.opacity;for(let N=0;N<1e3;N++)Qe.to({opacity:k[N]},{opacity:.05,duration:1+Math.random(),yoyo:!0,repeat:-1,ease:"sine.inOut",delay:Math.random()*2,onUpdate:function(){T[N]=this.targets()[0].opacity,O.needsUpdate=!0}});return{dispose:()=>{Qe.killTweensOf(T),h.remove(j),P.dispose(),F.dispose()}}}const Uo=250,Fo=500,Yr=-500,Wr=-520,Ho=-720,Pi=ro({__name:"HallwayEngine",props:{projects:{}},setup(h){Qe.registerPlugin(_e);const e=h,r=Xr(null),n=Xr(null);let t,o,l,c,b,E,D,C,P=0,x=null,k=null,T=null;const g=()=>{const v=r.value?r.value.getBoundingClientRect().width:window.innerWidth,N=window.innerHeight;l.setSize(v,N),c.setSize(v,N),o.aspect=v/N,o.far=6e4,o.updateProjectionMatrix()},F=()=>{t=new Xo,t.background=new pt(0),t.fog=new Gs(0,700,4e3),o=new Ys(75,window.innerWidth/window.innerHeight,1,6e4),o.position.set(0,0,0),o.lookAt(0,0,1e3),l=new Vo({antialias:!0}),l.setPixelRatio(window.devicePixelRatio),c=new $o(l);const v=new Ko(t,o);if(c.addPass(v),b=new cn(new me(window.innerWidth,window.innerHeight),3.5,.4,0),b.renderToScreen=!0,c.addPass(b),g(),r.value)r.value.appendChild(l.domElement);else return;D=new $n,D.dom.style.position="fixed",D.dom.style.top="0px",D.dom.style.left="0px",D.dom.style.zIndex="1000",document.body.appendChild(D.dom);const{updateParticles:N}=Ci(t,t);C=N;const H=Si(t,{CUBE_SIZE:Uo,CUBE_SPACING:Fo,FIRST_CUBE_Z:Yr},e.projects);H.getInitializedData().then(({projectCubes:G,updateCubeColors:V,loadedFont:I})=>{const{introCubes:te}=xi(t,t,Promise.resolve(I),{CUBE_SIZE:Uo,FIRST_CUBE_Z:Yr}),A=[...te,...G],{setReverting:ee}=Mi(t,o,n,A,V,{CUBE_SPACING:Fo,FIRST_CUBE_Z:Yr},($,oe,Z)=>{T&&T($)});T=ee,k=H.setupInteractivity(o,l.domElement,($,oe,Z)=>{T&&T($)}),j()});const{dispose:M}=Ei(t);x=M},j=(v=0)=>{if(E=requestAnimationFrame(j),l&&c){const N=(v-P)/1e3;P=v,C(N);const H=Ho-Wr;let M=0;o.position.z>=Wr?M=0:o.position.z<=Ho?M=1:M=(o.position.z-Wr)/H,b.strength=ht.lerp(1,.125,M),c.render()}_e.update(),D.update()};Go(()=>{F(),window.addEventListener("resize",O)}),Yo(()=>{k&&k(),window.removeEventListener("resize",O),cancelAnimationFrame(E),_e.getAll().forEach(v=>v.kill()),l.dispose(),c.dispose(),t.clear(),document.body.removeChild(D.dom),x&&x()});const O=()=>{g(),_e.refresh()};return(v,N)=>(so(),oo("section",{ref_key:"wrapper",ref:n,class:"wrapper"},[xn("div",{ref_key:"tunnelWrapper",ref:r,class:"tunnel-wrapper"},null,512)],512))}}),Ii=Vs(Pi,[["__scopeId","data-v-ff094e46"]]),Ai={class:"relative bg-gray-50 text-black/50 dark:bg-black dark:text-white/50"},ki={class:"absolute z-10 flex flex-col items-center justify-center top-32 left-1/2 transform -translate-x-1/2"},Ri={class:"overflow-hidden"},Di={class:"flex justify-center items-center"},Oi={class:"flex justify-center items-center -mt-24 mix-blend-screen"},zi=ro({__name:"Welcome",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},laravelVersion:{},phpVersion:{},projects:{}},setup(h){return(e,r)=>(so(),oo(Es,null,[gn(Cs(Ms),{title:"Welcome"}),xn("div",Ai,[xn("nav",ki,[gn(Ws)]),xn("div",Ri,[gn(Ii,{projects:e.projects},null,8,["projects"])]),xn("div",Di,[gn(bo,{"particle-width":20,"particle-height":20})]),xn("div",Oi,[gn(bo,{"particle-width":15,"particle-height":160})]),gn(Xs)])],64))}});export{zi as default};
